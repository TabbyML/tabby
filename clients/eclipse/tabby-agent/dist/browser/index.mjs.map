{"version":3,"sources":["../../../../node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.19.12/node_modules/esbuild-plugin-polyfill-node/polyfills/__dirname.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/process.js","../../../../node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.19.12/node_modules/esbuild-plugin-polyfill-node/polyfills/process.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/buffer.js","../../../../node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.19.12/node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-4bd36a8f.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/events.js","../../../../node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/isArguments.js","../../../../node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/implementation.js","../../../../node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/index.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js","../../../../node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js","../../../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js","../../../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js","../../../../node_modules/.pnpm/has-proto@1.0.3/node_modules/has-proto/index.js","../../../../node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js","../../../../node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js","../../../../node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js","../../../../node_modules/.pnpm/get-intrinsic@1.2.4/node_modules/get-intrinsic/index.js","../../../../node_modules/.pnpm/es-define-property@1.0.0/node_modules/es-define-property/index.js","../../../../node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js","../../../../node_modules/.pnpm/define-data-property@1.1.4/node_modules/define-data-property/index.js","../../../../node_modules/.pnpm/has-property-descriptors@1.0.2/node_modules/has-property-descriptors/index.js","../../../../node_modules/.pnpm/define-properties@1.2.1/node_modules/define-properties/index.js","../../../../node_modules/.pnpm/set-function-length@1.2.2/node_modules/set-function-length/index.js","../../../../node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/index.js","../../../../node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/callBound.js","../../../../node_modules/.pnpm/object.assign@4.1.5/node_modules/object.assign/implementation.js","../../../../node_modules/.pnpm/object.assign@4.1.5/node_modules/object.assign/polyfill.js","../../../../node_modules/.pnpm/object.assign@4.1.5/node_modules/object.assign/shim.js","../../../../node_modules/.pnpm/object.assign@4.1.5/node_modules/object.assign/index.js","../../../../node_modules/.pnpm/functions-have-names@1.2.3/node_modules/functions-have-names/index.js","../../../../node_modules/.pnpm/set-function-name@2.0.2/node_modules/set-function-name/index.js","../../../../node_modules/.pnpm/regexp.prototype.flags@1.5.2/node_modules/regexp.prototype.flags/implementation.js","../../../../node_modules/.pnpm/regexp.prototype.flags@1.5.2/node_modules/regexp.prototype.flags/polyfill.js","../../../../node_modules/.pnpm/regexp.prototype.flags@1.5.2/node_modules/regexp.prototype.flags/shim.js","../../../../node_modules/.pnpm/regexp.prototype.flags@1.5.2/node_modules/regexp.prototype.flags/index.js","../../../../node_modules/.pnpm/has-tostringtag@1.0.2/node_modules/has-tostringtag/shams.js","../../../../node_modules/.pnpm/is-arguments@1.1.1/node_modules/is-arguments/index.js","../../../../node_modules/.pnpm/object-inspect@1.13.1/node_modules/object-inspect/index.js","../../../../node_modules/.pnpm/side-channel@1.0.6/node_modules/side-channel/index.js","../../../../node_modules/.pnpm/internal-slot@1.0.7/node_modules/internal-slot/index.js","../../../../node_modules/.pnpm/stop-iteration-iterator@1.0.0/node_modules/stop-iteration-iterator/index.js","../../../../node_modules/.pnpm/isarray@2.0.5/node_modules/isarray/index.js","../../../../node_modules/.pnpm/is-string@1.0.7/node_modules/is-string/index.js","../../../../node_modules/.pnpm/is-map@2.0.3/node_modules/is-map/index.js","../../../../node_modules/.pnpm/is-set@2.0.3/node_modules/is-set/index.js","../../../../node_modules/.pnpm/es-get-iterator@1.1.3/node_modules/es-get-iterator/index.js","../../../../node_modules/.pnpm/object-is@1.1.6/node_modules/object-is/implementation.js","../../../../node_modules/.pnpm/object-is@1.1.6/node_modules/object-is/polyfill.js","../../../../node_modules/.pnpm/object-is@1.1.6/node_modules/object-is/shim.js","../../../../node_modules/.pnpm/object-is@1.1.6/node_modules/object-is/index.js","../../../../node_modules/.pnpm/is-array-buffer@3.0.4/node_modules/is-array-buffer/index.js","../../../../node_modules/.pnpm/is-date-object@1.0.5/node_modules/is-date-object/index.js","../../../../node_modules/.pnpm/is-regex@1.1.4/node_modules/is-regex/index.js","../../../../node_modules/.pnpm/is-shared-array-buffer@1.0.3/node_modules/is-shared-array-buffer/index.js","../../../../node_modules/.pnpm/is-number-object@1.0.7/node_modules/is-number-object/index.js","../../../../node_modules/.pnpm/is-boolean-object@1.1.2/node_modules/is-boolean-object/index.js","../../../../node_modules/.pnpm/is-symbol@1.0.4/node_modules/is-symbol/index.js","../../../../node_modules/.pnpm/has-bigints@1.0.2/node_modules/has-bigints/index.js","../../../../node_modules/.pnpm/is-bigint@1.0.4/node_modules/is-bigint/index.js","../../../../node_modules/.pnpm/which-boxed-primitive@1.0.2/node_modules/which-boxed-primitive/index.js","../../../../node_modules/.pnpm/is-weakmap@2.0.2/node_modules/is-weakmap/index.js","../../../../node_modules/.pnpm/is-weakset@2.0.3/node_modules/is-weakset/index.js","../../../../node_modules/.pnpm/which-collection@1.0.2/node_modules/which-collection/index.js","../../../../node_modules/.pnpm/is-callable@1.2.7/node_modules/is-callable/index.js","../../../../node_modules/.pnpm/for-each@0.3.3/node_modules/for-each/index.js","../../../../node_modules/.pnpm/possible-typed-array-names@1.0.0/node_modules/possible-typed-array-names/index.js","../../../../node_modules/.pnpm/available-typed-arrays@1.0.7/node_modules/available-typed-arrays/index.js","../../../../node_modules/.pnpm/which-typed-array@1.1.15/node_modules/which-typed-array/index.js","../../../../node_modules/.pnpm/array-buffer-byte-length@1.0.1/node_modules/array-buffer-byte-length/index.js","../../../../node_modules/.pnpm/deep-equal@2.2.3/node_modules/deep-equal/index.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/constants.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/debug.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/re.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/parse-options.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/identifiers.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/classes/semver.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/parse.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/valid.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/clean.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/inc.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/diff.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/major.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/minor.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/patch.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/prerelease.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/compare.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/rcompare.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/compare-loose.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/compare-build.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/sort.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/rsort.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/gt.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/lt.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/eq.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/neq.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/gte.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/lte.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/cmp.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/coerce.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/internal/lrucache.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/classes/range.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/classes/comparator.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/satisfies.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/to-comparators.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/max-satisfying.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/min-satisfying.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/min-version.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/valid.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/outside.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/gtr.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/ltr.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/intersects.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/simplify.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/ranges/subset.js","../../../../node_modules/.pnpm/semver@7.6.2/node_modules/semver/index.js","../../../../node_modules/.pnpm/fastest-levenshtein@1.0.16/node_modules/fastest-levenshtein/esm/mod.js","../../../../node_modules/.pnpm/fast-levenshtein@3.0.0/node_modules/fast-levenshtein/levenshtein.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/ours/primordials.js","../../../../node_modules/.pnpm/abort-controller@3.0.0/node_modules/abort-controller/browser.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/ours/util.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/ours/errors.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/validators.js","../../../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/utils.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/destroy.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/legacy.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/state.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-4ccc3a29.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/string_decoder.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/from.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/readable.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/writable.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/duplexify.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/duplex.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/transform.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/passthrough.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/pipeline.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/compose.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/internal/streams/operators.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/stream/promises.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/stream.js","../../../../node_modules/.pnpm/readable-stream@4.5.2/node_modules/readable-stream/lib/ours/browser.js","../../../../node_modules/.pnpm/readable-from-web@1.0.0/node_modules/readable-from-web/lib/ReadableFromWeb.ts","../../../../node_modules/.pnpm/readable-from-web@1.0.0/node_modules/readable-from-web/lib/index.ts","../../../../node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js","../../../../node_modules/.pnpm/pino@8.21.0/node_modules/pino/browser.js","../../../../node_modules/.pnpm/toml@3.0.0/node_modules/toml/lib/parser.js","../../../../node_modules/.pnpm/toml@3.0.0/node_modules/toml/lib/compiler.js","../../../../node_modules/.pnpm/toml@3.0.0/node_modules/toml/index.js","../../../../node_modules/.pnpm/stats-logscale@1.0.9/node_modules/stats-logscale/lib/binning.js","../../../../node_modules/.pnpm/stats-logscale@1.0.9/node_modules/stats-logscale/lib/univariate.js","../../../../node_modules/.pnpm/stats-logscale@1.0.9/node_modules/stats-logscale/index.js","../../../../node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/dist/object_hash.js","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/util.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/regexps-uri.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/regexps-iri.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/node_modules/punycode/punycode.es6.js","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/uri.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/http.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/https.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/ws.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/wss.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/mailto.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/urn.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/schemes/urn-uuid.ts","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/src/index.ts","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/is.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messages.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/linkedMap.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/disposable.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/ral.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/events.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/cancellation.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/semaphore.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageReader.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageWriter.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/connection.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/api.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/browser/ril.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/browser/main.js","../../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/browser.js","../../../../node_modules/.pnpm/vscode-languageserver-types@3.17.5/node_modules/vscode-languageserver-types/lib/esm/main.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/messages.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/connection.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/api.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/browser/main.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/semanticTokens.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/inlineCompletion.proposed.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/textDocuments.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/notebook.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/utils/is.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/utils/uuid.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/progress.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/configuration.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/workspaceFolder.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/callHierarchy.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/showDocument.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/fileOperations.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/typeHierarchy.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/inlineValue.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/foldingRange.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/inlayHint.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/diagnostic.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/moniker.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/server.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/common/api.js","../../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/browser.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/lib/browser/main.js","../../../../node_modules/.pnpm/vscode-languageserver@9.0.1/node_modules/vscode-languageserver/browser.js","../../src/lsp/index.ts","../../../../node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.19.12/node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js","../../src/TabbyAgent.ts","../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/index.js","../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js","../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js","../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js","../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js","../../../../node_modules/.pnpm/deepmerge-ts@5.1.0/node_modules/deepmerge-ts/dist/node/index.mjs","../../../../node_modules/.pnpm/dot-prop@8.0.2/node_modules/dot-prop/index.js","../../../../node_modules/.pnpm/openapi-fetch@0.7.10/node_modules/openapi-fetch/dist/index.js","../../src/dataStore.ts","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/path.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-23dbec7b.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-2eac56ff.js","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/os.js","../../src/env.ts","../../src/utils.ts","../../src/stream.ts","../../../../node_modules/.pnpm/eventsource-parser@1.1.2/node_modules/eventsource-parser/src/parse.ts","../../../../node_modules/.pnpm/eventsource-parser@1.1.2/node_modules/eventsource-parser/src/stream.ts","../../src/logger.ts","../../src/Auth.ts","../../../../node_modules/.pnpm/jwt-decode@3.1.2/node_modules/jwt-decode/lib/atob.js","../../../../node_modules/.pnpm/jwt-decode@3.1.2/node_modules/jwt-decode/lib/base64_url_decode.js","../../../../node_modules/.pnpm/jwt-decode@3.1.2/node_modules/jwt-decode/lib/index.js","../../src/AgentConfig.ts","../../src/configFile.ts","../../src/CompletionCache.ts","../../../../node_modules/.pnpm/lru-cache@9.1.2/node_modules/lru-cache/src/index.ts","../../src/CompletionSolution.ts","../../src/CompletionDebounce.ts","../../src/CompletionStats.ts","../../src/CompletionContext.ts","../../src/postprocess/index.ts","../../src/ArrayExt.ts","../../src/postprocess/removeRepetitiveBlocks.ts","../../src/postprocess/base.ts","../../src/postprocess/removeRepetitiveLines.ts","../../src/postprocess/removeLineEndsWithRepetition.ts","../../src/postprocess/removeDuplicatedBlockClosingLine.ts","../../src/postprocess/limitScope.ts","../../src/postprocess/limitScopeByIndentation.ts","../../src/postprocess/formatIndentation.ts","../../src/postprocess/trimSpace.ts","../../src/postprocess/trimMultiLineInSingleLineMode.ts","../../src/postprocess/dropDuplicated.ts","../../src/postprocess/dropBlank.ts","../../src/postprocess/calculateReplaceRange.ts","../../src/postprocess/calculateReplaceRangeByBracketStack.ts","../../src/AnonymousUsageLogger.ts","../../package.json","../../src/loadCaCerts.ts","../../src/http/proxy.ts","../../src/lsp/Server.ts","../../src/lsp/protocol.ts","../../src/lsp/TextDocuments.ts","../../../../node_modules/.pnpm/vscode-languageserver-textdocument@1.0.11/node_modules/vscode-languageserver-textdocument/lib/esm/main.js","../../src/codeSearch/RecentlyChangedCodeSearch.ts","../../src/codeSearch/CodeSearchEngine.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/index.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/create.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/defaults.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/errors.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/tokenizer/languages.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/utils.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/documents-store.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/internal-document-id-store.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/plugins.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/hooks.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/index.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/trees/avl.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/trees/flat.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/trees/radix.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/levenshtein.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/trees/bkd.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/algorithms.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/cosine-similarity.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/sorter.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/tokenizer/index.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/tokenizer/diacritics.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/tokenizer/english-stemmer.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/docs.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/insert.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/types.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/sync-blocking-checker.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/remove.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/search.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/constants.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/search-fulltext.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/filters.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/facets.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/components/groups.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/search-vector.ts","../../../../node_modules/.pnpm/@orama+orama@2.0.18/node_modules/@orama/orama/src/methods/search-hybrid.ts","../../src/utils/string.ts","../../src/utils/range.ts","../../src/lsp/ChatEditProvider.ts","../../../../node_modules/.pnpm/crypto-random-string@5.0.0/node_modules/crypto-random-string/browser.js","../../../../node_modules/.pnpm/crypto-random-string@5.0.0/node_modules/crypto-random-string/core.js","../../../../node_modules/.pnpm/diff@5.2.0/node_modules/diff/lib/index.mjs","../../src/lsp/CodeLensProvider.ts","../../src/lsp/CommandProvider.ts","../../src/lsp/GitContextProvider.ts","../../../../node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/child_process.js"],"names":["init_dirname","__esmMin","process_exports","__export","_debugEnd","_debugProcess","_events","_eventsCount","_exiting","_fatalExceptions","_getActiveHandles","_getActiveRequests","_kill","_linkedBinding","_maxListeners","_preload_modules","_rawDebug","_startProfilerIdleNotifier","_stopProfilerIdleNotifier","_tickCallback","abort","addListener","allowedNodeEnvironmentFlags","arch","argv","argv0","assert","binding","chdir","config","cpuUsage","cwd","debugPort","process","dlopen","domain","emit","emitWarning","env","execArgv","execPath","exit","features","hasUncaughtExceptionCaptureCallback","hrtime","kill","listeners","memoryUsage","moduleLoadList","nextTick","off","on","once","openStdin","pid","platform","ppid","prependListener","prependOnceListener","reallyExit","release","removeAllListeners","removeListener","resourceUsage","setSourceMapsEnabled","setUncaughtExceptionCaptureCallback","stderr","stdin","stdout","title","umask","uptime","version","versions","unimplemented","name","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","len","fun","args","i","Item","array","noop","condition","message","_performance","previousTimestamp","baseNow","clocktime","seconds","nanoseconds","nanoPerSec","nowOffset","init_process","init_buffer","type","mask","dir","time","diff","buffer_exports","Buffer","INSPECT_MAX_BYTES","exports","kMaxLength","dew$2","_dewExec$2","exports$3","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","code","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","extraBytes","parts","maxChunkLength","len2","dew$1","_dewExec$1","exports$2","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","value","rt","dew","_dewExec","exports$1","base64","ieee754","customInspectSymbol","SlowBuffer","K_MAX_LENGTH","typedArraySupport","proto","createBuffer","length","buf","arg","encodingOrOffset","allocUnsafe","from","fromString","fromArrayView","isInstance","fromArrayBuffer","valueOf","b","fromObject","assertSize","size","alloc","fill","encoding","checked","string","actual","fromArrayLike","arrayView","copy","byteOffset","obj","numberIsNaN","a","x","y","list","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","str","max","target","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","hexSliceLookupTable","bytes","newBuf","checkOffset","ext","noAssert","mul","defineBigIntMethod","validateNumber","first","last","boundsError","lo","hi","checkInt","min","maxBytes","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","limit","sub","checkIEEE754","writeFloat","littleEndian","writeDouble","targetStart","errors","E","sym","getMessage","Base","range","input","msg","received","addNumericalSeparator","checkBounds","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","c","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","o","u","f","v","r","l","h","t","p","init_chunk_4bd36a8f","events_exports","EventEmitter","defaultMaxListeners","init","listenerCount","init_events","emitter","event","resolve","reject","eventListener","errorListener","err","unconsumedEventValues","unconsumedPromises","error","finished","iterator","eventHandler","errorHandler","promise","toError","require_isArguments","__commonJSMin","module","toStr","isArgs","require_implementation","keysShim","has","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","hasAutomationEqualityBug","k","equalsConstructorPrototypeIfNotBuggy","object","isObject","isFunction","isArguments","isString","theKeys","skipProto","skipConstructor","require_object_keys","slice","origKeys","originalKeys","keysWorksWithArguments","require_es_errors","require_eval","require_range","require_ref","require_syntax","require_type","require_uri","require_shams","symObj","symVal","syms","descriptor","require_has_symbols","origSymbol","hasSymbolSham","require_has_proto","test","$Object","ERROR_MESSAGE","funcType","concatty","slicy","arrLike","joiny","joiner","that","bound","binder","result","boundLength","boundArgs","Empty","require_function_bind","implementation","require_hasown","call","$hasOwn","bind","require_get_intrinsic","undefined","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","$Function","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","hasSymbols","hasProto","getProto","needsEval","TypedArray","INTRINSICS","errorProto","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","getBaseIntrinsic","allowMissing","intrinsicName","alias","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","require_es_define_property","GetIntrinsic","$defineProperty","require_gopd","require_define_data_property","gopd","property","nonEnumerable","nonWritable","nonConfigurable","loose","require_has_property_descriptors","hasPropertyDescriptors","require_define_properties","keys","concat","defineDataProperty","supportsDescriptors","defineProperty","predicate","defineProperties","map","predicates","props","require_set_function_length","define","hasDescriptors","gOPD","$floor","functionLengthIsConfigurable","functionLengthIsWritable","require_call_bind","setFunctionLength","$apply","$call","$reflectApply","$max","originalFunction","func","applyBind","require_callBound","callBind","$indexOf","objectKeys","callBound","toObject","$push","$propIsEnumerable","originalGetSymbols","source1","to","getSymbols","key","nextKey","propValue","require_polyfill","lacksProperEnumerationOrder","letters","assignHasPendingExceptions","thrower","require_shim","getPolyfill","polyfill","require_object","shim","require_functions_have_names","functionsHaveNames","$bind","require_set_function_name","functionsHaveConfigurableNames","setFunctionName","calls","TypeErr","regex","require_regexp_prototype","flagsBound","require_is_arguments","hasToStringTag","$toString","isStandardArguments","isLegacyArguments","supportsStandardArguments","require_object_inspect","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","hasWeakMap","weakMapHas","hasWeakSet","weakSetHas","hasWeakRef","weakRefDeref","booleanValueOf","objectToString","functionToString","$match","$slice","$toUpperCase","$toLowerCase","$test","$join","$arrSlice","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","gPO","O","addNumericSeparator","sepRegex","int","intStr","dec","utilInspect","inspectCustom","inspectSymbol","isSymbol","inspect_","options","depth","seen","opts","customInspect","numericSeparator","inspectString","bigIntStr","maxDepth","isArray","indent","getIndent","indexOf","inspect","noIndent","newOpts","isRegExp","nameOf","arrObjKeys","symString","markBoxed","isElement","attrs","wrapQuotes","xs","singleLineValues","indentedJoin","isError","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isDate","ys","isPlainObject","protoTag","stringTag","constructorTag","tag","defaultStyle","quoteChar","trailer","lowbyte","entries","joinedEntries","baseIndent","lineJoiner","isArr","symMap","require_side_channel","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","prev","curr","listGet","objects","node","listSet","listHas","$wm","$m","$o","channel","require_internal_slot","SLOT","slot","slots","V","require_stop_iteration_iterator","$StopIteration","origIterator","siIterator","done","require_isarray","toString","require_is_string","strValue","tryStringObject","strClass","require_is_map","$Set","exported","$setHas","require_is_set","require_es_get_iterator","getStopIterationIterator","$iterator","iterable","$arrayPush","$charCodeAt","$stringSlice","advanceStringIndex","S","index","second","getArrayIterator","arraylike","getNonCollectionIterator","noPrimordialCollections","nextIndex","$mapForEach","$setForEach","$mapIterator","$setIterator","$mapAtAtIterator","$setAtAtIterator","getCollectionIterator","values","require_object_is","require_is_array_buffer","$ArrayBuffer","$byteLength","abSlice","$abSlice","require_is_date_object","getDay","tryDateObject","dateClass","require_is_regex","isRegexMarker","badStringifier","throwRegexMarker","regexClass","hasLastIndexDataProperty","require_is_shared_array_buffer","require_is_number_object","numToStr","tryNumberObject","numClass","require_is_boolean_object","$boolToStr","tryBooleanObject","boolClass","require_is_symbol","symToStr","symStringRegex","isSymbolObject","require_has_bigints","$BigInt","require_is_bigint","hasBigInts","tryBigInt","require_which_boxed_primitive","require_is_weakmap","$WeakSet","require_is_weakset","require_which_collection","require_is_callable","fnToStr","reflectApply","badArrayLike","isCallableMarker","_","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","objectClass","fnClass","genClass","ddaClass","ddaClass2","ddaClass3","isIE68","isDDA","all","require_for_each","isCallable","hasOwnProperty","forEachArray","receiver","forEachString","forEachObject","forEach","thisArg","require_possible_typed_array_names","require_available_typed_arrays","possibleNames","g","require_which_typed_array","availableTypedArrays","typedArrays","getPrototypeOf","cache","typedArray","superProto","tryTypedArrays","getter","trySlices","require_array_buffer_byte_length","isArrayBuffer","ab","require_deep_equal","assign","flags","getIterator","getSideChannel","is","isRegex","isSharedArrayBuffer","whichBoxedPrimitive","whichCollection","whichTypedArray","sabByteLength","$getTime","$objToString","$mapSize","$setAdd","$setDelete","$setSize","setHasEqualElement","set","val1","internalDeepEqual","findLooseMatchingPrimitives","prim","mapMightHaveLoosePrim","item","altValue","curB","looseOpts","setMightHaveLoosePrim","mapHasEqualEntry","key1","item1","key2","expected","actualBoxed","expectedBoxed","hasActual","hasExpected","sentinel","objEquiv","isBuffer","setEquiv","iA","iB","resultA","resultB","mapEquiv","item2","aIsArray","bIsArray","aIsError","bIsError","aIsRegex","bIsRegex","aIsDate","bIsDate","aWhich","bWhich","aIsBuffer","bIsBuffer","aIsArrayBuffer","bIsArrayBuffer","aIsSAB","bIsSAB","ka","kb","aCollection","bCollection","require_constants","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","require_debug","debug","require_re","MAX_LENGTH","re","safeRe","R","LETTERDASHNUMBER","safeRegexReplacements","makeSafeRegex","token","createToken","isGlobal","safe","require_parse_options","looseOption","emptyOpts","parseOptions","require_identifiers","numeric","compareIdentifiers","anum","bnum","rcompareIdentifiers","require_semver","SemVer","_SemVer","id","other","identifier","identifierBase","base","prerelease","require_parse","parse","throwErrors","er","require_valid","valid","require_clean","clean","require_inc","inc","require_diff","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","require_major","major","require_minor","minor","require_patch","patch","require_prerelease","require_compare","compare","require_rcompare","rcompare","require_compare_loose","compareLoose","require_compare_build","compareBuild","versionA","versionB","require_sort","sort","require_rsort","rsort","require_gt","gt","require_lt","lt","require_eq","eq","require_neq","neq","require_gte","gte","require_lte","lte","require_cmp","cmp","op","require_coerce","coerce","coerceRtlRegex","next","build","require_lrucache","LRUCache","firstKey","Range","_Range","Comparator","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","hr","hyphenReplace","comparatorTrimReplace","tildeTrimReplace","caretTrimReplace","rangeList","comp","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","LRU","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","M","pr","replaceCaret","z","replaceXRange","gtlt","xM","xm","xp","anyX","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","allowed","require_comparator","ANY","_Comparator","require_satisfies","satisfies","require_to_comparators","toComparators","require_max_satisfying","maxSatisfying","maxSV","rangeObj","require_min_satisfying","minSatisfying","minSV","require_min_version","minVersion","minver","setMin","comparator","compver","validRange","require_outside","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","require_gtr","gtr","require_ltr","ltr","require_intersects","intersects","r1","r2","require_simplify","ranges","simplified","original","require_subset","subset","dom","sawNonNull","OUTER","simpleSub","simpleDom","isSub","simpleSubset","minimumVersionWithPreRelease","minimumVersion","eqSet","higherGT","lowerLT","gtltComp","higher","lower","hasDomLT","hasDomGT","needDomLTPre","needDomGTPre","internalRe","constants","identifiers","simplifyRange","mod_exports","closest","distance","peq","myers_32","myers_x","init_mod","lst","pv","mv","sc","xv","mhc","phc","hsize","vsize","vlen","pb","mb","xh","ph","mh","score","min_distance","min_index","dist","require_levenshtein","collator","levenshtein","prevRow","str2Char","Levenshtein","str1","str2","useCollator","str1Len","str2Len","curCol","nextCol","strCmp","require_primordials","self","el","sep","thisArgs","instance","prop","thenFn","catchFn","require_browser","AbortController","AbortSignal","require_util","bufferModule","kResistStopPropagation","SymbolDispose","AsyncFunction","Blob","isBlob","validateAbortSignal","signal","validateFunction","AggregateError","callback","called","rej","format","_unused","replacement","listener","removeEventListener","_removeEventListener","signals","ac","require_errors","CustomAggregateError","kIsNodeError","kTypes","classRegExp","nodeInternalPrefix","codes","expectedLength","NodeError","hideStackFrames","hidden","aggregateTwoErrors","innerError","outerError","AbortError","types","instances","_actual$constructor","inspected","reason","_value$constructor","require_validators","ArrayIsArray","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberIsInteger","NumberIsNaN","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","NumberParseInt","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","String","StringPrototypeToUpperCase","StringPrototypeTrim","ERR_SOCKET_BAD_PORT","ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_VALUE","ERR_OUT_OF_RANGE","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","isArrayBufferView","isInt32","isUint32","octalReg","modeDesc","parseFileMode","def","validateUint32","validateInteger","validateInt32","positive","validateString","validateOneOf","oneOf","validateBoolean","getOwnPropertyValueOrDefault","defaultValue","validateObject","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateStringArray","validateBooleanArray","validateAbortSignalArray","indexedName","validateSignalName","validateBuffer","validateEncoding","data","normalizedEncoding","validatePort","port","allowZero","validatePlainFunction","validateUndefined","validateUnion","union","linkValueRegExp","validateLinkHeaderFormat","validateLinkHeaderValue","hints","hintsLength","link","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","runClearTimeout","marker","require_utils","SymbolAsyncIterator","SymbolIterator","SymbolFor","kIsDestroyed","kIsErrored","kIsReadable","kIsWritable","kIsDisturbed","kIsClosedPromise","kControllerErrorFunction","isReadableNodeStream","strict","_obj$_readableState","isWritableNodeStream","_obj$_writableState","isDuplexNodeStream","isNodeStream","isReadableStream","isWritableStream","isTransformStream","isWebStream","isIterable","isAsync","isDestroyed","stream","wState","rState","state","isWritableEnded","isWritableFinished","isReadableEnded","isReadableFinished","isReadable","isWritable","isFinished","isWritableErrored","_stream$_writableStat","_stream$_writableStat2","isReadableErrored","_stream$_readableStat","_stream$_readableStat2","isClosed","isOutgoingMessage","isServerResponse","isServerRequest","_stream$req","willEmitClose","isDisturbed","_stream$kIsDisturbed","isErrored","_ref","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","require_end_of_stream","ERR_STREAM_PREMATURE_CLOSE","kEmptyObject","Promise","PromisePrototypeThen","_willEmitClose","addAbortListener","isRequest","nop","eos","_options$readable","_options$writable","eosWeb","readable","writable","onlegacyfinish","onfinish","writableFinished","readableFinished","onend","onerror","closed","onclose","errored","onclosed","onrequest","cleanup","endCallback","disposable","originalCallback","isAborted","resolverFn","_opts","autoCleanup","require_destroy","ERR_MULTIPLE_CALLBACK","Symbol","kDestroy","kConstruct","checkError","w","destroy","cb","_destroy","onDestroy","emitErrorCloseNT","emitCloseNT","emitErrorNT","undestroy","errorOrDestroy","sync","construct","constructNT","onConstruct","emitConstructNT","emitCloseLegacy","emitErrorCloseLegacy","destroyer","require_legacy","ObjectSetPrototypeOf","EE","Stream","dest","source","ondata","chunk","ondrain","didOnEnd","require_add_abort_signal","onAbort","require_buffer_list","StringPrototypeSlice","TypedArrayPrototypeSet","Uint8Array","entry","hasStrings","retLen","require_state","MathFloor","defaultHighWaterMarkBytes","defaultHighWaterMarkObjectMode","highWaterMarkFrom","isDuplex","duplexKey","getDefaultHighWaterMark","objectMode","setDefaultHighWaterMark","getHighWaterMark","hwm","u$2","c$1","t$1","f$2","u$1$1","a$2","s$1","F","c$1$1","l$1","N","h$1$1","I","T","L","D","B","A","U","n$1$1","Y","C","P","i$1","n$1","u$1","o$1","f$1","r$1","e$2","n$2","o$2","a$1","h$1","a$1$1","e$1$1","o$1$1","e$1","init_chunk_4ccc3a29","string_decoder_exports","StringDecoder","init_string_decoder","require_from","ERR_STREAM_NULL_VALUES","Readable","reading","close","hadError","hasThrow","require_readable","ArrayPrototypeIndexOf","ObjectDefineProperties","ObjectKeys","SafeSet","SymbolAsyncDispose","ReadableState","addAbortSignal","BufferList","destroyImpl","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","kObjectMode","kEnded","kEndEmitted","kReading","kConstructed","kSync","kNeedReadable","kEmittedReadable","kReadableListening","kResumeScheduled","kErrorEmitted","kEmitClose","kAutoDestroy","kDestroyed","kClosed","kCloseEmitted","kMultiAwaitDrain","kReadingMore","kDataEmitted","makeBitMapDescriptor","bit","maybeReadMore","readableAddChunk","addToFront","onEofChunk","addChunk","emitReadable","enc","decoder","content","MAX_HWM","computeNewHighWaterMark","howMuchToRead","nOrig","endReadable","doRead","fromList","emitReadable_","flow","maybeReadMore_","pipeOpts","endFn","unpipe","onunpipe","unpipeInfo","cleanedUp","pause","pipeOnDrain","dests","ev","nReadingNextTick","updateReadableListening","resume","resume_","paused","streamKeys","streamToAsyncIterator","iter","createAsyncIterator","endReadableNT","endWritableNT","webStreamsAdapters","lazyWebStreams","readableStream","streamReadable","_src$readableObjectMo","require_writable","ArrayPrototypeSlice","Error","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","Writable","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","onwrite","resetBuffer","clearBuffer","finishMaybe","_write","writeOrBuffer","doWrite","writev","onwriteError","errorBuffer","afterWriteTick","afterWrite","count","_state$errored","onfinishCallbacks","_state$errored2","buffered","bufferedIndex","bufferedLength","chunks","needFinish","callFinal","onFinish","finish","prefinish","writableStream","streamWritable","require_duplexify","ERR_INVALID_RETURN_VALUE","Duplex","createDeferredPromise","FunctionPrototypeCall","Duplexify","duplexify","body","_duplexify","write","final","fromAsyncGen","then","_promise","_resolve","pair","onreadable","onfinished","require_duplex","ObjectGetOwnPropertyDescriptor","method","duplex","require_transform","Transform","kCallback","readableHighWaterMark","require_passthrough","PassThrough","require_pipeline","ERR_MISSING_ARGS","writing","popCallback","streams","makeAsyncIterable","fromReadable","pumpToNode","onresolve","wait","pumpToWeb","writer","pipeline","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","destroys","finishCount","_disposable","isLastStream","onError","_ret","_ret2","pt","toRead","pipe","ended","require_compose","orgStreams","idx","head","tail","reader","require_operators","kWeakHandler","staticCompose","addAbortSignalNoValidate","deprecate","ArrayPrototypePush","Boolean","Number","PromiseReject","PromiseResolve","kEmpty","kEof","compose","composedStream","concurrency","highWaterMark","signalOpt","cnt","onCatch","afterItemProcessed","maybeResume","pump","asIndexedPairs","_options$signal","some","unused","filter","every","find","forEachFn","filterFn","ReduceAwareErrMissingArgs","reduce","reducer","initialValue","_options$signal2","hasInitialValue","gotAnyItemFromStream","_options$signal3","toArray","_options$signal4","flatMap","toIntegerOrInfinity","drop","_options$signal5","_options$signal6","take","_options$signal7","_options$signal8","require_promises","ArrayPrototypePop","pl","lastArg","require_stream","ReflectApply","customPromisify","streamReturningOperators","promiseReturningOperators","ERR_ILLEGAL_CONSTRUCTOR","promises","utils","CustomStream","originalDestroy","readable_stream_1","ReadableFromWeb","readableFromWeb","ReadableFromWeb_1","require_quick_format_unescaped","tryStringify","ss","argLen","lastPos","flen","pino","_console","pfGlobalThisOrFallback","stdSerializers","mock","passthrough","asErrValue","levelToValue","level","logger","baseLogFunctionSymbol","hierarchySymbol","logFallbackMap","appendChildLogger","parentLogger","childLogger","newEntry","setupBaseLogFunctions","levels","logFunctions","shouldSerialize","serialize","serializers","transmit","stdErrSerialize","customLevels","getLevelVal","getLevel","setLevel","setOpts","getTimeFunction","getLevels","child","createLogEventShape","bindings","childOptions","childOptionsSerializers","childSerializers","childSerialize","applySerializers","Child","parent","newLogger","labels","invertObject","inverted","nullTime","epochTime","unixTime","isoTime","getBindingChain","hierarchy","rootLogger","createWrap","prependBindingsInArguments","logFunc","ts","asObject","transmitLevel","transmitValue","methodValue","formatters","levelFormatter","logObjectFormatter","argsCloned","logObject","lvl","send","methodLevel","defd","require_parser","peg$subclass","SyntaxError","line","column","peg$FAILED","peg$startRuleFunctions","peg$parsestart","peg$startRuleFunction","peg$c0","peg$c1","nodes","peg$c2","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","peg$c11","addNode","peg$c12","peg$c13","peg$c14","peg$c15","peg$c16","peg$c17","peg$c18","peg$c19","peg$c20","peg$c21","chars","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","char","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","peg$c42","left","right","peg$c43","text","peg$c44","peg$c45","peg$c46","digits","peg$c47","peg$c48","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","date","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","peg$c101","peg$c102","peg$c103","peg$c104","peg$c105","peg$c106","peg$c107","peg$c108","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$c115","peg$c116","peg$c117","peg$c118","peg$c119","peg$c120","convertCodePoint","peg$c121","peg$c122","peg$currPos","peg$reportedPos","peg$cachedPos","peg$cachedPosDetails","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","peg$cache","peg$result","peg$computePosDetails","description","peg$buildException","advance","details","startPos","endPos","ch","peg$fail","cleanupExpected","buildMessage","stringEscape","hex","expectedDescs","expectedDesc","foundDesc","posDetails","s0","s1","s2","peg$parseline","s3","s4","s5","s6","peg$parseS","peg$parseexpression","peg$parsecomment","peg$parseNL","peg$parseEOF","peg$parsepath","peg$parsetablearray","peg$parseassignment","peg$parsetable_key","s7","peg$parsedot_ended_table_key_part","peg$parsetable_key_part","peg$parsekey","peg$parsequoted_key","peg$parsevalue","peg$parseASCII_BASIC","peg$parsedouble_quoted_single_line_string","peg$parsesingle_quoted_single_line_string","peg$parsestring","peg$parsedatetime","peg$parsefloat","peg$parseinteger","peg$parseboolean","peg$parsearray","peg$parseinline_table","peg$parsedouble_quoted_multiline_string","peg$parsesingle_quoted_multiline_string","peg$parsemultiline_string_char","peg$parsestring_char","peg$parsemultiline_literal_char","peg$parseliteral_char","peg$parseESCAPED","peg$parsemultiline_string_delim","peg$parseNLS","peg$parsefloat_text","peg$parseinteger_text","peg$parseDIGITS","peg$parseDIGIT_OR_UNDER","peg$parsearray_sep","peg$parsearray_value","peg$parsearray_value_list","peg$parseinline_table_assignment","s8","s9","s10","peg$parsesecfragment","peg$parsedate","s11","peg$parsetime","peg$parsetime_with_offset","s12","s13","s14","s15","s16","peg$parseHEX","peg$parseESCAPED_UNICODE","genError","col","ex","fromCodePoint","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","require_compiler","compile","assignedPaths","valueAssignments","currentPath","context","arrayMode","setPath","addTableArray","fullPath","reduceValueNode","pathAssigned","path","reduceArrayWithTypeChecking","reduceInlineTableNode","quotedPath","quoteDottedString","deepRef","newObj","traversed","traversedPath","ctx","firstType","require_toml","parser","compiler","require_binning","Binning","precision","equalBins","thresh","shorten","power","require_univariate","Univariate","_Univariate","Neat","bin","pairs","bins","mean","corr1","corr2","cumulative","width","partial","total","hist","edge","step","sum","hasArg","orig","main","require_stats_logscale","logstat","require_object_hash","__require","H","merge","sets","_len","_key","xl","join","subexp","typeOf","Object","prototype","split","pop","shift","toLowerCase","toUpperCase","Array","setInterval","buildExps","isIRI","ALPHA$$","CR$","DIGIT$$","DQUOTE$$","HEXDIG$$","SP$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","GEN_DELIMS$$","UCSCHAR$$","SCHEME$","USERINFO$","UNRESERVED$$","DEC_OCTET$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV4ADDRESS$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","ZONEID$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","HOST$","REG_NAME$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","IPRIVATE$$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","URI_REFERENCE$","ABSOLUTE_URI$","GENERIC_REF$","RELATIVE_REF$","ABSOLUTE_REF$","SAMEDOC_REF$","AUTHORITY_REF$","RegExp","URI_PROTOCOL","IRI_PROTOCOL","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","Math","stringFromCharCode","fromCharCode","RangeError","mapDomain","replace","encoded","ucs2decode","counter","charCodeAt","extra","push","ucs2encode","toConsumableArray","basicToDigit","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","inputLength","bias","basic","lastIndexOf","oldi","baseMinusT","splice","encode","_step","_iteratorNormalCompletion","_iterator","currentValue","basicLength","handledCPCount","_step2","_iteratorNormalCompletion2","_iterator2","handledCPCountPlusOne","_step3","_iteratorNormalCompletion3","_iterator3","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c2","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","UNRESERVED","scheme","PCT_ENCODED","NOT_SCHEME","userinfo","NOT_USERINFO","host","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","query","NOT_QUERY","fragment","NOT_FRAGMENT","_stripLeadingZeros","_normalizeIPv4","matches","IPV4ADDRESS","address","_matches","_normalizeIPv6","IPV6ADDRESS","_matches2","zone","reverse","_address$toLowerCase$2","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","acc","field","lastLongest","longestZeroFields","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","isNaN","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","tolerant","baseURI","relativeURI","schemelessOptions","normalize","uri","equal","uriA","uriB","escapeComponent","ESCAPE","unescapeComponent","handler","secure","http","isSecure","wsComponents","resourceName","_wsComponents$resourc2","ws","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","subject","addr","toAddr","atIdx","localPart","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","UUID","uuidComponents","uuid","https","wss","mailto","urn","require_is","boolean","stringArray","elem","require_messages","ErrorCodes","ResponseError","_ResponseError","ParameterStructures","_ParameterStructures","kind","AbstractMessageSignature","numberOfParams","RequestType0","RequestType","_parameterStructures","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","Message","candidate","isNotification","isResponse","require_linkedMap","_a","Touch","LinkedMap","touch","callbackfn","current","newSize","currentSize","previous","ratio","require_disposable","Disposable","create","require_ral","_ral","RAL","install","ral","require_events","ral_1","Event","CallbackList","bucket","foundCallbackWithDifferentContext","callbacks","contexts","Emitter","_Emitter","_options","disposables","require_cancellation","Is","events_1","CancellationToken","shortcutEvent","handle","MutableToken","CancellationTokenSource","require_sharedArrayCancellation","cancellation_1","CancellationState","SharedArraySenderStrategy","request","_conn","SharedArrayBufferCancellationToken","SharedArrayBufferCancellationTokenSource","SharedArrayReceiverStrategy","require_semaphore","Semaphore","capacity","thunk","require_messageReader","semaphore_1","MessageReader","AbstractMessageReader","info","ResolvedMessageReaderOptions","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","ReadableStreamMessageReader","contentLength","require_messageWriter","ContentLength","CRLF","MessageWriter","AbstractMessageWriter","ResolvedMessageWriterOptions","WriteableStreamMessageWriter","require_messageBuffer","CR","LF","AbstractMessageBuffer","toAppend","lowerCaseKeys","chunkIndex","chunkBytesRead","row","header","byteCount","resultOffset","chunkPart","require_connection","messages_1","linkedMap_1","CancelNotification","ProgressToken","ProgressNotification","ProgressType","StarRequestHandler","Trace","TraceValues","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionError","_ConnectionError","ConnectionStrategy","IdCancellationReceiverStrategy","RequestCancellationReceiverStrategy","CancellationReceiverStrategy","CancellationSenderStrategy","conn","CancellationStrategy","MessageStrategy","ConnectionOptions","ConnectionState","createMessageConnection","messageReader","messageWriter","_logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","timer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","tracer","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","cancellationStrategy","createRequestQueueKey","createResponseQueueKey","createNotificationQueueKey","addMessageToQueue","cancelUndispatched","_message","isListening","isDisposed","closeHandler","readErrorHandler","writeErrorHandler","triggerMessageQueue","processMessageQueue","handleMessage","handleRequest","handleNotification","handleResponse","handleInvalidMessage","messageStrategy","cancelId","toCancel","strategy","response","traceSendingResponse","cancellationToken","traceReceivedNotification","requestMessage","reply","resultOrError","startTime","replyError","replySuccess","traceReceivedRequest","element","requestHandler","tokenKey","cancellationSource","handlerResult","responseMessage","responsePromise","traceReceivedResponse","notificationHandler","params","responseHandler","stringifyTrace","traceSendingRequest","logLSPMessage","traceSendingNotification","lspMessage","throwIfClosedOrDisposed","throwIfListening","throwIfNotListening","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","parameterStructures","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","_type","resolveWithCleanup","rejectWithCleanup","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","verbose","require_api","disposable_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","require_ril","api_1","MessageBuffer","_MessageBuffer","_encoding","ReadableStreamWrapper","socket","WritableStreamWrapper","_textEncoder","_ril","ms","RIL","require_main","__createBinding","k2","__exportStar","ril_1","BrowserMessageReader","BrowserMessageWriter","main_exports","AnnotatedTextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","CodeAction","CodeActionContext","CodeActionKind","CodeActionTriggerKind","CodeDescription","CodeLens","Color","ColorInformation","ColorPresentation","Command","CompletionItem","CompletionItemKind","CompletionItemLabelDetails","CompletionItemTag","CompletionList","CreateFile","DeleteFile","Diagnostic","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","DocumentHighlight","DocumentHighlightKind","DocumentLink","DocumentSymbol","DocumentUri","EOL","FoldingRange","FoldingRangeKind","FormattingOptions","Hover","InlayHint","InlayHintKind","InlayHintLabelPart","InlineCompletionContext","InlineCompletionItem","InlineCompletionList","InlineCompletionTriggerKind","InlineValueContext","InlineValueEvaluatableExpression","InlineValueText","InlineValueVariableLookup","InsertReplaceEdit","InsertTextFormat","InsertTextMode","Location","LocationLink","MarkedString","MarkupContent","MarkupKind","OptionalVersionedTextDocumentIdentifier","ParameterInformation","Position","RenameFile","SelectedCompletionInfo","SelectionRange","SemanticTokenModifiers","SemanticTokenTypes","SemanticTokens","SignatureInformation","StringValue","SymbolInformation","SymbolKind","SymbolTag","TextDocument","TextDocumentEdit","TextDocumentIdentifier","TextDocumentItem","TextEdit","URI","VersionedTextDocumentIdentifier","WorkspaceChange","WorkspaceEdit","WorkspaceFolder","WorkspaceSymbol","integer","uinteger","TextEditChangeImpl","ChangeAnnotations","FullTextDocument","init_main","character","one","two","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","label","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","collapsedText","location","severity","relatedInformation","command","newText","insert","position","del","needsConfirmation","annotation","textDocument","edits","oldUri","newUri","change","changeAnnotations","edit","annotations","idOrAnnotation","workspaceEdit","textEditChange","textDocumentEdit","optionsOrAnnotation","operation","languageId","items","isIncomplete","fromPlainText","plainText","documentation","parameters","containerName","detail","selectionRange","children","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","tabSize","insertSpaces","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","createSnippet","insertText","filterText","selectedCompletionInfo","applyEdits","document","sortedEdits","mergeSort","lastModifiedOffset","startOffset","endOffset","leftIdx","rightIdx","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","defined","numberRange","objectLiteral","check","vscode_jsonrpc_1","MessageDirection","RegistrationType","ProtocolRequestType0","ProtocolRequestType","ProtocolNotificationType0","ProtocolNotificationType","require_protocol_implementation","ImplementationRequest","require_protocol_typeDefinition","TypeDefinitionRequest","require_protocol_workspaceFolder","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","require_protocol_configuration","ConfigurationRequest","require_protocol_colorProvider","DocumentColorRequest","ColorPresentationRequest","require_protocol_foldingRange","FoldingRangeRequest","FoldingRangeRefreshRequest","require_protocol_declaration","DeclarationRequest","require_protocol_selectionRange","SelectionRangeRequest","require_protocol_progress","WorkDoneProgress","WorkDoneProgressCreateRequest","WorkDoneProgressCancelNotification","require_protocol_callHierarchy","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","require_protocol_semanticTokens","TokenFormat","SemanticTokensRegistrationType","SemanticTokensRequest","SemanticTokensDeltaRequest","SemanticTokensRangeRequest","SemanticTokensRefreshRequest","require_protocol_showDocument","ShowDocumentRequest","require_protocol_linkedEditingRange","LinkedEditingRangeRequest","require_protocol_fileOperations","FileOperationPatternKind","WillCreateFilesRequest","DidCreateFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","DidDeleteFilesNotification","WillDeleteFilesRequest","require_protocol_moniker","UniquenessLevel","MonikerKind","MonikerRequest","require_protocol_typeHierarchy","TypeHierarchyPrepareRequest","TypeHierarchySupertypesRequest","TypeHierarchySubtypesRequest","require_protocol_inlineValue","InlineValueRequest","InlineValueRefreshRequest","require_protocol_inlayHint","InlayHintRequest","InlayHintResolveRequest","InlayHintRefreshRequest","require_protocol_diagnostic","DiagnosticServerCancellationData","DocumentDiagnosticReportKind","DocumentDiagnosticRequest","WorkspaceDiagnosticRequest","DiagnosticRefreshRequest","require_protocol_notebook","vscode_languageserver_types_1","NotebookCellKind","ExecutionSummary","executionOrder","success","equals","NotebookCell","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","NotebookDocument","notebookType","cells","NotebookDocumentSyncRegistrationType","DidOpenNotebookDocumentNotification","NotebookCellArrayChange","deleteCount","DidChangeNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","require_protocol_inlineCompletion","InlineCompletionRequest","require_protocol","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","protocol_inlineCompletion_1","TextDocumentFilter","NotebookDocumentFilter","NotebookCellTextDocumentFilter","DocumentSelector","RegistrationRequest","UnregistrationRequest","ResourceOperationKind","FailureHandlingKind","PositionEncodingKind","StaticRegistrationOptions","hasId","TextDocumentRegistrationOptions","WorkDoneProgressOptions","hasWorkDoneProgress","InitializeRequest","InitializeErrorCodes","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","MessageType","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","TextDocumentSyncKind","DidOpenTextDocumentNotification","TextDocumentContentChangeEvent","isIncremental","isFull","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","TextDocumentSaveReason","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidChangeWatchedFilesNotification","FileChangeType","RelativePattern","WatchKind","PublishDiagnosticsNotification","CompletionTriggerKind","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpTriggerKind","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","CodeActionRequest","CodeActionResolveRequest","WorkspaceSymbolRequest","WorkspaceSymbolResolveRequest","CodeLensRequest","CodeLensResolveRequest","CodeLensRefreshRequest","DocumentLinkRequest","DocumentLinkResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentRangesFormattingRequest","DocumentOnTypeFormattingRequest","PrepareSupportDefaultBehavior","RenameRequest","PrepareRenameRequest","ExecuteCommandRequest","ApplyWorkspaceEditRequest","createProtocolConnection","LSPErrorCodes","browser_1","require_semanticTokens","vscode_languageserver_protocol_1","SemanticTokensFeature","cancel","SemanticTokensDiff","originalSequence","modifiedSequence","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","SemanticTokensBuilder","tokenType","tokenModifiers","pushLine","pushChar","require_inlineCompletion_proposed","InlineCompletionFeature","require_textDocuments","TextDocuments","configuration","td","toFire","changes","syncedDocument","require_notebook","textDocuments_1","NotebookSyncFeature","CellTextDocumentConnection","_CellTextDocumentConnection","NotebookDocuments","configurationOrTextDocuments","cell","cellTextDocumentConnection","cellTextDocument","notebookDocument","oldMetadata","metadataChanged","opened","changedCells","open","cellUpdates","old","changeEvent","added","removed","textContent","thenable","require_uuid","ValueUUID","V4UUID","_V4UUID","v4","_UUIDPattern","isUUID","generateUuid","require_progress","uuid_1","WorkDoneProgressReporterImpl","_WorkDoneProgressReporterImpl","_connection","_token","percentage","cancellable","arg0","arg1","WorkDoneProgressServerReporterImpl","NullProgressReporter","NullProgressServerReporter","attachWorkDone","ProgressFeature","capabilities","progress","ResultProgress","ResultProgressReporterImpl","attachPartialResult","require_configuration","ConfigurationFeature","require_workspaceFolder","WorkspaceFoldersFeature","workspaceCapabilities","changeNotifications","require_callHierarchy","CallHierarchyFeature","require_showDocument","ShowDocumentFeature","require_fileOperations","FileOperationsFeature","require_linkedEditingRange","LinkedEditingRangeFeature","require_typeHierarchy","TypeHierarchyFeature","require_inlineValue","InlineValueFeature","require_foldingRange","FoldingRangeFeature","require_inlayHint","InlayHintFeature","require_diagnostic","DiagnosticFeature","require_moniker","MonikerFeature","require_server","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","semanticTokens_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","foldingRange_1","inlayHint_1","diagnostic_1","notebook_1","moniker_1","null2Undefined","ErrorMessageTracker","RemoteConsoleImpl","_capabilities","_RemoteWindowImpl","actions","RemoteWindowImpl","BulkRegistration","BulkRegistrationImpl","registerOptions","BulkUnregistration","BulkUnregistrationImpl","unregistrations","unregistration","_error","RemoteClientImpl","typeOrRegistrations","registerOptionsOrType","_result","registrations","registration","_RemoteWorkspaceImpl","paramOrEdit","isApplyWorkspaceEditParams","RemoteWorkspaceImpl","TracerImpl","TelemetryImpl","_LanguagesImpl","LanguagesImpl","_NotebooksImpl","NotebooksImpl","combineConsoleFeatures","combineTelemetryFeatures","combineTracerFeatures","combineClientFeatures","combineWindowFeatures","combineWorkspaceFeatures","combineLanguagesFeatures","combineNotebooksFeatures","combineFeatures","combine","createConnection","connectionFactory","watchDog","factories","telemetry","client","remoteWindow","workspace","languages","notebooks","allRemotes","asPromise","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","remote","ic","ProposedFeatures","_shutdownReceived","_params","_code","arg2","arg3","arg4","empty_default","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","randomUUID","native_default","rnds","v4_default","import_deep_equal","actionsInto","defaultMetaDataUpdater","previousMeta","metaMeta","getObjectType","isRecord","getKeys","objectHasProperty","getIterableOfIterables","iterables","validRecordToStringValues","constructor","mergeRecords$2","meta","propValues","updatedMeta","propertyResult","mergeUnknowns","mergeArrays$2","mergeSets$2","mergeMaps$2","mergeOthers$2","defaultMergeFunctions","deepmerge","deepmergeCustom","rootMetaData","getUtils","customizedDeepmerge","option","mergeOthers$1","m_index","mergeRecords$1","mergeArrays$1","mergeSets$1","mergeMaps$1","disallowedKeys","getPathSegments","currentSegment","currentPart","isIgnoring","isStringIndex","assertNotStringIndex","getProperty","pathArray","setProperty","root","deleteProperty","DEFAULT_HEADERS","createClient","clientOptions","baseFetch","globalQuerySerializer","globalBodySerializer","baseUrl","coreFetch","url","fetchOptions","fetch","requestBody","parseAs","querySerializer","defaultQuerySerializer","bodySerializer","defaultBodySerializer","finalURL","createFinalURL","finalHeaders","mergeHeaders","requestInit","cloned","search","pathname","allHeaders","headerSet","semver","_global","process$1","assertPath","normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","_format","pathObject","posix","resolvedPath","resolvedAbsolute","isAbsolute","trailingSeparator","joined","fromStart","fromEnd","fromLen","toStart","toEnd","toLen","lastCommonSep","fromCode","toCode","hasRoot","matchedSlash","extIdx","firstNonSlashEnd","startDot","startPart","preDotState","_makeLong","basename","dirname","extname","win32","_endianness","cpus","endianness","freemem","getNetworkInterfaces","homedir","hostname","loadavg","networkInterfaces","tmpDir","tmpdir","totalmem","fs","chokidar","FileDataStore","filepath","dataFile","onChanged","oldData","deepEqual","dataStore","splitLines","lines","isBlank","getIndentationLevel","indentation","isBlockOpeningLine","isBlockClosingLine","autoClosingPairs","regOnlyAutoClosingCloseChars","findUnpairedAutoClosingChars","stack","remain","nextFound","pattern","calcDistance","abortSignalFromAnyOf","controller","HttpError","isTimeoutError","isCanceledError","isUnauthorizedError","errorToString","stringToRegExp","import_readable_from_web","createParser","onParse","isFirstChunk","startingPosition","startingFieldLength","eventId","eventName","reset","feed","hasBom","BOM","discardTrailingNewline","lineLength","fieldLength","parseEventStreamLine","lineBuffer","noValue","valueLength","includes","retry","charCode","EventSourceParserStream","TransformStream","enqueue","transform","import_pino","FileStreamRotator","LogFileStream","logDir","TaggedLogger","baseLogger","JsonLineLogger","_JsonLineLogger","Destinations","destinations","MultiDestinationLogger","destination","logDestinations","fileLogger","getLogger","readChatStream","eventStream","parseChatResponse","InvalidCharacterError","this","window","atob","bs","bc","decodeURIComponent","InvalidTokenError","JSON","base64_url_decode","jwt_decode_esm_default","RetryLimitReachedError","cause","_Auth","endpoint","oldJwt","storedJwt","jwt","deviceToken","authUrl","refreshedJwt","Auth","defaultAgentConfig","import_toml","configTomlTemplate","typeCheckSchema","validateConfig","ConfigFile","fileContent","toml","configFilePath","configFile","perf","warned","PROCESS","AC","AS","__publicField","warnACPolyfill","printACPolyfillWarning","shouldWarn","TYPE","isPosInt","getUintArray","ZeroArray","_constructing","_Stack","HeapCls","__privateGet","__privateSet","__privateAdd","Stack","_max","_maxSize","_dispose","_disposeAfter","_fetchMethod","_size","_calculatedSize","_keyMap","_keyList","_valList","_next","_prev","_head","_tail","_free","_disposed","_sizes","_starts","_ttls","_hasDispose","_hasFetchMethod","_hasDisposeAfter","_initializeTTLTracking","initializeTTLTracking_fn","_updateItemAge","_statusTTL","_setItemTTL","_isStale","_initializeSizeTracking","initializeSizeTracking_fn","_removeItemSize","_addItemSize","_requireSize","_indexes","indexes_fn","_rindexes","rindexes_fn","_isValidIndex","isValidIndex_fn","_evict","evict_fn","_backgroundFetch","backgroundFetch_fn","_isBackgroundFetch","isBackgroundFetch_fn","_connect","connect_fn","_moveToTail","moveToTail_fn","_LRUCache","_i","_s","_st","_k","_v","sizeCalculation","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","dispose","disposeAfter","noDisposeOnSet","noUpdateTTL","maxSize","maxEntrySize","fetchMethod","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchRejection","allowStaleOnFetchAbort","ignoreFetchAbort","UintArray","__privateMethod","getOptions","thisp","deleted","age","setOptions","_b","status","__privateWrapper","oldVal","oldValue","dt","task","hasOptions","peekOptions","forceRefresh","stale","isStale","staleVal","fetching","ttls","starts","cachedNow","getNow","sizes","free","fetchOpts","updateCache","aborted","ignoreAbort","fetchFail","bf","eb","allowStaleAborted","noDelete","pcall","fmp","emptyInlineCompletionList","_CompletionItem","fullText","replacePrefix","replaceSuffix","lastLineStart","lastLine","whiteSpaces","lastLineNonSpaceStart","lastLineNonSpace","CompletionSolution","_CompletionSolution","isCompleted","addition","CompletionCache","solutions","solution","cachedSolution","forwardSolutions","pushForwardSolution","existSolution","nextLine","spaces","clamp","CompletionDebounce","responseTime","now","contextScore","expectedLatency","delay","interval","avg","weights","triggerCharacter","suffix","currentLineInSuffix","import_stats_logscale","CompletionStats","triggerMode","canceled","latency","eventCount","LastN","_RequestStats","latencies","timeouts","responses","averageResponseTime","RequestStats","import_object_hash","isAtLineEndExcludingAutoClosedChar","CompletionContext","_CompletionContext","lineEnd","hashObject","relativeFilepathRoot","gitUrl","declarations","declaration","declarationFilepath","relevantSnippetsFromChangedFiles","snippet","snippetFilepath","clipboard","identity","blockSplitter","removeRepetitiveBlocks","inputBlocks","repetitionCount","repetitionThreshold","currentBlock","previousBlock","threshold","removeRepetitiveLines","inputLines","currentLine","previousLine","repetitionTests","removeLineEndsWithRepetition","removeDuplicatedBlockClosingLine","suffixLines","currentLinePrefix","inputLinesForDetection","inputEndingLine","suffixBeginningIndex","suffixBeginningLine","parseIndentationContext","prefixLines","isCurrentLineInPrefixBlank","referenceLineInPrefixIndex","referenceLineInPrefix","referenceLineInPrefixIndent","currentLineInCompletion","isCurrentLineInCompletionBlank","referenceLineInCompletionIndex","referenceLineInCompletion","referenceLineInCompletionIndent","firstNonBlankLineInSuffix","firstNonBlankLineInSuffixText","limitScopeByIndentation","indentContext","prevLine","limitScope","detectIndentation","getIndentLevel","formatIndentation","prefixLinesForDetection","suffixLinesForDetection","inputIndentation","formatted","rest","trimSpace","currentLineSuffix","trimmedInput","trimMultiLineInSingleLineMode","inputLine","trimmedInputLine","dropDuplicated","inputIndex","suffixIndex","lineCount","inputToCompare","suffixToCompare","dropBlank","calculateReplaceRangeByBracketStack","suffixText","unpaired","modified","calculateReplaceRange","createListFilter","filterFactory","preCacheProcess","_config","applyFilter","postCacheProcess","AnonymousUsageLogger","unique","properties","winCa","macCa","extraCaCerts","originalCreateSecureContext","appendCaCerts","certs","filtered","cert","merged","secureContext","loadFromFiles","files","loadTlsCaCerts","import_uri_js","ProxyAgent","EnvHttpProxyAgent","createProxyForUrl","configs","uriParse","noProxyList","_TabbyAgent","oldConfig","oldStatus","isServerConnectionChanged","auth","proxyConfigs","issueName","issue","stats","requestId","requestPath","requestDescription","requestOptions","healthState","serverVersion","fetchedConfig","serverProvidedConfig","localConfig","storedServerConfig","issues","tries","completionItem","language","segments","temperature","requestStartedAt","statsResult","maxDiffLength","promptTemplate","responseMatcher","splitDiffs","selectedDiff","commitMessage","selection","insertMode","documentMaxChars","userCommand","presetCommand","presetConfig","documentSelection","documentPrefix","documentSuffix","charsRemain","TabbyAgent","import_browser","import_vscode_languageserver","nodeCreateConnection","import_vscode_languageserver_protocol","LspInitializeRequest","ChatFeatureRegistration","LspConfigurationRequest","LspDidChangeConfigurationNotification","LspCodeLensRequest","LspCompletionRequest","LspInlineCompletionRequest","ChatEditCommandRequest","ChatEditRequest","ChatEditResolveRequest","GenerateCommitMessageRequest","AgentServerInfoSync","AgentServerInfoRequest","AgentStatusSync","AgentStatusRequest","AgentIssuesSync","AgentIssuesRequest","AgentIssueDetailRequest","ReadFileRequest","DataStoreGetRequest","DataStoreSetRequest","LanguageSupportDeclarationRequest","LanguageSupportSemanticTokensRangeRequest","GitRepositoryRequest","GitDiffRequest","EditorOptionsRequest","LspTextDocuments","contentChanges","_FullTextDocument","getWellformedRange","addedLineOffsets","computeLineOffsets","update","getWellformedEdit","spans","isAtLineStart","textOffset","STEMMERS","arabic","armenian","bulgarian","danish","dutch","english","finnish","french","german","greek","hungarian","indian","indonesian","irish","italian","lithuanian","nepali","norwegian","portuguese","romanian","russian","serbian","slovenian","spanish","swedish","tamil","turkish","ukrainian","sanskrit","SPLITTERS","SUPPORTED_LANGUAGES","getLocale","baseId","Date","lastId","nano","BigInt","milli","MAX_ARGUMENT_FOR_STACK","safeArrayPush","newArr","apply","newArrLength","sprintf","template","replaceArgs","groups","rawWidth","padStart","padding","parseFloat","toFixed","padEnd","isInsideWebWorker","WorkerGlobalScope","isInsideNode","getNanosecondTimeViaPerformance","performance","formatNanoseconds","getNanosecondsTime","bigint","uniqueId","getOwnProperty","sortTokenScorePredicate","intersect","arrays","Map","get","getDocumentProperties","doc","paths","pathsLength","pathTokens","pathTokensLength","lat","lon","getNested","mapDistanceToMeters","cm","km","ft","yd","mi","convertDistanceToMeters","unit","createError","removeVectorsFromHits","searchResult","vectorProperties","hits","lastKey","allLanguages","NO_LANGUAGE_WITH_CUSTOM_TOKENIZER","LANGUAGE_NOT_SUPPORTED","INVALID_STEMMER_FUNCTION_TYPE","MISSING_STEMMER","CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY","UNSUPPORTED_COMPONENT","COMPONENT_MUST_BE_FUNCTION","COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS","INVALID_SCHEMA_TYPE","DOCUMENT_ID_MUST_BE_STRING","DOCUMENT_ALREADY_EXISTS","DOCUMENT_DOES_NOT_EXIST","MISSING_DOCUMENT_PROPERTY","INVALID_DOCUMENT_PROPERTY","UNKNOWN_INDEX","INVALID_BOOST_VALUE","INVALID_FILTER_OPERATION","SCHEMA_VALIDATION_FAILURE","INVALID_SORT_SCHEMA_TYPE","CANNOT_SORT_BY_ARRAY","UNABLE_TO_SORT_ON_UNKNOWN_FIELD","SORT_DISABLED","UNKNOWN_GROUP_BY_PROPERTY","INVALID_GROUP_BY_PROPERTY","UNKNOWN_FILTER_PROPERTY","INVALID_VECTOR_SIZE","INVALID_VECTOR_VALUE","INVALID_INPUT_VECTOR","WRONG_SEARCH_PROPERTY_TYPE","FACET_NOT_SUPPORTED","INVALID_DISTANCE_SUFFIX","INVALID_SEARCH_MODE","MISSING_VECTOR_AND_SECURE_PROXY","MISSING_TERM","INVALID_VECTOR_INPUT","PLUGIN_CRASHED","captureStackTrace","formatElapsedTime","raw","getDocumentIndexId","validateSchema","schema","isVectorType","vectorSize","getVectorSize","isArrayType","expectedType","getInnerType","subProp","IS_ARRAY_TYPE","enum","geopoint","INNER_TYPE","isGeoPointType","createInternalDocumentIDStore","idToInternalId","internalIdToId","save","load","store","orama","internalDocumentIDStore","clear","internalIdToIdLength","internalIdItem","getInternalDocumentId","internalId","currentId","getDocumentIdFromInternalId","sharedInternalDocumentStore","docs","getMultiple","ids","idsLength","getAll","remove","rawDocument","createDocumentsStore","AVAILABLE_PLUGIN_HOOKS","getAllPluginsByHook","hook","pluginsToRun","pluginsLength","plugins","plugin","console","OBJECT_COMPONENTS","FUNCTION_COMPONENTS","runSingleHook","hooks","hooksLength","runMultipleHook","docsOrIds","runAfterSearch","db","results","runBeforeSearch","runAfterCreate","rotateLeft","getHeight","rotateRight","rangeSearch","traverse","greaterThan","inclusive","lessThan","getNodeByKey","rootNode","newValue","insertNode","balanceFactor","parentNode","minValueNode","minValueParent","childNode","deleteNode","removeDocument","numberToDocumentId","delete","operationKeys","operationType","filterArr","_boundedLevenshtein","tolerance","lenA","lenB","startIdx","characterCodeCache","haveMax","jStart","jEnd","above","charA","syncBoundedLevenshtein","isBounded","Node","subWord","toJSON","updateParent","addDocument","docID","findAllWords","term","exact","docIDs","abs","Set","docIDsLength","add","getCommonPrefix","commonPrefix","word","docId","wordLength","currentCharacter","wordAtIndex","substring","rootChildCurrentChar","edgeLabel","edgeLabelLength","commonPrefixLength","edgeLabelAtCommonPrefix","newNode","newNodeChild","inbetweenNode","inbetweenNodeChild","wordAtCommonPrefix","_findLevenshtein","originalTolerance","startsWith","termLength","termSubstring","removeDocumentByWord","tree","point","newDocIDs","K","removeDocByID","direction","axis","searchByRadius","center","radius","highPrecision","distanceFn","vincentyDistance","haversineDistance","distA","distB","searchByPolygon","polygon","nextDepth","isInsidePolygon","isPointInPolygon","centroid","calculatePolygonCentroid","sortFn","totalArea","centroidX","centroidY","polygonLength","xi","yi","xj","yj","areaSegment","centroidCoordinate","isInside","coord1","coord2","PI","lat1","lat2","deltaLat","deltaLon","sin","cos","EARTH_RADIUS","atan2","sqrt","U1","atan","tan","U2","sinU1","cosU1","sinU2","cosU2","lambda","prevLambda","iterationLimit","sinAlpha","cos2Alpha","sinSigma","cosSigma","sigma","sinLambda","cosLambda","cos2SigmaM","u2","deltaSigma","prioritizeTokenScores","boost","keywordsCount","tokenScoresMap","mapsLength","entriesLength","boostScore","oldScore","tokenScores","tokenScoreEntry","allResults","tokenScoreWithKeywordsCount","keywordsPerToken","lastTokenWithAllKeywords","keywordsPerTokenLength","resultsWithIdAndScore","thresholdLength","ceil","BM25","tf","matchingCount","docsCount","averageFieldLength","log","getMagnitude","vector","vectorLength","magnitude","findSimilarVectors","targetVector","vectors","targetMagnitude","similarVectors","vectorId","dotProduct","similarity","insertDocumentScoreParameters","tokens","avgFieldLength","fieldLengths","frequencies","insertTokenScoreParameters","tokenFrequency","tokenOccurrences","removeDocumentScoreParameters","removeTokenScoreParameters","calculateResultScores","documentIDs","oramaOccurrences","oramaFrequencies","termOccurrences","scoreList","documentIDsLength","bm25","relevance","indexes","vectorIndexes","searchableProperties","searchablePropertiesWithTypes","true","false","avlCreate","radixCreate","flatCreate","bkdCreate","insertScalarBuilder","tokenizer","avlInsert","tokenize","radixInsert","flatInsert","bkdInsert","schemaType","insertVector","insertScalar","elements","elementsLength","Float32Array","removeScalar","avlRemoveDocument","booleanKey","radixRemoveDocument","flatRemoveDocument","bkdRemoveDocByID","innerSchemaType","radixFind","searchByWhereClause","filters","filterKeys","filtersMap","filteredIDs","reqOperation","coordinates","inside","distanceInMeters","flat","filteredIDsResults","flatFilterArr","flatFilter","operationOpt","operationValue","avlGreaterThan","avlLessThan","avlFind","avlRangeSearch","getSearchableProperties","getSearchablePropertiesWithTypes","loadRadixNode","convertedNode","childrenKey","loadFlatNode","saveFlatNode","rawIndexes","rawVectorIndexes","vec","vectorIndexesAsArrays","savedIndexes","createIndex","innerCreate","sortableDeniedProperties","sorter","enabled","isSorted","sortableProperties","sortablePropertiesWithTypes","sorts","orderedDocsToRemove","orderedDocs","unsortableProperties","disabled","ensureOrderedDocsAreDeletedByProperty","ensureIsSorted","ensurePropertyIsSorted","stringSort","localeCompare","numberSort","booleanSort","orderedDocsLength","ensureOrderedDocsAreDeleted","sortBy","docIds","by","isDesc","order","indexOfA","indexOfB","isAIndexed","isBIndexed","getSortableProperties","getSortablePropertiesWithTypes","fromEntries","createSorter","CHARCODE_REPLACE_MAPPING","replaceChar","DIACRITICS_CHARCODE_START","DIACRITICS_CHARCODE_END","replaceDiacritics","stringCharCode","step2List","ational","tional","enci","anci","izer","bli","alli","entli","eli","ousli","ization","ation","ator","alism","iveness","fulness","ousness","aliti","iviti","biliti","logi","step3List","icate","ative","alize","iciti","ical","ful","ness","mgr0","meq1","mgr1","s_v","stemmer","stem","re2","re3","re4","firstch","exec","normalizeToken","_this_stopWords","normalizationCache","stopWords","stemmerSkipProperties","trim","tokenizeSkipProperties","splitRule","trimTokens","allowDuplicates","createTokenizer","stemming","validateComponents","defaultComponents","rawKey","documentsStore","internalDocumentStore","caches","beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","afterUpdateMultiple","beforeUpdateMultiple","afterCreate","getVersion","sorting","kInsertions","kRemovals","globalThis","warn","trackInsertion","queueMicrotask","trackRemoval","skipHooks","errorProperty","innerInsert","ENUM_TYPE","STRING_NUMBER_TYPE","indexableProperties","indexablePropertiesWithTypes","indexableValues","actualType","sortableValues","insertMultiple","batchSize","docsLength","oramaSchema","innerInsertMultiple","_insertMultiple","batch","setTimeout","removeMultiple","docIdsForHooks","MODE_FULLTEXT_SEARCH","MODE_HYBRID_SEARCH","MODE_VECTOR_SEARCH","intersectFilteredIDs","lookedUp","looked","sortAsc","sortDesc","sortingPredicateBuilder","getFacets","facetsConfig","facets","allIDs","allDocs","facetKeys","facet","rangesLength","allDocsLength","facetValue","propertyType","facetValues","calculateNumberFacetBuilder","alreadyInsertedValues","calculateNumberFacet","calculateBooleanStringOrEnumFacetBuilder","calculateBooleanStringOrEnumFacet","currentFacet","stringFacetDefinition","sortingPredicate","DEFAULT_REDUCE","getInitialValue","ALLOWED_TYPES","getGroups","groupBy","propertiesLength","schemaProperties","returnedCount","maxResult","listOfValues","groupByKey","group","perValue","keyValue","combinations","calculateCombination","combinationsLength","combination","combinationLength","groupsLength","aggregationValue","arrs","fullTextSearch","timeStart","defaultBM25Params","shouldCalculateFacets","distinctOn","includeVectors","isPreflight","preflight","propertiesToSearch","propertiesToSearchWithTypes","createSearchContext","hasFilters","where","whereFiltersIDs","tokensLength","indexesLength","indexMap","vals","docsIntersection","uniqueDocs","uniqueDocsLength","prevScore","uniqueDocsIDs","uniqueDocsArray","docsWithIdAndScore","fetchDocumentsWithDistinct","fetchDocuments","elapsed","searchVector","vectorIndex","oramaDocs","facetsResults","newDoc","elapsedTime","hybridSearch","fullTextIDs","vectorIDs","getFullTextSearchIDs","getVectorSearchIDs","hybridWeights","uniqueTokenScores","mergeAndRankResults","timeEnd","returningResults","propertiesToSearchSet","propertiesSet","indexMapContent","uniqueIDs","minMaxScoreNormalization","extractScore","maxScore","normalizeScore","hybridScoreBuilder","textWeight","vectorWeight","textScore","vectorScore","textResults","vectorResults","maxTextScore","maxVectorScore","hasHybridWeights","getQueryWeights","mergedResults","textResultsLength","hybridScore","normalizedScore","hybridScoreValue","vectorResultsLength","resultId","existingRes","tokensMap","mode","resultIDs","uniqueDocsArrayLength","idAndScore","fullDoc","reservedKeywords","extractNonReservedWordList","symbol","isPositionBefore","isPositionAfter","isPositionBeforeOrEqual","isPositionAfterOrEqual","isPositionInRange","isEmptyRange","unionRange","intersectionRange","documentRange","rangeInDocument","CodeSearchEngine","snippets","positionStart","positionEnd","documentUriString","indexToUpdate","documentRangeToUpdate","indexIds","toRemove","hit","RecentlyChangedCodeSearch","mergedEditedRange","expand","currentDocument","filepaths","tsx","urlSafeCharacters","numericCharacters","distinguishableCharacters","asciiPrintableCharacters","alphanumericCharacters","readUInt16LE","uInt8Array","generateForCustomCharacters","characters","randomBytes","characterCount","maxValidSelector","entropyLength","stringLength","entropy","entropyPosition","entropyValue","generateForCustomCharactersAsync","randomBytesAsync","allowedTypes","createGenerator","specialRandomBytes","createStringGenerator","createAsyncStringGenerator","specialRandomBytesAsync","toHex","byte","toBase64","maxEntropy","generatedBytes","totalGeneratedBytes","browser_default","cryptoRandomStringAsync","Diff","oldString","newString","_options$timeout","newLen","oldLen","editLength","maxEditLength","maxExecutionTime","abortAfterTimestamp","bestPath","newPos","minDiagonalToConsider","maxDiagonalToConsider","execEditLength","diagonalPath","basePath","removePath","addPath","canAdd","addPathNewPos","canRemove","buildValues","oldPosInc","oldPos","commonCount","lastComponent","useLongestToken","nextComponent","componentPos","componentLen","component","finalComponent","characterDiff","extendedWordChars","reWhitespace","wordDiff","lineDiff","retLines","linesAndNewlines","diffLines","oldStr","sentenceDiff","cssDiff","_typeof","objectPrototypeToString","jsonDiff","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","canonicalize","replacementStack","replacer","canonicalizedObj","sortedKeys","arrayDiff","ChatEditProvider","documents","agent","commands","_command","commandConfig","filterKey","filterValue","documentText","selectedDocumentText","editId","markers","previewRange","previewLines","lineIndex","responseDocumentTag","responseCommentTag","finalize","editedLines","inTag","changed","openTags","closeTag","stateDescription","commentLines","commentPrefix","pushDiffValue","diffValue","diffs","inProgressChunk","lastDiff","waitingChunks","reg","codeLensType","changesPreviewLineType","CodeLensProvider","workDoneProgress","resultProgress","codeLenses","lineInPreviewBlock","previewBlockMarkers","lineRange","codeLensRange","codeLensLocation","lineCodeLenses","codeLens","CommandProvider","chatEditProvider","resolveParams","executeGitCommand","git","ensureCwd","replaceUriPath","uriSerialize","isGitCommandAvailable","getRepository","rootPath","remotes","remoteLine","repository","gitContextProvider","getGitContextProvider","Server","browserCreateConnection","clientInfo","clientCapabilities","clientProvidedConfig","serverCapabilities","agentConfig","serverInfo","health","clientType","abortController","diffResult","getDiff","getDiffParams","errorMsg","notebookCell","additionalContext","editorOptions","workspaceFolders","folder","repo","getRepoParams","notebook","prefixRange","extractedSymbols","allowedSymbolTypes","symbols","snippetLocations","symbolIndex","symbolPosition","collectedLocation","targetDocument","maxChars","lastNewLine","legend","semanticSymbols","deltaLine","deltaChar","typeIndex","prefixText","documentPosition","additionalPrefixLength","linePrefix","wordPrefix","insertionText","firstLine","secondLine","issueDetail","outputFormat","statsMessage","helpMessageForRunningLargeModelOnCPU","serverHealthState","commonHelpMessage","helpMessage","server"],"mappings":"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AAAA,EACF,CACF,CC/XAvsI,IAAAqG,IAAAD,ICAApG,IAAAqG,IAAAD,IAGA,IAAMsmI,GAA2B,CAC/B,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,KACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,KAGF,SAASC,GAAYr5B,EAA0B,CAC7C,OAAIA,EAAWs5B,KAA6Bt5B,EAAWu5B,IAAgCv5B,EAGhFo5B,GAAyBp5B,EAAWs5B,GAAAA,GAA8Bt5B,CAC3E,CAEO,SAASw5B,GAAkBt/H,EAAqB,CACrD,IAAMu/H,EAA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","sourcesContent":["export const __dirname = \"/\";\n","function unimplemented(name) {\r\n  throw new Error('Node.js process ' + name + ' is not supported by JSPM core outside of Node.js');\r\n}\r\n\r\nvar queue = [];\r\nvar draining = false;\r\nvar currentQueue;\r\nvar queueIndex = -1;\r\n\r\nfunction cleanUpNextTick() {\r\n  if (!draining || !currentQueue)\r\n    return;\r\n  draining = false;\r\n  if (currentQueue.length) {\r\n    queue = currentQueue.concat(queue);\r\n  }\r\n  else {\r\n    queueIndex = -1;\r\n  }\r\n  if (queue.length)\r\n    drainQueue();\r\n}\r\n\r\nfunction drainQueue() {\r\n  if (draining)\r\n    return;\r\n  var timeout = setTimeout(cleanUpNextTick, 0);\r\n  draining = true;\r\n\r\n  var len = queue.length;\r\n  while(len) {\r\n    currentQueue = queue;\r\n    queue = [];\r\n    while (++queueIndex < len) {\r\n      if (currentQueue)\r\n        currentQueue[queueIndex].run();\r\n    }\r\n    queueIndex = -1;\r\n    len = queue.length;\r\n  }\r\n  currentQueue = null;\r\n  draining = false;\r\n  clearTimeout(timeout);\r\n}\r\n\r\nfunction nextTick (fun) {\r\n  var args = new Array(arguments.length - 1);\r\n  if (arguments.length > 1) {\r\n    for (var i = 1; i < arguments.length; i++)\r\n      args[i - 1] = arguments[i];\r\n  }\r\n  queue.push(new Item(fun, args));\r\n  if (queue.length === 1 && !draining)\r\n    setTimeout(drainQueue, 0);\r\n}\r\n// v8 likes predictible objects\r\nfunction Item(fun, array) {\r\n  this.fun = fun;\r\n  this.array = array;\r\n}\r\nItem.prototype.run = function () {\r\n  this.fun.apply(null, this.array);\r\n};\r\n\r\nvar title = 'browser';\r\nvar arch = 'x64';\r\nvar platform = 'browser';\r\nvar env = {\r\n  PATH: '/usr/bin',\r\n  LANG: navigator.language + '.UTF-8',\r\n  PWD: '/',\r\n  HOME: '/home',\r\n  TMP: '/tmp',\r\n};\r\nvar argv = ['/usr/bin/node'];\r\nvar execArgv = [];\r\nvar version = 'v16.8.0';\r\nvar versions = {};\r\n\r\nvar emitWarning = function(message, type) {\r\n  console.warn((type ? (type + ': ') : '') + message);\r\n};\r\n\r\nvar binding = function(name) { unimplemented('binding'); };\r\n\r\nvar umask = function(mask) { return 0; };\r\n\r\nvar cwd = function() { return '/'; };\r\nvar chdir = function(dir) {};\r\n\r\nvar release = {\r\n  name: 'node',\r\n  sourceUrl: '',\r\n  headersUrl: '',\r\n  libUrl: '',\r\n};\r\n\r\nfunction noop() {}\r\n\r\nvar _rawDebug = noop;\r\nvar moduleLoadList = [];\r\nfunction _linkedBinding(name) { unimplemented('_linkedBinding'); }\r\nvar domain = {};\r\nvar _exiting = false;\r\nvar config = {};\r\nfunction dlopen(name) { unimplemented('dlopen'); }\r\nfunction _getActiveRequests() { return []; }\r\nfunction _getActiveHandles() { return []; }\r\nvar reallyExit = noop;\r\nvar _kill = noop;\r\nvar cpuUsage = function() { return {}; };\r\nvar resourceUsage = cpuUsage;\r\nvar memoryUsage = cpuUsage;\r\nvar kill = noop;\r\nvar exit = noop;\r\nvar openStdin = noop;\r\nvar allowedNodeEnvironmentFlags = {};\r\nfunction assert(condition, message) {\r\n  if (!condition) throw new Error(message || 'assertion error');\r\n}\r\nvar features = {\r\n  inspector: false,\r\n  debug: false,\r\n  uv: false,\r\n  ipv6: false,\r\n  tls_alpn: false,\r\n  tls_sni: false,\r\n  tls_ocsp: false,\r\n  tls: false,\r\n  cached_builtins: true,\r\n};\r\nvar _fatalExceptions = noop;\r\nvar setUncaughtExceptionCaptureCallback = noop;\r\nfunction hasUncaughtExceptionCaptureCallback() { return false; }var _tickCallback = noop;\r\nvar _debugProcess = noop;\r\nvar _debugEnd = noop;\r\nvar _startProfilerIdleNotifier = noop;\r\nvar _stopProfilerIdleNotifier = noop;\r\nvar stdout = undefined;\r\nvar stderr = undefined;\r\nvar stdin = undefined;\r\nvar abort = noop;\r\nvar pid = 2;\r\nvar ppid = 1;\r\nvar execPath = '/bin/usr/node';\r\nvar debugPort = 9229;\r\nvar argv0 = 'node';\r\nvar _preload_modules = [];\r\nvar setSourceMapsEnabled = noop;\r\n\r\nvar _performance = {\r\n  now: typeof performance !== 'undefined' ? performance.now.bind(performance) : undefined,\r\n  timing: typeof performance !== 'undefined' ? performance.timing : undefined,\r\n};\r\nif (_performance.now === undefined) {\r\n  var nowOffset = Date.now();\r\n\r\n  if (_performance.timing && _performance.timing.navigationStart) {\r\n    nowOffset = _performance.timing.navigationStart;\r\n  }\r\n  _performance.now = () => Date.now() - nowOffset;\r\n}\r\n\r\nfunction uptime() {\r\n  return _performance.now() / 1000;\r\n}\r\n\r\nvar nanoPerSec = 1000000000;\r\nfunction hrtime(previousTimestamp) {\r\n  var baseNow = Math.floor((Date.now() - _performance.now()) * 1e-3);\r\n  var clocktime = _performance.now() * 1e-3;\r\n  var seconds = Math.floor(clocktime) + baseNow;\r\n  var nanoseconds = Math.floor((clocktime % 1) * 1e9);\r\n  if (previousTimestamp) {\r\n    seconds = seconds - previousTimestamp[0];\r\n    nanoseconds = nanoseconds - previousTimestamp[1];\r\n    if (nanoseconds < 0) {\r\n      seconds--;\r\n      nanoseconds += nanoPerSec;\r\n    }\r\n  }\r\n  return [seconds, nanoseconds];\r\n}hrtime.bigint = function(time) {\r\n  var diff = hrtime(time);\r\n  if (typeof BigInt === 'undefined') {\r\n    return diff[0] * nanoPerSec + diff[1];\r\n  }\r\n  return BigInt(diff[0] * nanoPerSec) + BigInt(diff[1]);\r\n};\r\n\r\nvar _maxListeners = 10;\r\nvar _events = {};\r\nvar _eventsCount = 0;\r\nfunction on () { return process }var addListener = on;\r\nvar once = on;\r\nvar off = on;\r\nvar removeListener = on;\r\nvar removeAllListeners = on;\r\nvar emit = noop;\r\nvar prependListener = on;\r\nvar prependOnceListener = on;\r\nfunction listeners (name) { return []; }\r\nvar process = {\r\n  version,\r\n  versions,\r\n  arch,\r\n  platform,\r\n  release,\r\n  _rawDebug,\r\n  moduleLoadList,\r\n  binding,\r\n  _linkedBinding,\r\n  _events,\r\n  _eventsCount,\r\n  _maxListeners,\r\n  on,\r\n  addListener,\r\n  once,\r\n  off,\r\n  removeListener,\r\n  removeAllListeners,\r\n  emit,\r\n  prependListener,\r\n  prependOnceListener,\r\n  listeners,\r\n  domain,\r\n  _exiting,\r\n  config,\r\n  dlopen,\r\n  uptime,\r\n  _getActiveRequests,\r\n  _getActiveHandles,\r\n  reallyExit,\r\n  _kill,\r\n  cpuUsage,\r\n  resourceUsage,\r\n  memoryUsage,\r\n  kill,\r\n  exit,\r\n  openStdin,\r\n  allowedNodeEnvironmentFlags,\r\n  assert,\r\n  features,\r\n  _fatalExceptions,\r\n  setUncaughtExceptionCaptureCallback,\r\n  hasUncaughtExceptionCaptureCallback,\r\n  emitWarning,\r\n  nextTick,\r\n  _tickCallback,\r\n  _debugProcess,\r\n  _debugEnd,\r\n  _startProfilerIdleNotifier,\r\n  _stopProfilerIdleNotifier,\r\n  stdout,\r\n  stdin,\r\n  stderr,\r\n  abort,\r\n  umask,\r\n  chdir,\r\n  cwd,\r\n  env,\r\n  title,\r\n  argv,\r\n  execArgv,\r\n  pid,\r\n  ppid,\r\n  execPath,\r\n  debugPort,\r\n  hrtime,\r\n  argv0,\r\n  _preload_modules,\r\n  setSourceMapsEnabled,\r\n};\n\nexport { _debugEnd, _debugProcess, _events, _eventsCount, _exiting, _fatalExceptions, _getActiveHandles, _getActiveRequests, _kill, _linkedBinding, _maxListeners, _preload_modules, _rawDebug, _startProfilerIdleNotifier, _stopProfilerIdleNotifier, _tickCallback, abort, addListener, allowedNodeEnvironmentFlags, arch, argv, argv0, assert, binding, chdir, config, cpuUsage, cwd, debugPort, process as default, dlopen, domain, emit, emitWarning, env, execArgv, execPath, exit, features, hasUncaughtExceptionCaptureCallback, hrtime, kill, listeners, memoryUsage, moduleLoadList, nextTick, off, on, once, openStdin, pid, platform, ppid, prependListener, prependOnceListener, reallyExit, release, removeAllListeners, removeListener, resourceUsage, setSourceMapsEnabled, setUncaughtExceptionCaptureCallback, stderr, stdin, stdout, title, umask, uptime, version, versions };\n","export * as process from \"process\";\n","var exports$3 = {},\n    _dewExec$2 = false;\nfunction dew$2() {\n  if (_dewExec$2) return exports$3;\n  _dewExec$2 = true;\n  exports$3.byteLength = byteLength;\n  exports$3.toByteArray = toByteArray;\n  exports$3.fromByteArray = fromByteArray;\n  var lookup = [];\n  var revLookup = [];\n  var Arr = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array;\n  var code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n  } // Support decoding URL-safe base64 strings, as Node.js does.\n  // See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\n  revLookup[\"-\".charCodeAt(0)] = 62;\n  revLookup[\"_\".charCodeAt(0)] = 63;\n\n  function getLens(b64) {\n    var len = b64.length;\n\n    if (len % 4 > 0) {\n      throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    } // Trim off extra bytes after placeholder bytes are found\n    // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [validLen, placeHoldersLen];\n  } // base64 is 4/3 + up to two characters of the original data\n\n\n  function byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n  }\n\n  function _byteLength(b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n  }\n\n  function toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n\n    for (i = 0; i < len; i += 4) {\n      tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n      arr[curByte++] = tmp >> 16 & 255;\n      arr[curByte++] = tmp >> 8 & 255;\n      arr[curByte++] = tmp & 255;\n    }\n\n    if (placeHoldersLen === 2) {\n      tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n      arr[curByte++] = tmp & 255;\n    }\n\n    if (placeHoldersLen === 1) {\n      tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n      arr[curByte++] = tmp >> 8 & 255;\n      arr[curByte++] = tmp & 255;\n    }\n\n    return arr;\n  }\n\n  function tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n  }\n\n  function encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n\n    for (var i = start; i < end; i += 3) {\n      tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n      output.push(tripletToBase64(tmp));\n    }\n\n    return output.join(\"\");\n  }\n\n  function fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n    var parts = [];\n    var maxChunkLength = 16383; // must be multiple of 3\n    // go through the array every three bytes, we'll deal with trailing stuff later\n\n    for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n      parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n    if (extraBytes === 1) {\n      tmp = uint8[len - 1];\n      parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\");\n    } else if (extraBytes === 2) {\n      tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n      parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\");\n    }\n\n    return parts.join(\"\");\n  }\n\n  return exports$3;\n}\n\nvar exports$2 = {},\n    _dewExec$1 = false;\nfunction dew$1() {\n  if (_dewExec$1) return exports$2;\n  _dewExec$1 = true;\n\n  /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n  exports$2.read = function (buffer, offset, isLE, mLen, nBytes) {\n    var e, m;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var nBits = -7;\n    var i = isLE ? nBytes - 1 : 0;\n    var d = isLE ? -1 : 1;\n    var s = buffer[offset + i];\n    i += d;\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    if (e === 0) {\n      e = 1 - eBias;\n    } else if (e === eMax) {\n      return m ? NaN : (s ? -1 : 1) * Infinity;\n    } else {\n      m = m + Math.pow(2, mLen);\n      e = e - eBias;\n    }\n\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n  };\n\n  exports$2.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n    value = Math.abs(value);\n\n    if (isNaN(value) || value === Infinity) {\n      m = isNaN(value) ? 1 : 0;\n      e = eMax;\n    } else {\n      e = Math.floor(Math.log(value) / Math.LN2);\n\n      if (value * (c = Math.pow(2, -e)) < 1) {\n        e--;\n        c *= 2;\n      }\n\n      if (e + eBias >= 1) {\n        value += rt / c;\n      } else {\n        value += rt * Math.pow(2, 1 - eBias);\n      }\n\n      if (value * c >= 2) {\n        e++;\n        c /= 2;\n      }\n\n      if (e + eBias >= eMax) {\n        m = 0;\n        e = eMax;\n      } else if (e + eBias >= 1) {\n        m = (value * c - 1) * Math.pow(2, mLen);\n        e = e + eBias;\n      } else {\n        m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n        e = 0;\n      }\n    }\n\n    for (; mLen >= 8; buffer[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {}\n\n    e = e << mLen | m;\n    eLen += mLen;\n\n    for (; eLen > 0; buffer[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {}\n\n    buffer[offset + i - d] |= s * 128;\n  };\n\n  return exports$2;\n}\n\nvar exports$1 = {},\n    _dewExec = false;\nfunction dew() {\n  if (_dewExec) return exports$1;\n  _dewExec = true;\n\n  const base64 = dew$2();\n\n  const ieee754 = dew$1();\n\n  const customInspectSymbol = typeof Symbol === \"function\" && typeof Symbol[\"for\"] === \"function\" ? Symbol[\"for\"](\"nodejs.util.inspect.custom\") // eslint-disable-line dot-notation\n  : null;\n  exports$1.Buffer = Buffer;\n  exports$1.SlowBuffer = SlowBuffer;\n  exports$1.INSPECT_MAX_BYTES = 50;\n  const K_MAX_LENGTH = 2147483647;\n  exports$1.kMaxLength = K_MAX_LENGTH;\n  /**\n   * If `Buffer.TYPED_ARRAY_SUPPORT`:\n   *   === true    Use Uint8Array implementation (fastest)\n   *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n   *               implementation (most compatible, even IE6)\n   *\n   * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n   * Opera 11.6+, iOS 4.2+.\n   *\n   * We report that the browser does not support typed arrays if the are not subclassable\n   * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n   * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n   * for __proto__ and has a buggy typed array implementation.\n   */\n\n  Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== \"undefined\" && typeof console.error === \"function\") {\n    console.error(\"This browser lacks typed array (Uint8Array) support which is required by \" + \"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");\n  }\n\n  function typedArraySupport() {\n    // Can typed array instances can be augmented?\n    try {\n      const arr = new Uint8Array(1);\n      const proto = {\n        foo: function () {\n          return 42;\n        }\n      };\n      Object.setPrototypeOf(proto, Uint8Array.prototype);\n      Object.setPrototypeOf(arr, proto);\n      return arr.foo() === 42;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  Object.defineProperty(Buffer.prototype, \"parent\", {\n    enumerable: true,\n    get: function () {\n      if (!Buffer.isBuffer(this)) return undefined;\n      return this.buffer;\n    }\n  });\n  Object.defineProperty(Buffer.prototype, \"offset\", {\n    enumerable: true,\n    get: function () {\n      if (!Buffer.isBuffer(this)) return undefined;\n      return this.byteOffset;\n    }\n  });\n\n  function createBuffer(length) {\n    if (length > K_MAX_LENGTH) {\n      throw new RangeError(\"The value \\\"\" + length + \"\\\" is invalid for option \\\"size\\\"\");\n    } // Return an augmented `Uint8Array` instance\n\n\n    const buf = new Uint8Array(length);\n    Object.setPrototypeOf(buf, Buffer.prototype);\n    return buf;\n  }\n  /**\n   * The Buffer constructor returns instances of `Uint8Array` that have their\n   * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n   * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n   * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n   * returns a single octet.\n   *\n   * The `Uint8Array` prototype remains unmodified.\n   */\n\n\n  function Buffer(arg, encodingOrOffset, length) {\n    // Common case.\n    if (typeof arg === \"number\") {\n      if (typeof encodingOrOffset === \"string\") {\n        throw new TypeError(\"The \\\"string\\\" argument must be of type string. Received type number\");\n      }\n\n      return allocUnsafe(arg);\n    }\n\n    return from(arg, encodingOrOffset, length);\n  }\n\n  Buffer.poolSize = 8192; // not used by this implementation\n\n  function from(value, encodingOrOffset, length) {\n    if (typeof value === \"string\") {\n      return fromString(value, encodingOrOffset);\n    }\n\n    if (ArrayBuffer.isView(value)) {\n      return fromArrayView(value);\n    }\n\n    if (value == null) {\n      throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \" + \"or Array-like Object. Received type \" + typeof value);\n    }\n\n    if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {\n      return fromArrayBuffer(value, encodingOrOffset, length);\n    }\n\n    if (typeof SharedArrayBuffer !== \"undefined\" && (isInstance(value, SharedArrayBuffer) || value && isInstance(value.buffer, SharedArrayBuffer))) {\n      return fromArrayBuffer(value, encodingOrOffset, length);\n    }\n\n    if (typeof value === \"number\") {\n      throw new TypeError(\"The \\\"value\\\" argument must not be of type number. Received type number\");\n    }\n\n    const valueOf = value.valueOf && value.valueOf();\n\n    if (valueOf != null && valueOf !== value) {\n      return Buffer.from(valueOf, encodingOrOffset, length);\n    }\n\n    const b = fromObject(value);\n    if (b) return b;\n\n    if (typeof Symbol !== \"undefined\" && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === \"function\") {\n      return Buffer.from(value[Symbol.toPrimitive](\"string\"), encodingOrOffset, length);\n    }\n\n    throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \" + \"or Array-like Object. Received type \" + typeof value);\n  }\n  /**\n   * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n   * if value is a number.\n   * Buffer.from(str[, encoding])\n   * Buffer.from(array)\n   * Buffer.from(buffer)\n   * Buffer.from(arrayBuffer[, byteOffset[, length]])\n   **/\n\n\n  Buffer.from = function (value, encodingOrOffset, length) {\n    return from(value, encodingOrOffset, length);\n  }; // Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n  // https://github.com/feross/buffer/pull/148\n\n\n  Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype);\n  Object.setPrototypeOf(Buffer, Uint8Array);\n\n  function assertSize(size) {\n    if (typeof size !== \"number\") {\n      throw new TypeError(\"\\\"size\\\" argument must be of type number\");\n    } else if (size < 0) {\n      throw new RangeError(\"The value \\\"\" + size + \"\\\" is invalid for option \\\"size\\\"\");\n    }\n  }\n\n  function alloc(size, fill, encoding) {\n    assertSize(size);\n\n    if (size <= 0) {\n      return createBuffer(size);\n    }\n\n    if (fill !== undefined) {\n      // Only pay attention to encoding if it's a string. This\n      // prevents accidentally sending in a number that would\n      // be interpreted as a start offset.\n      return typeof encoding === \"string\" ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);\n    }\n\n    return createBuffer(size);\n  }\n  /**\n   * Creates a new filled Buffer instance.\n   * alloc(size[, fill[, encoding]])\n   **/\n\n\n  Buffer.alloc = function (size, fill, encoding) {\n    return alloc(size, fill, encoding);\n  };\n\n  function allocUnsafe(size) {\n    assertSize(size);\n    return createBuffer(size < 0 ? 0 : checked(size) | 0);\n  }\n  /**\n   * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n   * */\n\n\n  Buffer.allocUnsafe = function (size) {\n    return allocUnsafe(size);\n  };\n  /**\n   * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n   */\n\n\n  Buffer.allocUnsafeSlow = function (size) {\n    return allocUnsafe(size);\n  };\n\n  function fromString(string, encoding) {\n    if (typeof encoding !== \"string\" || encoding === \"\") {\n      encoding = \"utf8\";\n    }\n\n    if (!Buffer.isEncoding(encoding)) {\n      throw new TypeError(\"Unknown encoding: \" + encoding);\n    }\n\n    const length = byteLength(string, encoding) | 0;\n    let buf = createBuffer(length);\n    const actual = buf.write(string, encoding);\n\n    if (actual !== length) {\n      // Writing a hex string, for example, that contains invalid characters will\n      // cause everything after the first invalid character to be ignored. (e.g.\n      // 'abxxcd' will be treated as 'ab')\n      buf = buf.slice(0, actual);\n    }\n\n    return buf;\n  }\n\n  function fromArrayLike(array) {\n    const length = array.length < 0 ? 0 : checked(array.length) | 0;\n    const buf = createBuffer(length);\n\n    for (let i = 0; i < length; i += 1) {\n      buf[i] = array[i] & 255;\n    }\n\n    return buf;\n  }\n\n  function fromArrayView(arrayView) {\n    if (isInstance(arrayView, Uint8Array)) {\n      const copy = new Uint8Array(arrayView);\n      return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);\n    }\n\n    return fromArrayLike(arrayView);\n  }\n\n  function fromArrayBuffer(array, byteOffset, length) {\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n      throw new RangeError(\"\\\"offset\\\" is outside of buffer bounds\");\n    }\n\n    if (array.byteLength < byteOffset + (length || 0)) {\n      throw new RangeError(\"\\\"length\\\" is outside of buffer bounds\");\n    }\n\n    let buf;\n\n    if (byteOffset === undefined && length === undefined) {\n      buf = new Uint8Array(array);\n    } else if (length === undefined) {\n      buf = new Uint8Array(array, byteOffset);\n    } else {\n      buf = new Uint8Array(array, byteOffset, length);\n    } // Return an augmented `Uint8Array` instance\n\n\n    Object.setPrototypeOf(buf, Buffer.prototype);\n    return buf;\n  }\n\n  function fromObject(obj) {\n    if (Buffer.isBuffer(obj)) {\n      const len = checked(obj.length) | 0;\n      const buf = createBuffer(len);\n\n      if (buf.length === 0) {\n        return buf;\n      }\n\n      obj.copy(buf, 0, 0, len);\n      return buf;\n    }\n\n    if (obj.length !== undefined) {\n      if (typeof obj.length !== \"number\" || numberIsNaN(obj.length)) {\n        return createBuffer(0);\n      }\n\n      return fromArrayLike(obj);\n    }\n\n    if (obj.type === \"Buffer\" && Array.isArray(obj.data)) {\n      return fromArrayLike(obj.data);\n    }\n  }\n\n  function checked(length) {\n    // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= K_MAX_LENGTH) {\n      throw new RangeError(\"Attempt to allocate Buffer larger than maximum \" + \"size: 0x\" + K_MAX_LENGTH.toString(16) + \" bytes\");\n    }\n\n    return length | 0;\n  }\n\n  function SlowBuffer(length) {\n    if (+length != length) {\n      // eslint-disable-line eqeqeq\n      length = 0;\n    }\n\n    return Buffer.alloc(+length);\n  }\n\n  Buffer.isBuffer = function isBuffer(b) {\n    return b != null && b._isBuffer === true && b !== Buffer.prototype; // so Buffer.isBuffer(Buffer.prototype) will be false\n  };\n\n  Buffer.compare = function compare(a, b) {\n    if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength);\n    if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength);\n\n    if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n      throw new TypeError(\"The \\\"buf1\\\", \\\"buf2\\\" arguments must be one of type Buffer or Uint8Array\");\n    }\n\n    if (a === b) return 0;\n    let x = a.length;\n    let y = b.length;\n\n    for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n      if (a[i] !== b[i]) {\n        x = a[i];\n        y = b[i];\n        break;\n      }\n    }\n\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n  };\n\n  Buffer.isEncoding = function isEncoding(encoding) {\n    switch (String(encoding).toLowerCase()) {\n      case \"hex\":\n      case \"utf8\":\n      case \"utf-8\":\n      case \"ascii\":\n      case \"latin1\":\n      case \"binary\":\n      case \"base64\":\n      case \"ucs2\":\n      case \"ucs-2\":\n      case \"utf16le\":\n      case \"utf-16le\":\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  Buffer.concat = function concat(list, length) {\n    if (!Array.isArray(list)) {\n      throw new TypeError(\"\\\"list\\\" argument must be an Array of Buffers\");\n    }\n\n    if (list.length === 0) {\n      return Buffer.alloc(0);\n    }\n\n    let i;\n\n    if (length === undefined) {\n      length = 0;\n\n      for (i = 0; i < list.length; ++i) {\n        length += list[i].length;\n      }\n    }\n\n    const buffer = Buffer.allocUnsafe(length);\n    let pos = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      let buf = list[i];\n\n      if (isInstance(buf, Uint8Array)) {\n        if (pos + buf.length > buffer.length) {\n          if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf);\n          buf.copy(buffer, pos);\n        } else {\n          Uint8Array.prototype.set.call(buffer, buf, pos);\n        }\n      } else if (!Buffer.isBuffer(buf)) {\n        throw new TypeError(\"\\\"list\\\" argument must be an Array of Buffers\");\n      } else {\n        buf.copy(buffer, pos);\n      }\n\n      pos += buf.length;\n    }\n\n    return buffer;\n  };\n\n  function byteLength(string, encoding) {\n    if (Buffer.isBuffer(string)) {\n      return string.length;\n    }\n\n    if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n      return string.byteLength;\n    }\n\n    if (typeof string !== \"string\") {\n      throw new TypeError(\"The \\\"string\\\" argument must be one of type string, Buffer, or ArrayBuffer. \" + \"Received type \" + typeof string);\n    }\n\n    const len = string.length;\n    const mustMatch = arguments.length > 2 && arguments[2] === true;\n    if (!mustMatch && len === 0) return 0; // Use a for loop to avoid recursion\n\n    let loweredCase = false;\n\n    for (;;) {\n      switch (encoding) {\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n          return len;\n\n        case \"utf8\":\n        case \"utf-8\":\n          return utf8ToBytes(string).length;\n\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n          return len * 2;\n\n        case \"hex\":\n          return len >>> 1;\n\n        case \"base64\":\n          return base64ToBytes(string).length;\n\n        default:\n          if (loweredCase) {\n            return mustMatch ? -1 : utf8ToBytes(string).length; // assume utf8\n          }\n\n          encoding = (\"\" + encoding).toLowerCase();\n          loweredCase = true;\n      }\n    }\n  }\n\n  Buffer.byteLength = byteLength;\n\n  function slowToString(encoding, start, end) {\n    let loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n    // property of a typed array.\n    // This behaves neither like String nor Uint8Array in that we set start/end\n    // to their upper/lower bounds if the value passed is out of range.\n    // undefined is handled specially as per ECMA-262 6th Edition,\n    // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n    if (start === undefined || start < 0) {\n      start = 0;\n    } // Return early if start > this.length. Done here to prevent potential uint32\n    // coercion fail below.\n\n\n    if (start > this.length) {\n      return \"\";\n    }\n\n    if (end === undefined || end > this.length) {\n      end = this.length;\n    }\n\n    if (end <= 0) {\n      return \"\";\n    } // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n    end >>>= 0;\n    start >>>= 0;\n\n    if (end <= start) {\n      return \"\";\n    }\n\n    if (!encoding) encoding = \"utf8\";\n\n    while (true) {\n      switch (encoding) {\n        case \"hex\":\n          return hexSlice(this, start, end);\n\n        case \"utf8\":\n        case \"utf-8\":\n          return utf8Slice(this, start, end);\n\n        case \"ascii\":\n          return asciiSlice(this, start, end);\n\n        case \"latin1\":\n        case \"binary\":\n          return latin1Slice(this, start, end);\n\n        case \"base64\":\n          return base64Slice(this, start, end);\n\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n          return utf16leSlice(this, start, end);\n\n        default:\n          if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n          encoding = (encoding + \"\").toLowerCase();\n          loweredCase = true;\n      }\n    }\n  } // This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n  // to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n  // reliably in a browserify context because there could be multiple different\n  // copies of the 'buffer' package in use. This method works even for Buffer\n  // instances that were created from another copy of the `buffer` package.\n  // See: https://github.com/feross/buffer/issues/154\n\n\n  Buffer.prototype._isBuffer = true;\n\n  function swap(b, n, m) {\n    const i = b[n];\n    b[n] = b[m];\n    b[m] = i;\n  }\n\n  Buffer.prototype.swap16 = function swap16() {\n    const len = this.length;\n\n    if (len % 2 !== 0) {\n      throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n    }\n\n    for (let i = 0; i < len; i += 2) {\n      swap(this, i, i + 1);\n    }\n\n    return this;\n  };\n\n  Buffer.prototype.swap32 = function swap32() {\n    const len = this.length;\n\n    if (len % 4 !== 0) {\n      throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n    }\n\n    for (let i = 0; i < len; i += 4) {\n      swap(this, i, i + 3);\n      swap(this, i + 1, i + 2);\n    }\n\n    return this;\n  };\n\n  Buffer.prototype.swap64 = function swap64() {\n    const len = this.length;\n\n    if (len % 8 !== 0) {\n      throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n    }\n\n    for (let i = 0; i < len; i += 8) {\n      swap(this, i, i + 7);\n      swap(this, i + 1, i + 6);\n      swap(this, i + 2, i + 5);\n      swap(this, i + 3, i + 4);\n    }\n\n    return this;\n  };\n\n  Buffer.prototype.toString = function toString() {\n    const length = this.length;\n    if (length === 0) return \"\";\n    if (arguments.length === 0) return utf8Slice(this, 0, length);\n    return slowToString.apply(this, arguments);\n  };\n\n  Buffer.prototype.toLocaleString = Buffer.prototype.toString;\n\n  Buffer.prototype.equals = function equals(b) {\n    if (!Buffer.isBuffer(b)) throw new TypeError(\"Argument must be a Buffer\");\n    if (this === b) return true;\n    return Buffer.compare(this, b) === 0;\n  };\n\n  Buffer.prototype.inspect = function inspect() {\n    let str = \"\";\n    const max = exports$1.INSPECT_MAX_BYTES;\n    str = this.toString(\"hex\", 0, max).replace(/(.{2})/g, \"$1 \").trim();\n    if (this.length > max) str += \" ... \";\n    return \"<Buffer \" + str + \">\";\n  };\n\n  if (customInspectSymbol) {\n    Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;\n  }\n\n  Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n    if (isInstance(target, Uint8Array)) {\n      target = Buffer.from(target, target.offset, target.byteLength);\n    }\n\n    if (!Buffer.isBuffer(target)) {\n      throw new TypeError(\"The \\\"target\\\" argument must be one of type Buffer or Uint8Array. \" + \"Received type \" + typeof target);\n    }\n\n    if (start === undefined) {\n      start = 0;\n    }\n\n    if (end === undefined) {\n      end = target ? target.length : 0;\n    }\n\n    if (thisStart === undefined) {\n      thisStart = 0;\n    }\n\n    if (thisEnd === undefined) {\n      thisEnd = this.length;\n    }\n\n    if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n      throw new RangeError(\"out of range index\");\n    }\n\n    if (thisStart >= thisEnd && start >= end) {\n      return 0;\n    }\n\n    if (thisStart >= thisEnd) {\n      return -1;\n    }\n\n    if (start >= end) {\n      return 1;\n    }\n\n    start >>>= 0;\n    end >>>= 0;\n    thisStart >>>= 0;\n    thisEnd >>>= 0;\n    if (this === target) return 0;\n    let x = thisEnd - thisStart;\n    let y = end - start;\n    const len = Math.min(x, y);\n    const thisCopy = this.slice(thisStart, thisEnd);\n    const targetCopy = target.slice(start, end);\n\n    for (let i = 0; i < len; ++i) {\n      if (thisCopy[i] !== targetCopy[i]) {\n        x = thisCopy[i];\n        y = targetCopy[i];\n        break;\n      }\n    }\n\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n  }; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n  // OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n  //\n  // Arguments:\n  // - buffer - a Buffer to search\n  // - val - a string, Buffer, or number\n  // - byteOffset - an index into `buffer`; will be clamped to an int32\n  // - encoding - an optional encoding, relevant is val is a string\n  // - dir - true for indexOf, false for lastIndexOf\n\n\n  function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n    // Empty buffer means no match\n    if (buffer.length === 0) return -1; // Normalize byteOffset\n\n    if (typeof byteOffset === \"string\") {\n      encoding = byteOffset;\n      byteOffset = 0;\n    } else if (byteOffset > 2147483647) {\n      byteOffset = 2147483647;\n    } else if (byteOffset < -2147483648) {\n      byteOffset = -2147483648;\n    }\n\n    byteOffset = +byteOffset; // Coerce to Number.\n\n    if (numberIsNaN(byteOffset)) {\n      // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n      byteOffset = dir ? 0 : buffer.length - 1;\n    } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n    if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n    if (byteOffset >= buffer.length) {\n      if (dir) return -1;else byteOffset = buffer.length - 1;\n    } else if (byteOffset < 0) {\n      if (dir) byteOffset = 0;else return -1;\n    } // Normalize val\n\n\n    if (typeof val === \"string\") {\n      val = Buffer.from(val, encoding);\n    } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n    if (Buffer.isBuffer(val)) {\n      // Special case: looking for empty string/buffer always fails\n      if (val.length === 0) {\n        return -1;\n      }\n\n      return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n    } else if (typeof val === \"number\") {\n      val = val & 255; // Search for a byte value [0-255]\n\n      if (typeof Uint8Array.prototype.indexOf === \"function\") {\n        if (dir) {\n          return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n        } else {\n          return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n        }\n      }\n\n      return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n    }\n\n    throw new TypeError(\"val must be string, number or Buffer\");\n  }\n\n  function arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n    let indexSize = 1;\n    let arrLength = arr.length;\n    let valLength = val.length;\n\n    if (encoding !== undefined) {\n      encoding = String(encoding).toLowerCase();\n\n      if (encoding === \"ucs2\" || encoding === \"ucs-2\" || encoding === \"utf16le\" || encoding === \"utf-16le\") {\n        if (arr.length < 2 || val.length < 2) {\n          return -1;\n        }\n\n        indexSize = 2;\n        arrLength /= 2;\n        valLength /= 2;\n        byteOffset /= 2;\n      }\n    }\n\n    function read(buf, i) {\n      if (indexSize === 1) {\n        return buf[i];\n      } else {\n        return buf.readUInt16BE(i * indexSize);\n      }\n    }\n\n    let i;\n\n    if (dir) {\n      let foundIndex = -1;\n\n      for (i = byteOffset; i < arrLength; i++) {\n        if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n          if (foundIndex === -1) foundIndex = i;\n          if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n        } else {\n          if (foundIndex !== -1) i -= i - foundIndex;\n          foundIndex = -1;\n        }\n      }\n    } else {\n      if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n      for (i = byteOffset; i >= 0; i--) {\n        let found = true;\n\n        for (let j = 0; j < valLength; j++) {\n          if (read(arr, i + j) !== read(val, j)) {\n            found = false;\n            break;\n          }\n        }\n\n        if (found) return i;\n      }\n    }\n\n    return -1;\n  }\n\n  Buffer.prototype.includes = function includes(val, byteOffset, encoding) {\n    return this.indexOf(val, byteOffset, encoding) !== -1;\n  };\n\n  Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n  };\n\n  Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n  };\n\n  function hexWrite(buf, string, offset, length) {\n    offset = Number(offset) || 0;\n    const remaining = buf.length - offset;\n\n    if (!length) {\n      length = remaining;\n    } else {\n      length = Number(length);\n\n      if (length > remaining) {\n        length = remaining;\n      }\n    }\n\n    const strLen = string.length;\n\n    if (length > strLen / 2) {\n      length = strLen / 2;\n    }\n\n    let i;\n\n    for (i = 0; i < length; ++i) {\n      const parsed = parseInt(string.substr(i * 2, 2), 16);\n      if (numberIsNaN(parsed)) return i;\n      buf[offset + i] = parsed;\n    }\n\n    return i;\n  }\n\n  function utf8Write(buf, string, offset, length) {\n    return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n  }\n\n  function asciiWrite(buf, string, offset, length) {\n    return blitBuffer(asciiToBytes(string), buf, offset, length);\n  }\n\n  function base64Write(buf, string, offset, length) {\n    return blitBuffer(base64ToBytes(string), buf, offset, length);\n  }\n\n  function ucs2Write(buf, string, offset, length) {\n    return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n  }\n\n  Buffer.prototype.write = function write(string, offset, length, encoding) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n      encoding = \"utf8\";\n      length = this.length;\n      offset = 0; // Buffer#write(string, encoding)\n    } else if (length === undefined && typeof offset === \"string\") {\n      encoding = offset;\n      length = this.length;\n      offset = 0; // Buffer#write(string, offset[, length][, encoding])\n    } else if (isFinite(offset)) {\n      offset = offset >>> 0;\n\n      if (isFinite(length)) {\n        length = length >>> 0;\n        if (encoding === undefined) encoding = \"utf8\";\n      } else {\n        encoding = length;\n        length = undefined;\n      }\n    } else {\n      throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");\n    }\n\n    const remaining = this.length - offset;\n    if (length === undefined || length > remaining) length = remaining;\n\n    if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n      throw new RangeError(\"Attempt to write outside buffer bounds\");\n    }\n\n    if (!encoding) encoding = \"utf8\";\n    let loweredCase = false;\n\n    for (;;) {\n      switch (encoding) {\n        case \"hex\":\n          return hexWrite(this, string, offset, length);\n\n        case \"utf8\":\n        case \"utf-8\":\n          return utf8Write(this, string, offset, length);\n\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n          return asciiWrite(this, string, offset, length);\n\n        case \"base64\":\n          // Warning: maxLength not taken into account in base64Write\n          return base64Write(this, string, offset, length);\n\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n          return ucs2Write(this, string, offset, length);\n\n        default:\n          if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n          encoding = (\"\" + encoding).toLowerCase();\n          loweredCase = true;\n      }\n    }\n  };\n\n  Buffer.prototype.toJSON = function toJSON() {\n    return {\n      type: \"Buffer\",\n      data: Array.prototype.slice.call(this._arr || this, 0)\n    };\n  };\n\n  function base64Slice(buf, start, end) {\n    if (start === 0 && end === buf.length) {\n      return base64.fromByteArray(buf);\n    } else {\n      return base64.fromByteArray(buf.slice(start, end));\n    }\n  }\n\n  function utf8Slice(buf, start, end) {\n    end = Math.min(buf.length, end);\n    const res = [];\n    let i = start;\n\n    while (i < end) {\n      const firstByte = buf[i];\n      let codePoint = null;\n      let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n\n      if (i + bytesPerSequence <= end) {\n        let secondByte, thirdByte, fourthByte, tempCodePoint;\n\n        switch (bytesPerSequence) {\n          case 1:\n            if (firstByte < 128) {\n              codePoint = firstByte;\n            }\n\n            break;\n\n          case 2:\n            secondByte = buf[i + 1];\n\n            if ((secondByte & 192) === 128) {\n              tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n\n              if (tempCodePoint > 127) {\n                codePoint = tempCodePoint;\n              }\n            }\n\n            break;\n\n          case 3:\n            secondByte = buf[i + 1];\n            thirdByte = buf[i + 2];\n\n            if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n              tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n\n              if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n                codePoint = tempCodePoint;\n              }\n            }\n\n            break;\n\n          case 4:\n            secondByte = buf[i + 1];\n            thirdByte = buf[i + 2];\n            fourthByte = buf[i + 3];\n\n            if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n              tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n\n              if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n                codePoint = tempCodePoint;\n              }\n            }\n\n        }\n      }\n\n      if (codePoint === null) {\n        // we did not generate a valid codePoint so insert a\n        // replacement char (U+FFFD) and advance only 1 byte\n        codePoint = 65533;\n        bytesPerSequence = 1;\n      } else if (codePoint > 65535) {\n        // encode to utf16 (surrogate pair dance)\n        codePoint -= 65536;\n        res.push(codePoint >>> 10 & 1023 | 55296);\n        codePoint = 56320 | codePoint & 1023;\n      }\n\n      res.push(codePoint);\n      i += bytesPerSequence;\n    }\n\n    return decodeCodePointsArray(res);\n  } // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n  // the lowest limit is Chrome, with 0x10000 args.\n  // We go 1 magnitude less, for safety\n\n\n  const MAX_ARGUMENTS_LENGTH = 4096;\n\n  function decodeCodePointsArray(codePoints) {\n    const len = codePoints.length;\n\n    if (len <= MAX_ARGUMENTS_LENGTH) {\n      return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n    } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n    let res = \"\";\n    let i = 0;\n\n    while (i < len) {\n      res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n    }\n\n    return res;\n  }\n\n  function asciiSlice(buf, start, end) {\n    let ret = \"\";\n    end = Math.min(buf.length, end);\n\n    for (let i = start; i < end; ++i) {\n      ret += String.fromCharCode(buf[i] & 127);\n    }\n\n    return ret;\n  }\n\n  function latin1Slice(buf, start, end) {\n    let ret = \"\";\n    end = Math.min(buf.length, end);\n\n    for (let i = start; i < end; ++i) {\n      ret += String.fromCharCode(buf[i]);\n    }\n\n    return ret;\n  }\n\n  function hexSlice(buf, start, end) {\n    const len = buf.length;\n    if (!start || start < 0) start = 0;\n    if (!end || end < 0 || end > len) end = len;\n    let out = \"\";\n\n    for (let i = start; i < end; ++i) {\n      out += hexSliceLookupTable[buf[i]];\n    }\n\n    return out;\n  }\n\n  function utf16leSlice(buf, start, end) {\n    const bytes = buf.slice(start, end);\n    let res = \"\"; // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n\n    for (let i = 0; i < bytes.length - 1; i += 2) {\n      res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n    }\n\n    return res;\n  }\n\n  Buffer.prototype.slice = function slice(start, end) {\n    const len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n\n    if (start < 0) {\n      start += len;\n      if (start < 0) start = 0;\n    } else if (start > len) {\n      start = len;\n    }\n\n    if (end < 0) {\n      end += len;\n      if (end < 0) end = 0;\n    } else if (end > len) {\n      end = len;\n    }\n\n    if (end < start) end = start;\n    const newBuf = this.subarray(start, end); // Return an augmented `Uint8Array` instance\n\n    Object.setPrototypeOf(newBuf, Buffer.prototype);\n    return newBuf;\n  };\n  /*\n   * Need to make sure that buffer isn't trying to write out of bounds.\n   */\n\n\n  function checkOffset(offset, ext, length) {\n    if (offset % 1 !== 0 || offset < 0) throw new RangeError(\"offset is not uint\");\n    if (offset + ext > length) throw new RangeError(\"Trying to access beyond buffer length\");\n  }\n\n  Buffer.prototype.readUintLE = Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n    let val = this[offset];\n    let mul = 1;\n    let i = 0;\n\n    while (++i < byteLength && (mul *= 256)) {\n      val += this[offset + i] * mul;\n    }\n\n    return val;\n  };\n\n  Buffer.prototype.readUintBE = Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n\n    if (!noAssert) {\n      checkOffset(offset, byteLength, this.length);\n    }\n\n    let val = this[offset + --byteLength];\n    let mul = 1;\n\n    while (byteLength > 0 && (mul *= 256)) {\n      val += this[offset + --byteLength] * mul;\n    }\n\n    return val;\n  };\n\n  Buffer.prototype.readUint8 = Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 1, this.length);\n    return this[offset];\n  };\n\n  Buffer.prototype.readUint16LE = Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    return this[offset] | this[offset + 1] << 8;\n  };\n\n  Buffer.prototype.readUint16BE = Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    return this[offset] << 8 | this[offset + 1];\n  };\n\n  Buffer.prototype.readUint32LE = Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;\n  };\n\n  Buffer.prototype.readUint32BE = Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n  };\n\n  Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE(offset) {\n    offset = offset >>> 0;\n    validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n\n    if (first === undefined || last === undefined) {\n      boundsError(offset, this.length - 8);\n    }\n\n    const lo = first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24;\n    const hi = this[++offset] + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + last * 2 ** 24;\n    return BigInt(lo) + (BigInt(hi) << BigInt(32));\n  });\n  Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE(offset) {\n    offset = offset >>> 0;\n    validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n\n    if (first === undefined || last === undefined) {\n      boundsError(offset, this.length - 8);\n    }\n\n    const hi = first * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n    const lo = this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last;\n    return (BigInt(hi) << BigInt(32)) + BigInt(lo);\n  });\n\n  Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n    let val = this[offset];\n    let mul = 1;\n    let i = 0;\n\n    while (++i < byteLength && (mul *= 256)) {\n      val += this[offset + i] * mul;\n    }\n\n    mul *= 128;\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n    return val;\n  };\n\n  Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n    let i = byteLength;\n    let mul = 1;\n    let val = this[offset + --i];\n\n    while (i > 0 && (mul *= 256)) {\n      val += this[offset + --i] * mul;\n    }\n\n    mul *= 128;\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n    return val;\n  };\n\n  Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 1, this.length);\n    if (!(this[offset] & 128)) return this[offset];\n    return (255 - this[offset] + 1) * -1;\n  };\n\n  Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    const val = this[offset] | this[offset + 1] << 8;\n    return val & 32768 ? val | 4294901760 : val;\n  };\n\n  Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    const val = this[offset + 1] | this[offset] << 8;\n    return val & 32768 ? val | 4294901760 : val;\n  };\n\n  Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n  };\n\n  Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n  };\n\n  Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE(offset) {\n    offset = offset >>> 0;\n    validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n\n    if (first === undefined || last === undefined) {\n      boundsError(offset, this.length - 8);\n    }\n\n    const val = this[offset + 4] + this[offset + 5] * 2 ** 8 + this[offset + 6] * 2 ** 16 + (last << 24); // Overflow\n\n    return (BigInt(val) << BigInt(32)) + BigInt(first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24);\n  });\n  Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE(offset) {\n    offset = offset >>> 0;\n    validateNumber(offset, \"offset\");\n    const first = this[offset];\n    const last = this[offset + 7];\n\n    if (first === undefined || last === undefined) {\n      boundsError(offset, this.length - 8);\n    }\n\n    const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n    return (BigInt(val) << BigInt(32)) + BigInt(this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last);\n  });\n\n  Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return ieee754.read(this, offset, true, 23, 4);\n  };\n\n  Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return ieee754.read(this, offset, false, 23, 4);\n  };\n\n  Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 8, this.length);\n    return ieee754.read(this, offset, true, 52, 8);\n  };\n\n  Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n    offset = offset >>> 0;\n    if (!noAssert) checkOffset(offset, 8, this.length);\n    return ieee754.read(this, offset, false, 52, 8);\n  };\n\n  function checkInt(buf, value, offset, ext, max, min) {\n    if (!Buffer.isBuffer(buf)) throw new TypeError(\"\\\"buffer\\\" argument must be a Buffer instance\");\n    if (value > max || value < min) throw new RangeError(\"\\\"value\\\" argument is out of bounds\");\n    if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n  }\n\n  Buffer.prototype.writeUintLE = Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n\n    if (!noAssert) {\n      const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n      checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n\n    let mul = 1;\n    let i = 0;\n    this[offset] = value & 255;\n\n    while (++i < byteLength && (mul *= 256)) {\n      this[offset + i] = value / mul & 255;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer.prototype.writeUintBE = Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    byteLength = byteLength >>> 0;\n\n    if (!noAssert) {\n      const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n      checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n\n    let i = byteLength - 1;\n    let mul = 1;\n    this[offset + i] = value & 255;\n\n    while (--i >= 0 && (mul *= 256)) {\n      this[offset + i] = value / mul & 255;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer.prototype.writeUint8 = Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 1, 255, 0);\n    this[offset] = value & 255;\n    return offset + 1;\n  };\n\n  Buffer.prototype.writeUint16LE = Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n    this[offset] = value & 255;\n    this[offset + 1] = value >>> 8;\n    return offset + 2;\n  };\n\n  Buffer.prototype.writeUint16BE = Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 255;\n    return offset + 2;\n  };\n\n  Buffer.prototype.writeUint32LE = Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 255;\n    return offset + 4;\n  };\n\n  Buffer.prototype.writeUint32BE = Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 255;\n    return offset + 4;\n  };\n\n  function wrtBigUInt64LE(buf, value, offset, min, max) {\n    checkIntBI(value, min, max, buf, offset, 7);\n    let lo = Number(value & BigInt(4294967295));\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    lo = lo >> 8;\n    buf[offset++] = lo;\n    let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    hi = hi >> 8;\n    buf[offset++] = hi;\n    return offset;\n  }\n\n  function wrtBigUInt64BE(buf, value, offset, min, max) {\n    checkIntBI(value, min, max, buf, offset, 7);\n    let lo = Number(value & BigInt(4294967295));\n    buf[offset + 7] = lo;\n    lo = lo >> 8;\n    buf[offset + 6] = lo;\n    lo = lo >> 8;\n    buf[offset + 5] = lo;\n    lo = lo >> 8;\n    buf[offset + 4] = lo;\n    let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n    buf[offset + 3] = hi;\n    hi = hi >> 8;\n    buf[offset + 2] = hi;\n    hi = hi >> 8;\n    buf[offset + 1] = hi;\n    hi = hi >> 8;\n    buf[offset] = hi;\n    return offset + 8;\n  }\n\n  Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE(value, offset = 0) {\n    return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n  });\n  Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE(value, offset = 0) {\n    return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n  });\n\n  Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n\n    if (!noAssert) {\n      const limit = Math.pow(2, 8 * byteLength - 1);\n      checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n\n    let i = 0;\n    let mul = 1;\n    let sub = 0;\n    this[offset] = value & 255;\n\n    while (++i < byteLength && (mul *= 256)) {\n      if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n        sub = 1;\n      }\n\n      this[offset + i] = (value / mul >> 0) - sub & 255;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n\n    if (!noAssert) {\n      const limit = Math.pow(2, 8 * byteLength - 1);\n      checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n\n    let i = byteLength - 1;\n    let mul = 1;\n    let sub = 0;\n    this[offset + i] = value & 255;\n\n    while (--i >= 0 && (mul *= 256)) {\n      if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n        sub = 1;\n      }\n\n      this[offset + i] = (value / mul >> 0) - sub & 255;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 1, 127, -128);\n    if (value < 0) value = 255 + value + 1;\n    this[offset] = value & 255;\n    return offset + 1;\n  };\n\n  Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n    this[offset] = value & 255;\n    this[offset + 1] = value >>> 8;\n    return offset + 2;\n  };\n\n  Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 255;\n    return offset + 2;\n  };\n\n  Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n    this[offset] = value & 255;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n    return offset + 4;\n  };\n\n  Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n    if (value < 0) value = 4294967295 + value + 1;\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 255;\n    return offset + 4;\n  };\n\n  Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE(value, offset = 0) {\n    return wrtBigUInt64LE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n  });\n  Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE(value, offset = 0) {\n    return wrtBigUInt64BE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n  });\n\n  function checkIEEE754(buf, value, offset, ext, max, min) {\n    if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n    if (offset < 0) throw new RangeError(\"Index out of range\");\n  }\n\n  function writeFloat(buf, value, offset, littleEndian, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n\n    if (!noAssert) {\n      checkIEEE754(buf, value, offset, 4);\n    }\n\n    ieee754.write(buf, value, offset, littleEndian, 23, 4);\n    return offset + 4;\n  }\n\n  Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, true, noAssert);\n  };\n\n  Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, false, noAssert);\n  };\n\n  function writeDouble(buf, value, offset, littleEndian, noAssert) {\n    value = +value;\n    offset = offset >>> 0;\n\n    if (!noAssert) {\n      checkIEEE754(buf, value, offset, 8);\n    }\n\n    ieee754.write(buf, value, offset, littleEndian, 52, 8);\n    return offset + 8;\n  }\n\n  Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, true, noAssert);\n  };\n\n  Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, false, noAssert);\n  }; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\n  Buffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!Buffer.isBuffer(target)) throw new TypeError(\"argument should be a Buffer\");\n    if (!start) start = 0;\n    if (!end && end !== 0) end = this.length;\n    if (targetStart >= target.length) targetStart = target.length;\n    if (!targetStart) targetStart = 0;\n    if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n    if (end === start) return 0;\n    if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n    if (targetStart < 0) {\n      throw new RangeError(\"targetStart out of bounds\");\n    }\n\n    if (start < 0 || start >= this.length) throw new RangeError(\"Index out of range\");\n    if (end < 0) throw new RangeError(\"sourceEnd out of bounds\"); // Are we oob?\n\n    if (end > this.length) end = this.length;\n\n    if (target.length - targetStart < end - start) {\n      end = target.length - targetStart + start;\n    }\n\n    const len = end - start;\n\n    if (this === target && typeof Uint8Array.prototype.copyWithin === \"function\") {\n      // Use built-in when available, missing from IE11\n      this.copyWithin(targetStart, start, end);\n    } else {\n      Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);\n    }\n\n    return len;\n  }; // Usage:\n  //    buffer.fill(number[, offset[, end]])\n  //    buffer.fill(buffer[, offset[, end]])\n  //    buffer.fill(string[, offset[, end]][, encoding])\n\n\n  Buffer.prototype.fill = function fill(val, start, end, encoding) {\n    // Handle string cases:\n    if (typeof val === \"string\") {\n      if (typeof start === \"string\") {\n        encoding = start;\n        start = 0;\n        end = this.length;\n      } else if (typeof end === \"string\") {\n        encoding = end;\n        end = this.length;\n      }\n\n      if (encoding !== undefined && typeof encoding !== \"string\") {\n        throw new TypeError(\"encoding must be a string\");\n      }\n\n      if (typeof encoding === \"string\" && !Buffer.isEncoding(encoding)) {\n        throw new TypeError(\"Unknown encoding: \" + encoding);\n      }\n\n      if (val.length === 1) {\n        const code = val.charCodeAt(0);\n\n        if (encoding === \"utf8\" && code < 128 || encoding === \"latin1\") {\n          // Fast path: If `val` fits into a single byte, use that numeric value.\n          val = code;\n        }\n      }\n    } else if (typeof val === \"number\") {\n      val = val & 255;\n    } else if (typeof val === \"boolean\") {\n      val = Number(val);\n    } // Invalid ranges are not set to a default, so can range check early.\n\n\n    if (start < 0 || this.length < start || this.length < end) {\n      throw new RangeError(\"Out of range index\");\n    }\n\n    if (end <= start) {\n      return this;\n    }\n\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n    if (!val) val = 0;\n    let i;\n\n    if (typeof val === \"number\") {\n      for (i = start; i < end; ++i) {\n        this[i] = val;\n      }\n    } else {\n      const bytes = Buffer.isBuffer(val) ? val : Buffer.from(val, encoding);\n      const len = bytes.length;\n\n      if (len === 0) {\n        throw new TypeError(\"The value \\\"\" + val + \"\\\" is invalid for argument \\\"value\\\"\");\n      }\n\n      for (i = 0; i < end - start; ++i) {\n        this[i + start] = bytes[i % len];\n      }\n    }\n\n    return this;\n  }; // CUSTOM ERRORS\n  // =============\n  // Simplified versions from Node, changed for Buffer-only usage\n\n\n  const errors = {};\n\n  function E(sym, getMessage, Base) {\n    errors[sym] = class NodeError extends Base {\n      constructor() {\n        super();\n        Object.defineProperty(this, \"message\", {\n          value: getMessage.apply(this, arguments),\n          writable: true,\n          configurable: true\n        }); // Add the error code to the name to include it in the stack trace.\n\n        this.name = `${this.name} [${sym}]`; // Access the stack to generate the error message including the error code\n        // from the name.\n\n        this.stack; // eslint-disable-line no-unused-expressions\n        // Reset the name to the actual name.\n\n        delete this.name;\n      }\n\n      get code() {\n        return sym;\n      }\n\n      set code(value) {\n        Object.defineProperty(this, \"code\", {\n          configurable: true,\n          enumerable: true,\n          value,\n          writable: true\n        });\n      }\n\n      toString() {\n        return `${this.name} [${sym}]: ${this.message}`;\n      }\n\n    };\n  }\n\n  E(\"ERR_BUFFER_OUT_OF_BOUNDS\", function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`;\n    }\n\n    return \"Attempt to access memory outside buffer bounds\";\n  }, RangeError);\n  E(\"ERR_INVALID_ARG_TYPE\", function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`;\n  }, TypeError);\n  E(\"ERR_OUT_OF_RANGE\", function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`;\n    let received = input;\n\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input));\n    } else if (typeof input === \"bigint\") {\n      received = String(input);\n\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received);\n      }\n\n      received += \"n\";\n    }\n\n    msg += ` It must be ${range}. Received ${received}`;\n    return msg;\n  }, RangeError);\n\n  function addNumericalSeparator(val) {\n    let res = \"\";\n    let i = val.length;\n    const start = val[0] === \"-\" ? 1 : 0;\n\n    for (; i >= start + 4; i -= 3) {\n      res = `_${val.slice(i - 3, i)}${res}`;\n    }\n\n    return `${val.slice(0, i)}${res}`;\n  } // CHECK FUNCTIONS\n  // ===============\n\n\n  function checkBounds(buf, offset, byteLength) {\n    validateNumber(offset, \"offset\");\n\n    if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n      boundsError(offset, buf.length - (byteLength + 1));\n    }\n  }\n\n  function checkIntBI(value, min, max, buf, offset, byteLength) {\n    if (value > max || value < min) {\n      const n = typeof min === \"bigint\" ? \"n\" : \"\";\n      let range;\n\n      if (byteLength > 3) {\n        if (min === 0 || min === BigInt(0)) {\n          range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;\n        } else {\n          range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` + `${(byteLength + 1) * 8 - 1}${n}`;\n        }\n      } else {\n        range = `>= ${min}${n} and <= ${max}${n}`;\n      }\n\n      throw new errors.ERR_OUT_OF_RANGE(\"value\", range, value);\n    }\n\n    checkBounds(buf, offset, byteLength);\n  }\n\n  function validateNumber(value, name) {\n    if (typeof value !== \"number\") {\n      throw new errors.ERR_INVALID_ARG_TYPE(name, \"number\", value);\n    }\n  }\n\n  function boundsError(value, length, type) {\n    if (Math.floor(value) !== value) {\n      validateNumber(value, type);\n      throw new errors.ERR_OUT_OF_RANGE(type || \"offset\", \"an integer\", value);\n    }\n\n    if (length < 0) {\n      throw new errors.ERR_BUFFER_OUT_OF_BOUNDS();\n    }\n\n    throw new errors.ERR_OUT_OF_RANGE(type || \"offset\", `>= ${type ? 1 : 0} and <= ${length}`, value);\n  } // HELPER FUNCTIONS\n  // ================\n\n\n  const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n\n  function base64clean(str) {\n    // Node takes equal signs as end of the Base64 encoding\n    str = str.split(\"=\")[0]; // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\n    str = str.trim().replace(INVALID_BASE64_RE, \"\"); // Node converts strings with length < 2 to ''\n\n    if (str.length < 2) return \"\"; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n    while (str.length % 4 !== 0) {\n      str = str + \"=\";\n    }\n\n    return str;\n  }\n\n  function utf8ToBytes(string, units) {\n    units = units || Infinity;\n    let codePoint;\n    const length = string.length;\n    let leadSurrogate = null;\n    const bytes = [];\n\n    for (let i = 0; i < length; ++i) {\n      codePoint = string.charCodeAt(i); // is surrogate component\n\n      if (codePoint > 55295 && codePoint < 57344) {\n        // last char was a lead\n        if (!leadSurrogate) {\n          // no lead yet\n          if (codePoint > 56319) {\n            // unexpected trail\n            if ((units -= 3) > -1) bytes.push(239, 191, 189);\n            continue;\n          } else if (i + 1 === length) {\n            // unpaired lead\n            if ((units -= 3) > -1) bytes.push(239, 191, 189);\n            continue;\n          } // valid lead\n\n\n          leadSurrogate = codePoint;\n          continue;\n        } // 2 leads in a row\n\n\n        if (codePoint < 56320) {\n          if ((units -= 3) > -1) bytes.push(239, 191, 189);\n          leadSurrogate = codePoint;\n          continue;\n        } // valid surrogate pair\n\n\n        codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n      } else if (leadSurrogate) {\n        // valid bmp char, but last char was a lead\n        if ((units -= 3) > -1) bytes.push(239, 191, 189);\n      }\n\n      leadSurrogate = null; // encode utf8\n\n      if (codePoint < 128) {\n        if ((units -= 1) < 0) break;\n        bytes.push(codePoint);\n      } else if (codePoint < 2048) {\n        if ((units -= 2) < 0) break;\n        bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);\n      } else if (codePoint < 65536) {\n        if ((units -= 3) < 0) break;\n        bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n      } else if (codePoint < 1114112) {\n        if ((units -= 4) < 0) break;\n        bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n      } else {\n        throw new Error(\"Invalid code point\");\n      }\n    }\n\n    return bytes;\n  }\n\n  function asciiToBytes(str) {\n    const byteArray = [];\n\n    for (let i = 0; i < str.length; ++i) {\n      // Node's code seems to be doing this and not & 0x7F..\n      byteArray.push(str.charCodeAt(i) & 255);\n    }\n\n    return byteArray;\n  }\n\n  function utf16leToBytes(str, units) {\n    let c, hi, lo;\n    const byteArray = [];\n\n    for (let i = 0; i < str.length; ++i) {\n      if ((units -= 2) < 0) break;\n      c = str.charCodeAt(i);\n      hi = c >> 8;\n      lo = c % 256;\n      byteArray.push(lo);\n      byteArray.push(hi);\n    }\n\n    return byteArray;\n  }\n\n  function base64ToBytes(str) {\n    return base64.toByteArray(base64clean(str));\n  }\n\n  function blitBuffer(src, dst, offset, length) {\n    let i;\n\n    for (i = 0; i < length; ++i) {\n      if (i + offset >= dst.length || i >= src.length) break;\n      dst[i + offset] = src[i];\n    }\n\n    return i;\n  } // ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n  // the `instanceof` check but they should be treated as of that type.\n  // See: https://github.com/feross/buffer/issues/166\n\n\n  function isInstance(obj, type) {\n    return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;\n  }\n\n  function numberIsNaN(obj) {\n    // For IE11 support\n    return obj !== obj; // eslint-disable-line no-self-compare\n  } // Create lookup table for `toString('hex')`\n  // See: https://github.com/feross/buffer/issues/219\n\n\n  const hexSliceLookupTable = function () {\n    const alphabet = \"0123456789abcdef\";\n    const table = new Array(256);\n\n    for (let i = 0; i < 16; ++i) {\n      const i16 = i * 16;\n\n      for (let j = 0; j < 16; ++j) {\n        table[i16 + j] = alphabet[i] + alphabet[j];\n      }\n    }\n\n    return table;\n  }(); // Return not function with Error if BigInt not supported\n\n\n  function defineBigIntMethod(fn) {\n    return typeof BigInt === \"undefined\" ? BufferBigIntNotDefined : fn;\n  }\n\n  function BufferBigIntNotDefined() {\n    throw new Error(\"BigInt not supported\");\n  }\n\n  return exports$1;\n}\n\nconst exports = dew();\nexports['Buffer']; exports['SlowBuffer']; exports['INSPECT_MAX_BYTES']; exports['kMaxLength'];\n\nvar Buffer = exports.Buffer;\r\nvar INSPECT_MAX_BYTES = exports.INSPECT_MAX_BYTES;\r\nvar kMaxLength = exports.kMaxLength;\n\nexport { Buffer, INSPECT_MAX_BYTES, exports as default, kMaxLength };\n","export { Buffer } from \"buffer\";\n","var e,t,n=\"object\"==typeof Reflect?Reflect:null,r=n&&\"function\"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&\"function\"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this);}e=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function v(e,t,n,r){var i,o,s,v;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");a.name=\"MaxListenersExceededWarning\",a.emitter=e,a.type=t,a.count=s.length,v=a,console&&console.warn&&console.warn(v);}return e}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=a.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return [];var i=r[t];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):c(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,\"defaultMaxListeners\",{enumerable:!0,get:function(){return s},set:function(e){if(\"number\"!=typeof e||e<0||i(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");s=e;}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},o.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||i(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=\"error\"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return !1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error(\"Unhandled error.\"+(s?\" (\"+s.message+\")\":\"\"));throw u.context=s,u}var f=o[e];if(void 0===f)return !1;if(\"function\"==typeof f)r(f,this,t);else {var v=f.length,a=c(f,v);for(n=0;n<v;++n)r(a[n],this,t);}return !0},o.prototype.addListener=function(e,t){return v(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return v(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():!function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop();}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,s||t);}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return \"function\"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};var y=e;y.EventEmitter;y.defaultMaxListeners;y.init;y.listenerCount;\n\ny.EventEmitter;\ny.defaultMaxListeners;\ny.init;\ny.listenerCount;\n\nexport { y };\n","import { y } from './chunk-4bd36a8f.js';\nexport { y as default } from './chunk-4bd36a8f.js';\n\n// https://github.com/denoland/deno_std/blob/d005433c709054af87aca54f57a446b4f7966f11/node/events.ts#L501-L638\r\ny.once = function (emitter, event) {\r\n  return new Promise((resolve, reject) => {\r\n    function eventListener(...args) {\r\n      if (errorListener !== undefined) {\r\n        emitter.removeListener('error', errorListener);\r\n      }\r\n      resolve(args);\r\n    }\r\n    let errorListener;\r\n    if (event !== 'error') {\r\n      // deno-lint-ignore no-explicit-any\r\n      errorListener = (err) => {\r\n        emitter.removeListener(name, eventListener);\r\n        reject(err);\r\n      };\r\n\r\n      emitter.once('error', errorListener);\r\n    }\r\n\r\n    emitter.once(event, eventListener);\r\n  });\r\n};\r\ny.on = function (emitter, event) {\r\n  const unconsumedEventValues = [];\r\n  const unconsumedPromises = [];\r\n  let error = null;\r\n  let finished = false;\r\n\r\n  const iterator = {\r\n    async next() {\r\n      const value = unconsumedEventValues.shift();\r\n      if (value) {\r\n        return createIterResult(value, false);\r\n      }\r\n\r\n      if (error) {\r\n        const p = Promise.reject(error);\r\n        error = null;\r\n        return p;\r\n      }\r\n\r\n      if (finished) {\r\n        return createIterResult(undefined, true);\r\n      }\r\n\r\n      return new Promise((resolve, reject) => unconsumedPromises.push({ resolve, reject }));\r\n    },\r\n    async return() {\r\n      emitter.removeListener(event, eventHandler);\r\n      emitter.removeListener('error', errorHandler);\r\n      finished = true;\r\n\r\n      for (const promise of unconsumedPromises) {\r\n        promise.resolve(createIterResult(undefined, true));\r\n      }\r\n\r\n      return createIterResult(undefined, true);\r\n    },\r\n    throw(err) {\r\n      error = err;\r\n      emitter.removeListener(event, eventHandler);\r\n      emitter.removeListener('error', errorHandler);\r\n    },\r\n    [Symbol.asyncIterator]() {\r\n      return this;\r\n    },\r\n  };\r\n\r\n  emitter.on(event, eventHandler);\r\n  emitter.on('error', errorHandler);\r\n\r\n  return iterator;\r\n\r\n  function eventHandler(...args) {\r\n    const promise = unconsumedPromises.shift();\r\n    if (promise) {\r\n      promise.resolve(createIterResult(args, false));\r\n    } else {\r\n      unconsumedEventValues.push(args);\r\n    }\r\n  }\r\n\r\n  function errorHandler(err) {\r\n    finished = true;\r\n    const toError = unconsumedPromises.shift();\r\n    if (toError) {\r\n      toError.reject(err);\r\n    } else {\r\n      error = err;\r\n    }\r\n    iterator.return();\r\n  }\r\n};\r\nconst {\r\n  EventEmitter,\r\n  defaultMaxListeners,\r\n  init,\r\n  listenerCount,\r\n  on,\r\n  once,\r\n} = y;\n\nexport { EventEmitter, defaultMaxListeners, init, listenerCount, on, once };\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar test = {\n\t__proto__: null,\n\tfoo: {}\n};\n\nvar $Object = Object;\n\n/** @type {import('.')} */\nmodule.exports = function hasProto() {\n\t// @ts-expect-error: TS errors on an inherited property for some reason\n\treturn { __proto__: test }.foo === test.foo\n\t\t&& !(test instanceof $Object);\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar defineDataProperty = require('define-data-property');\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar supportsDescriptors = require('has-property-descriptors')();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object) {\n\t\tif (predicate === true) {\n\t\t\tif (object[name] === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (!isFunction(predicate) || !predicate()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (supportsDescriptors) {\n\t\tdefineDataProperty(object, name, value, true);\n\t} else {\n\t\tdefineDataProperty(object, name, value);\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar objectKeys = require('object-keys');\nvar hasSymbols = require('has-symbols/shams')();\nvar callBound = require('call-bind/callBound');\nvar toObject = Object;\nvar $push = callBound('Array.prototype.push');\nvar $propIsEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function assign(target, source1) {\n\tif (target == null) { throw new TypeError('target must be an object'); }\n\tvar to = toObject(target); // step 1\n\tif (arguments.length === 1) {\n\t\treturn to; // step 2\n\t}\n\tfor (var s = 1; s < arguments.length; ++s) {\n\t\tvar from = toObject(arguments[s]); // step 3.a.i\n\n\t\t// step 3.a.ii:\n\t\tvar keys = objectKeys(from);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tvar syms = getSymbols(from);\n\t\t\tfor (var j = 0; j < syms.length; ++j) {\n\t\t\t\tvar key = syms[j];\n\t\t\t\tif ($propIsEnumerable(from, key)) {\n\t\t\t\t\t$push(keys, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// step 3.a.iii:\n\t\tfor (var i = 0; i < keys.length; ++i) {\n\t\t\tvar nextKey = keys[i];\n\t\t\tif ($propIsEnumerable(from, nextKey)) { // step 3.a.iii.2\n\t\t\t\tvar propValue = from[nextKey]; // step 3.a.iii.2.a\n\t\t\t\tto[nextKey] = propValue; // step 3.a.iii.2.b\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to; // step 4\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t/*\n\t * v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t * note: this does not detect the bug unless there's 20 characters\n\t */\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t/*\n\t * Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t * which is 72% slower than our shim, and Firefox 40's native implementation.\n\t */\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimAssign() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tObject,\n\t\t{ assign: polyfill },\n\t\t{ assign: function () { return Object.assign !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n","'use strict';\n\nvar defineProperties = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind.apply(getPolyfill());\n// eslint-disable-next-line no-unused-vars\nvar bound = function assign(target, source1) {\n\treturn polyfill(Object, arguments);\n};\n\ndefineProperties(bound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = bound;\n","'use strict';\n\nvar functionsHaveNames = function functionsHaveNames() {\n\treturn typeof function f() {}.name === 'string';\n};\n\nvar gOPD = Object.getOwnPropertyDescriptor;\nif (gOPD) {\n\ttry {\n\t\tgOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\tgOPD = null;\n\t}\n}\n\nfunctionsHaveNames.functionsHaveConfigurableNames = function functionsHaveConfigurableNames() {\n\tif (!functionsHaveNames() || !gOPD) {\n\t\treturn false;\n\t}\n\tvar desc = gOPD(function () {}, 'name');\n\treturn !!desc && !!desc.configurable;\n};\n\nvar $bind = Function.prototype.bind;\n\nfunctionsHaveNames.boundFunctionsHaveNames = function boundFunctionsHaveNames() {\n\treturn functionsHaveNames() && typeof $bind === 'function' && function f() {}.bind().name !== '';\n};\n\nmodule.exports = functionsHaveNames;\n","'use strict';\n\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar functionsHaveConfigurableNames = require('functions-have-names').functionsHaveConfigurableNames();\n\nvar $TypeError = require('es-errors/type');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionName(fn, name) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\tif (!loose || functionsHaveConfigurableNames) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'name', name, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'name', name);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar setFunctionName = require('set-function-name');\nvar $TypeError = require('es-errors/type');\n\nvar $Object = Object;\n\nmodule.exports = setFunctionName(function flags() {\n\tif (this == null || this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.unicodeSets) {\n\t\tresult += 'v';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n}, 'get flags', true);\n\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (\n\t\t\tdescriptor\n\t\t\t&& typeof descriptor.get === 'function'\n\t\t\t&& typeof RegExp.prototype.dotAll === 'boolean'\n\t\t\t&& typeof RegExp.prototype.hasIndices === 'boolean'\n\t\t) {\n\t\t\t/* eslint getter-return: 0 */\n\t\t\tvar calls = '';\n\t\t\tvar o = {};\n\t\t\tObject.defineProperty(o, 'hasIndices', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'd';\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.defineProperty(o, 'sticky', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'y';\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (calls === 'dy') {\n\t\t\t\treturn descriptor.get;\n\t\t\t}\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar hasOwn = require('hasown');\nvar channel = require('side-channel')();\n\nvar $TypeError = require('es-errors/type');\n\nvar SLOT = {\n\tassert: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tchannel.assert(O);\n\t\tif (!SLOT.has(O, slot)) {\n\t\t\tthrow new $TypeError('`' + slot + '` is not present on `O`');\n\t\t}\n\t},\n\tget: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn slots && slots['$' + slot];\n\t},\n\thas: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn !!slots && hasOwn(slots, '$' + slot);\n\t},\n\tset: function (O, slot, V) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\tif (!slots) {\n\t\t\tslots = {};\n\t\t\tchannel.set(O, slots);\n\t\t}\n\t\tslots['$' + slot] = V;\n\t}\n};\n\nif (Object.freeze) {\n\tObject.freeze(SLOT);\n}\n\nmodule.exports = SLOT;\n","'use strict';\n\nvar SLOT = require('internal-slot');\n\nvar $SyntaxError = SyntaxError;\nvar $StopIteration = typeof StopIteration === 'object' ? StopIteration : null;\n\nmodule.exports = function getStopIterationIterator(origIterator) {\n\tif (!$StopIteration) {\n\t\tthrow new $SyntaxError('this environment lacks StopIteration');\n\t}\n\n\tSLOT.set(origIterator, '[[Done]]', false);\n\n\tvar siIterator = {\n\t\tnext: function next() {\n\t\t\tvar iterator = SLOT.get(this, '[[Iterator]]');\n\t\t\tvar done = SLOT.get(iterator, '[[Done]]');\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: done ? void undefined : iterator.next()\n\t\t\t\t};\n\t\t\t} catch (e) {\n\t\t\t\tSLOT.set(iterator, '[[Done]]', true);\n\t\t\t\tif (e !== $StopIteration) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: true,\n\t\t\t\t\tvalue: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n\tSLOT.set(siIterator, '[[Iterator]]', origIterator);\n\n\treturn siIterator;\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nvar strValue = String.prototype.valueOf;\nvar tryStringObject = function tryStringObject(value) {\n\ttry {\n\t\tstrValue.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar strClass = '[object String]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isString(value) {\n\tif (typeof value === 'string') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;\n};\n","'use strict';\n\n/** @const */\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Map) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$mapHas) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\n/** @type {import('.')} */\nmodule.exports = exported || function isMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t// @ts-expect-error TS can't figure out that $Map is always truthy here\n\t\treturn x instanceof $Map; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Set) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$setHas) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\n/** @type {import('.')} */\nmodule.exports = exported || function isSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t// @ts-expect-error TS can't figure out that $Set is always truthy here\n\t\treturn x instanceof $Set; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\n/* eslint global-require: 0 */\n// the code is structured this way so that bundlers can\n// alias out `has-symbols` to `() => true` or `() => false` if your target\n// environments' Symbol capabilities are known, and then use\n// dead code elimination on the rest of this module.\n//\n// Similarly, `isarray` can be aliased to `Array.isArray` if\n// available in all target environments.\n\nvar isArguments = require('is-arguments');\nvar getStopIterationIterator = require('stop-iteration-iterator');\n\nif (require('has-symbols')() || require('has-symbols/shams')()) {\n\tvar $iterator = Symbol.iterator;\n\t// Symbol is available natively or shammed\n\t// natively:\n\t//  - Chrome >= 38\n\t//  - Edge 12-14?, Edge >= 15 for sure\n\t//  - FF >= 36\n\t//  - Safari >= 9\n\t//  - node >= 0.12\n\tmodule.exports = function getIterator(iterable) {\n\t\t// alternatively, `iterable[$iterator]?.()`\n\t\tif (iterable != null && typeof iterable[$iterator] !== 'undefined') {\n\t\t\treturn iterable[$iterator]();\n\t\t}\n\t\tif (isArguments(iterable)) {\n\t\t\t// arguments objects lack Symbol.iterator\n\t\t\t// - node 0.12\n\t\t\treturn Array.prototype[$iterator].call(iterable);\n\t\t}\n\t};\n} else {\n\t// Symbol is not available, native or shammed\n\tvar isArray = require('isarray');\n\tvar isString = require('is-string');\n\tvar GetIntrinsic = require('get-intrinsic');\n\tvar $Map = GetIntrinsic('%Map%', true);\n\tvar $Set = GetIntrinsic('%Set%', true);\n\tvar callBound = require('call-bind/callBound');\n\tvar $arrayPush = callBound('Array.prototype.push');\n\tvar $charCodeAt = callBound('String.prototype.charCodeAt');\n\tvar $stringSlice = callBound('String.prototype.slice');\n\n\tvar advanceStringIndex = function advanceStringIndex(S, index) {\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t};\n\n\tvar getArrayIterator = function getArrayIterator(arraylike) {\n\t\tvar i = 0;\n\t\treturn {\n\t\t\tnext: function next() {\n\t\t\t\tvar done = i >= arraylike.length;\n\t\t\t\tvar value;\n\t\t\t\tif (!done) {\n\t\t\t\t\tvalue = arraylike[i];\n\t\t\t\t\ti += 1;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t};\n\n\tvar getNonCollectionIterator = function getNonCollectionIterator(iterable, noPrimordialCollections) {\n\t\tif (isArray(iterable) || isArguments(iterable)) {\n\t\t\treturn getArrayIterator(iterable);\n\t\t}\n\t\tif (isString(iterable)) {\n\t\t\tvar i = 0;\n\t\t\treturn {\n\t\t\t\tnext: function next() {\n\t\t\t\t\tvar nextIndex = advanceStringIndex(iterable, i);\n\t\t\t\t\tvar value = $stringSlice(iterable, i, nextIndex);\n\t\t\t\t\ti = nextIndex;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: nextIndex > iterable.length,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// es6-shim and es-shims' es-map use a string \"_es6-shim iterator_\" property on different iterables, such as MapIterator.\n\t\tif (noPrimordialCollections && typeof iterable['_es6-shim iterator_'] !== 'undefined') {\n\t\t\treturn iterable['_es6-shim iterator_']();\n\t\t}\n\t};\n\n\tif (!$Map && !$Set) {\n\t\t// the only language iterables are Array, String, arguments\n\t\t// - Safari <= 6.0\n\t\t// - Chrome < 38\n\t\t// - node < 0.12\n\t\t// - FF < 13\n\t\t// - IE < 11\n\t\t// - Edge < 11\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\tif (iterable != null) {\n\t\t\t\treturn getNonCollectionIterator(iterable, true);\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// either Map or Set are available, but Symbol is not\n\t\t// - es6-shim on an ES5 browser\n\t\t// - Safari 6.2 (maybe 6.1?)\n\t\t// - FF v[13, 36)\n\t\t// - IE 11\n\t\t// - Edge 11\n\t\t// - Safari v[6, 9)\n\n\t\tvar isMap = require('is-map');\n\t\tvar isSet = require('is-set');\n\n\t\t// Firefox >= 27, IE 11, Safari 6.2 - 9, Edge 11, es6-shim in older envs, all have forEach\n\t\tvar $mapForEach = callBound('Map.prototype.forEach', true);\n\t\tvar $setForEach = callBound('Set.prototype.forEach', true);\n\t\tif (typeof process === 'undefined' || !process.versions || !process.versions.node) { // \"if is not node\"\n\n\t\t\t// Firefox 17 - 26 has `.iterator()`, whose iterator `.next()` either\n\t\t\t// returns a value, or throws a StopIteration object. These browsers\n\t\t\t// do not have any other mechanism for iteration.\n\t\t\tvar $mapIterator = callBound('Map.prototype.iterator', true);\n\t\t\tvar $setIterator = callBound('Set.prototype.iterator', true);\n\t\t}\n\t\t// Firefox 27-35, and some older es6-shim versions, use a string \"@@iterator\" property\n\t\t// this returns a proper iterator object, so we should use it instead of forEach.\n\t\t// newer es6-shim versions use a string \"_es6-shim iterator_\" property.\n\t\tvar $mapAtAtIterator = callBound('Map.prototype.@@iterator', true) || callBound('Map.prototype._es6-shim iterator_', true);\n\t\tvar $setAtAtIterator = callBound('Set.prototype.@@iterator', true) || callBound('Set.prototype._es6-shim iterator_', true);\n\n\t\tvar getCollectionIterator = function getCollectionIterator(iterable) {\n\t\t\tif (isMap(iterable)) {\n\t\t\t\tif ($mapIterator) {\n\t\t\t\t\treturn getStopIterationIterator($mapIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($mapAtAtIterator) {\n\t\t\t\t\treturn $mapAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($mapForEach) {\n\t\t\t\t\tvar entries = [];\n\t\t\t\t\t$mapForEach(iterable, function (v, k) {\n\t\t\t\t\t\t$arrayPush(entries, [k, v]);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(entries);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSet(iterable)) {\n\t\t\t\tif ($setIterator) {\n\t\t\t\t\treturn getStopIterationIterator($setIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($setAtAtIterator) {\n\t\t\t\t\treturn $setAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($setForEach) {\n\t\t\t\t\tvar values = [];\n\t\t\t\t\t$setForEach(iterable, function (v) {\n\t\t\t\t\t\t$arrayPush(values, v);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(values);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\treturn getCollectionIterator(iterable) || getNonCollectionIterator(iterable);\n\t\t};\n\t}\n}\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar callBind = require('call-bind');\nvar callBound = require('call-bind/callBound');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $ArrayBuffer = GetIntrinsic('%ArrayBuffer%', true);\n/** @type {undefined | ((receiver: ArrayBuffer) => number) | ((receiver: unknown) => never)} */\nvar $byteLength = callBound('ArrayBuffer.prototype.byteLength', true);\nvar $toString = callBound('Object.prototype.toString');\n\n// in node 0.10, ArrayBuffers have no prototype methods, but have an own slot-checking `slice` method\nvar abSlice = !!$ArrayBuffer && !$byteLength && new $ArrayBuffer(0).slice;\nvar $abSlice = !!abSlice && callBind(abSlice);\n\n/** @type {import('.')} */\nmodule.exports = $byteLength || $abSlice\n\t? function isArrayBuffer(obj) {\n\t\tif (!obj || typeof obj !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\tif ($byteLength) {\n\t\t\t\t// @ts-expect-error no idea why TS can't handle the overload\n\t\t\t\t$byteLength(obj);\n\t\t\t} else {\n\t\t\t\t// @ts-expect-error TS chooses not to type-narrow inside a closure\n\t\t\t\t$abSlice(obj, 0);\n\t\t\t}\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t: $ArrayBuffer\n\t\t// in node 0.8, ArrayBuffers have no prototype or own methods, but also no Symbol.toStringTag\n\t\t? function isArrayBuffer(obj) {\n\t\t\treturn $toString(obj) === '[object ArrayBuffer]';\n\t\t}\n\t\t: function isArrayBuffer(obj) { // eslint-disable-line no-unused-vars\n\t\t\treturn false;\n\t\t};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\n\nvar $byteLength = callBound('SharedArrayBuffer.prototype.byteLength', true);\n\n/** @type {import('.')} */\nmodule.exports = $byteLength\n\t? function isSharedArrayBuffer(obj) {\n\t\tif (!obj || typeof obj !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$byteLength(obj);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t: function isSharedArrayBuffer(obj) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t};\n","'use strict';\n\nvar numToStr = Number.prototype.toString;\nvar tryNumberObject = function tryNumberObject(value) {\n\ttry {\n\t\tnumToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar numClass = '[object Number]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isNumberObject(value) {\n\tif (typeof value === 'number') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryNumberObject(value) : toStr.call(value) === numClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar $boolToStr = callBound('Boolean.prototype.toString');\nvar $toString = callBound('Object.prototype.toString');\n\nvar tryBooleanObject = function booleanBrandCheck(value) {\n\ttry {\n\t\t$boolToStr(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar boolClass = '[object Boolean]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isBoolean(value) {\n\tif (typeof value === 'boolean') {\n\t\treturn true;\n\t}\n\tif (value === null || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag && Symbol.toStringTag in value ? tryBooleanObject(value) : $toString(value) === boolClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar $BigInt = typeof BigInt !== 'undefined' && BigInt;\n\nmodule.exports = function hasNativeBigInts() {\n\treturn typeof $BigInt === 'function'\n\t\t&& typeof BigInt === 'function'\n\t\t&& typeof $BigInt(42) === 'bigint' // eslint-disable-line no-magic-numbers\n\t\t&& typeof BigInt(42) === 'bigint'; // eslint-disable-line no-magic-numbers\n};\n","'use strict';\n\nvar hasBigInts = require('has-bigints')();\n\nif (hasBigInts) {\n\tvar bigIntValueOf = BigInt.prototype.valueOf;\n\tvar tryBigInt = function tryBigIntObject(value) {\n\t\ttry {\n\t\t\tbigIntValueOf.call(value);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t}\n\t\treturn false;\n\t};\n\n\tmodule.exports = function isBigInt(value) {\n\t\tif (\n\t\t\tvalue === null\n\t\t\t|| typeof value === 'undefined'\n\t\t\t|| typeof value === 'boolean'\n\t\t\t|| typeof value === 'string'\n\t\t\t|| typeof value === 'number'\n\t\t\t|| typeof value === 'symbol'\n\t\t\t|| typeof value === 'function'\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof value === 'bigint') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn tryBigInt(value);\n\t};\n} else {\n\tmodule.exports = function isBigInt(value) {\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar isString = require('is-string');\nvar isNumber = require('is-number-object');\nvar isBoolean = require('is-boolean-object');\nvar isSymbol = require('is-symbol');\nvar isBigInt = require('is-bigint');\n\n// eslint-disable-next-line consistent-return\nmodule.exports = function whichBoxedPrimitive(value) {\n\t// eslint-disable-next-line eqeqeq\n\tif (value == null || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\treturn null;\n\t}\n\tif (isString(value)) {\n\t\treturn 'String';\n\t}\n\tif (isNumber(value)) {\n\t\treturn 'Number';\n\t}\n\tif (isBoolean(value)) {\n\t\treturn 'Boolean';\n\t}\n\tif (isSymbol(value)) {\n\t\treturn 'Symbol';\n\t}\n\tif (isBigInt(value)) {\n\t\treturn 'BigInt';\n\t}\n};\n","'use strict';\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$mapHas) {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\n/** @type {import('.')} */\nmodule.exports = exported || function isWeakMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x, $mapHas);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x, $setHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t// @ts-expect-error TS can't figure out that $WeakMap is always truthy here\n\t\treturn x instanceof $WeakMap; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\n\nvar $WeakSet = GetIntrinsic('%WeakSet%', true);\n\nvar $setHas = callBound('WeakSet.prototype.has', true);\n\nif ($setHas) {\n\tvar $mapHas = callBound('WeakMap.prototype.has', true);\n\n\t/** @type {import('.')} */\n\tmodule.exports = function isWeakSet(x) {\n\t\tif (!x || typeof x !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$setHas(x, $setHas);\n\t\t\tif ($mapHas) {\n\t\t\t\ttry {\n\t\t\t\t\t$mapHas(x, $mapHas);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't figure out that $WeakSet is always truthy here\n\t\t\treturn x instanceof $WeakSet; // core-js workaround, pre-v3\n\t\t} catch (e) {}\n\t\treturn false;\n\t};\n} else {\n\t/** @type {import('.')} */\n\t// eslint-disable-next-line no-unused-vars\n\tmodule.exports = function isWeakSet(x) {\n\t\t// `WeakSet` does not exist, or does not have a `has` method\n\t\treturn false;\n\t};\n}\n","'use strict';\n\nvar isMap = require('is-map');\nvar isSet = require('is-set');\nvar isWeakMap = require('is-weakmap');\nvar isWeakSet = require('is-weakset');\n\n/** @type {import('.')} */\nmodule.exports = function whichCollection(/** @type {unknown} */ value) {\n\tif (value && typeof value === 'object') {\n\t\tif (isMap(value)) {\n\t\t\treturn 'Map';\n\t\t}\n\t\tif (isSet(value)) {\n\t\t\treturn 'Set';\n\t\t}\n\t\tif (isWeakMap(value)) {\n\t\t\treturn 'WeakMap';\n\t\t}\n\t\tif (isWeakSet(value)) {\n\t\t\treturn 'WeakSet';\n\t\t}\n\t}\n\treturn false;\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = [\n\t'Float32Array',\n\t'Float64Array',\n\t'Int8Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'BigInt64Array',\n\t'BigUint64Array'\n];\n","'use strict';\n\nvar possibleNames = require('possible-typed-array-names');\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\n/** @type {import('.')} */\nmodule.exports = function availableTypedArrays() {\n\tvar /** @type {ReturnType<typeof availableTypedArrays>} */ out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\t// @ts-expect-error\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBind = require('call-bind');\nvar callBound = require('call-bind/callBound');\nvar gOPD = require('gopd');\n\n/** @type {(O: object) => string} */\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\n\n/** @type {<T = unknown>(array: readonly T[], value: unknown) => number} */\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\n/** @typedef {(receiver: import('.').TypedArray) => string | typeof Uint8Array.prototype.slice.call | typeof Uint8Array.prototype.set.call} Getter */\n/** @type {{ [k in `\\$${import('.').TypedArrayName}`]?: Getter } & { __proto__: null }} */\nvar cache = { __proto__: null };\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\t// @ts-expect-error TODO: fix\n\t\t\tcache['$' + typedArray] = callBind(descriptor.get);\n\t\t}\n\t});\n} else {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tvar fn = arr.slice || arr.set;\n\t\tif (fn) {\n\t\t\t// @ts-expect-error TODO: fix\n\t\t\tcache['$' + typedArray] = callBind(fn);\n\t\t}\n\t});\n}\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\t/** @type {ReturnType<typeof tryAllTypedArrays>} */ var found = false;\n\tforEach(\n\t\t// eslint-disable-next-line no-extra-parens\n\t\t/** @type {Record<`\\$${TypedArrayName}`, Getter>} */ /** @type {any} */ (cache),\n\t\t/** @type {(getter: Getter, name: `\\$${import('.').TypedArrayName}`) => void} */\n\t\tfunction (getter, typedArray) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t// @ts-expect-error TODO: fix\n\t\t\t\t\tif ('$' + getter(value) === typedArray) {\n\t\t\t\t\t\tfound = $slice(typedArray, 1);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar trySlices = function tryAllSlices(value) {\n\t/** @type {ReturnType<typeof tryAllSlices>} */ var found = false;\n\tforEach(\n\t\t// eslint-disable-next-line no-extra-parens\n\t\t/** @type {Record<`\\$${TypedArrayName}`, Getter>} */ /** @type {any} */ (cache),\n\t\t/** @type {(getter: typeof cache, name: `\\$${import('.').TypedArrayName}`) => void} */ function (getter, name) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t\t// @ts-expect-error TODO: fix\n\t\t\t\t\tgetter(value);\n\t\t\t\t\tfound = $slice(name, 1);\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {import('.')} */\nmodule.exports = function whichTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\t/** @type {string} */\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\tif ($indexOf(typedArrays, tag) > -1) {\n\t\t\treturn tag;\n\t\t}\n\t\tif (tag !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\t// node < 0.6 hits here on real Typed Arrays\n\t\treturn trySlices(value);\n\t}\n\tif (!gOPD) { return null; } // unknown engine\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar $byteLength = callBound('ArrayBuffer.prototype.byteLength', true);\n\nvar isArrayBuffer = require('is-array-buffer');\n\n/** @type {import('.')} */\nmodule.exports = function byteLength(ab) {\n\tif (!isArrayBuffer(ab)) {\n\t\treturn NaN;\n\t}\n\treturn $byteLength ? $byteLength(ab) : ab.byteLength;\n}; // in node < 0.11, byteLength is an own nonconfigurable property\n","'use strict';\n\nvar assign = require('object.assign');\nvar callBound = require('call-bind/callBound');\nvar flags = require('regexp.prototype.flags');\nvar GetIntrinsic = require('get-intrinsic');\nvar getIterator = require('es-get-iterator');\nvar getSideChannel = require('side-channel');\nvar is = require('object-is');\nvar isArguments = require('is-arguments');\nvar isArray = require('isarray');\nvar isArrayBuffer = require('is-array-buffer');\nvar isDate = require('is-date-object');\nvar isRegex = require('is-regex');\nvar isSharedArrayBuffer = require('is-shared-array-buffer');\nvar objectKeys = require('object-keys');\nvar whichBoxedPrimitive = require('which-boxed-primitive');\nvar whichCollection = require('which-collection');\nvar whichTypedArray = require('which-typed-array');\nvar byteLength = require('array-buffer-byte-length');\n\nvar sabByteLength = callBound('SharedArrayBuffer.prototype.byteLength', true);\n\nvar $getTime = callBound('Date.prototype.getTime');\nvar gPO = Object.getPrototypeOf;\nvar $objToString = callBound('Object.prototype.toString');\n\nvar $Set = GetIntrinsic('%Set%', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSize = callBound('Map.prototype.size', true);\nvar $setAdd = callBound('Set.prototype.add', true);\nvar $setDelete = callBound('Set.prototype.delete', true);\nvar $setHas = callBound('Set.prototype.has', true);\nvar $setSize = callBound('Set.prototype.size', true);\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L401-L414\nfunction setHasEqualElement(set, val1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  while ((result = i.next()) && !result.done) {\n    if (internalDeepEqual(val1, result.value, opts, channel)) { // eslint-disable-line no-use-before-define\n      // Remove the matching element to make sure we do not check that again.\n      $setDelete(set, result.value);\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L416-L439\nfunction findLooseMatchingPrimitives(prim) {\n  if (typeof prim === 'undefined') {\n    return null;\n  }\n  if (typeof prim === 'object') { // Only pass in null as object!\n    return void 0;\n  }\n  if (typeof prim === 'symbol') {\n    return false;\n  }\n  if (typeof prim === 'string' || typeof prim === 'number') {\n    // Loose equal entries exist only if the string is possible to convert to a regular number and not NaN.\n    return +prim === +prim; // eslint-disable-line no-implicit-coercion\n  }\n  return true;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L449-L460\nfunction mapMightHaveLoosePrim(a, b, prim, item, opts, channel) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n  var curB = $mapGet(b, altValue);\n  var looseOpts = assign({}, opts, { strict: false });\n  if (\n    (typeof curB === 'undefined' && !$mapHas(b, altValue))\n    // eslint-disable-next-line no-use-before-define\n    || !internalDeepEqual(item, curB, looseOpts, channel)\n  ) {\n    return false;\n  }\n  // eslint-disable-next-line no-use-before-define\n  return !$mapHas(a, altValue) && internalDeepEqual(item, curB, looseOpts, channel);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L441-L447\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n\n  return $setHas(b, altValue) && !$setHas(a, altValue);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L518-L533\nfunction mapHasEqualEntry(set, map, key1, item1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  var key2;\n  while ((result = i.next()) && !result.done) {\n    key2 = result.value;\n    if (\n      // eslint-disable-next-line no-use-before-define\n      internalDeepEqual(key1, key2, opts, channel)\n      // eslint-disable-next-line no-use-before-define\n      && internalDeepEqual(item1, $mapGet(map, key2), opts, channel)\n    ) {\n      $setDelete(set, key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction internalDeepEqual(actual, expected, options, channel) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  var actualBoxed = whichBoxedPrimitive(actual);\n  var expectedBoxed = whichBoxedPrimitive(expected);\n  if (actualBoxed !== expectedBoxed) {\n    return false;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected; // eslint-disable-line eqeqeq\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // see https://github.com/nodejs/node/commit/d3aafd02efd3a403d646a3044adcf14e63a88d32 for memos/channel inspiration\n\n  var hasActual = channel.has(actual);\n  var hasExpected = channel.has(expected);\n  var sentinel;\n  if (hasActual && hasExpected) {\n    if (channel.get(actual) === channel.get(expected)) {\n      return true;\n    }\n  } else {\n    sentinel = {};\n  }\n  if (!hasActual) { channel.set(actual, sentinel); }\n  if (!hasExpected) { channel.set(expected, sentinel); }\n\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts, channel);\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n\n  return !!(x.constructor && x.constructor.isBuffer && x.constructor.isBuffer(x));\n}\n\nfunction setEquiv(a, b, opts, channel) {\n  if ($setSize(a) !== $setSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  while ((resultA = iA.next()) && !resultA.done) {\n    if (resultA.value && typeof resultA.value === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    } else if (!$setHas(b, resultA.value)) {\n      if (opts.strict) { return false; }\n      if (!setMightHaveLoosePrim(a, b, resultA.value)) {\n        return false;\n      }\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    }\n  }\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      // We have to check if a primitive value is already matching and only if it's not, go hunting for it.\n      if (resultB.value && typeof resultB.value === 'object') {\n        if (!setHasEqualElement(set, resultB.value, opts.strict, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && !$setHas(a, resultB.value)\n        && !setHasEqualElement(set, resultB.value, opts.strict, channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction mapEquiv(a, b, opts, channel) {\n  if ($mapSize(a) !== $mapSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  var key;\n  var item1;\n  var item2;\n  while ((resultA = iA.next()) && !resultA.done) {\n    key = resultA.value[0];\n    item1 = resultA.value[1];\n    if (key && typeof key === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, key);\n    } else {\n      item2 = $mapGet(b, key);\n      if ((typeof item2 === 'undefined' && !$mapHas(b, key)) || !internalDeepEqual(item1, item2, opts, channel)) {\n        if (opts.strict) {\n          return false;\n        }\n        if (!mapMightHaveLoosePrim(a, b, key, item1, opts, channel)) {\n          return false;\n        }\n        if (!set) { set = new $Set(); }\n        $setAdd(set, key);\n      }\n    }\n  }\n\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      key = resultB.value[0];\n      item2 = resultB.value[1];\n      if (key && typeof key === 'object') {\n        if (!mapHasEqualEntry(set, a, key, item2, opts, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && (!a.has(key) || !internalDeepEqual($mapGet(a, key), item2, opts, channel))\n        && !mapHasEqualEntry(set, a, key, item2, assign({}, opts, { strict: false }), channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts, channel) {\n  /* eslint max-statements: [2, 100], max-lines-per-function: [2, 120], max-depth: [2, 5], max-lines: [2, 400] */\n  var i, key;\n\n  if (typeof a !== typeof b) { return false; }\n  if (a == null || b == null) { return false; }\n\n  if ($objToString(a) !== $objToString(b)) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsArray = isArray(a);\n  var bIsArray = isArray(b);\n  if (aIsArray !== bIsArray) { return false; }\n\n  // TODO: replace when a cross-realm brand check is available\n  var aIsError = a instanceof Error;\n  var bIsError = b instanceof Error;\n  if (aIsError !== bIsError) { return false; }\n  if (aIsError || bIsError) {\n    if (a.name !== b.name || a.message !== b.message) { return false; }\n  }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if ((aIsRegex || bIsRegex) && (a.source !== b.source || flags(a) !== flags(b))) {\n    return false;\n  }\n\n  var aIsDate = isDate(a);\n  var bIsDate = isDate(b);\n  if (aIsDate !== bIsDate) { return false; }\n  if (aIsDate || bIsDate) { // && would work too, because both are true or both false here\n    if ($getTime(a) !== $getTime(b)) { return false; }\n  }\n  if (opts.strict && gPO && gPO(a) !== gPO(b)) { return false; }\n\n  var aWhich = whichTypedArray(a);\n  var bWhich = whichTypedArray(b);\n  if (aWhich !== bWhich) {\n    return false;\n  }\n  if (aWhich || bWhich) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  var aIsArrayBuffer = isArrayBuffer(a);\n  var bIsArrayBuffer = isArrayBuffer(b);\n  if (aIsArrayBuffer !== bIsArrayBuffer) { return false; }\n  if (aIsArrayBuffer || bIsArrayBuffer) { // && would work too, because both are true or both false here\n    if (byteLength(a) !== byteLength(b)) { return false; }\n    return typeof Uint8Array === 'function' && internalDeepEqual(new Uint8Array(a), new Uint8Array(b), opts, channel);\n  }\n\n  var aIsSAB = isSharedArrayBuffer(a);\n  var bIsSAB = isSharedArrayBuffer(b);\n  if (aIsSAB !== bIsSAB) { return false; }\n  if (aIsSAB || bIsSAB) { // && would work too, because both are true or both false here\n    if (sabByteLength(a) !== sabByteLength(b)) { return false; }\n    return typeof Uint8Array === 'function' && internalDeepEqual(new Uint8Array(a), new Uint8Array(b), opts, channel);\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; } // eslint-disable-line eqeqeq\n  }\n\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!internalDeepEqual(a[key], b[key], opts, channel)) { return false; }\n  }\n\n  var aCollection = whichCollection(a);\n  var bCollection = whichCollection(b);\n  if (aCollection !== bCollection) {\n    return false;\n  }\n  if (aCollection === 'Set' || bCollection === 'Set') { // aCollection === bCollection\n    return setEquiv(a, b, opts, channel);\n  }\n  if (aCollection === 'Map') { // aCollection === bCollection\n    return mapEquiv(a, b, opts, channel);\n  }\n\n  return true;\n}\n\nmodule.exports = function deepEqual(a, b, opts) {\n  return internalDeepEqual(a, b, opts, getSideChannel());\n};\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","const peq = new Uint32Array(0x10000);\nconst myers_32 = (a, b) => {\n    const n = a.length;\n    const m = b.length;\n    const lst = 1 << (n - 1);\n    let pv = -1;\n    let mv = 0;\n    let sc = n;\n    let i = n;\n    while (i--) {\n        peq[a.charCodeAt(i)] |= 1 << i;\n    }\n    for (i = 0; i < m; i++) {\n        let eq = peq[b.charCodeAt(i)];\n        const xv = eq | mv;\n        eq |= ((eq & pv) + pv) ^ pv;\n        mv |= ~(eq | pv);\n        pv &= eq;\n        if (mv & lst) {\n            sc++;\n        }\n        if (pv & lst) {\n            sc--;\n        }\n        mv = (mv << 1) | 1;\n        pv = (pv << 1) | ~(xv | mv);\n        mv &= xv;\n    }\n    i = n;\n    while (i--) {\n        peq[a.charCodeAt(i)] = 0;\n    }\n    return sc;\n};\nconst myers_x = (b, a) => {\n    const n = a.length;\n    const m = b.length;\n    const mhc = [];\n    const phc = [];\n    const hsize = Math.ceil(n / 32);\n    const vsize = Math.ceil(m / 32);\n    for (let i = 0; i < hsize; i++) {\n        phc[i] = -1;\n        mhc[i] = 0;\n    }\n    let j = 0;\n    for (; j < vsize - 1; j++) {\n        let mv = 0;\n        let pv = -1;\n        const start = j * 32;\n        const vlen = Math.min(32, m) + start;\n        for (let k = start; k < vlen; k++) {\n            peq[b.charCodeAt(k)] |= 1 << k;\n        }\n        for (let i = 0; i < n; i++) {\n            const eq = peq[a.charCodeAt(i)];\n            const pb = (phc[(i / 32) | 0] >>> i) & 1;\n            const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n            const xv = eq | mv;\n            const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n            let ph = mv | ~(xh | pv);\n            let mh = pv & xh;\n            if ((ph >>> 31) ^ pb) {\n                phc[(i / 32) | 0] ^= 1 << i;\n            }\n            if ((mh >>> 31) ^ mb) {\n                mhc[(i / 32) | 0] ^= 1 << i;\n            }\n            ph = (ph << 1) | pb;\n            mh = (mh << 1) | mb;\n            pv = mh | ~(xv | ph);\n            mv = ph & xv;\n        }\n        for (let k = start; k < vlen; k++) {\n            peq[b.charCodeAt(k)] = 0;\n        }\n    }\n    let mv = 0;\n    let pv = -1;\n    const start = j * 32;\n    const vlen = Math.min(32, m - start) + start;\n    for (let k = start; k < vlen; k++) {\n        peq[b.charCodeAt(k)] |= 1 << k;\n    }\n    let score = m;\n    for (let i = 0; i < n; i++) {\n        const eq = peq[a.charCodeAt(i)];\n        const pb = (phc[(i / 32) | 0] >>> i) & 1;\n        const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n        const xv = eq | mv;\n        const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n        let ph = mv | ~(xh | pv);\n        let mh = pv & xh;\n        score += (ph >>> (m - 1)) & 1;\n        score -= (mh >>> (m - 1)) & 1;\n        if ((ph >>> 31) ^ pb) {\n            phc[(i / 32) | 0] ^= 1 << i;\n        }\n        if ((mh >>> 31) ^ mb) {\n            mhc[(i / 32) | 0] ^= 1 << i;\n        }\n        ph = (ph << 1) | pb;\n        mh = (mh << 1) | mb;\n        pv = mh | ~(xv | ph);\n        mv = ph & xv;\n    }\n    for (let k = start; k < vlen; k++) {\n        peq[b.charCodeAt(k)] = 0;\n    }\n    return score;\n};\nconst distance = (a, b) => {\n    if (a.length < b.length) {\n        const tmp = b;\n        b = a;\n        a = tmp;\n    }\n    if (b.length === 0) {\n        return a.length;\n    }\n    if (a.length <= 32) {\n        return myers_32(a, b);\n    }\n    return myers_x(a, b);\n};\nconst closest = (str, arr) => {\n    let min_distance = Infinity;\n    let min_index = 0;\n    for (let i = 0; i < arr.length; i++) {\n        const dist = distance(str, arr[i]);\n        if (dist < min_distance) {\n            min_distance = dist;\n            min_index = i;\n        }\n    }\n    return arr[min_index];\n};\nexport { closest, distance };\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n\n  var levenshtein = require('fastest-levenshtein');\n\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      if (useCollator) {\n        var str1Len = str1.length,\n          str2Len = str2.length;\n        \n        // base cases\n        if (str1Len === 0) return str2Len;\n        if (str2Len === 0) return str1Len;\n\n        // two rows\n        var curCol, nextCol, i, j, tmp;\n\n        // initialise previous row\n        for (i=0; i<str2Len; ++i) {\n          prevRow[i] = i;\n          str2Char[i] = str2.charCodeAt(i);\n        }\n        prevRow[str2Len] = str2Len;\n\n        var strCmp;\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n        return nextCol;\n      }\n      return levenshtein.distance(str1, str2);\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  PromiseResolve(val) {\n    return Promise.resolve(val)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  SymbolDispose: Symbol.dispose || Symbol('Symbol.dispose'),\n  SymbolAsyncDispose: Symbol.asyncDispose || Symbol('Symbol.asyncDispose'),\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Boolean: Boolean,\n  Uint8Array\n}\n","/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst { kResistStopPropagation, SymbolDispose } = require('./primordials')\nconst AbortSignal = globalThis.AbortSignal || require('abort-controller').AbortSignal\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\nconst validateAbortSignal = (signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nconst validateFunction = (value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n}\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob,\n  deprecate(fn, message) {\n    return fn\n  },\n  addAbortListener:\n    require('events').addAbortListener ||\n    function addAbortListener(signal, listener) {\n      if (signal === undefined) {\n        throw new ERR_INVALID_ARG_TYPE('signal', 'AbortSignal', signal)\n      }\n      validateAbortSignal(signal, 'signal')\n      validateFunction(listener, 'listener')\n      let removeEventListener\n      if (signal.aborted) {\n        queueMicrotask(() => listener())\n      } else {\n        signal.addEventListener('abort', listener, {\n          __proto__: null,\n          once: true,\n          [kResistStopPropagation]: true\n        })\n        removeEventListener = () => {\n          signal.removeEventListener('abort', listener)\n        }\n      }\n      return {\n        __proto__: null,\n        [SymbolDispose]() {\n          var _removeEventListener\n          ;(_removeEventListener = removeEventListener) === null || _removeEventListener === undefined\n            ? undefined\n            : _removeEventListener()\n        }\n      }\n    },\n  AbortSignalAny:\n    AbortSignal.any ||\n    function AbortSignalAny(signals) {\n      // Fast path if there is only one signal.\n      if (signals.length === 1) {\n        return signals[0]\n      }\n      const ac = new AbortController()\n      const abort = () => ac.abort()\n      signals.forEach((signal) => {\n        validateAbortSignal(signal, 'signals')\n        signal.addEventListener('abort', abort, {\n          once: true\n        })\n      })\n      ac.signal.addEventListener(\n        'abort',\n        () => {\n          signals.forEach((signal) => signal.removeEventListener('abort', abort))\n        },\n        {\n          once: true\n        }\n      )\n      return ac.signal\n    }\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateAbortSignalArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is AbortSignal[]}\n */\n\n/** @type {validateAbortSignalArray} */\nfunction validateAbortSignalArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    const signal = value[i]\n    const indexedName = `${name}[${i}]`\n    if (signal == null) {\n      throw new ERR_INVALID_ARG_TYPE(indexedName, 'AbortSignal', signal)\n    }\n    validateAbortSignal(signal, indexedName)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateAbortSignalArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\n\nconst { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\n\n// We need to use SymbolFor to make these globally available\n// for interopt with readable-stream, i.e. readable-stream\n// and node core needs to be able to read/write private state\n// from each other for proper interoperability.\nconst kIsDestroyed = SymbolFor('nodejs.stream.destroyed')\nconst kIsErrored = SymbolFor('nodejs.stream.errored')\nconst kIsReadable = SymbolFor('nodejs.stream.readable')\nconst kIsWritable = SymbolFor('nodejs.stream.writable')\nconst kIsDisturbed = SymbolFor('nodejs.stream.disturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (stream && stream[kIsWritable] != null) return stream[kIsWritable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  isDestroyed,\n  kIsDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  kIsWritable,\n  isClosed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen, SymbolDispose } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nlet addAbortListener\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kIsDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kIsDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst { SymbolDispose } = require('../../ours/primordials')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\nlet addAbortListener\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n    const disposable = addAbortListener(signal, onAbort)\n    eos(stream, disposable[SymbolDispose])\n  }\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { validateInteger } = require('../validators')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nlet defaultHighWaterMarkBytes = 16 * 1024\nlet defaultHighWaterMarkObjectMode = 16\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes\n}\nfunction setDefaultHighWaterMark(objectMode, value) {\n  validateInteger(value, 'value', 0)\n  if (objectMode) {\n    defaultHighWaterMarkObjectMode = value\n  } else {\n    defaultHighWaterMarkBytes = value\n  }\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark,\n  setDefaultHighWaterMark\n}\n","for(var r$1={byteLength:function(r){var t=u$2(r),e=t[0],n=t[1];return 3*(e+n)/4-n},toByteArray:function(r){var t,o,a=u$2(r),h=a[0],c=a[1],d=new n$2(function(r,t,e){return 3*(t+e)/4-e}(0,h,c)),f=0,A=c>0?h-4:h;for(o=0;o<A;o+=4)t=e$2[r.charCodeAt(o)]<<18|e$2[r.charCodeAt(o+1)]<<12|e$2[r.charCodeAt(o+2)]<<6|e$2[r.charCodeAt(o+3)],d[f++]=t>>16&255,d[f++]=t>>8&255,d[f++]=255&t;2===c&&(t=e$2[r.charCodeAt(o)]<<2|e$2[r.charCodeAt(o+1)]>>4,d[f++]=255&t);1===c&&(t=e$2[r.charCodeAt(o)]<<10|e$2[r.charCodeAt(o+1)]<<4|e$2[r.charCodeAt(o+2)]>>2,d[f++]=t>>8&255,d[f++]=255&t);return d},fromByteArray:function(r){for(var e,n=r.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(c$1(r,h,h+16383>u?u:h+16383));1===o?(e=r[n-1],a.push(t$1[e>>2]+t$1[e<<4&63]+\"==\")):2===o&&(e=(r[n-2]<<8)+r[n-1],a.push(t$1[e>>10]+t$1[e>>4&63]+t$1[e<<2&63]+\"=\"));return a.join(\"\")}},t$1=[],e$2=[],n$2=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o$2=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a$1=0,h$1=o$2.length;a$1<h$1;++a$1)t$1[a$1]=o$2[a$1],e$2[o$2.charCodeAt(a$1)]=a$1;function u$2(r){var t=r.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var e=r.indexOf(\"=\");return -1===e&&(e=t),[e,e===t?0:4-e%4]}function c$1(r,e,n){for(var o,a,h=[],u=e;u<n;u+=3)o=(r[u]<<16&16711680)+(r[u+1]<<8&65280)+(255&r[u+2]),h.push(t$1[(a=o)>>18&63]+t$1[a>>12&63]+t$1[a>>6&63]+t$1[63&a]);return h.join(\"\")}e$2[\"-\".charCodeAt(0)]=62,e$2[\"_\".charCodeAt(0)]=63;var a$1$1={read:function(a,t,o,r,h){var M,f,p=8*h-r-1,w=(1<<p)-1,e=w>>1,i=-7,N=o?h-1:0,n=o?-1:1,u=a[t+N];for(N+=n,M=u&(1<<-i)-1,u>>=-i,i+=p;i>0;M=256*M+a[t+N],N+=n,i-=8);for(f=M&(1<<-i)-1,M>>=-i,i+=r;i>0;f=256*f+a[t+N],N+=n,i-=8);if(0===M)M=1-e;else {if(M===w)return f?NaN:1/0*(u?-1:1);f+=Math.pow(2,r),M-=e;}return (u?-1:1)*f*Math.pow(2,M-r)},write:function(a,t,o,r,h,M){var f,p,w,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,u=r?0:M-1,l=r?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,f=i):(f=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-f))<1&&(f--,w*=2),(t+=f+N>=1?n/w:n*Math.pow(2,1-N))*w>=2&&(f++,w/=2),f+N>=i?(p=0,f=i):f+N>=1?(p=(t*w-1)*Math.pow(2,h),f+=N):(p=t*Math.pow(2,N-1)*Math.pow(2,h),f=0));h>=8;a[o+u]=255&p,u+=l,p/=256,h-=8);for(f=f<<h|p,e+=h;e>0;a[o+u]=255&f,u+=l,f/=256,e-=8);a[o+u-l]|=128*s;}};var e$1$1={},n$1$1=r$1,i$1=a$1$1,o$1$1=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;e$1$1.Buffer=u$1$1,e$1$1.SlowBuffer=function(t){+t!=t&&(t=0);return u$1$1.alloc(+t)},e$1$1.INSPECT_MAX_BYTES=50;function f$2(t){if(t>2147483647)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"');var r=new Uint8Array(t);return Object.setPrototypeOf(r,u$1$1.prototype),r}function u$1$1(t,r,e){if(\"number\"==typeof t){if(\"string\"==typeof r)throw new TypeError('The \"string\" argument must be of type string. Received type number');return a$2(t)}return s$1(t,r,e)}function s$1(t,r,e){if(\"string\"==typeof t)return function(t,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u$1$1.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);var e=0|y(t,r),n=f$2(e),i=n.write(t,r);i!==e&&(n=n.slice(0,i));return n}(t,r);if(ArrayBuffer.isView(t))return p(t);if(null==t)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return c$1$1(t,r,e);if(\"undefined\"!=typeof SharedArrayBuffer&&(F(t,SharedArrayBuffer)||t&&F(t.buffer,SharedArrayBuffer)))return c$1$1(t,r,e);if(\"number\"==typeof t)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u$1$1.from(n,r,e);var i=function(t){if(u$1$1.isBuffer(t)){var r=0|l$1(t.length),e=f$2(r);return 0===e.length||t.copy(e,0,0,r),e}if(void 0!==t.length)return \"number\"!=typeof t.length||N(t.length)?f$2(0):p(t);if(\"Buffer\"===t.type&&Array.isArray(t.data))return p(t.data)}(t);if(i)return i;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof t[Symbol.toPrimitive])return u$1$1.from(t[Symbol.toPrimitive](\"string\"),r,e);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t)}function h$1$1(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be of type number');if(t<0)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"')}function a$2(t){return h$1$1(t),f$2(t<0?0:0|l$1(t))}function p(t){for(var r=t.length<0?0:0|l$1(t.length),e=f$2(r),n=0;n<r;n+=1)e[n]=255&t[n];return e}function c$1$1(t,r,e){if(r<0||t.byteLength<r)throw new RangeError('\"offset\" is outside of buffer bounds');if(t.byteLength<r+(e||0))throw new RangeError('\"length\" is outside of buffer bounds');var n;return n=void 0===r&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,r):new Uint8Array(t,r,e),Object.setPrototypeOf(n,u$1$1.prototype),n}function l$1(t){if(t>=2147483647)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+2147483647..toString(16)+\" bytes\");return 0|t}function y(t,r){if(u$1$1.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if(\"string\"!=typeof t)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===e)return 0;for(var i=!1;;)switch(r){case\"ascii\":case\"latin1\":case\"binary\":return e;case\"utf8\":case\"utf-8\":return _(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*e;case\"hex\":return e>>>1;case\"base64\":return z(t).length;default:if(i)return n?-1:_(t).length;r=(\"\"+r).toLowerCase(),i=!0;}}function g(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return \"\";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return \"\";if((e>>>=0)<=(r>>>=0))return \"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return O(this,r,e);case\"utf8\":case\"utf-8\":return I(this,r,e);case\"ascii\":return S(this,r,e);case\"latin1\":case\"binary\":return R(this,r,e);case\"base64\":return T(this,r,e);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return L(this,r,e);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0;}}function w(t,r,e){var n=t[r];t[r]=t[e],t[e]=n;}function d(t,r,e,n,i){if(0===t.length)return -1;if(\"string\"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),N(e=+e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return -1;e=t.length-1;}else if(e<0){if(!i)return -1;e=0;}if(\"string\"==typeof r&&(r=u$1$1.from(r,n)),u$1$1.isBuffer(r))return 0===r.length?-1:v(t,r,e,n,i);if(\"number\"==typeof r)return r&=255,\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):v(t,[r],e,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function v(t,r,e,n,i){var o,f=1,u=t.length,s=r.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||r.length<2)return -1;f=2,u/=2,s/=2,e/=2;}function h(t,r){return 1===f?t[r]:t.readUInt16BE(r*f)}if(i){var a=-1;for(o=e;o<u;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*f}else -1!==a&&(o-=o-a),a=-1;}else for(e+s>u&&(e=u-s),o=e;o>=0;o--){for(var p=!0,c=0;c<s;c++)if(h(t,o+c)!==h(r,c)){p=!1;break}if(p)return o}return -1}function b(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;n>o/2&&(n=o/2);for(var f=0;f<n;++f){var u=parseInt(r.substr(2*f,2),16);if(N(u))return f;t[e+f]=u;}return f}function m(t,r,e,n){return D(_(r,t.length-e),t,e,n)}function E(t,r,e,n){return D(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function B(t,r,e,n){return E(t,r,e,n)}function A(t,r,e,n){return D(z(r),t,e,n)}function U(t,r,e,n){return D(function(t,r){for(var e,n,i,o=[],f=0;f<t.length&&!((r-=2)<0);++f)e=t.charCodeAt(f),n=e>>8,i=e%256,o.push(i),o.push(n);return o}(r,t.length-e),t,e,n)}function T(t,r,e){return 0===r&&e===t.length?n$1$1.fromByteArray(t):n$1$1.fromByteArray(t.slice(r,e))}function I(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,f,u,s,h=t[i],a=null,p=h>239?4:h>223?3:h>191?2:1;if(i+p<=e)switch(p){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],f=t[i+2],128==(192&o)&&128==(192&f)&&(s=(15&h)<<12|(63&o)<<6|63&f)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],f=t[i+2],u=t[i+3],128==(192&o)&&128==(192&f)&&128==(192&u)&&(s=(15&h)<<18|(63&o)<<12|(63&f)<<6|63&u)>65535&&s<1114112&&(a=s);}null===a?(a=65533,p=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=p;}return function(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);var e=\"\",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return e}(n)}e$1$1.kMaxLength=2147483647,u$1$1.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(t){return !1}}(),u$1$1.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(u$1$1.prototype,\"parent\",{enumerable:!0,get:function(){if(u$1$1.isBuffer(this))return this.buffer}}),Object.defineProperty(u$1$1.prototype,\"offset\",{enumerable:!0,get:function(){if(u$1$1.isBuffer(this))return this.byteOffset}}),u$1$1.poolSize=8192,u$1$1.from=function(t,r,e){return s$1(t,r,e)},Object.setPrototypeOf(u$1$1.prototype,Uint8Array.prototype),Object.setPrototypeOf(u$1$1,Uint8Array),u$1$1.alloc=function(t,r,e){return function(t,r,e){return h$1$1(t),t<=0?f$2(t):void 0!==r?\"string\"==typeof e?f$2(t).fill(r,e):f$2(t).fill(r):f$2(t)}(t,r,e)},u$1$1.allocUnsafe=function(t){return a$2(t)},u$1$1.allocUnsafeSlow=function(t){return a$2(t)},u$1$1.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u$1$1.prototype},u$1$1.compare=function(t,r){if(F(t,Uint8Array)&&(t=u$1$1.from(t,t.offset,t.byteLength)),F(r,Uint8Array)&&(r=u$1$1.from(r,r.offset,r.byteLength)),!u$1$1.isBuffer(t)||!u$1$1.isBuffer(r))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},u$1$1.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return !0;default:return !1}},u$1$1.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return u$1$1.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=u$1$1.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var o=t[e];if(F(o,Uint8Array)&&(o=u$1$1.from(o)),!u$1$1.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(n,i),i+=o.length;}return n},u$1$1.byteLength=y,u$1$1.prototype._isBuffer=!0,u$1$1.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var r=0;r<t;r+=2)w(this,r,r+1);return this},u$1$1.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var r=0;r<t;r+=4)w(this,r,r+3),w(this,r+1,r+2);return this},u$1$1.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var r=0;r<t;r+=8)w(this,r,r+7),w(this,r+1,r+6),w(this,r+2,r+5),w(this,r+3,r+4);return this},u$1$1.prototype.toString=function(){var t=this.length;return 0===t?\"\":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u$1$1.prototype.toLocaleString=u$1$1.prototype.toString,u$1$1.prototype.equals=function(t){if(!u$1$1.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===u$1$1.compare(this,t)},u$1$1.prototype.inspect=function(){var t=\"\",r=e$1$1.INSPECT_MAX_BYTES;return t=this.toString(\"hex\",0,r).replace(/(.{2})/g,\"$1 \").trim(),this.length>r&&(t+=\" ... \"),\"<Buffer \"+t+\">\"},o$1$1&&(u$1$1.prototype[o$1$1]=u$1$1.prototype.inspect),u$1$1.prototype.compare=function(t,r,e,n,i){if(F(t,Uint8Array)&&(t=u$1$1.from(t,t.offset,t.byteLength)),!u$1$1.isBuffer(t))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&r>=e)return 0;if(n>=i)return -1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),f=(e>>>=0)-(r>>>=0),s=Math.min(o,f),h=this.slice(n,i),a=t.slice(r,e),p=0;p<s;++p)if(h[p]!==a[p]){o=h[p],f=a[p];break}return o<f?-1:f<o?1:0},u$1$1.prototype.includes=function(t,r,e){return -1!==this.indexOf(t,r,e)},u$1$1.prototype.indexOf=function(t,r,e){return d(this,t,r,e,!0)},u$1$1.prototype.lastIndexOf=function(t,r,e){return d(this,t,r,e,!1)},u$1$1.prototype.write=function(t,r,e,n){if(void 0===r)n=\"utf8\",e=this.length,r=0;else if(void 0===e&&\"string\"==typeof r)n=r,e=this.length,r=0;else {if(!isFinite(r))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");r>>>=0,isFinite(e)?(e>>>=0,void 0===n&&(n=\"utf8\")):(n=e,e=void 0);}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return b(this,t,r,e);case\"utf8\":case\"utf-8\":return m(this,t,r,e);case\"ascii\":return E(this,t,r,e);case\"latin1\":case\"binary\":return B(this,t,r,e);case\"base64\":return A(this,t,r,e);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return U(this,t,r,e);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0;}},u$1$1.prototype.toJSON=function(){return {type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,r,e){var n=\"\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,r,e){var n=\"\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function O(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i=\"\",o=r;o<e;++o)i+=Y[t[o]];return i}function L(t,r,e){for(var n=t.slice(r,e),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function x(t,r,e){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+r>e)throw new RangeError(\"Trying to access beyond buffer length\")}function C(t,r,e,n,i,o){if(!u$1$1.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('\"value\" argument is out of bounds');if(e+n>t.length)throw new RangeError(\"Index out of range\")}function P(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError(\"Index out of range\");if(e<0)throw new RangeError(\"Index out of range\")}function k(t,r,e,n,o){return r=+r,e>>>=0,o||P(t,0,e,4),i$1.write(t,r,e,n,23,4),e+4}function M(t,r,e,n,o){return r=+r,e>>>=0,o||P(t,0,e,8),i$1.write(t,r,e,n,52,8),e+8}u$1$1.prototype.slice=function(t,r){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(r=void 0===r?e:~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var n=this.subarray(t,r);return Object.setPrototypeOf(n,u$1$1.prototype),n},u$1$1.prototype.readUIntLE=function(t,r,e){t>>>=0,r>>>=0,e||x(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},u$1$1.prototype.readUIntBE=function(t,r,e){t>>>=0,r>>>=0,e||x(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},u$1$1.prototype.readUInt8=function(t,r){return t>>>=0,r||x(t,1,this.length),this[t]},u$1$1.prototype.readUInt16LE=function(t,r){return t>>>=0,r||x(t,2,this.length),this[t]|this[t+1]<<8},u$1$1.prototype.readUInt16BE=function(t,r){return t>>>=0,r||x(t,2,this.length),this[t]<<8|this[t+1]},u$1$1.prototype.readUInt32LE=function(t,r){return t>>>=0,r||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u$1$1.prototype.readUInt32BE=function(t,r){return t>>>=0,r||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u$1$1.prototype.readIntLE=function(t,r,e){t>>>=0,r>>>=0,e||x(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},u$1$1.prototype.readIntBE=function(t,r,e){t>>>=0,r>>>=0,e||x(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},u$1$1.prototype.readInt8=function(t,r){return t>>>=0,r||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u$1$1.prototype.readInt16LE=function(t,r){t>>>=0,r||x(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},u$1$1.prototype.readInt16BE=function(t,r){t>>>=0,r||x(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},u$1$1.prototype.readInt32LE=function(t,r){return t>>>=0,r||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u$1$1.prototype.readInt32BE=function(t,r){return t>>>=0,r||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u$1$1.prototype.readFloatLE=function(t,r){return t>>>=0,r||x(t,4,this.length),i$1.read(this,t,!0,23,4)},u$1$1.prototype.readFloatBE=function(t,r){return t>>>=0,r||x(t,4,this.length),i$1.read(this,t,!1,23,4)},u$1$1.prototype.readDoubleLE=function(t,r){return t>>>=0,r||x(t,8,this.length),i$1.read(this,t,!0,52,8)},u$1$1.prototype.readDoubleBE=function(t,r){return t>>>=0,r||x(t,8,this.length),i$1.read(this,t,!1,52,8)},u$1$1.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r>>>=0,e>>>=0,n)||C(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},u$1$1.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r>>>=0,e>>>=0,n)||C(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},u$1$1.prototype.writeUInt8=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,1,255,0),this[r]=255&t,r+1},u$1$1.prototype.writeUInt16LE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},u$1$1.prototype.writeUInt16BE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},u$1$1.prototype.writeUInt32LE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},u$1$1.prototype.writeUInt32BE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},u$1$1.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var i=Math.pow(2,8*e-1);C(this,t,r,e,i-1,-i);}var o=0,f=1,u=0;for(this[r]=255&t;++o<e&&(f*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/f>>0)-u&255;return r+e},u$1$1.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var i=Math.pow(2,8*e-1);C(this,t,r,e,i-1,-i);}var o=e-1,f=1,u=0;for(this[r+o]=255&t;--o>=0&&(f*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/f>>0)-u&255;return r+e},u$1$1.prototype.writeInt8=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},u$1$1.prototype.writeInt16LE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},u$1$1.prototype.writeInt16BE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},u$1$1.prototype.writeInt32LE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},u$1$1.prototype.writeInt32BE=function(t,r,e){return t=+t,r>>>=0,e||C(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},u$1$1.prototype.writeFloatLE=function(t,r,e){return k(this,t,r,!0,e)},u$1$1.prototype.writeFloatBE=function(t,r,e){return k(this,t,r,!1,e)},u$1$1.prototype.writeDoubleLE=function(t,r,e){return M(this,t,r,!0,e)},u$1$1.prototype.writeDoubleBE=function(t,r,e){return M(this,t,r,!1,e)},u$1$1.prototype.copy=function(t,r,e,n){if(!u$1$1.isBuffer(t))throw new TypeError(\"argument should be a Buffer\");if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError(\"targetStart out of bounds\");if(e<0||e>=this.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i=n-e;if(this===t&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,e,n);else if(this===t&&e<r&&r<n)for(var o=i-1;o>=0;--o)t[o+r]=this[o+e];else Uint8Array.prototype.set.call(t,this.subarray(e,n),r);return i},u$1$1.prototype.fill=function(t,r,e,n){if(\"string\"==typeof t){if(\"string\"==typeof r?(n=r,r=0,e=this.length):\"string\"==typeof e&&(n=e,e=this.length),void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u$1$1.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n);if(1===t.length){var i=t.charCodeAt(0);(\"utf8\"===n&&i<128||\"latin1\"===n)&&(t=i);}}else \"number\"==typeof t?t&=255:\"boolean\"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<e)throw new RangeError(\"Out of range index\");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),\"number\"==typeof t)for(o=r;o<e;++o)this[o]=t;else {var f=u$1$1.isBuffer(t)?t:u$1$1.from(t,n),s=f.length;if(0===s)throw new TypeError('The value \"'+t+'\" is invalid for argument \"value\"');for(o=0;o<e-r;++o)this[o+r]=f[o%s];}return this};var j=/[^+/0-9A-Za-z-_]/g;function _(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],f=0;f<n;++f){if((e=t.charCodeAt(f))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(f+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320);}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e);}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128);}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128);}else {if(!(e<1114112))throw new Error(\"Invalid code point\");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128);}}return o}function z(t){return n$1$1.toByteArray(function(t){if((t=(t=t.split(\"=\")[0]).trim().replace(j,\"\")).length<2)return \"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function D(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function F(t,r){return t instanceof r||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===r.name}function N(t){return t!=t}var Y=function(){for(var t=new Array(256),r=0;r<16;++r)for(var e=16*r,n=0;n<16;++n)t[e+n]=\"0123456789abcdef\"[r]+\"0123456789abcdef\"[n];return t}();e$1$1.Buffer;e$1$1.INSPECT_MAX_BYTES;e$1$1.kMaxLength;\n\nvar e={},n=e$1$1,o=n.Buffer;function t(r,e){for(var n in r)e[n]=r[n];}function f(r,e,n){return o(r,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e=n:(t(n,e),e.Buffer=f),f.prototype=Object.create(o.prototype),t(o,f),f.from=function(r,e,n){if(\"number\"==typeof r)throw new TypeError(\"Argument must not be a number\");return o(r,e,n)},f.alloc=function(r,e,n){if(\"number\"!=typeof r)throw new TypeError(\"Argument must be a number\");var t=o(r);return void 0!==e?\"string\"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},f.allocUnsafe=function(r){if(\"number\"!=typeof r)throw new TypeError(\"Argument must be a number\");return o(r)},f.allocUnsafeSlow=function(r){if(\"number\"!=typeof r)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(r)};var u=e;var e$1={},s=u.Buffer,i=s.isEncoding||function(t){switch((t=\"\"+t)&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return !0;default:return !1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return \"utf8\";for(var e;;)switch(t){case\"utf8\":case\"utf-8\":return \"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return \"utf16le\";case\"latin1\":case\"binary\":return \"latin1\";case\"base64\":case\"ascii\":case\"hex\":return t;default:if(e)return;t=(\"\"+t).toLowerCase(),e=!0;}}(t);if(\"string\"!=typeof e&&(s.isEncoding===i||!i(t)))throw new Error(\"Unknown encoding: \"+t);return e||t}(t),this.encoding){case\"utf16le\":this.text=h,this.end=l,e=4;break;case\"utf8\":this.fillLast=n$1,e=4;break;case\"base64\":this.text=u$1,this.end=o$1,e=3;break;default:return this.write=f$1,this.end=c,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e);}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n$1(t){var e=this.lastTotal-this.lastNeed,s=function(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,\"�\";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,\"�\";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,\"�\"}}(this,t);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function h(t,e){if((t.length-e)%2==0){var s=t.toString(\"utf16le\",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString(\"utf16le\",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):\"\";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString(\"utf16le\",0,s)}return e}function u$1(t,e){var s=(t.length-e)%3;return 0===s?t.toString(\"base64\",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString(\"base64\",e,t.length-s))}function o$1(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+this.lastChar.toString(\"base64\",0,3-this.lastNeed):e}function f$1(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):\"\"}e$1.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return \"\";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return \"\";s=this.lastNeed,this.lastNeed=0;}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||\"\"},a.prototype.end=function(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+\"�\":e},a.prototype.text=function(t,e){var s=function(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);if(a>=0)return a>0&&(t.lastNeed=a-1),a;if(--i<s||-2===a)return 0;if((a=r(e[i]))>=0)return a>0&&(t.lastNeed=a-2),a;if(--i<s||-2===a)return 0;if((a=r(e[i]))>=0)return a>0&&(2===a?a=0:t.lastNeed=a-3),a;return 0}(this,t,e);if(!this.lastNeed)return t.toString(\"utf8\",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString(\"utf8\",e,i)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};\n\ne$1.StringDecoder;\n\ne$1.StringDecoder;\n\nexport { e$1 as a, e$1$1 as e, u };\n","import { a as e$1 } from './chunk-4ccc3a29.js';\nexport { a as default } from './chunk-4ccc3a29.js';\n\nvar StringDecoder = e$1.StringDecoder;\n\nexport { StringDecoder };\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncDispose,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nconst kObjectMode = 1 << 0\nconst kEnded = 1 << 1\nconst kEndEmitted = 1 << 2\nconst kReading = 1 << 3\nconst kConstructed = 1 << 4\nconst kSync = 1 << 5\nconst kNeedReadable = 1 << 6\nconst kEmittedReadable = 1 << 7\nconst kReadableListening = 1 << 8\nconst kResumeScheduled = 1 << 9\nconst kErrorEmitted = 1 << 10\nconst kEmitClose = 1 << 11\nconst kAutoDestroy = 1 << 12\nconst kDestroyed = 1 << 13\nconst kClosed = 1 << 14\nconst kCloseEmitted = 1 << 15\nconst kMultiAwaitDrain = 1 << 16\nconst kReadingMore = 1 << 17\nconst kDataEmitted = 1 << 18\n\n// TODO(benjamingr) it is likely slower to do it this way than with free functions\nfunction makeBitMapDescriptor(bit) {\n  return {\n    enumerable: false,\n    get() {\n      return (this.state & bit) !== 0\n    },\n    set(value) {\n      if (value) this.state |= bit\n      else this.state &= ~bit\n    }\n  }\n}\nObjectDefineProperties(ReadableState.prototype, {\n  objectMode: makeBitMapDescriptor(kObjectMode),\n  ended: makeBitMapDescriptor(kEnded),\n  endEmitted: makeBitMapDescriptor(kEndEmitted),\n  reading: makeBitMapDescriptor(kReading),\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  constructed: makeBitMapDescriptor(kConstructed),\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  sync: makeBitMapDescriptor(kSync),\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  needReadable: makeBitMapDescriptor(kNeedReadable),\n  emittedReadable: makeBitMapDescriptor(kEmittedReadable),\n  readableListening: makeBitMapDescriptor(kReadableListening),\n  resumeScheduled: makeBitMapDescriptor(kResumeScheduled),\n  // True if the error was already emitted and should not be thrown again.\n  errorEmitted: makeBitMapDescriptor(kErrorEmitted),\n  emitClose: makeBitMapDescriptor(kEmitClose),\n  autoDestroy: makeBitMapDescriptor(kAutoDestroy),\n  // Has it been destroyed.\n  destroyed: makeBitMapDescriptor(kDestroyed),\n  // Indicates whether the stream has finished destroying.\n  closed: makeBitMapDescriptor(kClosed),\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  closeEmitted: makeBitMapDescriptor(kCloseEmitted),\n  multiAwaitDrain: makeBitMapDescriptor(kMultiAwaitDrain),\n  // If true, a maybeReadMore has been scheduled.\n  readingMore: makeBitMapDescriptor(kReadingMore),\n  dataEmitted: makeBitMapDescriptor(kDataEmitted)\n})\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Bit map field to store ReadableState more effciently with 1 bit per field\n  // instead of a V8 slot per field.\n  this.state = kEmitClose | kAutoDestroy | kConstructed | kSync\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  if (options && options.objectMode) this.state |= kObjectMode\n  if (isDuplex && options && options.readableObjectMode) this.state |= kObjectMode\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this[kPaused] = null\n\n  // Should close be emitted on destroy. Defaults to true.\n  if (options && options.emitClose === false) this.state &= ~kEmitClose\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  if (options && options.autoDestroy === false) this.state &= ~kAutoDestroy\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nReadable.prototype[SymbolAsyncDispose] = function () {\n  let error\n  if (!this.destroyed) {\n    error = this.readableEnded ? null : new AbortError()\n    this.destroy(error)\n  }\n  return new Promise((resolve, reject) => eos(this, (err) => (err && err !== error ? reject(err) : resolve(null))))\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if ((state.state & kObjectMode) === 0) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.state &= ~kReading\n    onEofChunk(stream, state)\n  } else if ((state.state & kObjectMode) !== 0 || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if ((state.state & kEndEmitted) !== 0) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.state &= ~kReading\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.state &= ~kReading\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if ((state.state & kMultiAwaitDrain) !== 0) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if ((state.state & kNeedReadable) !== 0) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if ((state.state & kObjectMode) !== 0) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.state &= ~kEmittedReadable\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = (state.state & kNeedReadable) !== 0\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.state |= kReading | kSync\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.state |= kNeedReadable\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.state &= ~kSync\n\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    pause()\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream,\n  isReadableStream,\n  isWritableStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n  if (isReadableStream(body)) {\n    return _duplexify({\n      readable: Readable.fromWeb(body)\n    })\n  }\n  if (isWritableStream(body)) {\n    return _duplexify({\n      writable: Writable.fromWeb(body)\n    })\n  }\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n  if (\n    isReadableStream(body === null || body === undefined ? undefined : body.readable) &&\n    isWritableStream(body === null || body === undefined ? undefined : body.writable)\n  ) {\n    return Duplexify.fromWeb(body)\n  }\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator, SymbolDispose } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableFinished\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nlet addAbortListener\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n      await wait()\n    }\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n  let disposable\n  if (outerSignal) {\n    disposable = addAbortListener(outerSignal, abort)\n  }\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    var _disposable\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    ;(_disposable = disposable) === null || _disposable === undefined ? undefined : _disposable[SymbolDispose]()\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableFinished(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.readableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst kResistStopPropagation = require('../../ours/primordials').Symbol('kResistStopPropagation')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst { deprecate } = require('../../ours/util')\nconst {\n  ArrayPrototypePush,\n  Boolean,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromiseResolve,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  let highWaterMark = concurrency - 1\n  if ((options === null || options === undefined ? undefined : options.highWaterMark) != null) {\n    highWaterMark = MathFloor(options.highWaterMark)\n  }\n  validateInteger(concurrency, 'options.concurrency', 1)\n  validateInteger(highWaterMark, 'options.highWaterMark', 0)\n  highWaterMark += concurrency\n  return async function* map() {\n    const signal = require('../../ours/util').AbortSignalAny(\n      [options === null || options === undefined ? undefined : options.signal].filter(Boolean)\n    )\n    const stream = this\n    const queue = []\n    const signalOpt = {\n      signal\n    }\n    let next\n    let resume\n    let done = false\n    let cnt = 0\n    function onCatch() {\n      done = true\n      afterItemProcessed()\n    }\n    function afterItemProcessed() {\n      cnt -= 1\n      maybeResume()\n    }\n    function maybeResume() {\n      if (resume && !done && cnt < concurrency && queue.length < highWaterMark) {\n        resume()\n        resume = null\n      }\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n            if (val === kEmpty) {\n              continue\n            }\n            val = PromiseResolve(val)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          cnt += 1\n          PromisePrototypeThen(val, afterItemProcessed, onCatch)\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && (queue.length >= highWaterMark || cnt >= concurrency)) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, afterItemProcessed, onCatch)\n        queue.push(val)\n      } finally {\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          maybeResume()\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal = options.signal) !== null &&\n        _options$signal !== undefined &&\n        _options$signal.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal2\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal2 = options.signal) !== null &&\n    _options$signal2 !== undefined &&\n    _options$signal2.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this,\n      [kResistStopPropagation]: true\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal3\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal3 = options.signal) !== null &&\n        _options$signal3 !== undefined &&\n        _options$signal3.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal4\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal4 = options.signal) !== null &&\n      _options$signal4 !== undefined &&\n      _options$signal4.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal5\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal5 = options.signal) !== null &&\n      _options$signal5 !== undefined &&\n      _options$signal5.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal6\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal8\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal8 = options.signal) !== null &&\n        _options$signal8 !== undefined &&\n        _options$signal8.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      }\n\n      // Don't get another item from iterator in case we reached the end\n      if (number <= 0) {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs: deprecate(asIndexedPairs, 'readable.asIndexedPairs will be removed in a future version.'),\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { setDefaultHighWaterMark, getDefaultHighWaterMark } = require('./internal/streams/state')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDestroyed = utils.isDestroyed\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.isWritable = utils.isWritable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nStream.setDefaultHighWaterMark = setDefaultHighWaterMark\nStream.getDefaultHighWaterMark = getDefaultHighWaterMark\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst CustomStream = require('../stream')\nconst promises = require('../stream/promises')\nconst originalDestroy = CustomStream.Readable.destroy\nmodule.exports = CustomStream.Readable\n\n// Explicit export naming is needed for ESM\nmodule.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\nmodule.exports._isUint8Array = CustomStream._isUint8Array\nmodule.exports.isDisturbed = CustomStream.isDisturbed\nmodule.exports.isErrored = CustomStream.isErrored\nmodule.exports.isReadable = CustomStream.isReadable\nmodule.exports.Readable = CustomStream.Readable\nmodule.exports.Writable = CustomStream.Writable\nmodule.exports.Duplex = CustomStream.Duplex\nmodule.exports.Transform = CustomStream.Transform\nmodule.exports.PassThrough = CustomStream.PassThrough\nmodule.exports.addAbortSignal = CustomStream.addAbortSignal\nmodule.exports.finished = CustomStream.finished\nmodule.exports.destroy = CustomStream.destroy\nmodule.exports.destroy = originalDestroy\nmodule.exports.pipeline = CustomStream.pipeline\nmodule.exports.compose = CustomStream.compose\nObject.defineProperty(CustomStream, 'promises', {\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nmodule.exports.Stream = CustomStream.Stream\n\n// Allow default importing\nmodule.exports.default = module.exports\n","import { Readable, type ReadableOptions } from 'readable-stream';\n\nclass ReadableFromWeb<T> extends Readable {\n  private readonly reader: ReadableStreamDefaultReader<T>;\n  private readerClosed: boolean;\n\n  public constructor(stream: ReadableStream<T>, options?: ReadableOptions) {\n    super(options);\n    this.reader = stream.getReader();\n    this.readerClosed = false;\n    this.reader.closed.then(() => {\n      this.readerClosed = true;\n    }).catch((error: Error) => {\n      this.readerClosed = true;\n      this.destroy(error);\n    });\n  }\n\n  // eslint-disable-next-line ts/naming-convention\n  public _read(): void {\n    this.reader.read()\n      .then(chunk => this.push(chunk.done ? null : chunk.value))\n      .catch((error: Error) => this.destroy(error));\n  }\n\n  public destroy(error?: Error): this {\n    if (!this.readerClosed) {\n      this.reader.cancel(error).then().catch(() => {\n        // Ideally, the error from cancel should be handled here.\n        // However, an error thrown in cancel does not seem to reach this callback.\n        // Therefore, the error is simply not handled here.\n      });\n    }\n    return super.destroy(error);\n  }\n}\n\nfunction readableFromWeb<T>(stream: ReadableStream<T>, options?: ReadableOptions): Readable {\n  return new ReadableFromWeb<T>(stream, options);\n}\n\nexport { ReadableFromWeb, readableFromWeb };\n","export { readableFromWeb } from './ReadableFromWeb';\n","'use strict'\nfunction tryStringify (o) {\n  try { return JSON.stringify(o) } catch(e) { return '\"[Circular]\"' }\n}\n\nmodule.exports = format\n\nfunction format(f, args, opts) {\n  var ss = (opts && opts.stringify) || tryStringify\n  var offset = 1\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset\n    if (len === 1) return f\n    var objects = new Array(len)\n    objects[0] = ss(f)\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index])\n    }\n    return objects.join(' ')\n  }\n  if (typeof f !== 'string') {\n    return f\n  }\n  var argLen = args.length\n  if (argLen === 0) return f\n  var str = ''\n  var a = 1 - offset\n  var lastPos = -1\n  var flen = (f && f.length) || 0\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n        case 102: // 'f'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Number(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 105: // 'i'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Math.floor(Number(args[a]))\n          lastPos = i + 2\n          i++\n          break\n        case 79: // 'O'\n        case 111: // 'o'\n        case 106: // 'j'\n          if (a >= argLen)\n            break\n          if (args[a] === undefined) break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          var type = typeof args[a]\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\''\n            lastPos = i + 2\n            i++\n            break\n          }\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>'\n            lastPos = i + 2\n            i++\n            break\n          }\n          str += ss(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 115: // 's'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += String(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 37: // '%'\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += '%'\n          lastPos = i + 2\n          i++\n          a--\n          break\n      }\n      ++a\n    }\n    ++i\n  }\n  if (lastPos === -1)\n    return f\n  else if (lastPos < flen) {\n    str += f.slice(lastPos)\n  }\n\n  return str\n}\n","'use strict'\n\nconst format = require('quick-format-unescaped')\n\nmodule.exports = pino\n\nconst _console = pfGlobalThisOrFallback().console || {}\nconst stdSerializers = {\n  mapHttpRequest: mock,\n  mapHttpResponse: mock,\n  wrapRequestSerializer: passthrough,\n  wrapResponseSerializer: passthrough,\n  wrapErrorSerializer: passthrough,\n  req: mock,\n  res: mock,\n  err: asErrValue,\n  errWithCause: asErrValue\n}\nfunction levelToValue (level, logger) {\n  return level === 'silent'\n    ? Infinity\n    : logger.levels.values[level]\n}\nconst baseLogFunctionSymbol = Symbol('pino.logFuncs')\nconst hierarchySymbol = Symbol('pino.hierarchy')\n\nconst logFallbackMap = {\n  error: 'log',\n  fatal: 'error',\n  warn: 'error',\n  info: 'log',\n  debug: 'log',\n  trace: 'log'\n}\n\nfunction appendChildLogger (parentLogger, childLogger) {\n  const newEntry = {\n    logger: childLogger,\n    parent: parentLogger[hierarchySymbol]\n  }\n  childLogger[hierarchySymbol] = newEntry\n}\n\nfunction setupBaseLogFunctions (logger, levels, proto) {\n  const logFunctions = {}\n  levels.forEach(level => {\n    logFunctions[level] = proto[level] ? proto[level] : (_console[level] || _console[logFallbackMap[level] || 'log'] || noop)\n  })\n  logger[baseLogFunctionSymbol] = logFunctions\n}\n\nfunction shouldSerialize (serialize, serializers) {\n  if (Array.isArray(serialize)) {\n    const hasToFilter = serialize.filter(function (k) {\n      return k !== '!stdSerializers.err'\n    })\n    return hasToFilter\n  } else if (serialize === true) {\n    return Object.keys(serializers)\n  }\n\n  return false\n}\n\nfunction pino (opts) {\n  opts = opts || {}\n  opts.browser = opts.browser || {}\n\n  const transmit = opts.browser.transmit\n  if (transmit && typeof transmit.send !== 'function') { throw Error('pino: transmit option must have a send function') }\n\n  const proto = opts.browser.write || _console\n  if (opts.browser.write) opts.browser.asObject = true\n  const serializers = opts.serializers || {}\n  const serialize = shouldSerialize(opts.browser.serialize, serializers)\n  let stdErrSerialize = opts.browser.serialize\n\n  if (\n    Array.isArray(opts.browser.serialize) &&\n    opts.browser.serialize.indexOf('!stdSerializers.err') > -1\n  ) stdErrSerialize = false\n\n  const customLevels = Object.keys(opts.customLevels || {})\n  const levels = ['error', 'fatal', 'warn', 'info', 'debug', 'trace'].concat(customLevels)\n\n  if (typeof proto === 'function') {\n    levels.forEach(function (level) {\n      proto[level] = proto\n    })\n  }\n  if (opts.enabled === false || opts.browser.disabled) opts.level = 'silent'\n  const level = opts.level || 'info'\n  const logger = Object.create(proto)\n  if (!logger.log) logger.log = noop\n\n  setupBaseLogFunctions(logger, levels, proto)\n  // setup root hierarchy entry\n  appendChildLogger({}, logger)\n\n  Object.defineProperty(logger, 'levelVal', {\n    get: getLevelVal\n  })\n  Object.defineProperty(logger, 'level', {\n    get: getLevel,\n    set: setLevel\n  })\n\n  const setOpts = {\n    transmit,\n    serialize,\n    asObject: opts.browser.asObject,\n    formatters: opts.browser.formatters,\n    levels,\n    timestamp: getTimeFunction(opts)\n  }\n  logger.levels = getLevels(opts)\n  logger.level = level\n\n  logger.setMaxListeners = logger.getMaxListeners =\n  logger.emit = logger.addListener = logger.on =\n  logger.prependListener = logger.once =\n  logger.prependOnceListener = logger.removeListener =\n  logger.removeAllListeners = logger.listeners =\n  logger.listenerCount = logger.eventNames =\n  logger.write = logger.flush = noop\n  logger.serializers = serializers\n  logger._serialize = serialize\n  logger._stdErrSerialize = stdErrSerialize\n  logger.child = child\n\n  if (transmit) logger._logEvent = createLogEventShape()\n\n  function getLevelVal () {\n    return levelToValue(this.level, this)\n  }\n\n  function getLevel () {\n    return this._level\n  }\n  function setLevel (level) {\n    if (level !== 'silent' && !this.levels.values[level]) {\n      throw Error('unknown level ' + level)\n    }\n    this._level = level\n\n    set(this, setOpts, logger, 'error') // <-- must stay first\n    set(this, setOpts, logger, 'fatal')\n    set(this, setOpts, logger, 'warn')\n    set(this, setOpts, logger, 'info')\n    set(this, setOpts, logger, 'debug')\n    set(this, setOpts, logger, 'trace')\n\n    customLevels.forEach((level) => {\n      set(this, setOpts, logger, level)\n    })\n  }\n\n  function child (bindings, childOptions) {\n    if (!bindings) {\n      throw new Error('missing bindings for child Pino')\n    }\n    childOptions = childOptions || {}\n    if (serialize && bindings.serializers) {\n      childOptions.serializers = bindings.serializers\n    }\n    const childOptionsSerializers = childOptions.serializers\n    if (serialize && childOptionsSerializers) {\n      var childSerializers = Object.assign({}, serializers, childOptionsSerializers)\n      var childSerialize = opts.browser.serialize === true\n        ? Object.keys(childSerializers)\n        : serialize\n      delete bindings.serializers\n      applySerializers([bindings], childSerialize, childSerializers, this._stdErrSerialize)\n    }\n    function Child (parent) {\n      this._childLevel = (parent._childLevel | 0) + 1\n\n      // make sure bindings are available in the `set` function\n      this.bindings = bindings\n\n      if (childSerializers) {\n        this.serializers = childSerializers\n        this._serialize = childSerialize\n      }\n      if (transmit) {\n        this._logEvent = createLogEventShape(\n          [].concat(parent._logEvent.bindings, bindings)\n        )\n      }\n    }\n    Child.prototype = this\n    const newLogger = new Child(this)\n\n    // must happen before the level is assigned\n    appendChildLogger(this, newLogger)\n    // required to actually initialize the logger functions for any given child\n    newLogger.level = this.level\n\n    return newLogger\n  }\n  return logger\n}\n\nfunction getLevels (opts) {\n  const customLevels = opts.customLevels || {}\n\n  const values = Object.assign({}, pino.levels.values, customLevels)\n  const labels = Object.assign({}, pino.levels.labels, invertObject(customLevels))\n\n  return {\n    values,\n    labels\n  }\n}\n\nfunction invertObject (obj) {\n  const inverted = {}\n  Object.keys(obj).forEach(function (key) {\n    inverted[obj[key]] = key\n  })\n  return inverted\n}\n\npino.levels = {\n  values: {\n    fatal: 60,\n    error: 50,\n    warn: 40,\n    info: 30,\n    debug: 20,\n    trace: 10\n  },\n  labels: {\n    10: 'trace',\n    20: 'debug',\n    30: 'info',\n    40: 'warn',\n    50: 'error',\n    60: 'fatal'\n  }\n}\n\npino.stdSerializers = stdSerializers\npino.stdTimeFunctions = Object.assign({}, { nullTime, epochTime, unixTime, isoTime })\n\nfunction getBindingChain (logger) {\n  const bindings = []\n  if (logger.bindings) {\n    bindings.push(logger.bindings)\n  }\n\n  // traverse up the tree to get all bindings\n  let hierarchy = logger[hierarchySymbol]\n  while (hierarchy.parent) {\n    hierarchy = hierarchy.parent\n    if (hierarchy.logger.bindings) {\n      bindings.push(hierarchy.logger.bindings)\n    }\n  }\n\n  return bindings.reverse()\n}\n\nfunction set (self, opts, rootLogger, level) {\n  // override the current log functions with either `noop` or the base log function\n  Object.defineProperty(self, level, {\n    value: (levelToValue(self.level, rootLogger) > levelToValue(level, rootLogger)\n      ? noop\n      : rootLogger[baseLogFunctionSymbol][level]),\n    writable: true,\n    enumerable: true,\n    configurable: true\n  })\n\n  if (!opts.transmit && self[level] === noop) {\n    return\n  }\n\n  // make sure the log format is correct\n  self[level] = createWrap(self, opts, rootLogger, level)\n\n  // prepend bindings if it is not the root logger\n  const bindings = getBindingChain(self)\n  if (bindings.length === 0) {\n    // early exit in case for rootLogger\n    return\n  }\n  self[level] = prependBindingsInArguments(bindings, self[level])\n}\n\nfunction prependBindingsInArguments (bindings, logFunc) {\n  return function () {\n    return logFunc.apply(this, [...bindings, ...arguments])\n  }\n}\n\nfunction createWrap (self, opts, rootLogger, level) {\n  return (function (write) {\n    return function LOG () {\n      const ts = opts.timestamp()\n      const args = new Array(arguments.length)\n      const proto = (Object.getPrototypeOf && Object.getPrototypeOf(this) === _console) ? _console : this\n      for (var i = 0; i < args.length; i++) args[i] = arguments[i]\n\n      if (opts.serialize && !opts.asObject) {\n        applySerializers(args, this._serialize, this.serializers, this._stdErrSerialize)\n      }\n      if (opts.asObject || opts.formatters) {\n        write.call(proto, asObject(this, level, args, ts, opts.formatters))\n      } else write.apply(proto, args)\n\n      if (opts.transmit) {\n        const transmitLevel = opts.transmit.level || self._level\n        const transmitValue = rootLogger.levels.values[transmitLevel]\n        const methodValue = rootLogger.levels.values[level]\n        if (methodValue < transmitValue) return\n        transmit(this, {\n          ts,\n          methodLevel: level,\n          methodValue,\n          transmitLevel,\n          transmitValue: rootLogger.levels.values[opts.transmit.level || self._level],\n          send: opts.transmit.send,\n          val: levelToValue(self._level, rootLogger)\n        }, args)\n      }\n    }\n  })(self[baseLogFunctionSymbol][level])\n}\n\nfunction asObject (logger, level, args, ts, formatters = {}) {\n  const {\n    level: levelFormatter = () => logger.levels.values[level],\n    log: logObjectFormatter = (obj) => obj\n  } = formatters\n  if (logger._serialize) applySerializers(args, logger._serialize, logger.serializers, logger._stdErrSerialize)\n  const argsCloned = args.slice()\n  let msg = argsCloned[0]\n  const logObject = {}\n  if (ts) {\n    logObject.time = ts\n  }\n  logObject.level = levelFormatter(level, logger.levels.values[level])\n\n  let lvl = (logger._childLevel | 0) + 1\n  if (lvl < 1) lvl = 1\n  // deliberate, catching objects, arrays\n  if (msg !== null && typeof msg === 'object') {\n    while (lvl-- && typeof argsCloned[0] === 'object') {\n      Object.assign(logObject, argsCloned.shift())\n    }\n    msg = argsCloned.length ? format(argsCloned.shift(), argsCloned) : undefined\n  } else if (typeof msg === 'string') msg = format(argsCloned.shift(), argsCloned)\n  if (msg !== undefined) logObject.msg = msg\n\n  const formattedLogObject = logObjectFormatter(logObject)\n  return formattedLogObject\n}\n\nfunction applySerializers (args, serialize, serializers, stdErrSerialize) {\n  for (const i in args) {\n    if (stdErrSerialize && args[i] instanceof Error) {\n      args[i] = pino.stdSerializers.err(args[i])\n    } else if (typeof args[i] === 'object' && !Array.isArray(args[i])) {\n      for (const k in args[i]) {\n        if (serialize && serialize.indexOf(k) > -1 && k in serializers) {\n          args[i][k] = serializers[k](args[i][k])\n        }\n      }\n    }\n  }\n}\n\nfunction transmit (logger, opts, args) {\n  const send = opts.send\n  const ts = opts.ts\n  const methodLevel = opts.methodLevel\n  const methodValue = opts.methodValue\n  const val = opts.val\n  const bindings = logger._logEvent.bindings\n\n  applySerializers(\n    args,\n    logger._serialize || Object.keys(logger.serializers),\n    logger.serializers,\n    logger._stdErrSerialize === undefined ? true : logger._stdErrSerialize\n  )\n  logger._logEvent.ts = ts\n  logger._logEvent.messages = args.filter(function (arg) {\n    // bindings can only be objects, so reference equality check via indexOf is fine\n    return bindings.indexOf(arg) === -1\n  })\n\n  logger._logEvent.level.label = methodLevel\n  logger._logEvent.level.value = methodValue\n\n  send(methodLevel, logger._logEvent, val)\n\n  logger._logEvent = createLogEventShape(bindings)\n}\n\nfunction createLogEventShape (bindings) {\n  return {\n    ts: 0,\n    messages: [],\n    bindings: bindings || [],\n    level: { label: '', value: 0 }\n  }\n}\n\nfunction asErrValue (err) {\n  const obj = {\n    type: err.constructor.name,\n    msg: err.message,\n    stack: err.stack\n  }\n  for (const key in err) {\n    if (obj[key] === undefined) {\n      obj[key] = err[key]\n    }\n  }\n  return obj\n}\n\nfunction getTimeFunction (opts) {\n  if (typeof opts.timestamp === 'function') {\n    return opts.timestamp\n  }\n  if (opts.timestamp === false) {\n    return nullTime\n  }\n  return epochTime\n}\n\nfunction mock () { return {} }\nfunction passthrough (a) { return a }\nfunction noop () {}\n\nfunction nullTime () { return false }\nfunction epochTime () { return Date.now() }\nfunction unixTime () { return Math.round(Date.now() / 1000.0) }\nfunction isoTime () { return new Date(Date.now()).toISOString() } // using Date.now() for testability\n\n/* eslint-disable */\n/* istanbul ignore next */\nfunction pfGlobalThisOrFallback () {\n  function defd (o) { return typeof o !== 'undefined' && o }\n  try {\n    if (typeof globalThis !== 'undefined') return globalThis\n    Object.defineProperty(Object.prototype, 'globalThis', {\n      get: function () {\n        delete Object.prototype.globalThis\n        return (this.globalThis = this)\n      },\n      configurable: true\n    })\n    return globalThis\n  } catch (e) {\n    return defd(self) || defd(window) || defd(this) || {}\n  }\n}\n/* eslint-enable */\n\nmodule.exports.default = pino\nmodule.exports.pino = pino\n","module.exports = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = [],\n        peg$c1 = function() { return nodes },\n        peg$c2 = peg$FAILED,\n        peg$c3 = \"#\",\n        peg$c4 = { type: \"literal\", value: \"#\", description: \"\\\"#\\\"\" },\n        peg$c5 = void 0,\n        peg$c6 = { type: \"any\", description: \"any character\" },\n        peg$c7 = \"[\",\n        peg$c8 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c9 = \"]\",\n        peg$c10 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c11 = function(name) { addNode(node('ObjectPath', name, line, column)) },\n        peg$c12 = function(name) { addNode(node('ArrayPath', name, line, column)) },\n        peg$c13 = function(parts, name) { return parts.concat(name) },\n        peg$c14 = function(name) { return [name] },\n        peg$c15 = function(name) { return name },\n        peg$c16 = \".\",\n        peg$c17 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c18 = \"=\",\n        peg$c19 = { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n        peg$c20 = function(key, value) { addNode(node('Assign', value, line, column, key)) },\n        peg$c21 = function(chars) { return chars.join('') },\n        peg$c22 = function(node) { return node.value },\n        peg$c23 = \"\\\"\\\"\\\"\",\n        peg$c24 = { type: \"literal\", value: \"\\\"\\\"\\\"\", description: \"\\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\"\" },\n        peg$c25 = null,\n        peg$c26 = function(chars) { return node('String', chars.join(''), line, column) },\n        peg$c27 = \"\\\"\",\n        peg$c28 = { type: \"literal\", value: \"\\\"\", description: \"\\\"\\\\\\\"\\\"\" },\n        peg$c29 = \"'''\",\n        peg$c30 = { type: \"literal\", value: \"'''\", description: \"\\\"'''\\\"\" },\n        peg$c31 = \"'\",\n        peg$c32 = { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n        peg$c33 = function(char) { return char },\n        peg$c34 = function(char) { return char},\n        peg$c35 = \"\\\\\",\n        peg$c36 = { type: \"literal\", value: \"\\\\\", description: \"\\\"\\\\\\\\\\\"\" },\n        peg$c37 = function() { return '' },\n        peg$c38 = \"e\",\n        peg$c39 = { type: \"literal\", value: \"e\", description: \"\\\"e\\\"\" },\n        peg$c40 = \"E\",\n        peg$c41 = { type: \"literal\", value: \"E\", description: \"\\\"E\\\"\" },\n        peg$c42 = function(left, right) { return node('Float', parseFloat(left + 'e' + right), line, column) },\n        peg$c43 = function(text) { return node('Float', parseFloat(text), line, column) },\n        peg$c44 = \"+\",\n        peg$c45 = { type: \"literal\", value: \"+\", description: \"\\\"+\\\"\" },\n        peg$c46 = function(digits) { return digits.join('') },\n        peg$c47 = \"-\",\n        peg$c48 = { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n        peg$c49 = function(digits) { return '-' + digits.join('') },\n        peg$c50 = function(text) { return node('Integer', parseInt(text, 10), line, column) },\n        peg$c51 = \"true\",\n        peg$c52 = { type: \"literal\", value: \"true\", description: \"\\\"true\\\"\" },\n        peg$c53 = function() { return node('Boolean', true, line, column) },\n        peg$c54 = \"false\",\n        peg$c55 = { type: \"literal\", value: \"false\", description: \"\\\"false\\\"\" },\n        peg$c56 = function() { return node('Boolean', false, line, column) },\n        peg$c57 = function() { return node('Array', [], line, column) },\n        peg$c58 = function(value) { return node('Array', value ? [value] : [], line, column) },\n        peg$c59 = function(values) { return node('Array', values, line, column) },\n        peg$c60 = function(values, value) { return node('Array', values.concat(value), line, column) },\n        peg$c61 = function(value) { return value },\n        peg$c62 = \",\",\n        peg$c63 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c64 = \"{\",\n        peg$c65 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c66 = \"}\",\n        peg$c67 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c68 = function(values) { return node('InlineTable', values, line, column) },\n        peg$c69 = function(key, value) { return node('InlineTableValue', value, line, column, key) },\n        peg$c70 = function(digits) { return \".\" + digits },\n        peg$c71 = function(date) { return  date.join('') },\n        peg$c72 = \":\",\n        peg$c73 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c74 = function(time) { return time.join('') },\n        peg$c75 = \"T\",\n        peg$c76 = { type: \"literal\", value: \"T\", description: \"\\\"T\\\"\" },\n        peg$c77 = \"Z\",\n        peg$c78 = { type: \"literal\", value: \"Z\", description: \"\\\"Z\\\"\" },\n        peg$c79 = function(date, time) { return node('Date', new Date(date + \"T\" + time + \"Z\"), line, column) },\n        peg$c80 = function(date, time) { return node('Date', new Date(date + \"T\" + time), line, column) },\n        peg$c81 = /^[ \\t]/,\n        peg$c82 = { type: \"class\", value: \"[ \\\\t]\", description: \"[ \\\\t]\" },\n        peg$c83 = \"\\n\",\n        peg$c84 = { type: \"literal\", value: \"\\n\", description: \"\\\"\\\\n\\\"\" },\n        peg$c85 = \"\\r\",\n        peg$c86 = { type: \"literal\", value: \"\\r\", description: \"\\\"\\\\r\\\"\" },\n        peg$c87 = /^[0-9a-f]/i,\n        peg$c88 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n        peg$c89 = /^[0-9]/,\n        peg$c90 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c91 = \"_\",\n        peg$c92 = { type: \"literal\", value: \"_\", description: \"\\\"_\\\"\" },\n        peg$c93 = function() { return \"\" },\n        peg$c94 = /^[A-Za-z0-9_\\-]/,\n        peg$c95 = { type: \"class\", value: \"[A-Za-z0-9_\\\\-]\", description: \"[A-Za-z0-9_\\\\-]\" },\n        peg$c96 = function(d) { return d.join('') },\n        peg$c97 = \"\\\\\\\"\",\n        peg$c98 = { type: \"literal\", value: \"\\\\\\\"\", description: \"\\\"\\\\\\\\\\\\\\\"\\\"\" },\n        peg$c99 = function() { return '\"'  },\n        peg$c100 = \"\\\\\\\\\",\n        peg$c101 = { type: \"literal\", value: \"\\\\\\\\\", description: \"\\\"\\\\\\\\\\\\\\\\\\\"\" },\n        peg$c102 = function() { return '\\\\' },\n        peg$c103 = \"\\\\b\",\n        peg$c104 = { type: \"literal\", value: \"\\\\b\", description: \"\\\"\\\\\\\\b\\\"\" },\n        peg$c105 = function() { return '\\b' },\n        peg$c106 = \"\\\\t\",\n        peg$c107 = { type: \"literal\", value: \"\\\\t\", description: \"\\\"\\\\\\\\t\\\"\" },\n        peg$c108 = function() { return '\\t' },\n        peg$c109 = \"\\\\n\",\n        peg$c110 = { type: \"literal\", value: \"\\\\n\", description: \"\\\"\\\\\\\\n\\\"\" },\n        peg$c111 = function() { return '\\n' },\n        peg$c112 = \"\\\\f\",\n        peg$c113 = { type: \"literal\", value: \"\\\\f\", description: \"\\\"\\\\\\\\f\\\"\" },\n        peg$c114 = function() { return '\\f' },\n        peg$c115 = \"\\\\r\",\n        peg$c116 = { type: \"literal\", value: \"\\\\r\", description: \"\\\"\\\\\\\\r\\\"\" },\n        peg$c117 = function() { return '\\r' },\n        peg$c118 = \"\\\\U\",\n        peg$c119 = { type: \"literal\", value: \"\\\\U\", description: \"\\\"\\\\\\\\U\\\"\" },\n        peg$c120 = function(digits) { return convertCodePoint(digits.join('')) },\n        peg$c121 = \"\\\\u\",\n        peg$c122 = { type: \"literal\", value: \"\\\\u\", description: \"\\\"\\\\\\\\u\\\"\" },\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$cache = {},\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$parsestart() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 0,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseline();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseline();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c1();\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseline() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      var key    = peg$currPos * 49 + 1,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseS();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseS();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexpression();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseS();\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            s5 = peg$parsecomment();\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parsecomment();\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseNL();\n              if (s6 !== peg$FAILED) {\n                while (s6 !== peg$FAILED) {\n                  s5.push(s6);\n                  s6 = peg$parseNL();\n                }\n              } else {\n                s5 = peg$c2;\n              }\n              if (s5 === peg$FAILED) {\n                s5 = peg$parseEOF();\n              }\n              if (s5 !== peg$FAILED) {\n                s1 = [s1, s2, s3, s4, s5];\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        s2 = peg$parseS();\n        if (s2 !== peg$FAILED) {\n          while (s2 !== peg$FAILED) {\n            s1.push(s2);\n            s2 = peg$parseS();\n          }\n        } else {\n          s1 = peg$c2;\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseNL();\n          if (s3 !== peg$FAILED) {\n            while (s3 !== peg$FAILED) {\n              s2.push(s3);\n              s3 = peg$parseNL();\n            }\n          } else {\n            s2 = peg$c2;\n          }\n          if (s2 === peg$FAILED) {\n            s2 = peg$parseEOF();\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseNL();\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseexpression() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 2,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parsecomment();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsepath();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsetablearray();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseassignment();\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsecomment() {\n      var s0, s1, s2, s3, s4, s5;\n\n      var key    = peg$currPos * 49 + 3,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 35) {\n        s1 = peg$c3;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$currPos;\n        s4 = peg$currPos;\n        peg$silentFails++;\n        s5 = peg$parseNL();\n        if (s5 === peg$FAILED) {\n          s5 = peg$parseEOF();\n        }\n        peg$silentFails--;\n        if (s5 === peg$FAILED) {\n          s4 = peg$c5;\n        } else {\n          peg$currPos = s4;\n          s4 = peg$c2;\n        }\n        if (s4 !== peg$FAILED) {\n          if (input.length > peg$currPos) {\n            s5 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c6); }\n          }\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$c2;\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$currPos;\n          s4 = peg$currPos;\n          peg$silentFails++;\n          s5 = peg$parseNL();\n          if (s5 === peg$FAILED) {\n            s5 = peg$parseEOF();\n          }\n          peg$silentFails--;\n          if (s5 === peg$FAILED) {\n            s4 = peg$c5;\n          } else {\n            peg$currPos = s4;\n            s4 = peg$c2;\n          }\n          if (s4 !== peg$FAILED) {\n            if (input.length > peg$currPos) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c6); }\n            }\n            if (s5 !== peg$FAILED) {\n              s4 = [s4, s5];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$c2;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsepath() {\n      var s0, s1, s2, s3, s4, s5;\n\n      var key    = peg$currPos * 49 + 4,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c7;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseS();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseS();\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsetable_key();\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            s5 = peg$parseS();\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseS();\n            }\n            if (s4 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 93) {\n                s5 = peg$c9;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c10); }\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c11(s3);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsetablearray() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      var key    = peg$currPos * 49 + 5,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c7;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s2 = peg$c7;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c8); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseS();\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsetable_key();\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseS();\n              while (s6 !== peg$FAILED) {\n                s5.push(s6);\n                s6 = peg$parseS();\n              }\n              if (s5 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 93) {\n                  s6 = peg$c9;\n                  peg$currPos++;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c10); }\n                }\n                if (s6 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 93) {\n                    s7 = peg$c9;\n                    peg$currPos++;\n                  } else {\n                    s7 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c10); }\n                  }\n                  if (s7 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c12(s4);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsetable_key() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 6,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsedot_ended_table_key_part();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsedot_ended_table_key_part();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsetable_key_part();\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c13(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsetable_key_part();\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c14(s1);\n        }\n        s0 = s1;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsetable_key_part() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 7,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseS();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseS();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsekey();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseS();\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c15(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        s2 = peg$parseS();\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseS();\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsequoted_key();\n          if (s2 !== peg$FAILED) {\n            s3 = [];\n            s4 = peg$parseS();\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseS();\n            }\n            if (s3 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c15(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsedot_ended_table_key_part() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      var key    = peg$currPos * 49 + 8,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseS();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseS();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsekey();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseS();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseS();\n              while (s6 !== peg$FAILED) {\n                s5.push(s6);\n                s6 = peg$parseS();\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c15(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        s2 = peg$parseS();\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseS();\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsequoted_key();\n          if (s2 !== peg$FAILED) {\n            s3 = [];\n            s4 = peg$parseS();\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseS();\n            }\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 46) {\n                s4 = peg$c16;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c17); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = [];\n                s6 = peg$parseS();\n                while (s6 !== peg$FAILED) {\n                  s5.push(s6);\n                  s6 = peg$parseS();\n                }\n                if (s5 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c15(s2);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseassignment() {\n      var s0, s1, s2, s3, s4, s5;\n\n      var key    = peg$currPos * 49 + 9,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$parsekey();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseS();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseS();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 61) {\n            s3 = peg$c18;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c19); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            s5 = peg$parseS();\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseS();\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsevalue();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c20(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsequoted_key();\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseS();\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseS();\n          }\n          if (s2 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 61) {\n              s3 = peg$c18;\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c19); }\n            }\n            if (s3 !== peg$FAILED) {\n              s4 = [];\n              s5 = peg$parseS();\n              while (s5 !== peg$FAILED) {\n                s4.push(s5);\n                s5 = peg$parseS();\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parsevalue();\n                if (s5 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c20(s1, s5);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsekey() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 10,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseASCII_BASIC();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseASCII_BASIC();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsequoted_key() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 11,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$parsedouble_quoted_single_line_string();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c22(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsesingle_quoted_single_line_string();\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c22(s1);\n        }\n        s0 = s1;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsevalue() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 12,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parsestring();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedatetime();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsefloat();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseinteger();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseboolean();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsearray();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parseinline_table();\n                }\n              }\n            }\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsestring() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 13,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parsedouble_quoted_multiline_string();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedouble_quoted_single_line_string();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsesingle_quoted_multiline_string();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsesingle_quoted_single_line_string();\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsedouble_quoted_multiline_string() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 14,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 3) === peg$c23) {\n        s1 = peg$c23;\n        peg$currPos += 3;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c24); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseNL();\n        if (s2 === peg$FAILED) {\n          s2 = peg$c25;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parsemultiline_string_char();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parsemultiline_string_char();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 3) === peg$c23) {\n              s4 = peg$c23;\n              peg$currPos += 3;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c24); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c26(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsedouble_quoted_single_line_string() {\n      var s0, s1, s2, s3;\n\n      var key    = peg$currPos * 49 + 15,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 34) {\n        s1 = peg$c27;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c28); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsestring_char();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsestring_char();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 34) {\n            s3 = peg$c27;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c28); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c26(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsesingle_quoted_multiline_string() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 16,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 3) === peg$c29) {\n        s1 = peg$c29;\n        peg$currPos += 3;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c30); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseNL();\n        if (s2 === peg$FAILED) {\n          s2 = peg$c25;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parsemultiline_literal_char();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parsemultiline_literal_char();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 3) === peg$c29) {\n              s4 = peg$c29;\n              peg$currPos += 3;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c30); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c26(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsesingle_quoted_single_line_string() {\n      var s0, s1, s2, s3;\n\n      var key    = peg$currPos * 49 + 17,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseliteral_char();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseliteral_char();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c31;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c26(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsestring_char() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 18,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parseESCAPED();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$currPos;\n        peg$silentFails++;\n        if (input.charCodeAt(peg$currPos) === 34) {\n          s2 = peg$c27;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c28); }\n        }\n        peg$silentFails--;\n        if (s2 === peg$FAILED) {\n          s1 = peg$c5;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n        if (s1 !== peg$FAILED) {\n          if (input.length > peg$currPos) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c6); }\n          }\n          if (s2 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c33(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseliteral_char() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 19,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s2 = peg$c31;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = peg$c5;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.length > peg$currPos) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c33(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsemultiline_string_char() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 20,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parseESCAPED();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsemultiline_string_delim();\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$currPos;\n          peg$silentFails++;\n          if (input.substr(peg$currPos, 3) === peg$c23) {\n            s2 = peg$c23;\n            peg$currPos += 3;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c24); }\n          }\n          peg$silentFails--;\n          if (s2 === peg$FAILED) {\n            s1 = peg$c5;\n          } else {\n            peg$currPos = s1;\n            s1 = peg$c2;\n          }\n          if (s1 !== peg$FAILED) {\n            if (input.length > peg$currPos) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c6); }\n            }\n            if (s2 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c34(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsemultiline_string_delim() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 21,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s1 = peg$c35;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseNL();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseNLS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseNLS();\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c37();\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsemultiline_literal_char() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 22,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      peg$silentFails++;\n      if (input.substr(peg$currPos, 3) === peg$c29) {\n        s2 = peg$c29;\n        peg$currPos += 3;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c30); }\n      }\n      peg$silentFails--;\n      if (s2 === peg$FAILED) {\n        s1 = peg$c5;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.length > peg$currPos) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c33(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsefloat() {\n      var s0, s1, s2, s3;\n\n      var key    = peg$currPos * 49 + 23,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$parsefloat_text();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseinteger_text();\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 101) {\n          s2 = peg$c38;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c39); }\n        }\n        if (s2 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 69) {\n            s2 = peg$c40;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c41); }\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseinteger_text();\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c42(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsefloat_text();\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c43(s1);\n        }\n        s0 = s1;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsefloat_text() {\n      var s0, s1, s2, s3, s4, s5;\n\n      var key    = peg$currPos * 49 + 24,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s1 = peg$c44;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c45); }\n      }\n      if (s1 === peg$FAILED) {\n        s1 = peg$c25;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parseDIGITS();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 46) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseDIGITS();\n            if (s5 !== peg$FAILED) {\n              s3 = [s3, s4, s5];\n              s2 = s3;\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c46(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 45) {\n          s1 = peg$c47;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c48); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$currPos;\n          s3 = peg$parseDIGITS();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseDIGITS();\n              if (s5 !== peg$FAILED) {\n                s3 = [s3, s4, s5];\n                s2 = s3;\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c2;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n          if (s2 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c49(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseinteger() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 25,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$parseinteger_text();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c50(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseinteger_text() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 26,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s1 = peg$c44;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c45); }\n      }\n      if (s1 === peg$FAILED) {\n        s1 = peg$c25;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseDIGIT_OR_UNDER();\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT_OR_UNDER();\n          }\n        } else {\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$currPos;\n          peg$silentFails++;\n          if (input.charCodeAt(peg$currPos) === 46) {\n            s4 = peg$c16;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c17); }\n          }\n          peg$silentFails--;\n          if (s4 === peg$FAILED) {\n            s3 = peg$c5;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c46(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 45) {\n          s1 = peg$c47;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c48); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseDIGIT_OR_UNDER();\n          if (s3 !== peg$FAILED) {\n            while (s3 !== peg$FAILED) {\n              s2.push(s3);\n              s3 = peg$parseDIGIT_OR_UNDER();\n            }\n          } else {\n            s2 = peg$c2;\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$currPos;\n            peg$silentFails++;\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c16;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            peg$silentFails--;\n            if (s4 === peg$FAILED) {\n              s3 = peg$c5;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$c2;\n            }\n            if (s3 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c49(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseboolean() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 27,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c51) {\n        s1 = peg$c51;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c52); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c53();\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 5) === peg$c54) {\n          s1 = peg$c54;\n          peg$currPos += 5;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c55); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c56();\n        }\n        s0 = s1;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsearray() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 28,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c7;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsearray_sep();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsearray_sep();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c9;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c10); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c57();\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s1 = peg$c7;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c8); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsearray_value();\n          if (s2 === peg$FAILED) {\n            s2 = peg$c25;\n          }\n          if (s2 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 93) {\n              s3 = peg$c9;\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c10); }\n            }\n            if (s3 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c58(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 91) {\n            s1 = peg$c7;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c8); }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = [];\n            s3 = peg$parsearray_value_list();\n            if (s3 !== peg$FAILED) {\n              while (s3 !== peg$FAILED) {\n                s2.push(s3);\n                s3 = peg$parsearray_value_list();\n              }\n            } else {\n              s2 = peg$c2;\n            }\n            if (s2 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 93) {\n                s3 = peg$c9;\n                peg$currPos++;\n              } else {\n                s3 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c10); }\n              }\n              if (s3 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c59(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 91) {\n              s1 = peg$c7;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s1 !== peg$FAILED) {\n              s2 = [];\n              s3 = peg$parsearray_value_list();\n              if (s3 !== peg$FAILED) {\n                while (s3 !== peg$FAILED) {\n                  s2.push(s3);\n                  s3 = peg$parsearray_value_list();\n                }\n              } else {\n                s2 = peg$c2;\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parsearray_value();\n                if (s3 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 93) {\n                    s4 = peg$c9;\n                    peg$currPos++;\n                  } else {\n                    s4 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c10); }\n                  }\n                  if (s4 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c60(s2, s3);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsearray_value() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 29,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsearray_sep();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsearray_sep();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsevalue();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parsearray_sep();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parsearray_sep();\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c61(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsearray_value_list() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      var key    = peg$currPos * 49 + 30,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsearray_sep();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsearray_sep();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsevalue();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parsearray_sep();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parsearray_sep();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s4 = peg$c62;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c63); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parsearray_sep();\n              while (s6 !== peg$FAILED) {\n                s5.push(s6);\n                s6 = peg$parsearray_sep();\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c61(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsearray_sep() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 31,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parseS();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseNL();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsecomment();\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseinline_table() {\n      var s0, s1, s2, s3, s4, s5;\n\n      var key    = peg$currPos * 49 + 32,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s1 = peg$c64;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c65); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseS();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseS();\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseinline_table_assignment();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseinline_table_assignment();\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            s5 = peg$parseS();\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseS();\n            }\n            if (s4 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 125) {\n                s5 = peg$c66;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c67); }\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c68(s3);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseinline_table_assignment() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n      var key    = peg$currPos * 49 + 33,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseS();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseS();\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsekey();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseS();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseS();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 61) {\n              s4 = peg$c18;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c19); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseS();\n              while (s6 !== peg$FAILED) {\n                s5.push(s6);\n                s6 = peg$parseS();\n              }\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsevalue();\n                if (s6 !== peg$FAILED) {\n                  s7 = [];\n                  s8 = peg$parseS();\n                  while (s8 !== peg$FAILED) {\n                    s7.push(s8);\n                    s8 = peg$parseS();\n                  }\n                  if (s7 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 44) {\n                      s8 = peg$c62;\n                      peg$currPos++;\n                    } else {\n                      s8 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c63); }\n                    }\n                    if (s8 !== peg$FAILED) {\n                      s9 = [];\n                      s10 = peg$parseS();\n                      while (s10 !== peg$FAILED) {\n                        s9.push(s10);\n                        s10 = peg$parseS();\n                      }\n                      if (s9 !== peg$FAILED) {\n                        peg$reportedPos = s0;\n                        s1 = peg$c69(s2, s6);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        s2 = peg$parseS();\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseS();\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsekey();\n          if (s2 !== peg$FAILED) {\n            s3 = [];\n            s4 = peg$parseS();\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseS();\n            }\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 61) {\n                s4 = peg$c18;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c19); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = [];\n                s6 = peg$parseS();\n                while (s6 !== peg$FAILED) {\n                  s5.push(s6);\n                  s6 = peg$parseS();\n                }\n                if (s5 !== peg$FAILED) {\n                  s6 = peg$parsevalue();\n                  if (s6 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c69(s2, s6);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsesecfragment() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 34,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s1 = peg$c16;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c17); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseDIGITS();\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c70(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsedate() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11;\n\n      var key    = peg$currPos * 49 + 35,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parseDIGIT_OR_UNDER();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseDIGIT_OR_UNDER();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseDIGIT_OR_UNDER();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseDIGIT_OR_UNDER();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 45) {\n                s6 = peg$c47;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c48); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseDIGIT_OR_UNDER();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseDIGIT_OR_UNDER();\n                  if (s8 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 45) {\n                      s9 = peg$c47;\n                      peg$currPos++;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c48); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parseDIGIT_OR_UNDER();\n                      if (s10 !== peg$FAILED) {\n                        s11 = peg$parseDIGIT_OR_UNDER();\n                        if (s11 !== peg$FAILED) {\n                          s2 = [s2, s3, s4, s5, s6, s7, s8, s9, s10, s11];\n                          s1 = s2;\n                        } else {\n                          peg$currPos = s1;\n                          s1 = peg$c2;\n                        }\n                      } else {\n                        peg$currPos = s1;\n                        s1 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s1;\n                      s1 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s1;\n                    s1 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s1;\n                  s1 = peg$c2;\n                }\n              } else {\n                peg$currPos = s1;\n                s1 = peg$c2;\n              }\n            } else {\n              peg$currPos = s1;\n              s1 = peg$c2;\n            }\n          } else {\n            peg$currPos = s1;\n            s1 = peg$c2;\n          }\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c71(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsetime() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n      var key    = peg$currPos * 49 + 36,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parseDIGIT_OR_UNDER();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseDIGIT_OR_UNDER();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 58) {\n            s4 = peg$c72;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c73); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseDIGIT_OR_UNDER();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseDIGIT_OR_UNDER();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 58) {\n                  s7 = peg$c72;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c73); }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseDIGIT_OR_UNDER();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseDIGIT_OR_UNDER();\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parsesecfragment();\n                      if (s10 === peg$FAILED) {\n                        s10 = peg$c25;\n                      }\n                      if (s10 !== peg$FAILED) {\n                        s2 = [s2, s3, s4, s5, s6, s7, s8, s9, s10];\n                        s1 = s2;\n                      } else {\n                        peg$currPos = s1;\n                        s1 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s1;\n                      s1 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s1;\n                    s1 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s1;\n                  s1 = peg$c2;\n                }\n              } else {\n                peg$currPos = s1;\n                s1 = peg$c2;\n              }\n            } else {\n              peg$currPos = s1;\n              s1 = peg$c2;\n            }\n          } else {\n            peg$currPos = s1;\n            s1 = peg$c2;\n          }\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c74(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsetime_with_offset() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16;\n\n      var key    = peg$currPos * 49 + 37,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parseDIGIT_OR_UNDER();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseDIGIT_OR_UNDER();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 58) {\n            s4 = peg$c72;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c73); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseDIGIT_OR_UNDER();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseDIGIT_OR_UNDER();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 58) {\n                  s7 = peg$c72;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c73); }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseDIGIT_OR_UNDER();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseDIGIT_OR_UNDER();\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parsesecfragment();\n                      if (s10 === peg$FAILED) {\n                        s10 = peg$c25;\n                      }\n                      if (s10 !== peg$FAILED) {\n                        if (input.charCodeAt(peg$currPos) === 45) {\n                          s11 = peg$c47;\n                          peg$currPos++;\n                        } else {\n                          s11 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c48); }\n                        }\n                        if (s11 === peg$FAILED) {\n                          if (input.charCodeAt(peg$currPos) === 43) {\n                            s11 = peg$c44;\n                            peg$currPos++;\n                          } else {\n                            s11 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c45); }\n                          }\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = peg$parseDIGIT_OR_UNDER();\n                          if (s12 !== peg$FAILED) {\n                            s13 = peg$parseDIGIT_OR_UNDER();\n                            if (s13 !== peg$FAILED) {\n                              if (input.charCodeAt(peg$currPos) === 58) {\n                                s14 = peg$c72;\n                                peg$currPos++;\n                              } else {\n                                s14 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c73); }\n                              }\n                              if (s14 !== peg$FAILED) {\n                                s15 = peg$parseDIGIT_OR_UNDER();\n                                if (s15 !== peg$FAILED) {\n                                  s16 = peg$parseDIGIT_OR_UNDER();\n                                  if (s16 !== peg$FAILED) {\n                                    s2 = [s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16];\n                                    s1 = s2;\n                                  } else {\n                                    peg$currPos = s1;\n                                    s1 = peg$c2;\n                                  }\n                                } else {\n                                  peg$currPos = s1;\n                                  s1 = peg$c2;\n                                }\n                              } else {\n                                peg$currPos = s1;\n                                s1 = peg$c2;\n                              }\n                            } else {\n                              peg$currPos = s1;\n                              s1 = peg$c2;\n                            }\n                          } else {\n                            peg$currPos = s1;\n                            s1 = peg$c2;\n                          }\n                        } else {\n                          peg$currPos = s1;\n                          s1 = peg$c2;\n                        }\n                      } else {\n                        peg$currPos = s1;\n                        s1 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s1;\n                      s1 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s1;\n                    s1 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s1;\n                  s1 = peg$c2;\n                }\n              } else {\n                peg$currPos = s1;\n                s1 = peg$c2;\n              }\n            } else {\n              peg$currPos = s1;\n              s1 = peg$c2;\n            }\n          } else {\n            peg$currPos = s1;\n            s1 = peg$c2;\n          }\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c74(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parsedatetime() {\n      var s0, s1, s2, s3, s4;\n\n      var key    = peg$currPos * 49 + 38,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = peg$parsedate();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 84) {\n          s2 = peg$c75;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c76); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsetime();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 90) {\n              s4 = peg$c77;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c78); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c79(s1, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsedate();\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 84) {\n            s2 = peg$c75;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c76); }\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsetime_with_offset();\n            if (s3 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c80(s1, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseS() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 39,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      if (peg$c81.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseNL() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 40,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      if (input.charCodeAt(peg$currPos) === 10) {\n        s0 = peg$c83;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c84); }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 13) {\n          s1 = peg$c85;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c86); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 10) {\n            s2 = peg$c83;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c84); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseNLS() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 41,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$parseNL();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseS();\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseEOF() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 42,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      peg$silentFails++;\n      if (input.length > peg$currPos) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      peg$silentFails--;\n      if (s1 === peg$FAILED) {\n        s0 = peg$c5;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseHEX() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 43,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      if (peg$c87.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c88); }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseDIGIT_OR_UNDER() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 44,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      if (peg$c89.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c90); }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 95) {\n          s1 = peg$c91;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c92); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c93();\n        }\n        s0 = s1;\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseASCII_BASIC() {\n      var s0;\n\n      var key    = peg$currPos * 49 + 45,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      if (peg$c94.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c95); }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseDIGITS() {\n      var s0, s1, s2;\n\n      var key    = peg$currPos * 49 + 46,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseDIGIT_OR_UNDER();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseDIGIT_OR_UNDER();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c96(s1);\n      }\n      s0 = s1;\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseESCAPED() {\n      var s0, s1;\n\n      var key    = peg$currPos * 49 + 47,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 2) === peg$c97) {\n        s1 = peg$c97;\n        peg$currPos += 2;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c98); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c99();\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c100) {\n          s1 = peg$c100;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c101); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c102();\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c103) {\n            s1 = peg$c103;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c104); }\n          }\n          if (s1 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c105();\n          }\n          s0 = s1;\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 2) === peg$c106) {\n              s1 = peg$c106;\n              peg$currPos += 2;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c107); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c108();\n            }\n            s0 = s1;\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 2) === peg$c109) {\n                s1 = peg$c109;\n                peg$currPos += 2;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c110); }\n              }\n              if (s1 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c111();\n              }\n              s0 = s1;\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.substr(peg$currPos, 2) === peg$c112) {\n                  s1 = peg$c112;\n                  peg$currPos += 2;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c113); }\n                }\n                if (s1 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c114();\n                }\n                s0 = s1;\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  if (input.substr(peg$currPos, 2) === peg$c115) {\n                    s1 = peg$c115;\n                    peg$currPos += 2;\n                  } else {\n                    s1 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c116); }\n                  }\n                  if (s1 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c117();\n                  }\n                  s0 = s1;\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseESCAPED_UNICODE();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n    function peg$parseESCAPED_UNICODE() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n      var key    = peg$currPos * 49 + 48,\n          cached = peg$cache[key];\n\n      if (cached) {\n        peg$currPos = cached.nextPos;\n        return cached.result;\n      }\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 2) === peg$c118) {\n        s1 = peg$c118;\n        peg$currPos += 2;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c119); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parseHEX();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseHEX();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseHEX();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseHEX();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseHEX();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseHEX();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseHEX();\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parseHEX();\n                      if (s10 !== peg$FAILED) {\n                        s3 = [s3, s4, s5, s6, s7, s8, s9, s10];\n                        s2 = s3;\n                      } else {\n                        peg$currPos = s2;\n                        s2 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s2;\n                      s2 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s2;\n                    s2 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s2;\n                  s2 = peg$c2;\n                }\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c2;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c120(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c121) {\n          s1 = peg$c121;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c122); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$currPos;\n          s3 = peg$parseHEX();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseHEX();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseHEX();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parseHEX();\n                if (s6 !== peg$FAILED) {\n                  s3 = [s3, s4, s5, s6];\n                  s2 = s3;\n                } else {\n                  peg$currPos = s2;\n                  s2 = peg$c2;\n                }\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c2;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n          if (s2 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c120(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      peg$cache[key] = { nextPos: peg$currPos, result: s0 };\n\n      return s0;\n    }\n\n\n      var nodes = [];\n\n      function genError(err, line, col) {\n        var ex = new Error(err);\n        ex.line = line;\n        ex.column = col;\n        throw ex;\n      }\n\n      function addNode(node) {\n        nodes.push(node);\n      }\n\n      function node(type, value, line, column, key) {\n        var obj = { type: type, value: value, line: line(), column: column() };\n        if (key) obj.key = key;\n        return obj;\n      }\n\n      function convertCodePoint(str, line, col) {\n        var num = parseInt(\"0x\" + str);\n\n        if (\n          !isFinite(num) ||\n          Math.floor(num) != num ||\n          num < 0 ||\n          num > 0x10FFFF ||\n          (num > 0xD7FF && num < 0xE000)\n        ) {\n          genError(\"Invalid Unicode escape code: \" + str, line, col);\n        } else {\n          return fromCodePoint(num);\n        }\n      }\n\n      function fromCodePoint() {\n        var MAX_SIZE = 0x4000;\n        var codeUnits = [];\n        var highSurrogate;\n        var lowSurrogate;\n        var index = -1;\n        var length = arguments.length;\n        if (!length) {\n          return '';\n        }\n        var result = '';\n        while (++index < length) {\n          var codePoint = Number(arguments[index]);\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint);\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000;\n            highSurrogate = (codePoint >> 10) + 0xD800;\n            lowSurrogate = (codePoint % 0x400) + 0xDC00;\n            codeUnits.push(highSurrogate, lowSurrogate);\n          }\n          if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n            result += String.fromCharCode.apply(null, codeUnits);\n            codeUnits.length = 0;\n          }\n        }\n        return result;\n      }\n\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();\n","\"use strict\";\nfunction compile(nodes) {\n  var assignedPaths = [];\n  var valueAssignments = [];\n  var currentPath = \"\";\n  var data = Object.create(null);\n  var context = data;\n  var arrayMode = false;\n\n  return reduce(nodes);\n\n  function reduce(nodes) {\n    var node;\n    for (var i = 0; i < nodes.length; i++) {\n      node = nodes[i];\n      switch (node.type) {\n      case \"Assign\":\n        assign(node);\n        break;\n      case \"ObjectPath\":\n        setPath(node);\n        break;\n      case \"ArrayPath\":\n        addTableArray(node);\n        break;\n      }\n    }\n\n    return data;\n  }\n\n  function genError(err, line, col) {\n    var ex = new Error(err);\n    ex.line = line;\n    ex.column = col;\n    throw ex;\n  }\n\n  function assign(node) {\n    var key = node.key;\n    var value = node.value;\n    var line = node.line;\n    var column = node.column;\n\n    var fullPath;\n    if (currentPath) {\n      fullPath = currentPath + \".\" + key;\n    } else {\n      fullPath = key;\n    }\n    if (typeof context[key] !== \"undefined\") {\n      genError(\"Cannot redefine existing key '\" + fullPath + \"'.\", line, column);\n    }\n\n    context[key] = reduceValueNode(value);\n\n    if (!pathAssigned(fullPath)) {\n      assignedPaths.push(fullPath);\n      valueAssignments.push(fullPath);\n    }\n  }\n\n\n  function pathAssigned(path) {\n    return assignedPaths.indexOf(path) !== -1;\n  }\n\n  function reduceValueNode(node) {\n    if (node.type === \"Array\") {\n      return reduceArrayWithTypeChecking(node.value);\n    } else if (node.type === \"InlineTable\") {\n      return reduceInlineTableNode(node.value);\n    } else {\n      return node.value;\n    }\n  }\n\n  function reduceInlineTableNode(values) {\n    var obj = Object.create(null);\n    for (var i = 0; i < values.length; i++) {\n      var val = values[i];\n      if (val.value.type === \"InlineTable\") {\n        obj[val.key] = reduceInlineTableNode(val.value.value);\n      } else if (val.type === \"InlineTableValue\") {\n        obj[val.key] = reduceValueNode(val.value);\n      }\n    }\n\n    return obj;\n  }\n\n  function setPath(node) {\n    var path = node.value;\n    var quotedPath = path.map(quoteDottedString).join(\".\");\n    var line = node.line;\n    var column = node.column;\n\n    if (pathAssigned(quotedPath)) {\n      genError(\"Cannot redefine existing key '\" + path + \"'.\", line, column);\n    }\n    assignedPaths.push(quotedPath);\n    context = deepRef(data, path, Object.create(null), line, column);\n    currentPath = path;\n  }\n\n  function addTableArray(node) {\n    var path = node.value;\n    var quotedPath = path.map(quoteDottedString).join(\".\");\n    var line = node.line;\n    var column = node.column;\n\n    if (!pathAssigned(quotedPath)) {\n      assignedPaths.push(quotedPath);\n    }\n    assignedPaths = assignedPaths.filter(function(p) {\n      return p.indexOf(quotedPath) !== 0;\n    });\n    assignedPaths.push(quotedPath);\n    context = deepRef(data, path, [], line, column);\n    currentPath = quotedPath;\n\n    if (context instanceof Array) {\n      var newObj = Object.create(null);\n      context.push(newObj);\n      context = newObj;\n    } else {\n      genError(\"Cannot redefine existing key '\" + path + \"'.\", line, column);\n    }\n  }\n\n  // Given a path 'a.b.c', create (as necessary) `start.a`,\n  // `start.a.b`, and `start.a.b.c`, assigning `value` to `start.a.b.c`.\n  // If `a` or `b` are arrays and have items in them, the last item in the\n  // array is used as the context for the next sub-path.\n  function deepRef(start, keys, value, line, column) {\n    var traversed = [];\n    var traversedPath = \"\";\n    var path = keys.join(\".\");\n    var ctx = start;\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      traversed.push(key);\n      traversedPath = traversed.join(\".\");\n      if (typeof ctx[key] === \"undefined\") {\n        if (i === keys.length - 1) {\n          ctx[key] = value;\n        } else {\n          ctx[key] = Object.create(null);\n        }\n      } else if (i !== keys.length - 1 && valueAssignments.indexOf(traversedPath) > -1) {\n        // already a non-object value at key, can't be used as part of a new path\n        genError(\"Cannot redefine existing key '\" + traversedPath + \"'.\", line, column);\n      }\n\n      ctx = ctx[key];\n      if (ctx instanceof Array && ctx.length && i < keys.length - 1) {\n        ctx = ctx[ctx.length - 1];\n      }\n    }\n\n    return ctx;\n  }\n\n  function reduceArrayWithTypeChecking(array) {\n    // Ensure that all items in the array are of the same type\n    var firstType = null;\n    for (var i = 0; i < array.length; i++) {\n      var node = array[i];\n      if (firstType === null) {\n        firstType = node.type;\n      } else {\n        if (node.type !== firstType) {\n          genError(\"Cannot add value of type \" + node.type + \" to array of type \" +\n            firstType + \".\", node.line, node.column);\n        }\n      }\n    }\n\n    // Recursively reduce array of nodes into array of the nodes' values\n    return array.map(reduceValueNode);\n  }\n\n  function quoteDottedString(str) {\n    if (str.indexOf(\".\") > -1) {\n      return \"\\\"\" + str + \"\\\"\";\n    } else {\n      return str;\n    }\n  }\n}\n\nmodule.exports = {\n  compile: compile\n};\n","var parser = require('./lib/parser');\nvar compiler = require('./lib/compiler');\n\nmodule.exports = {\n  parse: function(input) {\n    var nodes = parser.parse(input.toString());\n    return compiler.compile(nodes);\n  }\n};\n","'use strict';\n\nclass Binning {\n    /**\n     * @param {object} args\n     * @param {number} args.base should be >1, unless uniform = true\n     * @param {number} args.precision should be >0\n     * @param {boolean} args.flat if true, don't use log binning at all\n     */\n    constructor (args = {}) {\n        let base = (!args.flat && args.base) || 1.001;\n        let precision = args.precision ?? 1E-9;\n\n        if (!(precision > 0))\n            throw new Error('precision must be a positive number');\n        // Make sure base ** (some int) === 2\n        if (!(base > 1) || !(base < 1.5))\n            throw new Error('base must be a number between 1 and 1.5');\n        base += 1e-9; // TODO explain - we must round-trip w/o getting \"eaten\"\n        base = 2 ** (1 / Math.ceil(Math.log(2) / Math.log(base)));\n        if (base === 1)\n            throw new Error('base too close to 1');\n\n        // Linear threshold. Inv: (base-1) * thresh === (minimal bin width) === precision!\n        precision = Number.parseFloat('' + precision); // make sure (de)serealization is ok\n        const equalBins = Math.ceil( 1 / (base - 1) );\n        const thresh = args.flat ? Infinity : precision * equalBins; // recalc to minimize rounding errors\n\n        // TODO Make sure 1 is the center of a bin\n\n        if (args.flat)\n            this._flat = true;\n        else\n            this._base = base;\n        this._thresh = thresh;\n        this._precision = precision;\n    }\n\n    /**\n     *\n     * @return {Object}\n     */\n    toJSON () {\n        return this._flat\n            ? {\n                precision: this._precision,\n                flat:      true,\n            }\n            : {\n                precision: this._precision,\n                base:      this._base,\n            };\n    }\n\n    getBase () {\n        return this._base;\n    }\n\n    getPrecision () {\n        return this._precision;\n    }\n\n    // Rounding to nearest bin first, TODO linear split\n    round (x) {\n        if (typeof x !== 'number')\n            x = Number.parseFloat(x);\n        if (Number.isNaN( x ))\n            throw new Error('Attempt to round a non-numeric value: ' + x);\n        if (x < 0) return -this.round(-x);\n        if (x < this._thresh)\n            return Math.round( x / this._precision ) * this._precision;\n        else\n            return this._thresh * this._base ** Math.round( Math.log(x / this._thresh) / Math.log(this._base) );\n    }\n\n    upper (x) {\n        if (x < 0)\n            return -this.lower(-x);\n        x = this.round(x);\n        if (x < this._thresh)\n            return x + this._precision / 2;\n        return x * Math.sqrt(this._base);\n    }\n\n    lower (x) {\n        if (x < 0)\n            return -this.upper(-x);\n        x = this.round(x);\n        if (x <= this._thresh)\n            return x - this._precision / 2;\n        return x / Math.sqrt(this._base);\n    }\n\n    shorten (x, y) {\n        if (x === undefined)\n            return x;\n        return y === undefined\n            ? shorten(this.lower(x), this.upper(x))\n            : shorten(x, y);\n    }\n}\n\nfunction shorten (min, max, base = 10) {\n    // TODO validate, swap, diff sign, etc\n    if (min === max)\n        return min;\n    if (min * max <= 0)\n        return 0;\n    // min & max are of the same sign now\n    if (max < 0)\n        return -shorten(-max, -min, base);\n    if (min > max)\n        return  shorten( max, min, base);\n\n    // Assume scale := base ** power\n    // Pick the smallest power such that ceil(min * scale) <= floor(max * scale)\n    // (as in: min & max are separated)\n\n    let power = -Math.floor( Math.log(max - min) / Math.log(base) );\n    // base ** power should now distinguish max and min\n\n    // decrease scale while the separation holds\n    while (Math.ceil( min * base ** power ) <= Math.floor( max * base ** power ))\n        power--;\n    power++; // take 1 step back\n\n    // Try to avoid precision loss in negative **, positive seems ok\n    return power >= 0\n        ? Math.ceil( min * base **  power ) / base **  power\n        : Math.ceil( min / base ** -power ) * base ** -power;\n}\n\nmodule.exports = { Binning, shorten };\n","'use strict';\n\nconst { Binning } = require( './binning.js' );\n\nconst version = 'stats-logscale/univariate@1.0'; // semver w/o patch part\n\n/**\n *  @classdesc Univariate statistical distribution analysis tool\n *  It works by sorting data into bins.\n *  This bin size depends on absolute & relative precision\n *  of the incoming data.\n *  Thus, very large samples can be processed fast\n *  with reasonable memory usage.\n */\nclass Univariate extends Binning {\n    /**\n     * @param {Object} args\n     * @param {Number} [args.base]      Must be between 1 and 1.5. Default is 1.001\n     * @param {Number} [args.precision] Must be positive. Default is 1E-9.\n     * @param {Boolean} [args.flat]     If true, only use linear bins\n     *                                  however large the stored values get.\n     * @param {Array}  [args.bins]      See addWeighted() for description\n     */\n    constructor (args = {}) {\n        super(args);\n        this.storage = new Map(); // round(number) => count\n        this._count = 0;\n        this._cache = {};\n        this.neat = new Neat(this);\n\n        if (args.bins)\n            this.addWeighted(args.bins);\n    }\n\n    /**\n     * @desc Add value(s) to sample.\n     * @param {...Number} data Number(s) to add to sample\n     * @returns {Univariate} this (chainable)\n     * @example\n     * for (let i=0; i<10000; i++)\n     *    stat.add(-Math.log(Math.random()));\n     * // creates exponential distribution\n     * @example\n     * stat.add( 1,2,3,4,5,6 );\n     * // a d6\n     */\n    add ( ...data ) {\n        this._cache = {};\n        data.forEach( x => {\n            const bin = this.round(x);\n            const count = this.storage.get(bin) ?? 0;\n            this.storage.set(bin, count + 1);\n            this._count++; // round() may throw, so increase counter one by one\n        });\n        return this;\n    }\n\n    /**\n     * @desc Add values to sample, with weights.\n     * @param {Array<[bin: Number, weight: number]>} pairs Array of (bin, weight) pairs\n     * Negative quantity is allowed and means we're erasing data.\n     * @returns {Univariate} this (chainable)\n     * @example\n     * stat.addWeighted( [ [0.1, 5], [0.2, 4], [0.3, 3] ] )\n     * // adds 0.1 x 5, 0.2 x 4, 0.3 x 3\n     */\n    addWeighted ( pairs ) {\n        this._cache = {};\n        // TODO validate\n        pairs.forEach( entry => {\n            const x = entry[0];\n            const n = Number.parseFloat( entry[1] ); // fractional weights possible\n            if (Number.isNaN(n))\n                throw new Error('Attempt to provide a non-numeric weight');\n\n            const bin = this.round( x );\n\n            const count = (this.storage.get(bin) ?? 0) + n;\n\n            if (count <= 0) {\n                this.storage.delete(bin);\n                this._count += n - count;\n            } else {\n                this.storage.set(bin, count);\n                this._count += n;\n            }\n        });\n        return this;\n    }\n\n    /**\n     *  @desc Serialization of the sample.\n     *  @returns {Object}\n     *  a plain object that can serve as an argument to new().\n     */\n    toJSON () {\n        return {\n            version,\n            ...super.toJSON(),\n            bins: this.getBins(),\n        }\n    }\n\n    /**\n     *   @desc create a copy of sample object, possibly modifying precision\n     *   settings and/or filtering data.\n     *   @param {Object} [args]\n     *   @param {Boolean} [args.flat] Make the new distribution flat (no logarithmic bins)\n     *   @param {Number} [args.precision] Override absolute precision\n     *   @param {Number} [args.base] Override relative precision\n     *   @param {Number} [args.min] Filter values less than this\n     *   @param {Number} [args.max] Filter values greater than this\n     *   @param {Number} [args.ltrim] Filter values less than Xth percentile\n     *   @param {Number} [args.rtrim] Filter values greater than 100-Xth percentile\n     *   @param {Boolean} [args.winsorize] If a data point doesn't fit the bounds,\n     *       truncate it instead of discarding.\n     *   @param {function(Number): Number} [args.transform] Apply function to sample data\n     *   @returns {Univariate} copy of the original object\n     */\n    clone (args = {}) {\n        // TODO better name?\n        let bins = this.getBins(args);\n        if (args.transform)\n            bins = bins.map( x => [args.transform(x[0]), x[1]] );\n\n        return new Univariate( {\n            ...super.toJSON(),\n            bins,\n        } );\n    }\n\n    /**\n     *   @desc  Returns a sorted list of pairs containing numbers in the sample\n     *          and their respective counts.\n     *          See addWeighted().\n     *   @param {Object} [args]\n     *   @param {Boolean} [args.flat] Make the new distribution flat (no logarithmic bins)\n     *   @param {Number} [args.precision] Override absolute precision\n     *   @param {Number} [args.base] Override relative precision\n     *   @param {Number} [args.min] Filter values less than this\n     *   @param {Number} [args.max] Filter values greater than this\n     *   @param {Number} [args.ltrim] Filter values less than Xth percentile\n     *   @param {Number} [args.rtrim] Filter values greater than 100-Xth percentile\n     *   @param {Boolean} [args.winsorize] If a data point doesn't fit the bounds,\n     *       truncate it instead of discarding.\n     *   @returns {Array<[bin: Number, weight: number]>} Array of (bin, weight) pairs\n     */\n    getBins (args) {\n        if (!this._cache.data) {\n            this._cache.data = [...this.storage]\n                .sort( (x, y) => x[0] - y[0] );\n        }\n        if (!args)\n            return this._cache.data;\n\n        const min = Math.max(\n            args.min ?? -Infinity,\n            this.percentile( args.ltrim ?? 0 ),\n        );\n        const max = Math.min(\n            args.max ?? +Infinity,\n            this.percentile( 100 - (args.rtrim ?? 0) ),\n        );\n        // TODO allow to skip buckets with too little data - param name???\n\n        if (!args.winsorize)\n            return this._cache.data.filter( x => x[0] >= min && x[0] <= max );\n\n        const first = [this.round(min), 0];\n        const last  = [this.round(max), 0];\n        const out = [first];\n        for (const [bin, count] of this._cache.data) {\n            if (bin <= first[0])\n                first[1] += count;\n            else if (bin >= last[0])\n                last[1] += count;\n            else out.push([bin, count]);\n        }\n        if (last[1] > 0)\n            out.push(last);\n        return out;\n    }\n\n    /**\n     *   @desc     Number of values in the sample.\n     *   @returns   {Number} count\n     */\n    count () {\n        return this._count;\n    }\n\n    /**\n     *   @desc Minimal value in the sample.\n     *          This value is somewhat rounded down to guarantee\n     *          it is less than _any_ value in the sample.\n     *   @returns {Number} Minimum value\n     */\n    min () {\n        const data = this.getBins();\n        return this.lower(data[0][0]);\n    }\n\n    /**\n     *   @desc Maximal value in the sample.\n     *          This value is somewhat rounded up to guarantee\n     *          it is greater than _any_ value in the sample.\n     *   @returns {Number} Maximum value\n     */\n    max () {\n        const data = this.getBins();\n        return this.upper(data[data.length - 1][0]);\n    }\n\n    /**\n     *   @desc Sum of arbitrary function over the sample.\n     *   @param {(arg: Number) => Number} fun function to integrate\n     *   @returns {Number}\n     *   @example\n     *   stat.sumOf( x => 1 ); // same as stat.count()\n     *   @example\n     *   stat.sumOf( x => x ); // same as stat.count() * stat.mean()\n     */\n    sumOf (fun) {\n        let s = 0;\n        [...this.storage].forEach( entry => { s += entry[1] * fun(entry[0]) } );\n        return s;\n    }\n    // TODO integralOf that takes bucket width into account\n\n    /**\n     *  @desc Calculate expected value of a given function over the sample.\n     *  @param {function(Number): Number} fun\n     *  @returns {Number}\n     */\n    E (fun) {\n        return this._count ? this.sumOf( fun ) / this._count : undefined;\n    }\n\n    /**\n     * @desc Average value of the sample.\n     * @returns {Number}\n     */\n    mean () {\n        return this._count ? this.sumOf( x => x ) / this._count : undefined;\n    }\n\n    /**\n     * @desc Standard deviation of the sample.\n     * Bessel's correction is used:\n     * stdev = sqrt( E<(x - E<x>)**2> * n/(n-1) )\n     * @returns {Number} Standard deviation\n     */\n    stdev () {\n        // TODO better corrections?\n        if (this._count < 2)\n            return undefined;\n        const mean = this.mean();\n        return Math.sqrt( this.sumOf( x => (x - mean) * (x - mean) )\n            / (this._count - 1) ); // Bessel's correction\n    }\n\n    /**\n     *  @desc Skewness is a measure of the asymmetry of a distribution.\n     *  Equals to 3rd standardized moment times n^2/(n-1)(n-2) correction\n     *  Undefined if there are less than 3 data points.\n     *  @returns {Number | undefined}\n     */\n    skewness () {\n        const n = this.count();\n        if (n < 3)\n            return;\n        const correction = n * n / ((n - 1) * (n - 2));\n        return correction * this.momentStd(3);\n    }\n\n    /**\n     *  @desc Kurtosis is a measure of how much of the distribution is\n     *        contained in the \"tails\".\n     *        Equals to 4th standardized moment minus 3,\n     *        with a correction.\n     *  @returns {Number | undefined}\n     */\n    kurtosis () {\n        const n = this.count();\n        if (n < 4)\n            return;\n\n        // taken from https://en.wikipedia.org/wiki/Kurtosis\n        // not sure where it comes from\n        // but if Excel is doing that, so do we.\n        const corr1 = n * n * (n + 1) / ((n - 1) * (n - 2) * (n - 3));\n        const corr2 = (n - 1) * (n - 1) / ((n - 2) * (n - 3));\n\n        return this.momentStd(4) * corr1 - 3 * corr2;\n    }\n\n    /**\n     *  @desc Moment of nth power, i.e. E((x-offset)**power)\n     *  @param {Number} power Integer power to raise to.\n     *  @param {Number} [offset] Number to subtract. Default is mean.\n     *  @returns {Number}\n     */\n    moment (power, offset) {\n        if (!Number.isInteger(power))\n            throw new Error('Cannot calculate non-integer moment (did you mean momentAbs?)');\n        if (offset === undefined)\n            offset = this.mean();\n        return this.E( x => (x - offset) ** power );\n    }\n\n    /**\n     *  @desc Absolute moment of nth power, i.e. E(|x-offset|**power)\n     *  @param {Number} power Power to raise to. May be fractional. Default is 1.\n     *  @param {Number} [offset] Number to subtract. Default is mean.\n     *  @returns {Number}\n     */\n    momentAbs (power = 1, offset) {\n        if (offset === undefined)\n            offset = this.mean();\n        return this.E( x => Math.abs(x - offset) ** power );\n    }\n\n    /**\n     *  @desc Standardized moment of nth power, i.e. nth moment / stdev**n.\n     *  @param {Number} power Integer power to raise to\n     *  @returns {Number}\n     */\n    momentStd (power) {\n        return this.moment(power) / this.stdev() ** power;\n    }\n\n    /**\n     *  @desc A number x such that P(value <= x) === p\n     *  @param {Number} p from 0 to 1\n     *  @return {Number} value\n     *  @example\n     *  const stat = new Univariate();\n     *  stat.add( 1,2,3,4,5 );\n     *  stat.quantile( 0.2 ); // slightly greater than 1\n     *  stat.quantile( 0.5 ); // 3\n     */\n    quantile (p) {\n        const target = p * this._count;\n\n        const cumulative = this._cumulative();\n\n        let l = 0;\n        let r = cumulative.length;\n\n        // console.log('target=' + target);\n\n        while ( l + 1 < r ) {\n            const m = Math.floor( (r + l) / 2 );\n            // console.log( '['+l+', '+r+'): middle='+m+':', cumulative[m]);\n\n            if (cumulative[m][1] >= target)\n                r = m;\n            else\n                l = m;\n        }\n\n        const start = this.lower(cumulative[l][0]);\n        const width = this.upper(cumulative[l][0]) - start;\n\n        // Division by zero must not happen as zero-count buckets\n        // should not exist.\n        return start + width * (target - cumulative[l][1]) / (cumulative[l][2] - cumulative[l][1]);\n    }\n\n    /**\n     *  @desc Returns x such that P(value < x) === p%.\n     *        Same as quantile(p/100).\n     *  @param {Number} p\n     *  @returns {Number} x\n     */\n    percentile (p) {\n        return this.quantile( p / 100 );\n    }\n\n    /**\n     *  @desc Returns x such that half of the sample is less than x.\n     *        Same as quantile(0.5).\n     *  @returns {Number} x\n     */\n    median () {\n        return this.quantile(0.5);\n    }\n\n    /**\n     *  @desc Cumulative distribution function, i.e. P(value < x).\n     *  This is the inverse of quantile.\n     *  @param {Number} x\n     *  @returns {Number} probability\n     */\n    cdf (x) {\n        return this._rawCdf(x) / this._count;\n    }\n\n    _rawCdf (x) {\n        const cumulative = this._cumulative();\n        const lookup = this.round(x);\n\n        // binary search\n        // Look for the leftmost bucket >= round(x)\n        // Count = total to the left of that bucket + maybe partial\n        let l = 0;\n        let r = cumulative.length;\n\n        while (l < r) {\n            const m = Math.floor((r + l) / 2);\n            // console.log('['+l+', '+r+'): mid='+m+'; bin=', cumulative[m]);\n            if (cumulative[m][0] < lookup)\n                l = m + 1;\n            else\n                r = m;\n        }\n\n        // console.log('Looked for '+x+', found: ', [cumulative[l - 1], cumulative[l]] );\n\n        if (l >= cumulative.length)\n            return this._count;\n\n        let partial = l > 0 ? cumulative[l - 1][2] : 0;\n\n        if (lookup === cumulative[l][0]) {\n            // we are within a bucket, so split it.\n            // if width == 0 then by half, otherwise proportionally\n            const width = this.upper(x) - this.lower(x);\n            const total = cumulative[l][2] - cumulative[l][1];\n            partial += width > 0\n                ? total * (x - this.lower(x)) / width\n                : total / 2;\n        }\n\n        return partial;\n    }\n\n    /**\n     *   @desc Histogram based on the sample\n     *   @param {Object} args\n     *   @param {Number} [args.count] Number of bars in the histogram.\n     *                                 Default is 10.\n     *   @param {Number}  [args.scale] If given, make sure it's\n     *   the height of the highest bar.\n     *   @return {Array<[barHeight: Number, leftBorder: Number, rightBorder: Number]>}\n     *   Array of triplets. rightBorder equals to the next bar's leftBorder.\n     */\n    histogram (args = {}) {\n        // TODO options\n        if (!this._count)\n            return [];\n        const min = this.min();\n        const max = this.max();\n        const count = args.count || 10;\n\n        const hist = []; // [ count, lower, upper ], ...\n        let edge = min;\n        const step = (max - min) / count;\n        for (let i = 0; i < count; i++)\n            hist.push( [this._rawCdf(edge + step), edge, edge += step] );\n\n        // Differenciate (must go backward!)\n        for (let i = hist.length; i-- > 1; )\n            hist[i][0] -= hist[i - 1][0];\n\n        hist[0][0] -= this._rawCdf(min);\n\n        if (args.scale) {\n            // scale to a factor e.g. for drawing pictures\n            let max = 0;\n            for (let i = 0; i < hist.length; i++) {\n                if (max < hist[i][0])\n                    max = hist[i][0];\n            }\n\n            for (let i = 0; i < hist.length; i++)\n                hist[i][0] = hist[i][0] * args.scale / max;\n        }\n\n        return hist;\n    }\n\n    _cumulative () {\n        // integral of sorted bins\n        // [ [ bin_center, sum_before, sum_after ], ... ]\n        if (!this._cache.cumulative) {\n            const data = this.getBins();\n            const cumulative = [];\n            let sum = 0;\n            for (let i = 0; i < data.length; i++)\n                cumulative.push( [data[i][0], sum, sum += data[i][1]] );\n\n            this._cache.cumulative = cumulative;\n        }\n        return this._cache.cumulative;\n    }\n}\n\n// Memoize! Replace methods with cached counterparts\n// '+' at the end if method has arguments\n[\n    'cdf+',\n    'kurtosis',\n    'max',\n    'mean',\n    'min',\n    'moment+',\n    'momentAbs+',\n    'momentStd+',\n    'quantile+',\n    'skewness',\n    'stdev',\n].forEach( method => {\n    const hasArg = !!method.match(/\\+/);\n    if (hasArg)\n        method = method.replace( '+', '' );\n    const orig = Univariate.prototype[method];\n    if (typeof orig !== 'function')\n        throw new Error('method \"' + method + '\" is cached but never defined');\n    Univariate.prototype[method] = hasArg\n        ? function (...arg) {\n            if (this._count === 0)\n                return undefined;\n            if (this._cache[method] === undefined)\n                this._cache[method] = {};\n            const key = arg.join(':');\n            if (this._cache[method][key] === undefined)\n                this._cache[method][key] = orig.apply( this, arg );\n            return this._cache[method][key];\n        }\n        : function () {\n            if (this._count === 0)\n                return undefined;\n            if (this._cache[method] === undefined)\n                this._cache[method] = orig.apply( this );\n            return this._cache[method];\n        };\n});\n\nclass Neat {\n    constructor (main) {\n        this._main = main;\n    }\n\n    min () {\n        if (!this._main._count)\n            return undefined;\n        const data = this._main.getBins();\n        return this._main.shorten(data[0][0]);\n    }\n\n    max () {\n        if (!this._main._count)\n            return undefined;\n        const data = this._main.getBins();\n        return this._main.shorten(data[data.length - 1][0]);\n    }\n}\n\n[\n    'E',\n    'kurtosis',\n    'mean',\n    'median',\n    'moment',\n    'momentAbs',\n    'momentStd',\n    'percentile',\n    'quantile',\n    'skewness',\n    'stdev',\n    'sumOf',\n].forEach( fun => {\n    Neat.prototype[fun] = function (arg) {\n        return this._main.shorten( this._main[fun](arg) );\n    }\n});\n\n[\n    'cdf',\n    'count',\n].forEach( fun => {\n    Neat.prototype[fun] = function (arg) {\n        return this._main[fun](arg);\n    }\n});\n\nmodule.exports = { Univariate };\n","(() => {\n    const { Binning } = require('./lib/binning.js');\n    const { Univariate } = require('./lib/univariate.js');\n\n    // TODO should we even bother doing it? Use window.Univariate?.. Just module.exports?..\n    // Name must be short & reflect (math, statistics, logarithm)\n    const logstat = { Binning, Univariate };\n\n    // We may have both window & module if running as a dependency under webpack\n    if (typeof window !== 'undefined')\n        window.logstat = logstat;\n    if (typeof module === 'object')\n        module.exports = logstat;\n})();\n","!function(e){var t;\"object\"==typeof exports?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.objectHash=e())}(function(){return function r(o,i,u){function s(n,e){if(!i[n]){if(!o[n]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw new Error(\"Cannot find module '\"+n+\"'\")}e=i[n]={exports:{}};o[n][0].call(e.exports,function(e){var t=o[n][1][e];return s(t||e)},e,e.exports,r,o,i,u)}return i[n].exports}for(var a=\"function\"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(w,b,m){!function(e,n,s,c,d,h,p,g,y){\"use strict\";var r=w(\"crypto\");function t(e,t){t=u(e,t);var n;return void 0===(n=\"passthrough\"!==t.algorithm?r.createHash(t.algorithm):new l).write&&(n.write=n.update,n.end=n.update),f(t,n).dispatch(e),n.update||n.end(\"\"),n.digest?n.digest(\"buffer\"===t.encoding?void 0:t.encoding):(e=n.read(),\"buffer\"!==t.encoding?e.toString(t.encoding):e)}(m=b.exports=t).sha1=function(e){return t(e)},m.keys=function(e){return t(e,{excludeValues:!0,algorithm:\"sha1\",encoding:\"hex\"})},m.MD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\"})},m.keysMD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\",excludeValues:!0})};var o=r.getHashes?r.getHashes().slice():[\"sha1\",\"md5\"],i=(o.push(\"passthrough\"),[\"buffer\",\"hex\",\"binary\",\"base64\"]);function u(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||\"sha1\",n.encoding=t.encoding||\"hex\",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error(\"Object argument required.\");for(var r=0;r<o.length;++r)o[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=o[r]);if(-1===o.indexOf(n.algorithm))throw new Error('Algorithm \"'+n.algorithm+'\"  not supported. supported values: '+o.join(\", \"));if(-1===i.indexOf(n.encoding)&&\"passthrough\"!==n.algorithm)throw new Error('Encoding \"'+n.encoding+'\"  not supported. supported values: '+i.join(\", \"));return n}function a(e){if(\"function\"==typeof e)return null!=/^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i.exec(Function.prototype.toString.call(e))}function f(o,t,i){i=i||[];function u(e){return t.update?t.update(e,\"utf8\"):t.write(e,\"utf8\")}return{dispatch:function(e){return this[\"_\"+(null===(e=o.replacer?o.replacer(e):e)?\"null\":typeof e)](e)},_object:function(t){var n,e=Object.prototype.toString.call(t),r=/\\[object (.*)\\]/i.exec(e);r=(r=r?r[1]:\"unknown:[\"+e+\"]\").toLowerCase();if(0<=(e=i.indexOf(t)))return this.dispatch(\"[CIRCULAR:\"+e+\"]\");if(i.push(t),void 0!==s&&s.isBuffer&&s.isBuffer(t))return u(\"buffer:\"),u(t);if(\"object\"===r||\"function\"===r||\"asyncfunction\"===r)return e=Object.keys(t),o.unorderedObjects&&(e=e.sort()),!1===o.respectType||a(t)||e.splice(0,0,\"prototype\",\"__proto__\",\"constructor\"),o.excludeKeys&&(e=e.filter(function(e){return!o.excludeKeys(e)})),u(\"object:\"+e.length+\":\"),n=this,e.forEach(function(e){n.dispatch(e),u(\":\"),o.excludeValues||n.dispatch(t[e]),u(\",\")});if(!this[\"_\"+r]){if(o.ignoreUnknown)return u(\"[\"+r+\"]\");throw new Error('Unknown object type \"'+r+'\"')}this[\"_\"+r](t)},_array:function(e,t){t=void 0!==t?t:!1!==o.unorderedArrays;var n=this;if(u(\"array:\"+e.length+\":\"),!t||e.length<=1)return e.forEach(function(e){return n.dispatch(e)});var r=[],t=e.map(function(e){var t=new l,n=i.slice();return f(o,t,n).dispatch(e),r=r.concat(n.slice(i.length)),t.read().toString()});return i=i.concat(r),t.sort(),this._array(t,!1)},_date:function(e){return u(\"date:\"+e.toJSON())},_symbol:function(e){return u(\"symbol:\"+e.toString())},_error:function(e){return u(\"error:\"+e.toString())},_boolean:function(e){return u(\"bool:\"+e.toString())},_string:function(e){u(\"string:\"+e.length+\":\"),u(e.toString())},_function:function(e){u(\"fn:\"),a(e)?this.dispatch(\"[native]\"):this.dispatch(e.toString()),!1!==o.respectFunctionNames&&this.dispatch(\"function-name:\"+String(e.name)),o.respectFunctionProperties&&this._object(e)},_number:function(e){return u(\"number:\"+e.toString())},_xml:function(e){return u(\"xml:\"+e.toString())},_null:function(){return u(\"Null\")},_undefined:function(){return u(\"Undefined\")},_regexp:function(e){return u(\"regex:\"+e.toString())},_uint8array:function(e){return u(\"uint8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return u(\"uint8clampedarray:\"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return u(\"int8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return u(\"uint16array:\"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return u(\"int16array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return u(\"uint32array:\"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return u(\"int32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return u(\"float32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return u(\"float64array:\"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return u(\"arraybuffer:\"),this.dispatch(new Uint8Array(e))},_url:function(e){return u(\"url:\"+e.toString())},_map:function(e){u(\"map:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_set:function(e){u(\"set:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_file:function(e){return u(\"file:\"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(o.ignoreUnknown)return u(\"[blob]\");throw Error('Hashing Blob objects is currently not supported\\n(see https://github.com/puleos/object-hash/issues/26)\\nUse \"options.replacer\" or \"options.ignoreUnknown\"\\n')},_domwindow:function(){return u(\"domwindow\")},_bigint:function(e){return u(\"bigint:\"+e.toString())},_process:function(){return u(\"process\")},_timer:function(){return u(\"timer\")},_pipe:function(){return u(\"pipe\")},_tcp:function(){return u(\"tcp\")},_udp:function(){return u(\"udp\")},_tty:function(){return u(\"tty\")},_statwatcher:function(){return u(\"statwatcher\")},_securecontext:function(){return u(\"securecontext\")},_connection:function(){return u(\"connection\")},_zlib:function(){return u(\"zlib\")},_context:function(){return u(\"context\")},_nodescript:function(){return u(\"nodescript\")},_httpparser:function(){return u(\"httpparser\")},_dataview:function(){return u(\"dataview\")},_signal:function(){return u(\"signal\")},_fsevent:function(){return u(\"fsevent\")},_tlswrap:function(){return u(\"tlswrap\")}}}function l(){return{buf:\"\",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}m.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),f(t=u(e,t),n).dispatch(e)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/fake_9a5aa49d.js\",\"/\")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){!function(e){\"use strict\";var a=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,t=\"+\".charCodeAt(0),n=\"/\".charCodeAt(0),r=\"0\".charCodeAt(0),o=\"a\".charCodeAt(0),i=\"A\".charCodeAt(0),u=\"-\".charCodeAt(0),s=\"_\".charCodeAt(0);function f(e){e=e.charCodeAt(0);return e===t||e===u?62:e===n||e===s?63:e<r?-1:e<r+10?e-r+26+26:e<i+26?e-i:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var t,n;if(0<e.length%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.length,r=\"=\"===e.charAt(r-2)?2:\"=\"===e.charAt(r-1)?1:0,o=new a(3*e.length/4-r),i=0<r?e.length-4:e.length,u=0;function s(e){o[u++]=e}for(t=0;t<i;t+=4,0)s((16711680&(n=f(e.charAt(t))<<18|f(e.charAt(t+1))<<12|f(e.charAt(t+2))<<6|f(e.charAt(t+3))))>>16),s((65280&n)>>8),s(255&n);return 2==r?s(255&(n=f(e.charAt(t))<<2|f(e.charAt(t+1))>>4)):1==r&&(s((n=f(e.charAt(t))<<10|f(e.charAt(t+1))<<4|f(e.charAt(t+2))>>2)>>8&255),s(255&n)),o},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,u=\"\";function s(e){return\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],u+=s((o=n)>>18&63)+s(o>>12&63)+s(o>>6&63)+s(63&o);switch(i){case 1:u=(u+=s((n=e[e.length-1])>>2))+s(n<<4&63)+\"==\";break;case 2:u=(u=(u+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+\"=\"}return u}}(void 0===f?this.base64js={}:f)}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js\",\"/node_modules/gulp-browserify/node_modules/base64-js/lib\")},{buffer:3,lYpoI2:11}],3:[function(O,e,H){!function(e,n,f,r,h,p,g,y,w){var a=O(\"base64-js\"),i=O(\"ieee754\");function f(e,t,n){if(!(this instanceof f))return new f(e,t,n);var r,o,i,u,s=typeof e;if(\"base64\"===t&&\"string\"==s)for(e=(u=e).trim?u.trim():u.replace(/^\\s+|\\s+$/g,\"\");e.length%4!=0;)e+=\"=\";if(\"number\"==s)r=j(e);else if(\"string\"==s)r=f.byteLength(e,t);else{if(\"object\"!=s)throw new Error(\"First argument needs to be a number, array or string.\");r=j(e.length)}if(f._useTypedArrays?o=f._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),f._useTypedArrays&&\"number\"==typeof e.byteLength)o._set(e);else if(C(u=e)||f.isBuffer(u)||u&&\"object\"==typeof u&&\"number\"==typeof u.length)for(i=0;i<r;i++)f.isBuffer(e)?o[i]=e.readUInt8(i):o[i]=e[i];else if(\"string\"==s)o.write(e,0,t);else if(\"number\"==s&&!f._useTypedArrays&&!n)for(i=0;i<r;i++)o[i]=0;return o}function b(e,t,n,r){return f._charsWritten=c(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return f._charsWritten=c(function(e){for(var t,n,r=[],o=0;o<e.length;o++)n=e.charCodeAt(o),t=n>>8,n=n%256,r.push(n),r.push(t);return r}(t),e,n,r)}function v(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function o(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function u(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function _(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=o(e,t,n,!0),32768&r?-1*(65535-r+1):r}function E(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=u(e,t,n,!0),2147483648&r?-1*(4294967295-r+1):r}function I(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,23,4)}function A(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+7<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,52,8)}function s(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"trying to write beyond buffer length\"),Y(t,65535));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,2);i<u;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function l(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"trying to write beyond buffer length\"),Y(t,4294967295));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,4);i<u;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"Trying to write beyond buffer length\"),F(t,32767,-32768)),e.length<=n||s(e,0<=t?t:65535+t+1,n,r,o)}function L(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),F(t,2147483647,-2147483648)),e.length<=n||l(e,0<=t?t:4294967295+t+1,n,r,o)}function U(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||i.write(e,t,n,r,23,4)}function x(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+7<e.length,\"Trying to write beyond buffer length\"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||i.write(e,t,n,r,52,8)}H.Buffer=f,H.SlowBuffer=f,H.INSPECT_MAX_BYTES=50,f.poolSize=8192,f._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&\"function\"==typeof t.subarray}catch(e){return!1}}(),f.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"raw\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.byteLength=function(e,t){var n;switch(e+=\"\",t||\"utf8\"){case\"hex\":n=e.length/2;break;case\"utf8\":case\"utf-8\":n=T(e).length;break;case\"ascii\":case\"binary\":case\"raw\":n=e.length;break;case\"base64\":n=M(e).length;break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":n=2*e.length;break;default:throw new Error(\"Unknown encoding\")}return n},f.concat=function(e,t){if(d(C(e),\"Usage: Buffer.concat(list, [totalLength])\\nlist should be an Array.\"),0===e.length)return new f(0);if(1===e.length)return e[0];if(\"number\"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new f(t),r=0,o=0;o<e.length;o++){var i=e[o];i.copy(n,r),r+=i.length}return n},f.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(a=r,r=t,t=n,n=a),t=Number(t)||0;var o,i,u,s,a=this.length-t;switch((!n||a<(n=Number(n)))&&(n=a),r=String(r||\"utf8\").toLowerCase()){case\"hex\":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),d((o=t.length)%2==0,\"Invalid hex string\"),o/2<r&&(r=o/2);for(var i=0;i<r;i++){var u=parseInt(t.substr(2*i,2),16);d(!isNaN(u),\"Invalid hex string\"),e[n+i]=u}return f._charsWritten=2*i,i}(this,e,t,n);break;case\"utf8\":case\"utf-8\":i=this,u=t,s=n,o=f._charsWritten=c(T(e),i,u,s);break;case\"ascii\":case\"binary\":o=b(this,e,t,n);break;case\"base64\":i=this,u=t,s=n,o=f._charsWritten=c(M(e),i,u,s);break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":o=m(this,e,t,n);break;default:throw new Error(\"Unknown encoding\")}return o},f.prototype.toString=function(e,t,n){var r,o,i,u,s=this;if(e=String(e||\"utf8\").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return\"\";switch(e){case\"hex\":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var o=\"\",i=t;i<n;i++)o+=k(e[i]);return o}(s,t,n);break;case\"utf8\":case\"utf-8\":r=function(e,t,n){var r=\"\",o=\"\";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=N(o)+String.fromCharCode(e[i]),o=\"\"):o+=\"%\"+e[i].toString(16);return r+N(o)}(s,t,n);break;case\"ascii\":case\"binary\":r=v(s,t,n);break;case\"base64\":o=s,u=n,r=0===(i=t)&&u===o.length?a.fromByteArray(o):a.fromByteArray(o.slice(i,u));break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":r=function(e,t,n){for(var r=e.slice(t,n),o=\"\",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}(s,t,n);break;default:throw new Error(\"Unknown encoding\")}return r},f.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){d(n<=r,\"sourceEnd < sourceStart\"),d(0<=t&&t<e.length,\"targetStart out of bounds\"),d(0<=n&&n<this.length,\"sourceStart out of bounds\"),d(0<=r&&r<=this.length,\"sourceEnd out of bounds\"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!f._useTypedArrays)for(var i=0;i<o;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+o),t)}},f.prototype.slice=function(e,t){var n=this.length;if(e=S(e,n,0),t=S(t,n,n),f._useTypedArrays)return f._augment(this.subarray(e,t));for(var r=t-e,o=new f(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+e];return o},f.prototype.get=function(e){return console.log(\".get() is deprecated. Access using array indexes instead.\"),this.readUInt8(e)},f.prototype.set=function(e,t){return console.log(\".set() is deprecated. Access using array indexes instead.\"),this.writeUInt8(e,t)},f.prototype.readUInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return this[e]},f.prototype.readUInt16LE=function(e,t){return o(this,e,!0,t)},f.prototype.readUInt16BE=function(e,t){return o(this,e,!1,t)},f.prototype.readUInt32LE=function(e,t){return u(this,e,!0,t)},f.prototype.readUInt32BE=function(e,t){return u(this,e,!1,t)},f.prototype.readInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){return _(this,e,!0,t)},f.prototype.readInt16BE=function(e,t){return _(this,e,!1,t)},f.prototype.readInt32LE=function(e,t){return E(this,e,!0,t)},f.prototype.readInt32BE=function(e,t){return E(this,e,!1,t)},f.prototype.readFloatLE=function(e,t){return I(this,e,!0,t)},f.prototype.readFloatBE=function(e,t){return I(this,e,!1,t)},f.prototype.readDoubleLE=function(e,t){return A(this,e,!0,t)},f.prototype.readDoubleBE=function(e,t){return A(this,e,!1,t)},f.prototype.writeUInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"trying to write beyond buffer length\"),Y(e,255)),t>=this.length||(this[t]=e)},f.prototype.writeUInt16LE=function(e,t,n){s(this,e,t,!0,n)},f.prototype.writeUInt16BE=function(e,t,n){s(this,e,t,!1,n)},f.prototype.writeUInt32LE=function(e,t,n){l(this,e,t,!0,n)},f.prototype.writeUInt32BE=function(e,t,n){l(this,e,t,!1,n)},f.prototype.writeInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"Trying to write beyond buffer length\"),F(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},f.prototype.writeInt16LE=function(e,t,n){B(this,e,t,!0,n)},f.prototype.writeInt16BE=function(e,t,n){B(this,e,t,!1,n)},f.prototype.writeInt32LE=function(e,t,n){L(this,e,t,!0,n)},f.prototype.writeInt32BE=function(e,t,n){L(this,e,t,!1,n)},f.prototype.writeFloatLE=function(e,t,n){U(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){U(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){x(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){x(this,e,t,!1,n)},f.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,d(\"number\"==typeof(e=\"string\"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),\"value is not a number\"),d(t<=n,\"end < start\"),n!==t&&0!==this.length){d(0<=t&&t<this.length,\"start out of bounds\"),d(0<=n&&n<=this.length,\"end out of bounds\");for(var r=t;r<n;r++)this[r]=e}},f.prototype.inspect=function(){for(var e=[],t=this.length,n=0;n<t;n++)if(e[n]=k(this[n]),n===H.INSPECT_MAX_BYTES){e[n+1]=\"...\";break}return\"<Buffer \"+e.join(\" \")+\">\"},f.prototype.toArrayBuffer=function(){if(\"undefined\"==typeof Uint8Array)throw new Error(\"Buffer.toArrayBuffer not supported in this browser\");if(f._useTypedArrays)return new f(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var t=f.prototype;function S(e,t,n){return\"number\"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function j(e){return(e=~~Math.ceil(+e))<0?0:e}function C(e){return(Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split(\"%\")),u=0;u<i.length;u++)t.push(parseInt(i[u],16))}return t}function M(e){return a.toByteArray(e)}function c(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function Y(e,t){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(0<=e,\"specified a negative value for writing an unsigned value\"),d(e<=t,\"value is larger than maximum value for type\"),d(Math.floor(e)===e,\"value has a fractional component\")}function F(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\"),d(Math.floor(e)===e,\"value has a fractional component\")}function D(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\")}function d(e,t){if(!e)throw new Error(t||\"Failed assertion\")}f._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=t.get,e.set=t.set,e.write=t.write,e.toString=t.toString,e.toLocaleString=t.toString,e.toJSON=t.toJSON,e.copy=t.copy,e.slice=t.slice,e.readUInt8=t.readUInt8,e.readUInt16LE=t.readUInt16LE,e.readUInt16BE=t.readUInt16BE,e.readUInt32LE=t.readUInt32LE,e.readUInt32BE=t.readUInt32BE,e.readInt8=t.readInt8,e.readInt16LE=t.readInt16LE,e.readInt16BE=t.readInt16BE,e.readInt32LE=t.readInt32LE,e.readInt32BE=t.readInt32BE,e.readFloatLE=t.readFloatLE,e.readFloatBE=t.readFloatBE,e.readDoubleLE=t.readDoubleLE,e.readDoubleBE=t.readDoubleBE,e.writeUInt8=t.writeUInt8,e.writeUInt16LE=t.writeUInt16LE,e.writeUInt16BE=t.writeUInt16BE,e.writeUInt32LE=t.writeUInt32LE,e.writeUInt32BE=t.writeUInt32BE,e.writeInt8=t.writeInt8,e.writeInt16LE=t.writeInt16LE,e.writeInt16BE=t.writeInt16BE,e.writeInt32LE=t.writeInt32LE,e.writeInt32BE=t.writeInt32BE,e.writeFloatLE=t.writeFloatLE,e.writeFloatBE=t.writeFloatBE,e.writeDoubleLE=t.writeDoubleLE,e.writeDoubleBE=t.writeDoubleBE,e.fill=t.fill,e.inspect=t.inspect,e.toArrayBuffer=t.toArrayBuffer,e}}.call(this,O(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},O(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/buffer/index.js\",\"/node_modules/gulp-browserify/node_modules/buffer\")},{\"base64-js\":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(c,d,e){!function(e,t,a,n,r,o,i,u,s){var a=c(\"buffer\").Buffer,f=4,l=new a(f);l.fill(0);d.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%f!=0&&(n=e.length+(f-e.length%f),e=a.concat([e,l],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=f)r.push(o.call(e,i));return r}(e=a.isBuffer(e)?e:new a(e),r),8*e.length),t=r,i=new a(n),u=t?i.writeInt32BE:i.writeInt32LE,s=0;s<o.length;s++)u.call(i,o[s],4*s,!0);return i}}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],5:[function(v,e,_){!function(l,c,u,d,h,p,g,y,w){var u=v(\"buffer\").Buffer,e=v(\"./sha\"),t=v(\"./sha256\"),n=v(\"./rng\"),b={sha1:e,sha256:t,md5:v(\"./md5\")},s=64,a=new u(s);function r(e,n){var r=b[e=e||\"sha1\"],o=[];return r||i(\"algorithm:\",e,\"is not yet supported\"),{update:function(e){return u.isBuffer(e)||(e=new u(e)),o.push(e),e.length,this},digest:function(e){var t=u.concat(o),t=n?function(e,t,n){u.isBuffer(t)||(t=new u(t)),u.isBuffer(n)||(n=new u(n)),t.length>s?t=e(t):t.length<s&&(t=u.concat([t,a],s));for(var r=new u(s),o=new u(s),i=0;i<s;i++)r[i]=54^t[i],o[i]=92^t[i];return n=e(u.concat([r,n])),e(u.concat([o,n]))}(r,n,t):r(t);return o=null,e?t.toString(e):t}}}function i(){var e=[].slice.call(arguments).join(\" \");throw new Error([e,\"we accept pull requests\",\"http://github.com/dominictarr/crypto-browserify\"].join(\"\\n\"))}a.fill(0),_.createHash=function(e){return r(e)},_.createHmac=r,_.randomBytes=function(e,t){if(!t||!t.call)return new u(n(e));try{t.call(this,void 0,new u(n(e)))}catch(e){t(e)}};var o,f=[\"createCredentials\",\"createCipher\",\"createCipheriv\",\"createDecipher\",\"createDecipheriv\",\"createSign\",\"createVerify\",\"createDiffieHellman\",\"pbkdf2\"],m=function(e){_[e]=function(){i(\"sorry,\",e,\"is not implemented yet\")}};for(o in f)m(f[o],o)}.call(this,v(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},v(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./md5\":6,\"./rng\":7,\"./sha\":8,\"./sha256\":9,buffer:3,lYpoI2:11}],6:[function(w,b,e){!function(e,r,o,i,u,a,f,l,y){var t=w(\"./helpers\");function n(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<e.length;u+=16){var s=n,a=r,f=o,l=i,n=c(n,r,o,i,e[u+0],7,-680876936),i=c(i,n,r,o,e[u+1],12,-389564586),o=c(o,i,n,r,e[u+2],17,606105819),r=c(r,o,i,n,e[u+3],22,-1044525330);n=c(n,r,o,i,e[u+4],7,-176418897),i=c(i,n,r,o,e[u+5],12,1200080426),o=c(o,i,n,r,e[u+6],17,-1473231341),r=c(r,o,i,n,e[u+7],22,-45705983),n=c(n,r,o,i,e[u+8],7,1770035416),i=c(i,n,r,o,e[u+9],12,-1958414417),o=c(o,i,n,r,e[u+10],17,-42063),r=c(r,o,i,n,e[u+11],22,-1990404162),n=c(n,r,o,i,e[u+12],7,1804603682),i=c(i,n,r,o,e[u+13],12,-40341101),o=c(o,i,n,r,e[u+14],17,-1502002290),n=d(n,r=c(r,o,i,n,e[u+15],22,1236535329),o,i,e[u+1],5,-165796510),i=d(i,n,r,o,e[u+6],9,-1069501632),o=d(o,i,n,r,e[u+11],14,643717713),r=d(r,o,i,n,e[u+0],20,-373897302),n=d(n,r,o,i,e[u+5],5,-701558691),i=d(i,n,r,o,e[u+10],9,38016083),o=d(o,i,n,r,e[u+15],14,-660478335),r=d(r,o,i,n,e[u+4],20,-405537848),n=d(n,r,o,i,e[u+9],5,568446438),i=d(i,n,r,o,e[u+14],9,-1019803690),o=d(o,i,n,r,e[u+3],14,-187363961),r=d(r,o,i,n,e[u+8],20,1163531501),n=d(n,r,o,i,e[u+13],5,-1444681467),i=d(i,n,r,o,e[u+2],9,-51403784),o=d(o,i,n,r,e[u+7],14,1735328473),n=h(n,r=d(r,o,i,n,e[u+12],20,-1926607734),o,i,e[u+5],4,-378558),i=h(i,n,r,o,e[u+8],11,-2022574463),o=h(o,i,n,r,e[u+11],16,1839030562),r=h(r,o,i,n,e[u+14],23,-35309556),n=h(n,r,o,i,e[u+1],4,-1530992060),i=h(i,n,r,o,e[u+4],11,1272893353),o=h(o,i,n,r,e[u+7],16,-155497632),r=h(r,o,i,n,e[u+10],23,-1094730640),n=h(n,r,o,i,e[u+13],4,681279174),i=h(i,n,r,o,e[u+0],11,-358537222),o=h(o,i,n,r,e[u+3],16,-722521979),r=h(r,o,i,n,e[u+6],23,76029189),n=h(n,r,o,i,e[u+9],4,-640364487),i=h(i,n,r,o,e[u+12],11,-421815835),o=h(o,i,n,r,e[u+15],16,530742520),n=p(n,r=h(r,o,i,n,e[u+2],23,-995338651),o,i,e[u+0],6,-198630844),i=p(i,n,r,o,e[u+7],10,1126891415),o=p(o,i,n,r,e[u+14],15,-1416354905),r=p(r,o,i,n,e[u+5],21,-57434055),n=p(n,r,o,i,e[u+12],6,1700485571),i=p(i,n,r,o,e[u+3],10,-1894986606),o=p(o,i,n,r,e[u+10],15,-1051523),r=p(r,o,i,n,e[u+1],21,-2054922799),n=p(n,r,o,i,e[u+8],6,1873313359),i=p(i,n,r,o,e[u+15],10,-30611744),o=p(o,i,n,r,e[u+6],15,-1560198380),r=p(r,o,i,n,e[u+13],21,1309151649),n=p(n,r,o,i,e[u+4],6,-145523070),i=p(i,n,r,o,e[u+11],10,-1120210379),o=p(o,i,n,r,e[u+2],15,718787259),r=p(r,o,i,n,e[u+9],21,-343485551),n=g(n,s),r=g(r,a),o=g(o,f),i=g(i,l)}return Array(n,r,o,i)}function s(e,t,n,r,o,i){return g((t=g(g(t,e),g(r,i)))<<o|t>>>32-o,n)}function c(e,t,n,r,o,i,u){return s(t&n|~t&r,e,t,o,i,u)}function d(e,t,n,r,o,i,u){return s(t&r|n&~r,e,t,o,i,u)}function h(e,t,n,r,o,i,u){return s(t^n^r,e,t,o,i,u)}function p(e,t,n,r,o,i,u){return s(n^(t|~r),e,t,o,i,u)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}b.exports=function(e){return t.hash(e,n,16)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],7:[function(e,l,t){!function(e,t,n,r,o,i,u,s,f){var a;l.exports=a||function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],8:[function(c,d,e){!function(e,t,n,r,o,s,a,f,l){var i=c(\"./helpers\");function u(l,c){l[c>>5]|=128<<24-c%32,l[15+(c+64>>9<<4)]=c;for(var e,t,n,r=Array(80),o=1732584193,i=-271733879,u=-1732584194,s=271733878,d=-1009589776,h=0;h<l.length;h+=16){for(var p=o,g=i,y=u,w=s,b=d,a=0;a<80;a++){r[a]=a<16?l[h+a]:v(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var f=m(m(v(o,5),(f=i,t=u,n=s,(e=a)<20?f&t|~f&n:!(e<40)&&e<60?f&t|f&n|t&n:f^t^n)),m(m(d,r[a]),(e=a)<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514)),d=s,s=u,u=v(i,30),i=o,o=f}o=m(o,p),i=m(i,g),u=m(u,y),s=m(s,w),d=m(d,b)}return Array(o,i,u,s,d)}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t){return e<<t|e>>>32-t}d.exports=function(e){return i.hash(e,u,20,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],9:[function(c,d,e){!function(e,t,n,r,u,s,a,f,l){function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,l){var c,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),t=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),n=new Array(64);e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l;for(var r,o,h=0;h<e.length;h+=16){for(var i=t[0],u=t[1],s=t[2],p=t[3],a=t[4],g=t[5],y=t[6],w=t[7],f=0;f<64;f++)n[f]=f<16?e[f+h]:b(b(b((o=n[f-2],m(o,17)^m(o,19)^v(o,10)),n[f-7]),(o=n[f-15],m(o,7)^m(o,18)^v(o,3))),n[f-16]),c=b(b(b(b(w,m(o=a,6)^m(o,11)^m(o,25)),a&g^~a&y),d[f]),n[f]),r=b(m(r=i,2)^m(r,13)^m(r,22),i&u^i&s^u&s),w=y,y=g,g=a,a=b(p,c),p=s,s=u,u=i,i=b(c,r);t[0]=b(i,t[0]),t[1]=b(u,t[1]),t[2]=b(s,t[2]),t[3]=b(p,t[3]),t[4]=b(a,t[4]),t[5]=b(g,t[5]),t[6]=b(y,t[6]),t[7]=b(w,t[7])}return t}var i=c(\"./helpers\"),m=function(e,t){return e>>>t|e<<32-t},v=function(e,t){return e>>>t};d.exports=function(e){return i.hash(e,o,32,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],10:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){f.read=function(e,t,n,r,o){var i,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,s=-7,a=n?o-1:0,f=n?-1:1,o=e[t+a];for(a+=f,i=o&(1<<-s)-1,o>>=-s,s+=l;0<s;i=256*i+e[t+a],a+=f,s-=8);for(u=i&(1<<-s)-1,i>>=-s,s+=r;0<s;u=256*u+e[t+a],a+=f,s-=8);if(0===i)i=1-d;else{if(i===c)return u?NaN:1/0*(o?-1:1);u+=Math.pow(2,r),i-=d}return(o?-1:1)*u*Math.pow(2,i-r)},f.write=function(e,t,l,n,r,c){var o,i,u=8*c-r-1,s=(1<<u)-1,a=s>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:c-1,h=n?1:-1,c=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,o=s):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+a?d/n:d*Math.pow(2,1-a))*n&&(o++,n/=2),s<=o+a?(i=0,o=s):1<=o+a?(i=(t*n-1)*Math.pow(2,r),o+=a):(i=t*Math.pow(2,a-1)*Math.pow(2,r),o=0));8<=r;e[l+f]=255&i,f+=h,i/=256,r-=8);for(o=o<<r|i,u+=r;0<u;e[l+f]=255&o,f+=h,o/=256,u-=8);e[l+f-h]|=128*c}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/ieee754/index.js\",\"/node_modules/gulp-browserify/node_modules/ieee754\")},{buffer:3,lYpoI2:11}],11:[function(e,h,t){!function(e,t,n,r,o,f,l,c,d){var i,u,s;function a(){}(e=h.exports={}).nextTick=(u=\"undefined\"!=typeof window&&window.setImmediate,s=\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener,u?function(e){return window.setImmediate(e)}:s?(i=[],window.addEventListener(\"message\",function(e){var t=e.source;t!==window&&null!==t||\"process-tick\"!==e.data||(e.stopPropagation(),0<i.length&&i.shift()())},!0),function(e){i.push(e),window.postMessage(\"process-tick\",\"*\")}):function(e){setTimeout(e,0)}),e.title=\"browser\",e.browser=!0,e.env={},e.argv=[],e.on=a,e.addListener=a,e.once=a,e.off=a,e.removeListener=a,e.removeAllListeners=a,e.emit=a,e.binding=function(e){throw new Error(\"process.binding is not supported\")},e.cwd=function(){return\"/\"},e.chdir=function(e){throw new Error(\"process.chdir is not supported\")}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/process/browser.js\",\"/node_modules/gulp-browserify/node_modules/process\")},{buffer:3,lYpoI2:11}]},{},[1])(1)});","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\" || typeof components.port === \"string\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(String(components.port));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\tconst secure = String(components.scheme).toLowerCase() === \"https\";\n\n\t\t//normalize the default port\n\t\tif (components.port === (secure ? 443 : 80) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nexport interface WSComponents extends URIComponents {\n\tresourceName?: string;\n\tsecure?: boolean;\n}\n\nfunction isSecure(wsComponents:WSComponents):boolean {\n\treturn typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n\n//RFC 6455\nconst handler:URISchemeHandler = {\n\tscheme : \"ws\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):WSComponents {\n\t\tconst wsComponents = components as WSComponents;\n\n\t\t//indicate if the secure flag is set\n\t\twsComponents.secure = isSecure(wsComponents);\n\n\t\t//construct resouce name\n\t\twsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n\t\twsComponents.path = undefined;\n\t\twsComponents.query = undefined;\n\n\t\treturn wsComponents;\n\t},\n\n\tserialize : function (wsComponents:WSComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n\t\t\twsComponents.port = undefined;\n\t\t}\n\n\t\t//ensure scheme matches secure flag\n\t\tif (typeof wsComponents.secure === 'boolean') {\n\t\t\twsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws');\n\t\t\twsComponents.secure = undefined;\n\t\t}\n\n\t\t//reconstruct path from resource name\n\t\tif (wsComponents.resourceName) {\n\t\t\tconst [path, query] = wsComponents.resourceName.split('?');\n\t\t\twsComponents.path = (path && path !== '/' ? path : undefined);\n\t\t\twsComponents.query = query;\n\t\t\twsComponents.resourceName = undefined;\n\t\t}\n\n\t\t//forbid fragment component\n\t\twsComponents.fragment = undefined;\n\n\t\treturn wsComponents;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport ws from \"./ws\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"wss\",\n\tdomainHost : ws.domainHost,\n\tparse : ws.parse,\n\tserialize : ws.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport ws from \"./schemes/ws\";\nSCHEMES[ws.scheme] = ws;\n\nimport wss from \"./schemes/wss\";\nSCHEMES[wss.scheme] = wss;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues || (exports.TraceValues = TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n        this.asciiDecoder = new TextDecoder('ascii');\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, _encoding) {\n        return (new TextEncoder()).encode(value);\n    }\n    toString(value, encoding) {\n        if (encoding === 'ascii') {\n            return this.asciiDecoder.decode(value);\n        }\n        else {\n            return (new TextDecoder(encoding)).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer;\n        }\n        else {\n            return buffer.slice(0, length);\n        }\n    }\n    allocNative(length) {\n        return new Uint8Array(length);\n    }\n}\nMessageBuffer.emptyBuffer = new Uint8Array(0);\nclass ReadableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            const blob = event.data;\n            blob.arrayBuffer().then((buffer) => {\n                this._onData.fire(new Uint8Array(buffer));\n            }, () => {\n                (0, api_1.RAL)().console.error(`Converting blob to array buffer failed.`);\n            });\n        };\n        this.socket.addEventListener('message', this._messageListener);\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    onData(listener) {\n        return this._onData.event(listener);\n    }\n}\nclass WritableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    write(data, encoding) {\n        if (typeof data === 'string') {\n            if (encoding !== undefined && encoding !== 'utf-8') {\n                throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${encoding}`);\n            }\n            this.socket.send(data);\n        }\n        else {\n            this.socket.send(data);\n        }\n        return Promise.resolve();\n    }\n    end() {\n        this.socket.close();\n    }\n}\nconst _textEncoder = new TextEncoder();\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                if (options.charset !== 'utf-8') {\n                    throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${options.charset}`);\n                }\n                return Promise.resolve(_textEncoder.encode(JSON.stringify(msg, undefined, 0)));\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                if (!(buffer instanceof Uint8Array)) {\n                    throw new Error(`In a Browser environments only Uint8Arrays are supported.`);\n                }\n                return Promise.resolve(JSON.parse(new TextDecoder(options.charset).decode(buffer)));\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (socket) => new ReadableStreamWrapper(socket),\n        asWritableStream: (socket) => new WritableStreamWrapper(socket)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setTimeout(callback, 0, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        },\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.BrowserMessageWriter = exports.BrowserMessageReader = void 0;\nconst ril_1 = require(\"./ril\");\n// Install the browser runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass BrowserMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            this._onData.fire(event.data);\n        };\n        port.addEventListener('error', (event) => this.fireError(event));\n        port.onmessage = this._messageListener;\n    }\n    listen(callback) {\n        return this._onData.event(callback);\n    }\n}\nexports.BrowserMessageReader = BrowserMessageReader;\nclass BrowserMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.addEventListener('error', (event) => this.fireError(event));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.BrowserMessageWriter = BrowserMessageWriter;\nfunction createMessageConnection(reader, writer, logger, options) {\n    if (logger === undefined) {\n        logger = api_1.NullLogger;\n    }\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/browser/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line, character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri, range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red,\n            green,\n            blue,\n            alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range,\n            color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label,\n            textEdit,\n            additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        const result = {\n            startLine,\n            endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location,\n            message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        let result = { range, message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        let candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command, ...args) {\n        let result = { title, command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range, newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        const result = { label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument, edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'create',\n            uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        let result = {\n            kind: 'rename',\n            oldUri,\n            newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'delete',\n            uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every((change) => {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nclass TextEditChangeImpl {\n    constructor(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    insert(position, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    replace(range, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    delete(range, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    add(edit) {\n        this.edits.push(edit);\n    }\n    all() {\n        return this.edits;\n    }\n    clear() {\n        this.edits.splice(0, this.edits.length);\n    }\n    assertChangeAnnotations(value) {\n        if (value === undefined) {\n            throw new Error(`Text edit change is not configured to manage change annotations.`);\n        }\n    }\n}\n/**\n * A helper class\n */\nclass ChangeAnnotations {\n    constructor(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    all() {\n        return this._annotations;\n    }\n    get size() {\n        return this._size;\n    }\n    manage(idOrAnnotation, annotation) {\n        let id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(`Id ${id} is already in use.`);\n        }\n        if (annotation === undefined) {\n            throw new Error(`No annotation provided for id ${id}`);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    }\n    nextId() {\n        this._counter++;\n        return this._counter.toString();\n    }\n}\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nexport class WorkspaceChange {\n    constructor(workspaceEdit) {\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach((change) => {\n                    if (TextDocumentEdit.is(change)) {\n                        const textEditChange = new TextEditChangeImpl(change.edits, this._changeAnnotations);\n                        this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach((key) => {\n                    const textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    /**\n     * Returns the underlying {@link WorkspaceEdit} literal\n     * use to be returned from a workspace edit operation like rename.\n     */\n    get edit() {\n        this.initDocumentChanges();\n        if (this._changeAnnotations !== undefined) {\n            if (this._changeAnnotations.size === 0) {\n                this._workspaceEdit.changeAnnotations = undefined;\n            }\n            else {\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        }\n        return this._workspaceEdit;\n    }\n    getTextEditChange(key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            const textDocument = { uri: key.uri, version: key.version };\n            let result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                const edits = [];\n                const textDocumentEdit = {\n                    textDocument,\n                    edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            let result = this._textEditChanges[key];\n            if (!result) {\n                let edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    }\n    initDocumentChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    }\n    initChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    }\n    createFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    renameFile(oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    deleteFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n}\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri, languageId, version, text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText, insert, replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label, documentation } : { label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation, ...parameters) {\n        let result = { label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        let result = { range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        let result = {\n            name,\n            kind,\n            location: { uri, range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name, kind, location: { uri, range } }\n            : { name, kind, location: { uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        let result = {\n            name,\n            detail,\n            kind,\n            range,\n            selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        let result = { diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        let result = { title };\n        let checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        let result = { range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize, insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range, target, data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range, parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range, text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range, variableName, caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range, expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId, stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        const result = { position, label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var StringValue;\n(function (StringValue) {\n    function createSnippet(value) {\n        return { kind: 'snippet', value };\n    }\n    StringValue.createSnippet = createSnippet;\n})(StringValue || (StringValue = {}));\nexport var InlineCompletionItem;\n(function (InlineCompletionItem) {\n    function create(insertText, filterText, range, command) {\n        return { insertText, filterText, range, command };\n    }\n    InlineCompletionItem.create = create;\n})(InlineCompletionItem || (InlineCompletionItem = {}));\nexport var InlineCompletionList;\n(function (InlineCompletionList) {\n    function create(items) {\n        return { items };\n    }\n    InlineCompletionList.create = create;\n})(InlineCompletionList || (InlineCompletionList = {}));\n/**\n * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n *\n * @since 3.18.0\n * @proposed\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     */\n    InlineCompletionTriggerKind.Invoked = 0;\n    /**\n     * Completion was triggered automatically while editing.\n     */\n    InlineCompletionTriggerKind.Automatic = 1;\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport var SelectedCompletionInfo;\n(function (SelectedCompletionInfo) {\n    function create(range, text) {\n        return { range, text };\n    }\n    SelectedCompletionInfo.create = create;\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\nexport var InlineCompletionContext;\n(function (InlineCompletionContext) {\n    function create(triggerKind, selectedCompletionInfo) {\n        return { triggerKind, selectedCompletionInfo };\n    }\n    InlineCompletionContext.create = create;\n})(InlineCompletionContext || (InlineCompletionContext = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport const EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits, (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = text.length;\n        for (let i = sortedEdits.length - 1; i >= 0; i--) {\n            let e = sortedEdits[i];\n            let startOffset = document.offsetAt(e.range.start);\n            let endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        const p = (data.length / 2) | 0;\n        const left = data.slice(0, p);\n        const right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        let leftIdx = 0;\n        let rightIdx = 0;\n        let i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            let ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            let start = this.offsetAt(range.start);\n            let end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            let lineOffsets = [];\n            let text = this._content;\n            let isLineStart = true;\n            for (let i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                let ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n}\nvar Is;\n(function (Is) {\n    const toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst browser_1 = require(\"vscode-jsonrpc/browser\");\n__exportStar(require(\"vscode-jsonrpc/browser\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(reader, writer, logger, options) {\n    return (0, browser_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineCompletionFeature = (Base) => {\n    return class extends Base {\n        get inlineCompletion() {\n            return {\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineCompletionFeature = InlineCompletionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FoldingRangeFeature = (Base) => {\n    return class extends Base {\n        get foldingRange() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.FoldingRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.FoldingRangeFeature = FoldingRangeFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst foldingRange_1 = require(\"./foldingRange\");\n// import { InlineCompletionFeatureShape, InlineCompletionFeature } from './inlineCompletion.proposed';\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    debug(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Debug, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration || (exports.BulkRegistration = BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration || (exports.BulkUnregistration = BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, foldingRange_1.FoldingRangeFeature)((0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl)))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            return connection.sendNotification(method, param);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\nconst ic = require(\"./inlineCompletion.proposed\");\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n        languages: ic.InlineCompletionFeature\n    };\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/browser/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = void 0;\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"vscode-languageserver-protocol/browser\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nlet _shutdownReceived = false;\nconst watchDog = {\n    initialize: (_params) => {\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (_code) => {\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let reader;\n    let writer;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (api_1.ConnectionStrategy.is(arg1) || api_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        reader = arg1;\n        writer = arg2;\n        options = arg3;\n    }\n    const connectionFactory = (logger) => {\n        return (0, api_1.createProtocolConnection)(reader, writer, logger, options);\n    };\n    return (0, api_1.createConnection)(connectionFactory, watchDog, factories);\n}\nexports.createConnection = createConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/browser/main');","#!/usr/bin/env node\n\nimport * as dns from \"node:dns\";\nimport { TabbyAgent } from \"../TabbyAgent\";\nimport { Server } from \"./Server\";\nimport { isBrowser } from \"../env\";\n\nif (!isBrowser) {\n  dns.setDefaultResultOrder(\"ipv4first\");\n}\nconst server = new Server(new TabbyAgent());\nserver.listen();\n","export default {};\n","import { EventEmitter } from \"events\";\nimport { v4 as uuid } from \"uuid\";\nimport deepEqual from \"deep-equal\";\nimport { deepmerge } from \"deepmerge-ts\";\nimport { getProperty, setProperty, deleteProperty } from \"dot-prop\";\nimport createClient from \"openapi-fetch\";\nimport type { ParseAs } from \"openapi-fetch\";\nimport * as semver from \"semver\";\nimport { Readable } from \"readable-stream\";\nimport type { paths as TabbyApi, components as TabbyApiComponents } from \"tabby-openapi/compatible\";\nimport type {\n  Agent,\n  AgentStatus,\n  AgentIssue,\n  AgentEvent,\n  ClientProperties,\n  AgentInitOptions,\n  AbortSignalOption,\n  ServerHealthState,\n  CompletionRequest,\n  CompletionResponse,\n  LogEventRequest,\n} from \"./Agent\";\nimport { dataStore as defaultDataStore, DataStore } from \"./dataStore\";\nimport {\n  isBlank,\n  abortSignalFromAnyOf,\n  HttpError,\n  isTimeoutError,\n  isCanceledError,\n  isUnauthorizedError,\n  errorToString,\n  stringToRegExp,\n} from \"./utils\";\nimport { readChatStream, parseChatResponse } from \"./stream\";\nimport { Auth } from \"./Auth\";\nimport { AgentConfig, PartialAgentConfig, defaultAgentConfig } from \"./AgentConfig\";\nimport { configFile } from \"./configFile\";\nimport { CompletionCache } from \"./CompletionCache\";\nimport { CompletionDebounce } from \"./CompletionDebounce\";\nimport { CompletionStats, RequestStats } from \"./CompletionStats\";\nimport { CompletionContext } from \"./CompletionContext\";\nimport { CompletionSolution, CompletionItem, emptyInlineCompletionList } from \"./CompletionSolution\";\nimport { preCacheProcess, postCacheProcess } from \"./postprocess\";\nimport { getLogger, logDestinations, fileLogger } from \"./logger\";\nimport { AnonymousUsageLogger } from \"./AnonymousUsageLogger\";\nimport { loadTlsCaCerts } from \"./loadCaCerts\";\nimport { createProxyForUrl, ProxyConfig } from \"./http/proxy\";\n\nexport class TabbyAgent extends EventEmitter implements Agent {\n  private readonly logger = getLogger(\"TabbyAgent\");\n  private anonymousUsageLogger = new AnonymousUsageLogger();\n  private config: AgentConfig = defaultAgentConfig;\n  private userConfig: PartialAgentConfig = {}; // config from `~/.tabby-client/agent/config.toml`\n  private clientConfig: PartialAgentConfig = {}; // config from `initialize` and `updateConfig` method\n  private serverProvidedConfig: PartialAgentConfig = {}; // config fetched from server and saved in dataStore\n  private status: AgentStatus = \"notInitialized\";\n  private issues: AgentIssue[\"name\"][] = [];\n  private serverHealthState?: ServerHealthState;\n  private connectionErrorMessage?: string;\n  private dataStore?: DataStore;\n  private api?: ReturnType<typeof createClient<TabbyApi>>;\n  private auth?: Auth;\n  private completionCache = new CompletionCache();\n  private completionDebounce = new CompletionDebounce();\n  private completionMutexAbortController?: AbortController;\n  private completionStats = new CompletionStats();\n  private completionRequestStats = new RequestStats();\n  static readonly tryConnectInterval = 1000 * 30; // 30s\n  private tryingConnectTimer: ReturnType<typeof setInterval>;\n  static readonly submitStatsInterval = 1000 * 60 * 60 * 24; // 24h\n  private submitStatsTimer: ReturnType<typeof setInterval>;\n\n  constructor() {\n    super();\n\n    this.tryingConnectTimer = setInterval(async () => {\n      if (this.status === \"disconnected\") {\n        this.logger.debug(\"Trying to connect...\");\n        await this.healthCheck();\n      }\n    }, TabbyAgent.tryConnectInterval);\n\n    this.submitStatsTimer = setInterval(async () => {\n      await this.submitStats();\n    }, TabbyAgent.submitStatsInterval);\n  }\n\n  private async applyConfig() {\n    this.logger.info(\"Applying updated config...\");\n    const oldConfig = this.config;\n    const oldStatus = this.status;\n\n    this.config = deepmerge(\n      defaultAgentConfig,\n      this.userConfig,\n      this.clientConfig,\n      this.serverProvidedConfig,\n    ) as AgentConfig;\n    this.config.server.endpoint = this.config.server.endpoint.replace(/\\/+$/, \"\"); // remove trailing slash\n    this.logger.trace(\"Updated config:\", this.config);\n\n    if (fileLogger) {\n      fileLogger.level = this.config.logs.level;\n    }\n    this.anonymousUsageLogger.disabled = this.config.anonymousUsageTracking.disable;\n\n    await loadTlsCaCerts(this.config.tls);\n\n    if (isBlank(this.config.server.token) && this.config.server.requestHeaders[\"Authorization\"] === undefined) {\n      if (this.config.server.endpoint !== this.auth?.endpoint) {\n        this.auth = new Auth(this.config.server.endpoint);\n        await this.auth.init({ dataStore: this.dataStore });\n        this.auth.on(\"updated\", () => {\n          this.setupApi();\n        });\n      }\n    } else {\n      // If auth token is provided, use it directly.\n      this.auth = undefined;\n    }\n\n    const isServerConnectionChanged =\n      !deepEqual(oldConfig.server, this.config.server) || !deepEqual(oldConfig.proxy, this.config.proxy);\n\n    // If server config changed, clear server related state\n    if (isServerConnectionChanged) {\n      this.serverHealthState = undefined;\n      this.completionRequestStats.reset();\n      this.popIssue(\"slowCompletionResponseTime\");\n      this.popIssue(\"highCompletionTimeoutRate\");\n      this.popIssue(\"connectionFailed\");\n      this.connectionErrorMessage = undefined;\n    }\n\n    if (!this.api || isServerConnectionChanged) {\n      await this.setupApi();\n    }\n\n    this.logger.info(\"Completed applying updated config.\");\n    const event: AgentEvent = { event: \"configUpdated\", config: this.config };\n    super.emit(\"configUpdated\", event);\n    if (isServerConnectionChanged && oldStatus === \"unauthorized\" && this.status === \"unauthorized\") {\n      // If server config changed and status remain `unauthorized`, we want to emit `authRequired` again.\n      // but `changeStatus` will not emit `authRequired` if status is not changed, so we emit it manually here.\n      this.emitAuthRequired();\n    }\n  }\n\n  private async setupApi() {\n    const endpoint = this.config.server.endpoint;\n    const auth = !isBlank(this.config.server.token)\n      ? `Bearer ${this.config.server.token}`\n      : this.auth?.token\n        ? `Bearer ${this.auth.token}`\n        : undefined;\n    const proxyConfigs: ProxyConfig[] = [{ fromEnv: true }];\n    if (!isBlank(this.config.proxy.url)) {\n      proxyConfigs.unshift(this.config.proxy);\n    }\n    this.api = createClient<TabbyApi>({\n      baseUrl: endpoint,\n      headers: {\n        Authorization: auth,\n        ...this.config.server.requestHeaders,\n      },\n      /** dispatcher do not exist in {@link RequestInit} in browser env. */\n      /* @ts-expect-error TS-2353 */\n      dispatcher: createProxyForUrl(endpoint, proxyConfigs),\n    });\n    await this.healthCheck();\n  }\n\n  private changeStatus(status: AgentStatus) {\n    if (this.status != status) {\n      this.status = status;\n      this.logger.info(`Status changed: ${status}.`);\n      const event: AgentEvent = { event: \"statusChanged\", status };\n      super.emit(\"statusChanged\", event);\n      if (this.status === \"unauthorized\") {\n        this.emitAuthRequired();\n      }\n    }\n  }\n\n  private issueFromName(issueName: AgentIssue[\"name\"]): AgentIssue {\n    switch (issueName) {\n      case \"highCompletionTimeoutRate\":\n        return {\n          name: \"highCompletionTimeoutRate\",\n          completionResponseStats: this.completionRequestStats.stats().stats,\n        };\n      case \"slowCompletionResponseTime\":\n        return {\n          name: \"slowCompletionResponseTime\",\n          completionResponseStats: this.completionRequestStats.stats().stats,\n        };\n      case \"connectionFailed\":\n        return {\n          name: \"connectionFailed\",\n          message: this.connectionErrorMessage,\n        };\n    }\n  }\n\n  private pushIssue(issue: AgentIssue[\"name\"]) {\n    if (!this.issues.includes(issue)) {\n      this.issues.push(issue);\n      this.logger.info(`Issue created: ${issue}.`);\n      this.emitIssueUpdated();\n    }\n  }\n\n  private popIssue(issue: AgentIssue[\"name\"]) {\n    const index = this.issues.indexOf(issue);\n    if (index >= 0) {\n      this.issues.splice(index, 1);\n      this.logger.info(`Issue removed: ${issue}.`);\n      this.emitIssueUpdated();\n    }\n  }\n\n  private emitAuthRequired() {\n    const event: AgentEvent = { event: \"authRequired\", server: this.config.server };\n    super.emit(\"authRequired\", event);\n  }\n\n  private emitIssueUpdated() {\n    const event: AgentEvent = { event: \"issuesUpdated\", issues: this.issues };\n    super.emit(\"issuesUpdated\", event);\n  }\n\n  private async submitStats() {\n    const stats = this.completionStats.stats();\n    if (stats[\"completion_request\"][\"count\"] > 0) {\n      await this.anonymousUsageLogger.event(\"AgentStats\", { stats });\n      this.completionStats.reset();\n    }\n  }\n\n  private createAbortSignal(options?: { signal?: AbortSignal; timeout?: number }): AbortSignal {\n    const timeout = Math.min(0x7fffffff, options?.timeout || this.config.server.requestTimeout);\n    return abortSignalFromAnyOf([AbortSignal.timeout(timeout), options?.signal]);\n  }\n\n  private async healthCheck(options?: { signal?: AbortSignal; method?: \"GET\" | \"POST\" }): Promise<void> {\n    const requestId = uuid();\n    const requestPath = \"/v1/health\";\n    const requestDescription = `${options?.method || \"GET\"} ${this.config.server.endpoint + requestPath}`;\n    const requestOptions = {\n      signal: this.createAbortSignal({ signal: options?.signal }),\n    };\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      this.logger.debug(`Health check request: ${requestDescription}. [${requestId}]`);\n      let response;\n      if (options?.method === \"POST\") {\n        response = await this.api.POST(requestPath, requestOptions);\n      } else {\n        response = await this.api.GET(requestPath, requestOptions);\n      }\n      this.logger.debug(`Health check response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      this.logger.trace(`Health check response data: [${requestId}]`, response.data);\n      const healthState = response.data;\n      this.popIssue(\"connectionFailed\");\n      this.connectionErrorMessage = undefined;\n      if (\n        typeof healthState === \"object\" &&\n        healthState[\"model\"] !== undefined &&\n        healthState[\"device\"] !== undefined\n      ) {\n        this.serverHealthState = healthState;\n        this.anonymousUsageLogger.uniqueEvent(\"AgentConnected\", healthState);\n\n        // schedule fetch server config later, no await\n        this.fetchServerProvidedConfig();\n      }\n      this.changeStatus(\"ready\");\n    } catch (error) {\n      this.serverHealthState = undefined;\n      if (error instanceof HttpError && error.status == 405 && options?.method !== \"POST\") {\n        return await this.healthCheck({ method: \"POST\" });\n      } else if (isUnauthorizedError(error)) {\n        this.changeStatus(\"unauthorized\");\n      } else {\n        if (isCanceledError(error)) {\n          this.logger.debug(`Health check request canceled. [${requestId}]`);\n          this.connectionErrorMessage = `${requestDescription} canceled.`;\n        } else if (isTimeoutError(error)) {\n          this.logger.error(`Health check request timed out. [${requestId}]`, error);\n          this.connectionErrorMessage = `${requestDescription} timed out.`;\n        } else {\n          this.logger.error(`Health check request failed. [${requestId}]`, error);\n          const message = error instanceof Error ? errorToString(error) : JSON.stringify(error);\n          this.connectionErrorMessage = `${requestDescription} failed: \\n${message}`;\n        }\n        this.pushIssue(\"connectionFailed\");\n        this.changeStatus(\"disconnected\");\n      }\n    }\n  }\n\n  private async fetchServerProvidedConfig(): Promise<void> {\n    const serverVersion = semver.coerce(this.serverHealthState?.version.git_describe);\n    if (serverVersion && semver.lt(serverVersion, \"0.9.0\")) {\n      this.logger.debug(`Skip fetching server provided config due to server version: ${serverVersion}.`);\n      return;\n    }\n    const requestId = uuid();\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      const requestPath = \"/v1beta/server_setting\";\n      const requestDescription = `GET ${this.config.server.endpoint + requestPath}`;\n      this.logger.debug(`Fetch server provided config request: ${requestDescription}. [${requestId}]`);\n      const response = await this.api.GET(requestPath);\n      this.logger.debug(`Fetch server provided config response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      this.logger.trace(`Fetch server provided config response data: [${requestId}]`, response.data);\n      const fetchedConfig = response.data;\n      const serverProvidedConfig: PartialAgentConfig = {};\n      if (fetchedConfig.disable_client_side_telemetry) {\n        serverProvidedConfig.anonymousUsageTracking = {\n          disable: true,\n        };\n      }\n\n      if (!deepEqual(serverProvidedConfig, this.serverProvidedConfig)) {\n        this.serverProvidedConfig = serverProvidedConfig;\n        await this.applyConfig();\n        if (this.dataStore) {\n          if (!this.dataStore.data.serverConfig) {\n            this.dataStore.data.serverConfig = {};\n          }\n          this.dataStore.data.serverConfig[this.config.server.endpoint] = this.serverProvidedConfig;\n          try {\n            await this.dataStore.save();\n          } catch (error) {\n            this.logger.error(\"Failed to save server provided config.\", error);\n          }\n        }\n      }\n    } catch (error) {\n      if (isUnauthorizedError(error)) {\n        this.logger.debug(`Fetch server provided config request failed due to unauthorized. [${requestId}]`);\n      } else if (!(error instanceof HttpError)) {\n        this.logger.error(`Fetch server provided config request failed. [${requestId}]`, error);\n      }\n    }\n  }\n\n  public async initialize(options: AgentInitOptions): Promise<boolean> {\n    // initialize loggers\n    if (options.loggers) {\n      logDestinations.attach(...options.loggers);\n    }\n    if (configFile) {\n      await configFile.load();\n      this.userConfig = configFile.config;\n      configFile.on(\"updated\", async (config) => {\n        this.userConfig = config;\n        await this.applyConfig();\n      });\n      configFile.watch();\n    }\n    if (options.config) {\n      this.clientConfig = options.config;\n    }\n    if (fileLogger) {\n      fileLogger.level = this.clientConfig.logs?.level ?? this.userConfig.logs?.level ?? this.config.logs.level;\n    }\n\n    this.logger.info(\"Initializing...\");\n    this.logger.trace(\"Initialization options:\", options);\n\n    this.dataStore = options.dataStore ?? defaultDataStore;\n    if (this.dataStore) {\n      try {\n        await this.dataStore.load();\n        if (\"watch\" in this.dataStore && typeof this.dataStore.watch === \"function\") {\n          this.dataStore.watch();\n        }\n      } catch (error) {\n        this.logger.error(\"Failed to load stored data.\", error);\n      }\n    }\n    await this.anonymousUsageLogger.init({ dataStore: this.dataStore });\n    if (options.clientProperties) {\n      if (options.clientProperties.session) {\n        Object.entries(options.clientProperties.session).forEach(([key, value]) => {\n          this.anonymousUsageLogger.setSessionProperties(key, value);\n        });\n      }\n      if (options.clientProperties.user) {\n        Object.entries(options.clientProperties.user).forEach(([key, value]) => {\n          this.anonymousUsageLogger.setUserProperties(key, value);\n        });\n      }\n    }\n    if (this.dataStore) {\n      const localConfig = deepmerge(defaultAgentConfig, this.userConfig, this.clientConfig) as AgentConfig;\n      this.serverProvidedConfig = this.dataStore?.data.serverConfig?.[localConfig.server.endpoint] ?? {};\n      if (this.dataStore instanceof EventEmitter) {\n        this.dataStore.on(\"updated\", async () => {\n          const localConfig = deepmerge(defaultAgentConfig, this.userConfig, this.clientConfig) as AgentConfig;\n          const storedServerConfig = defaultDataStore?.data.serverConfig?.[localConfig.server.endpoint];\n          if (!deepEqual(storedServerConfig, this.serverProvidedConfig)) {\n            this.serverProvidedConfig = storedServerConfig ?? {};\n            await this.applyConfig();\n          }\n        });\n      }\n    }\n    await this.applyConfig();\n    await this.anonymousUsageLogger.uniqueEvent(\"AgentInitialized\");\n    this.logger.info(\"Initialized.\");\n    return this.status !== \"notInitialized\";\n  }\n\n  public async finalize(): Promise<boolean> {\n    if (this.status === \"finalized\") {\n      return false;\n    }\n    this.logger.info(`Finalizing...`);\n\n    await this.submitStats();\n\n    if (this.tryingConnectTimer) {\n      clearInterval(this.tryingConnectTimer);\n    }\n    if (this.submitStatsTimer) {\n      clearInterval(this.submitStatsTimer);\n    }\n    this.changeStatus(\"finalized\");\n    this.logger.info(`Finalized.`);\n    return true;\n  }\n\n  public async updateClientProperties(type: keyof ClientProperties, key: string, value: any): Promise<boolean> {\n    this.logger.trace(`Client properties updated.`, { type, key, value });\n    switch (type) {\n      case \"session\":\n        this.anonymousUsageLogger.setSessionProperties(key, value);\n        break;\n      case \"user\":\n        this.anonymousUsageLogger.setUserProperties(key, value);\n        break;\n    }\n    return true;\n  }\n\n  public async updateConfig(key: string, value: any): Promise<boolean> {\n    this.logger.trace(`Config updated.`, { key, value });\n    const current = getProperty(this.clientConfig, key);\n    if (!deepEqual(current, value)) {\n      if (value === undefined) {\n        deleteProperty(this.clientConfig, key);\n      } else {\n        setProperty(this.clientConfig, key, value);\n      }\n      await this.applyConfig();\n    }\n    return true;\n  }\n\n  public async clearConfig(key: string): Promise<boolean> {\n    return await this.updateConfig(key, undefined);\n  }\n\n  public getConfig(): AgentConfig {\n    return this.config;\n  }\n\n  public getStatus(): AgentStatus {\n    return this.status;\n  }\n\n  public getIssues(): AgentIssue[\"name\"][] {\n    return this.issues;\n  }\n\n  public getIssueDetail<T extends AgentIssue>(options: { index?: number; name?: T[\"name\"] }): T | null {\n    const issues = this.getIssues();\n    if (options.index !== undefined && options.index < issues.length) {\n      return this.issueFromName(issues[options.index]!) as T;\n    } else if (options.name !== undefined && this.issues.includes(options.name)) {\n      return this.issueFromName(options.name) as T;\n    } else {\n      return null;\n    }\n  }\n\n  public getServerHealthState(): ServerHealthState | null {\n    return this.serverHealthState ?? null;\n  }\n\n  // @deprecated Tabby Cloud auth\n  public async requestAuthUrl(options?: AbortSignalOption): Promise<{ authUrl: string; code: string } | null> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n    await this.healthCheck(options);\n    if (this.status !== \"unauthorized\" || !this.auth) {\n      return null;\n    } else {\n      return await this.auth.requestAuthUrl(options);\n    }\n  }\n\n  // @deprecated Tabby Cloud auth\n  public async waitForAuthToken(code: string, options?: AbortSignalOption): Promise<void> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n    if (this.status !== \"unauthorized\" || !this.auth) {\n      return;\n    }\n    await this.auth.pollingToken(code, options);\n    await this.setupApi();\n  }\n\n  public async provideCompletions(\n    request: CompletionRequest,\n    options?: AbortSignalOption,\n  ): Promise<CompletionResponse> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n    this.logger.debug(\"Function providedCompletions called.\");\n\n    // Mutex Control\n    if (this.completionMutexAbortController) {\n      const reason = new Error(\"Aborted due to new request.\");\n      reason.name = \"AbortError\";\n      this.completionMutexAbortController.abort(reason);\n    }\n    this.completionMutexAbortController = new AbortController();\n    const signal = abortSignalFromAnyOf([this.completionMutexAbortController.signal, options?.signal]);\n\n    // Processing request\n    const context = new CompletionContext(request);\n    if (!context.isValid()) {\n      // Early return if request is not valid\n      return emptyInlineCompletionList;\n    }\n\n    let solution: CompletionSolution | undefined = undefined;\n    let cachedSolution: CompletionSolution | undefined = undefined;\n    if (this.completionCache.has(context.hash)) {\n      cachedSolution = this.completionCache.get(context.hash);\n    }\n\n    try {\n      // Resolve solution\n      if (cachedSolution && (!request.manually || cachedSolution.isCompleted)) {\n        // Found cached solution\n        // TriggerKind is Automatic, or the solution is completed\n        // Return cached solution, do not need to fetch more choices\n\n        // Debounce before continue processing cached solution\n        await this.completionDebounce.debounce(\n          {\n            request,\n            config: this.config.completion.debounce,\n            responseTime: 0,\n          },\n          { signal },\n        );\n\n        solution = cachedSolution.withContext(context);\n        this.logger.info(\"Completion cache hit.\");\n      } else if (!request.manually) {\n        // No cached solution\n        // TriggerKind is Automatic\n        // We need to fetch the first choice\n\n        // Debounce before fetching\n        await this.completionDebounce.debounce(\n          {\n            request,\n            config: this.config.completion.debounce,\n            responseTime: this.completionRequestStats.stats().stats.averageResponseTime,\n          },\n          { signal },\n        );\n\n        solution = new CompletionSolution(context);\n        // Fetch the completion\n        this.logger.info(`Fetching completion...`);\n        try {\n          const response = await this.fetchCompletion(\n            context.language,\n            context.buildSegments(this.config.completion.prompt),\n            undefined,\n            signal,\n          );\n          const completionItem = CompletionItem.createFromResponse(context, response);\n          // postprocess: preCache\n          solution.add(...(await preCacheProcess([completionItem], this.config.postprocess)));\n        } catch (error) {\n          if (isCanceledError(error)) {\n            this.logger.info(`Fetching completion canceled.`);\n            solution = undefined;\n          }\n        }\n      } else {\n        // No cached solution, or cached solution is not completed\n        // TriggerKind is Manual\n        // We need to fetch the more choices\n\n        solution = cachedSolution?.withContext(context) ?? new CompletionSolution(context);\n        this.logger.info(`Fetching more completions...`);\n\n        try {\n          let tries = 0;\n          while (\n            solution.items.length < this.config.completion.solution.maxItems &&\n            tries < this.config.completion.solution.maxTries\n          ) {\n            tries++;\n            const response = await this.fetchCompletion(\n              context.language,\n              context.buildSegments(this.config.completion.prompt),\n              this.config.completion.solution.temperature,\n              signal,\n            );\n            const completionItem = CompletionItem.createFromResponse(context, response);\n            // postprocess: preCache\n            solution.add(...(await preCacheProcess([completionItem], this.config.postprocess)));\n            if (signal.aborted) {\n              throw signal.reason;\n            }\n          }\n          // Mark the solution as completed\n          solution.isCompleted = true;\n        } catch (error) {\n          if (isCanceledError(error)) {\n            this.logger.info(`Fetching completion canceled.`);\n            solution = undefined;\n          }\n        }\n      }\n      // Postprocess solution\n      if (solution) {\n        // Update Cache\n        this.completionCache.update(solution);\n\n        // postprocess: postCache\n        solution = solution.withItems(...(await postCacheProcess(solution.items, this.config.postprocess)));\n        if (signal.aborted) {\n          throw signal.reason;\n        }\n      }\n    } catch (error) {\n      if (!isCanceledError(error)) {\n        this.logger.error(`Providing completions failed.`, error);\n      }\n    }\n    if (solution) {\n      const result = solution.toInlineCompletionList();\n      this.logger.info(`Completed processing completions, choices returned: ${result.items.length}.`);\n      this.logger.trace(\"Completion solution:\", { result });\n      return result;\n    }\n    return emptyInlineCompletionList;\n  }\n\n  private async fetchCompletion(\n    language: string,\n    segments: TabbyApiComponents[\"schemas\"][\"Segments\"],\n    temperature: number | undefined,\n    signal?: AbortSignal,\n  ): Promise<TabbyApiComponents[\"schemas\"][\"CompletionResponse\"]> {\n    const requestId = uuid();\n    const stats = {\n      latency: NaN,\n      canceled: false,\n      timeout: false,\n      notAvailable: false,\n    };\n    const requestStartedAt = performance.now();\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      const requestPath = \"/v1/completions\";\n      const requestOptions = {\n        body: {\n          language,\n          segments,\n          temperature,\n        },\n        signal: this.createAbortSignal({ signal }),\n      };\n      const requestDescription = `POST ${this.config.server.endpoint + requestPath}`;\n      this.logger.debug(`Completion request: ${requestDescription}. [${requestId}]`);\n      this.logger.trace(`Completion request body: [${requestId}]`, requestOptions.body);\n      const response = await this.api.POST(requestPath, requestOptions);\n      this.logger.debug(`Completion response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      this.logger.trace(`Completion response data: [${requestId}]`, response.data);\n      stats.latency = performance.now() - requestStartedAt;\n      return response.data;\n    } catch (error) {\n      if (isCanceledError(error)) {\n        this.logger.debug(`Completion request canceled. [${requestId}]`);\n        stats.canceled = true;\n      } else if (isTimeoutError(error)) {\n        this.logger.debug(`Completion request timed out. [${requestId}]`);\n        stats.timeout = true;\n      } else if (isUnauthorizedError(error)) {\n        this.logger.debug(`Completion request failed due to unauthorized. [${requestId}]`);\n        stats.notAvailable = true;\n        this.healthCheck(); // schedule a health check\n      } else {\n        this.logger.error(`Completion request failed. [${requestId}]`, error);\n        stats.notAvailable = true;\n        this.healthCheck(); // schedule a health check\n      }\n      // rethrow error\n      throw error;\n    } finally {\n      if (!stats.notAvailable) {\n        this.completionStats.addRequestStatsEntry(stats);\n      }\n      if (!stats.notAvailable && !stats.canceled) {\n        this.completionRequestStats.add(stats.latency);\n        const statsResult = this.completionRequestStats.stats();\n        const checkResult = RequestStats.check(statsResult);\n        switch (checkResult) {\n          case \"healthy\":\n            this.popIssue(\"slowCompletionResponseTime\");\n            this.popIssue(\"highCompletionTimeoutRate\");\n            break;\n          case \"highTimeoutRate\":\n            this.popIssue(\"slowCompletionResponseTime\");\n            this.pushIssue(\"highCompletionTimeoutRate\");\n            break;\n          case \"slowResponseTime\":\n            this.popIssue(\"highCompletionTimeoutRate\");\n            this.pushIssue(\"slowCompletionResponseTime\");\n            break;\n        }\n      }\n    }\n  }\n\n  public async postEvent(request: LogEventRequest, options?: AbortSignalOption): Promise<boolean> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n    this.completionStats.addEvent(request.type);\n    const requestId = uuid();\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      const requestPath = \"/v1/events\";\n      const requestOptions = {\n        body: request,\n        params: {\n          query: {\n            select_kind: request.select_kind,\n          },\n        },\n        signal: this.createAbortSignal(options),\n        parseAs: \"text\" as ParseAs,\n      };\n      const requestDescription = `POST ${this.config.server.endpoint + requestPath}`;\n      this.logger.debug(`Event request: ${requestDescription}. [${requestId}]`);\n      this.logger.trace(`Event request body: [${requestId}]`, requestOptions.body);\n      const response = await this.api.POST(requestPath, requestOptions);\n      this.logger.debug(`Event response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      this.logger.trace(`Event response data: [${requestId}]`, response.data);\n      return true;\n    } catch (error) {\n      if (isUnauthorizedError(error)) {\n        this.logger.debug(`Completion request failed due to unauthorized. [${requestId}]`);\n      } else {\n        this.logger.error(`Event request failed. [${requestId}]`, error);\n      }\n      this.healthCheck(); // schedule a health check\n      return false;\n    }\n  }\n\n  public async generateCommitMessage(\n    diff: string | string[],\n    options?: AbortSignalOption & { useBetaVersion?: boolean },\n  ): Promise<string> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n\n    // select diffs from the list to generate a prompt under the prompt size limit\n    const { maxDiffLength, promptTemplate, responseMatcher } = this.config.chat.generateCommitMessage;\n    let splitDiffs: string[];\n    if (typeof diff === \"string\") {\n      splitDiffs = diff.split(/\\n(?=diff)/);\n    } else {\n      splitDiffs = diff;\n    }\n    let selectedDiff = \"\";\n    for (const item of splitDiffs) {\n      if (selectedDiff.length + item.length < maxDiffLength) {\n        selectedDiff += item + \"\\n\";\n      }\n    }\n    if (isBlank(selectedDiff)) {\n      // This may happen when all separated diffs are larger than the limit.\n      if (typeof diff === \"string\") {\n        selectedDiff = diff.substring(0, maxDiffLength);\n      } else {\n        selectedDiff = diff.join(\"\\n\").substring(0, maxDiffLength);\n      }\n    }\n    if (isBlank(selectedDiff)) {\n      // early return if selectedDiff is still empty\n      return \"\";\n    }\n\n    // request chat api\n    const requestId = uuid();\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      const requestPath = options?.useBetaVersion ? \"/v1beta/chat/completions\" : \"/v1/chat/completions\";\n      const messages = [\n        {\n          role: \"user\",\n          content: promptTemplate.replace(\"{{diff}}\", selectedDiff),\n        },\n      ];\n      const requestOptions = {\n        body: { messages },\n        signal: this.createAbortSignal(options),\n        parseAs: \"stream\" as ParseAs,\n      };\n      const requestDescription = `POST ${this.config.server.endpoint + requestPath}`;\n      this.logger.debug(`Chat request: ${requestDescription}. [${requestId}]`);\n      this.logger.trace(`Chat request body: [${requestId}]`, requestOptions.body);\n      const response = await this.api.POST(requestPath, requestOptions);\n      this.logger.debug(`Chat response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      const responseMessage = await parseChatResponse(response.response, requestOptions.signal);\n      this.logger.trace(`Chat response message: [${requestId}]`, { responseMessage });\n      const matcherReg = stringToRegExp(responseMatcher);\n      const match = matcherReg.exec(responseMessage);\n      const commitMessage = (match ? match[0] : responseMessage).trim();\n      this.logger.trace(`Extracted commit message:`, { commitMessage });\n      return commitMessage;\n    } catch (error) {\n      if (error instanceof HttpError && error.status == 404 && !options?.useBetaVersion) {\n        return await this.generateCommitMessage(diff, { ...options, useBetaVersion: true });\n      }\n      if (isCanceledError(error)) {\n        this.logger.debug(`Chat request canceled. [${requestId}]`);\n      } else if (isUnauthorizedError(error)) {\n        this.logger.debug(`Chat request failed due to unauthorized. [${requestId}]`);\n      } else {\n        this.logger.error(`Chat request failed. [${requestId}]`, error);\n      }\n      this.healthCheck(); // schedule a health check\n    }\n    return \"\";\n  }\n\n  // selection.start equals selection.end means the cursor position with no selection\n  public async provideChatEdit(\n    document: string,\n    selection: { start: number; end: number },\n    filepath: string,\n    insertMode = false,\n    command: string,\n    languageId = \"\",\n    options?: AbortSignalOption & { useBetaVersion?: boolean },\n  ): Promise<Readable | null> {\n    if (this.status === \"notInitialized\") {\n      throw new Error(\"Agent is not initialized\");\n    }\n\n    const documentMaxChars = this.config.chat.edit.documentMaxChars;\n    if (selection.end - selection.start > documentMaxChars) {\n      throw new Error(\"Document to edit is too long\");\n    }\n    if (command.length > this.config.chat.edit.commandMaxChars) {\n      throw new Error(\"Command is too long\");\n    }\n\n    let promptTemplate: string;\n    let userCommand: string;\n    const presetCommand = /^\\/\\w+\\b/g.exec(command)?.[0];\n    const presetConfig = presetCommand && this.config.chat.edit.presetCommands[presetCommand];\n    if (presetConfig) {\n      promptTemplate = presetConfig.promptTemplate;\n      userCommand = command.substring(presetCommand.length);\n    } else {\n      promptTemplate = insertMode\n        ? this.config.chat.edit.promptTemplate.insert\n        : this.config.chat.edit.promptTemplate.replace;\n      userCommand = command;\n    }\n    // Extract the selected text and the surrounding context\n    const documentSelection = document.substring(selection.start, selection.end);\n    let documentPrefix = document.substring(0, selection.start);\n    let documentSuffix = document.substring(selection.end);\n    if (document.length > documentMaxChars) {\n      const charsRemain = documentMaxChars - documentSelection.length;\n      if (documentPrefix.length < charsRemain / 2) {\n        documentSuffix = documentSuffix.substring(0, charsRemain - documentPrefix.length);\n      } else if (documentSuffix.length < charsRemain / 2) {\n        documentPrefix = documentPrefix.substring(documentPrefix.length - charsRemain + documentSuffix.length);\n      } else {\n        documentPrefix = documentPrefix.substring(documentPrefix.length - charsRemain / 2);\n        documentSuffix = documentSuffix.substring(0, charsRemain / 2);\n      }\n    }\n    // request chat api\n    const requestId = uuid();\n    try {\n      if (!this.api) {\n        throw new Error(\"http client not initialized\");\n      }\n      const requestPath = options?.useBetaVersion ? \"/v1beta/chat/completions\" : \"/v1/chat/completions\";\n      const messages = [\n        {\n          role: \"user\",\n          content: promptTemplate.replace(\n            /{{filepath}}|{{documentPrefix}}|{{document}}|{{documentSuffix}}|{{command}}|{{languageId}}/g,\n            (pattern: string) => {\n              switch (pattern) {\n                case \"{{filepath}}\":\n                  return filepath;\n                case \"{{documentPrefix}}\":\n                  return documentPrefix;\n                case \"{{document}}\":\n                  return documentSelection;\n                case \"{{documentSuffix}}\":\n                  return documentSuffix;\n                case \"{{command}}\":\n                  return userCommand;\n                case \"{{languageId}}\":\n                  return languageId;\n                default:\n                  return \"\";\n              }\n            },\n          ),\n        },\n      ];\n      const requestOptions = {\n        body: { messages },\n        signal: this.createAbortSignal(options),\n        parseAs: \"stream\" as ParseAs,\n      };\n      const requestDescription = `POST ${this.config.server.endpoint + requestPath}`;\n      this.logger.debug(`Chat request: ${requestDescription}. [${requestId}]`);\n      this.logger.trace(`Chat request body: [${requestId}]`, requestOptions.body);\n      const response = await this.api.POST(requestPath, requestOptions);\n      this.logger.debug(`Chat response status: ${response.response.status}. [${requestId}]`);\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      if (!response.response.body) {\n        return null;\n      }\n      const readableStream = readChatStream(response.response.body, requestOptions.signal);\n      return readableStream;\n    } catch (error) {\n      if (error instanceof HttpError && error.status == 404 && !options?.useBetaVersion) {\n        return await this.provideChatEdit(document, selection, filepath, insertMode, command, languageId, {\n          ...options,\n          useBetaVersion: true,\n        });\n      }\n      if (isCanceledError(error)) {\n        this.logger.debug(`Chat request canceled. [${requestId}]`);\n      } else if (isUnauthorizedError(error)) {\n        this.logger.debug(`Chat request failed due to unauthorized. [${requestId}]`);\n      } else {\n        this.logger.error(`Chat request failed. [${requestId}]`, error);\n      }\n      this.healthCheck(); // schedule a health check\n      return null;\n    }\n  }\n}\n","export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","/**\n * Special values that tell deepmerge to perform a certain action.\n */\nconst actions = {\n    defaultMerge: Symbol(\"deepmerge-ts: default merge\"),\n    skip: Symbol(\"deepmerge-ts: skip\"),\n};\n/**\n * Special values that tell deepmergeInto to perform a certain action.\n */\nconst actionsInto = {\n    defaultMerge: actions.defaultMerge,\n};\n\n/**\n * The default function to update meta data.\n */\nfunction defaultMetaDataUpdater(previousMeta, metaMeta) {\n    return metaMeta;\n}\n\n/**\n * Get the type of the given object.\n *\n * @param object - The object to get the type of.\n * @returns The type of the given object.\n */\nfunction getObjectType(object) {\n    if (typeof object !== \"object\" || object === null) {\n        return 0 /* ObjectType.NOT */;\n    }\n    if (Array.isArray(object)) {\n        return 2 /* ObjectType.ARRAY */;\n    }\n    if (isRecord(object)) {\n        return 1 /* ObjectType.RECORD */;\n    }\n    if (object instanceof Set) {\n        return 3 /* ObjectType.SET */;\n    }\n    if (object instanceof Map) {\n        return 4 /* ObjectType.MAP */;\n    }\n    return 5 /* ObjectType.OTHER */;\n}\n/**\n * Get the keys of the given objects including symbol keys.\n *\n * Note: Only keys to enumerable properties are returned.\n *\n * @param objects - An array of objects to get the keys of.\n * @returns A set containing all the keys of all the given objects.\n */\nfunction getKeys(objects) {\n    const keys = new Set();\n    /* eslint-disable functional/no-loop-statements, functional/no-expression-statements -- using a loop here is more efficient. */\n    for (const object of objects) {\n        for (const key of [\n            ...Object.keys(object),\n            ...Object.getOwnPropertySymbols(object),\n        ]) {\n            keys.add(key);\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-expression-statements */\n    return keys;\n}\n/**\n * Does the given object have the given property.\n *\n * @param object - The object to test.\n * @param property - The property to test.\n * @returns Whether the object has the property.\n */\nfunction objectHasProperty(object, property) {\n    return (typeof object === \"object\" &&\n        Object.prototype.propertyIsEnumerable.call(object, property));\n}\n/**\n * Get an iterable object that iterates over the given iterables.\n */\nfunction getIterableOfIterables(iterables) {\n    return {\n        // eslint-disable-next-line functional/functional-parameters\n        *[Symbol.iterator]() {\n            // eslint-disable-next-line functional/no-loop-statements\n            for (const iterable of iterables) {\n                // eslint-disable-next-line functional/no-loop-statements\n                for (const value of iterable) {\n                    yield value;\n                }\n            }\n        },\n    };\n}\nconst validRecordToStringValues = new Set([\n    \"[object Object]\",\n    \"[object Module]\",\n]);\n/**\n * Does the given object appear to be a record.\n */\nfunction isRecord(value) {\n    // All records are objects.\n    if (!validRecordToStringValues.has(Object.prototype.toString.call(value))) {\n        return false;\n    }\n    const { constructor } = value;\n    // If has modified constructor.\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (constructor === undefined) {\n        return true;\n    }\n    // eslint-disable-next-line prefer-destructuring\n    const prototype = constructor.prototype;\n    // If has modified prototype.\n    if (prototype === null ||\n        typeof prototype !== \"object\" ||\n        !validRecordToStringValues.has(Object.prototype.toString.call(prototype))) {\n        return false;\n    }\n    // If constructor does not have an Object-specific method.\n    // eslint-disable-next-line sonarjs/prefer-single-boolean-return, no-prototype-builtins\n    if (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n        return false;\n    }\n    // Most likely a record.\n    return true;\n}\n\n/**\n * The default strategy to merge records.\n *\n * @param values - The records.\n */\nfunction mergeRecords$2(values, utils, meta) {\n    const result = {};\n    /* eslint-disable functional/no-loop-statements, functional/no-conditional-statements, functional/no-expression-statements, functional/immutable-data -- using imperative code here is more performant. */\n    for (const key of getKeys(values)) {\n        const propValues = [];\n        for (const value of values) {\n            if (objectHasProperty(value, key)) {\n                propValues.push(value[key]);\n            }\n        }\n        if (propValues.length === 0) {\n            continue;\n        }\n        const updatedMeta = utils.metaDataUpdater(meta, {\n            key,\n            parents: values,\n        });\n        const propertyResult = mergeUnknowns(propValues, utils, updatedMeta);\n        if (propertyResult === actions.skip) {\n            continue;\n        }\n        if (key === \"__proto__\") {\n            Object.defineProperty(result, key, {\n                value: propertyResult,\n                configurable: true,\n                enumerable: true,\n                writable: true,\n            });\n        }\n        else {\n            result[key] = propertyResult;\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-conditional-statements, functional/no-expression-statements, functional/immutable-data */\n    return result;\n}\n/**\n * The default strategy to merge arrays.\n *\n * @param values - The arrays.\n */\nfunction mergeArrays$2(values) {\n    return values.flat();\n}\n/**\n * The default strategy to merge sets.\n *\n * @param values - The sets.\n */\nfunction mergeSets$2(values) {\n    return new Set(getIterableOfIterables(values));\n}\n/**\n * The default strategy to merge maps.\n *\n * @param values - The maps.\n */\nfunction mergeMaps$2(values) {\n    return new Map(getIterableOfIterables(values));\n}\n/**\n * Get the last value in the given array.\n */\nfunction mergeOthers$2(values) {\n    return values.at(-1);\n}\n\nvar defaultMergeFunctions = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    mergeArrays: mergeArrays$2,\n    mergeMaps: mergeMaps$2,\n    mergeOthers: mergeOthers$2,\n    mergeRecords: mergeRecords$2,\n    mergeSets: mergeSets$2\n});\n\n/**\n * Deeply merge objects.\n *\n * @param objects - The objects to merge.\n */\nfunction deepmerge(\n// eslint-disable-next-line functional/functional-parameters\n...objects) {\n    return deepmergeCustom({})(...objects);\n}\nfunction deepmergeCustom(options, rootMetaData) {\n    const utils = getUtils(options, customizedDeepmerge);\n    /**\n     * The customized deepmerge function.\n     */\n    function customizedDeepmerge(\n    // eslint-disable-next-line functional/functional-parameters\n    ...objects) {\n        return mergeUnknowns(objects, utils, rootMetaData);\n    }\n    return customizedDeepmerge;\n}\n/**\n * The the utils that are available to the merge functions.\n *\n * @param options - The options the user specified\n */\nfunction getUtils(options, customizedDeepmerge) {\n    return {\n        defaultMergeFunctions,\n        mergeFunctions: {\n            ...defaultMergeFunctions,\n            ...Object.fromEntries(Object.entries(options)\n                .filter(([key, option]) => Object.hasOwn(defaultMergeFunctions, key))\n                .map(([key, option]) => option === false\n                ? [key, mergeOthers$2]\n                : [key, option])),\n        },\n        metaDataUpdater: (options.metaDataUpdater ??\n            defaultMetaDataUpdater),\n        deepmerge: customizedDeepmerge,\n        useImplicitDefaultMerging: options.enableImplicitDefaultMerging ?? false,\n        actions,\n    };\n}\n/**\n * Merge unknown things.\n *\n * @param values - The values.\n */\nfunction mergeUnknowns(values, utils, meta) {\n    if (values.length === 0) {\n        return undefined;\n    }\n    if (values.length === 1) {\n        return mergeOthers$1(values, utils, meta);\n    }\n    const type = getObjectType(values[0]);\n    /* eslint-disable functional/no-loop-statements, functional/no-conditional-statements -- using imperative code here is more performant. */\n    if (type !== 0 /* ObjectType.NOT */ && type !== 5 /* ObjectType.OTHER */) {\n        for (let m_index = 1; m_index < values.length; m_index++) {\n            if (getObjectType(values[m_index]) === type) {\n                continue;\n            }\n            return mergeOthers$1(values, utils, meta);\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-conditional-statements */\n    switch (type) {\n        case 1 /* ObjectType.RECORD */: {\n            return mergeRecords$1(values, utils, meta);\n        }\n        case 2 /* ObjectType.ARRAY */: {\n            return mergeArrays$1(values, utils, meta);\n        }\n        case 3 /* ObjectType.SET */: {\n            return mergeSets$1(values, utils, meta);\n        }\n        case 4 /* ObjectType.MAP */: {\n            return mergeMaps$1(values, utils, meta);\n        }\n        default: {\n            return mergeOthers$1(values, utils, meta);\n        }\n    }\n}\n/**\n * Merge records.\n *\n * @param values - The records.\n */\nfunction mergeRecords$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeRecords(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeRecords !==\n                utils.defaultMergeFunctions.mergeRecords)) {\n        return utils.defaultMergeFunctions.mergeRecords(values, utils, meta);\n    }\n    return result;\n}\n/**\n * Merge arrays.\n *\n * @param values - The arrays.\n */\nfunction mergeArrays$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeArrays(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeArrays !==\n                utils.defaultMergeFunctions.mergeArrays)) {\n        return utils.defaultMergeFunctions.mergeArrays(values);\n    }\n    return result;\n}\n/**\n * Merge sets.\n *\n * @param values - The sets.\n */\nfunction mergeSets$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeSets(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeSets !== utils.defaultMergeFunctions.mergeSets)) {\n        return utils.defaultMergeFunctions.mergeSets(values);\n    }\n    return result;\n}\n/**\n * Merge maps.\n *\n * @param values - The maps.\n */\nfunction mergeMaps$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeMaps(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeMaps !== utils.defaultMergeFunctions.mergeMaps)) {\n        return utils.defaultMergeFunctions.mergeMaps(values);\n    }\n    return result;\n}\n/**\n * Merge other things.\n *\n * @param values - The other things.\n */\nfunction mergeOthers$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeOthers(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeOthers !==\n                utils.defaultMergeFunctions.mergeOthers)) {\n        return utils.defaultMergeFunctions.mergeOthers(values);\n    }\n    return result;\n}\n\n/**\n * The default strategy to merge records into a target record.\n *\n * @param m_target - The result will be mutated into this record\n * @param values - The records (including the target's value if there is one).\n */\nfunction mergeRecords(m_target, values, utils, meta) {\n    for (const key of getKeys(values)) {\n        const propValues = [];\n        for (const value of values) {\n            if (objectHasProperty(value, key)) {\n                propValues.push(value[key]);\n            }\n        }\n        if (propValues.length === 0) {\n            continue;\n        }\n        const updatedMeta = utils.metaDataUpdater(meta, {\n            key,\n            parents: values,\n        });\n        const propertyTarget = { value: propValues[0] };\n        mergeUnknownsInto(propertyTarget, propValues, utils, updatedMeta);\n        if (key === \"__proto__\") {\n            Object.defineProperty(m_target, key, {\n                value: propertyTarget.value,\n                configurable: true,\n                enumerable: true,\n                writable: true,\n            });\n        }\n        else {\n            m_target.value[key] = propertyTarget.value;\n        }\n    }\n}\n/**\n * The default strategy to merge arrays into a target array.\n *\n * @param m_target - The result will be mutated into this array\n * @param values - The arrays (including the target's value if there is one).\n */\nfunction mergeArrays(m_target, values) {\n    m_target.value.push(...values.slice(1).flat());\n}\n/**\n * The default strategy to merge sets into a target set.\n *\n * @param m_target - The result will be mutated into this set\n * @param values - The sets (including the target's value if there is one).\n */\nfunction mergeSets(m_target, values) {\n    for (const value of getIterableOfIterables(values.slice(1))) {\n        m_target.value.add(value);\n    }\n}\n/**\n * The default strategy to merge maps into a target map.\n *\n * @param m_target - The result will be mutated into this map\n * @param values - The maps (including the target's value if there is one).\n */\nfunction mergeMaps(m_target, values) {\n    for (const [key, value] of getIterableOfIterables(values.slice(1))) {\n        m_target.value.set(key, value);\n    }\n}\n/**\n * Set the target to the last value.\n */\nfunction mergeOthers(m_target, values) {\n    m_target.value = values.at(-1);\n}\n\nvar defaultMergeIntoFunctions = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    mergeArrays: mergeArrays,\n    mergeMaps: mergeMaps,\n    mergeOthers: mergeOthers,\n    mergeRecords: mergeRecords,\n    mergeSets: mergeSets\n});\n\nfunction deepmergeInto(target, ...objects) {\n    return void deepmergeIntoCustom({})(target, ...objects);\n}\nfunction deepmergeIntoCustom(options, rootMetaData) {\n    const utils = getIntoUtils(options, customizedDeepmergeInto);\n    /**\n     * The customized deepmerge function.\n     */\n    function customizedDeepmergeInto(target, ...objects) {\n        mergeUnknownsInto({ value: target }, [target, ...objects], utils, rootMetaData);\n    }\n    return customizedDeepmergeInto;\n}\n/**\n * The the utils that are available to the merge functions.\n *\n * @param options - The options the user specified\n */\nfunction getIntoUtils(options, customizedDeepmergeInto) {\n    return {\n        defaultMergeFunctions: defaultMergeIntoFunctions,\n        mergeFunctions: {\n            ...defaultMergeIntoFunctions,\n            ...Object.fromEntries(Object.entries(options)\n                .filter(([key, option]) => Object.hasOwn(defaultMergeIntoFunctions, key))\n                .map(([key, option]) => option === false\n                ? [key, mergeOthers]\n                : [key, option])),\n        },\n        metaDataUpdater: (options.metaDataUpdater ??\n            defaultMetaDataUpdater),\n        deepmergeInto: customizedDeepmergeInto,\n        actions: actionsInto,\n    };\n}\n/**\n * Merge unknown things into a target.\n *\n * @param m_target - The target to merge into.\n * @param values - The values.\n */\nfunction mergeUnknownsInto(m_target, values, utils, meta\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    if (values.length === 0) {\n        return;\n    }\n    if (values.length === 1) {\n        return void mergeOthersInto(m_target, values, utils, meta);\n    }\n    const type = getObjectType(m_target.value);\n    if (type !== 0 /* ObjectType.NOT */ && type !== 5 /* ObjectType.OTHER */) {\n        for (let m_index = 1; m_index < values.length; m_index++) {\n            if (getObjectType(values[m_index]) === type) {\n                continue;\n            }\n            return void mergeOthersInto(m_target, values, utils, meta);\n        }\n    }\n    switch (type) {\n        case 1 /* ObjectType.RECORD */: {\n            return void mergeRecordsInto(m_target, values, utils, meta);\n        }\n        case 2 /* ObjectType.ARRAY */: {\n            return void mergeArraysInto(m_target, values, utils, meta);\n        }\n        case 3 /* ObjectType.SET */: {\n            return void mergeSetsInto(m_target, values, utils, meta);\n        }\n        case 4 /* ObjectType.MAP */: {\n            return void mergeMapsInto(m_target, values, utils, meta);\n        }\n        default: {\n            return void mergeOthersInto(m_target, values, utils, meta);\n        }\n    }\n}\n/**\n * Merge records into a target record.\n *\n * @param m_target - The target to merge into.\n * @param values - The records.\n */\nfunction mergeRecordsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeRecords(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeRecords(m_target, values, utils, meta);\n    }\n}\n/**\n * Merge arrays into a target array.\n *\n * @param m_target - The target to merge into.\n * @param values - The arrays.\n */\nfunction mergeArraysInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeArrays(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeArrays(m_target, values);\n    }\n}\n/**\n * Merge sets into a target set.\n *\n * @param m_target - The target to merge into.\n * @param values - The sets.\n */\nfunction mergeSetsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeSets(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeSets(m_target, values);\n    }\n}\n/**\n * Merge maps into a target map.\n *\n * @param m_target - The target to merge into.\n * @param values - The maps.\n */\nfunction mergeMapsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeMaps(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeMaps(m_target, values);\n    }\n}\n/**\n * Merge other things into a target.\n *\n * @param m_target - The target to merge into.\n * @param values - The other things.\n */\nfunction mergeOthersInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeOthers(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge ||\n        m_target.value === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeOthers(m_target, values);\n    }\n}\n\nexport { deepmerge, deepmergeCustom, deepmergeInto, deepmergeIntoCustom, getKeys, getObjectType, objectHasProperty };\n","const isObject = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n\nconst isEmptyObject = value => isObject(value) && Object.keys(value).length === 0;\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor',\n]);\n\nconst digits = new Set('0123456789');\n\nfunction getPathSegments(path) {\n\tconst parts = [];\n\tlet currentSegment = '';\n\tlet currentPart = 'start';\n\tlet isIgnoring = false;\n\n\tfor (const character of path) {\n\t\tswitch (character) {\n\t\t\tcase '\\\\': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tisIgnoring = !isIgnoring;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase '.': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tparts.push(currentSegment);\n\t\t\t\tcurrentSegment = '';\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase '[': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'index';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'property') {\n\t\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tparts.push(currentSegment);\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'index';\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase ']': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tparts.push(Number.parseInt(currentSegment, 10));\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t\tcurrentPart = 'indexEnd';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\t// Falls through\n\t\t\t}\n\n\t\t\tdefault: {\n\t\t\t\tif (currentPart === 'index' && !digits.has(character)) {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'start') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += '\\\\';\n\t\t\t\t}\n\n\t\t\t\tcurrentSegment += character;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (isIgnoring) {\n\t\tcurrentSegment += '\\\\';\n\t}\n\n\tswitch (currentPart) {\n\t\tcase 'property': {\n\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tparts.push(currentSegment);\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'index': {\n\t\t\tthrow new Error('Index was not closed');\n\t\t}\n\n\t\tcase 'start': {\n\t\t\tparts.push('');\n\n\t\t\tbreak;\n\t\t}\n\t\t// No default\n\t}\n\n\treturn parts;\n}\n\nfunction isStringIndex(object, key) {\n\tif (typeof key !== 'number' && Array.isArray(object)) {\n\t\tconst index = Number.parseInt(key, 10);\n\t\treturn Number.isInteger(index) && object[index] === object[key];\n\t}\n\n\treturn false;\n}\n\nfunction assertNotStringIndex(object, key) {\n\tif (isStringIndex(object, key)) {\n\t\tthrow new Error('Cannot use string index');\n\t}\n}\n\nexport function getProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn value === undefined ? object : value;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn value;\n\t}\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tif (isStringIndex(object, key)) {\n\t\t\tobject = index === pathArray.length - 1 ? undefined : null;\n\t\t} else {\n\t\t\tobject = object[key];\n\t\t}\n\n\t\tif (object === undefined || object === null) {\n\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t// if this is not the last bit of the path, and\n\t\t\t// if it didn't return `undefined`\n\t\t\t// it would return `null` if `object` is `null`\n\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\tif (index !== pathArray.length - 1) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn object === undefined ? value : object;\n}\n\nexport function setProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn object;\n\t}\n\n\tconst root = object;\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tobject[key] = value;\n\t\t} else if (!isObject(object[key])) {\n\t\t\tobject[key] = typeof pathArray[index + 1] === 'number' ? [] : {};\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn root;\n}\n\nexport function deleteProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tdelete object[key];\n\t\t\treturn true;\n\t\t}\n\n\t\tobject = object[key];\n\n\t\tif (!isObject(object)) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport function hasProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn false;\n\t}\n\n\tfor (const key of pathArray) {\n\t\tif (!isObject(object) || !(key in object) || isStringIndex(object, key)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn true;\n}\n\n// TODO: Backslashes with no effect should not be escaped\nexport function escapePath(path) {\n\tif (typeof path !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn path.replace(/[\\\\.[]/g, '\\\\$&');\n}\n\n// The keys returned by Object.entries() for arrays are strings\nfunction entries(value) {\n\tconst result = Object.entries(value);\n\tif (Array.isArray(value)) {\n\t\treturn result.map(([key, value]) => [Number(key), value]);\n\t}\n\n\treturn result;\n}\n\nfunction stringifyPath(pathSegments) {\n\tlet result = '';\n\n\tfor (let [index, segment] of entries(pathSegments)) {\n\t\tif (typeof segment === 'number') {\n\t\t\tresult += `[${segment}]`;\n\t\t} else {\n\t\t\tsegment = escapePath(segment);\n\t\t\tresult += index === 0 ? segment : `.${segment}`;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction * deepKeysIterator(object, currentPath = []) {\n\tif (!isObject(object) || isEmptyObject(object)) {\n\t\tif (currentPath.length > 0) {\n\t\t\tyield stringifyPath(currentPath);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tfor (const [key, value] of entries(object)) {\n\t\tyield * deepKeysIterator(value, [...currentPath, key]);\n\t}\n}\n\nexport function deepKeys(object) {\n\treturn [...deepKeysIterator(object)];\n}\n","// settings & const\nconst DEFAULT_HEADERS = {\n    \"Content-Type\": \"application/json\",\n};\nexport default function createClient(clientOptions = {}) {\n    const { fetch: baseFetch = globalThis.fetch, querySerializer: globalQuerySerializer, bodySerializer: globalBodySerializer, ...options } = clientOptions;\n    let baseUrl = options.baseUrl ?? \"\";\n    if (baseUrl.endsWith(\"/\")) {\n        baseUrl = baseUrl.slice(0, -1); // remove trailing slash\n    }\n    async function coreFetch(url, fetchOptions) {\n        const { fetch = baseFetch, headers, body: requestBody, params = {}, parseAs = \"json\", querySerializer = globalQuerySerializer ?? defaultQuerySerializer, bodySerializer = globalBodySerializer ?? defaultBodySerializer, ...init } = fetchOptions || {};\n        // URL\n        const finalURL = createFinalURL(url, {\n            baseUrl,\n            params,\n            querySerializer,\n        });\n        const finalHeaders = mergeHeaders(DEFAULT_HEADERS, clientOptions?.headers, headers, params.header);\n        // fetch!\n        const requestInit = {\n            redirect: \"follow\",\n            ...options,\n            ...init,\n            headers: finalHeaders,\n        };\n        if (requestBody) {\n            requestInit.body = bodySerializer(requestBody);\n        }\n        // remove `Content-Type` if serialized body is FormData; browser will correctly set Content-Type & boundary expression\n        if (requestInit.body instanceof FormData) {\n            finalHeaders.delete(\"Content-Type\");\n        }\n        const response = await fetch(finalURL, requestInit);\n        // handle empty content\n        // note: we return `{}` because we want user truthy checks for `.data` or `.error` to succeed\n        if (response.status === 204 ||\n            response.headers.get(\"Content-Length\") === \"0\") {\n            return response.ok\n                ? { data: {}, response: response }\n                : { error: {}, response: response };\n        }\n        // parse response (falling back to .text() when necessary)\n        if (response.ok) {\n            let data; // we have to leave this empty here so that we don't consume the body\n            if (parseAs !== \"stream\") {\n                const cloned = response.clone();\n                data =\n                    typeof cloned[parseAs] === \"function\"\n                        ? await cloned[parseAs]()\n                        : await cloned.text();\n            }\n            else {\n                // bun consumes the body when calling response.body, therefore we need to clone the response before accessing it\n                data = response.clone().body;\n            }\n            return { data, response: response };\n        }\n        // handle errors (always parse as .json() or .text())\n        let error = {};\n        try {\n            error = await response.clone().json();\n        }\n        catch {\n            error = await response.clone().text();\n        }\n        return { error, response: response };\n    }\n    return {\n        /** Call a GET endpoint */\n        async GET(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"GET\" });\n        },\n        /** Call a PUT endpoint */\n        async PUT(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"PUT\" });\n        },\n        /** Call a POST endpoint */\n        async POST(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"POST\" });\n        },\n        /** Call a DELETE endpoint */\n        async DELETE(url, ...init) {\n            return coreFetch(url, {\n                ...init[0],\n                method: \"DELETE\",\n            });\n        },\n        /** Call a OPTIONS endpoint */\n        async OPTIONS(url, ...init) {\n            return coreFetch(url, {\n                ...init[0],\n                method: \"OPTIONS\",\n            });\n        },\n        /** Call a HEAD endpoint */\n        async HEAD(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"HEAD\" });\n        },\n        /** Call a PATCH endpoint */\n        async PATCH(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"PATCH\" });\n        },\n        /** Call a TRACE endpoint */\n        async TRACE(url, ...init) {\n            return coreFetch(url, { ...init[0], method: \"TRACE\" });\n        },\n    };\n}\n// utils\n/** serialize query params to string */\nexport function defaultQuerySerializer(q) {\n    const search = new URLSearchParams();\n    if (q && typeof q === \"object\") {\n        for (const [k, v] of Object.entries(q)) {\n            if (v === undefined || v === null) {\n                continue;\n            }\n            search.set(k, v);\n        }\n    }\n    return search.toString();\n}\n/** serialize body object to string */\nexport function defaultBodySerializer(body) {\n    return JSON.stringify(body);\n}\n/** Construct URL string from baseUrl and handle path and query params */\nexport function createFinalURL(pathname, options) {\n    let finalURL = `${options.baseUrl}${pathname}`;\n    if (options.params.path) {\n        for (const [k, v] of Object.entries(options.params.path)) {\n            finalURL = finalURL.replace(`{${k}}`, encodeURIComponent(String(v)));\n        }\n    }\n    const search = options.querySerializer(options.params.query ?? {});\n    if (search) {\n        finalURL += `?${search}`;\n    }\n    return finalURL;\n}\n/** merge headers a and b, with b taking priority */\nexport function mergeHeaders(...allHeaders) {\n    const headers = new Headers();\n    for (const headerSet of allHeaders) {\n        if (!headerSet || typeof headerSet !== \"object\") {\n            continue;\n        }\n        const iterator = headerSet instanceof Headers\n            ? // @ts-expect-error Headers definitely have entries()\n                headerSet.entries()\n            : Object.entries(headerSet);\n        for (const [k, v] of iterator) {\n            if (v === null) {\n                headers.delete(k);\n            }\n            else if (v !== undefined) {\n                headers.set(k, v);\n            }\n        }\n    }\n    return headers;\n}\n","import { EventEmitter } from \"events\";\nimport path from \"path\";\nimport os from \"os\";\nimport fs from \"fs-extra\";\nimport deepEqual from \"deep-equal\";\nimport chokidar from \"chokidar\";\nimport { isBrowser } from \"./env\";\nimport type { PartialAgentConfig } from \"./AgentConfig\";\n\nexport type StoredData = {\n  anonymousId: string;\n  auth: { [endpoint: string]: { jwt: string } };\n  serverConfig: { [endpoint: string]: PartialAgentConfig };\n};\n\nexport interface DataStore {\n  data: Partial<StoredData>;\n  load(): PromiseLike<void>;\n  save(): PromiseLike<void>;\n}\n\nclass FileDataStore extends EventEmitter implements DataStore {\n  private watcher?: ReturnType<typeof chokidar.watch>;\n  public data: Partial<StoredData> = {};\n\n  constructor(private readonly filepath: string) {\n    super();\n  }\n\n  async load() {\n    this.data = (await fs.readJson(dataFile, { throws: false })) || {};\n  }\n\n  async save() {\n    await fs.outputJson(dataFile, this.data);\n  }\n\n  watch() {\n    this.watcher = chokidar.watch(this.filepath, {\n      interval: 1000,\n    });\n    const onChanged = async () => {\n      const oldData = this.data;\n      await this.load();\n      if (!deepEqual(oldData, this.data)) {\n        super.emit(\"updated\", this.data);\n      }\n    };\n    this.watcher.on(\"add\", onChanged);\n    this.watcher.on(\"change\", onChanged);\n  }\n}\n\nconst dataFile = path.join(os.homedir(), \".tabby-client\", \"agent\", \"data.json\");\nexport const dataStore = isBrowser ? undefined : new FileDataStore(dataFile);\n","import { e as exports } from './chunk-23dbec7b.js';\nexport { e as default } from './chunk-23dbec7b.js';\nimport './chunk-2eac56ff.js';\n\nvar _makeLong = exports._makeLong;\r\nvar basename = exports.basename;\r\nvar delimiter = exports.delimiter;\r\nvar dirname = exports.dirname;\r\nvar extname = exports.extname;\r\nvar format = exports.format;\r\nvar isAbsolute = exports.isAbsolute;\r\nvar join = exports.join;\r\nvar normalize = exports.normalize;\r\nvar parse = exports.parse;\r\nvar posix = exports.posix;\r\nvar relative = exports.relative;\r\nvar resolve = exports.resolve;\r\nvar sep = exports.sep;\r\nvar win32 = exports.win32;\n\nexport { _makeLong, basename, delimiter, dirname, extname, format, isAbsolute, join, normalize, parse, posix, relative, resolve, sep, win32 };\n","import { p as process } from './chunk-2eac56ff.js';\n\nvar exports$1 = {},\n    _dewExec = false;\nfunction dew() {\n  if (_dewExec) return exports$1;\n  _dewExec = true;\n  var process$1 = process;\n\n  function assertPath(path) {\n    if (typeof path !== \"string\") {\n      throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(path));\n    }\n  } // Resolves . and .. elements in a path with directory names\n\n\n  function normalizeStringPosix(path, allowAboveRoot) {\n    var res = \"\";\n    var lastSegmentLength = 0;\n    var lastSlash = -1;\n    var dots = 0;\n    var code;\n\n    for (var i = 0; i <= path.length; ++i) {\n      if (i < path.length) code = path.charCodeAt(i);else if (code === 47\n      /*/*/\n      ) break;else code = 47\n      /*/*/\n      ;\n\n      if (code === 47\n      /*/*/\n      ) {\n        if (lastSlash === i - 1 || dots === 1) ; else if (lastSlash !== i - 1 && dots === 2) {\n          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46\n          /*.*/\n          || res.charCodeAt(res.length - 2) !== 46\n          /*.*/\n          ) {\n            if (res.length > 2) {\n              var lastSlashIndex = res.lastIndexOf(\"/\");\n\n              if (lastSlashIndex !== res.length - 1) {\n                if (lastSlashIndex === -1) {\n                  res = \"\";\n                  lastSegmentLength = 0;\n                } else {\n                  res = res.slice(0, lastSlashIndex);\n                  lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n                }\n\n                lastSlash = i;\n                dots = 0;\n                continue;\n              }\n            } else if (res.length === 2 || res.length === 1) {\n              res = \"\";\n              lastSegmentLength = 0;\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          }\n\n          if (allowAboveRoot) {\n            if (res.length > 0) res += \"/..\";else res = \"..\";\n            lastSegmentLength = 2;\n          }\n        } else {\n          if (res.length > 0) res += \"/\" + path.slice(lastSlash + 1, i);else res = path.slice(lastSlash + 1, i);\n          lastSegmentLength = i - lastSlash - 1;\n        }\n\n        lastSlash = i;\n        dots = 0;\n      } else if (code === 46\n      /*.*/\n      && dots !== -1) {\n        ++dots;\n      } else {\n        dots = -1;\n      }\n    }\n\n    return res;\n  }\n\n  function _format(sep, pathObject) {\n    var dir = pathObject.dir || pathObject.root;\n    var base = pathObject.base || (pathObject.name || \"\") + (pathObject.ext || \"\");\n\n    if (!dir) {\n      return base;\n    }\n\n    if (dir === pathObject.root) {\n      return dir + base;\n    }\n\n    return dir + sep + base;\n  }\n\n  var posix = {\n    // path.resolve([from ...], to)\n    resolve: function resolve() {\n      var resolvedPath = \"\";\n      var resolvedAbsolute = false;\n      var cwd;\n\n      for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n        var path;\n        if (i >= 0) path = arguments[i];else {\n          if (cwd === undefined) cwd = process$1.cwd();\n          path = cwd;\n        }\n        assertPath(path); // Skip empty entries\n\n        if (path.length === 0) {\n          continue;\n        }\n\n        resolvedPath = path + \"/\" + resolvedPath;\n        resolvedAbsolute = path.charCodeAt(0) === 47\n        /*/*/\n        ;\n      } // At this point the path should be resolved to a full absolute path, but\n      // handle relative paths to be safe (might happen when process.cwd() fails)\n      // Normalize the path\n\n\n      resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n      if (resolvedAbsolute) {\n        if (resolvedPath.length > 0) return \"/\" + resolvedPath;else return \"/\";\n      } else if (resolvedPath.length > 0) {\n        return resolvedPath;\n      } else {\n        return \".\";\n      }\n    },\n    normalize: function normalize(path) {\n      assertPath(path);\n      if (path.length === 0) return \".\";\n      var isAbsolute = path.charCodeAt(0) === 47\n      /*/*/\n      ;\n      var trailingSeparator = path.charCodeAt(path.length - 1) === 47\n      /*/*/\n      ; // Normalize the path\n\n      path = normalizeStringPosix(path, !isAbsolute);\n      if (path.length === 0 && !isAbsolute) path = \".\";\n      if (path.length > 0 && trailingSeparator) path += \"/\";\n      if (isAbsolute) return \"/\" + path;\n      return path;\n    },\n    isAbsolute: function isAbsolute(path) {\n      assertPath(path);\n      return path.length > 0 && path.charCodeAt(0) === 47\n      /*/*/\n      ;\n    },\n    join: function join() {\n      if (arguments.length === 0) return \".\";\n      var joined;\n\n      for (var i = 0; i < arguments.length; ++i) {\n        var arg = arguments[i];\n        assertPath(arg);\n\n        if (arg.length > 0) {\n          if (joined === undefined) joined = arg;else joined += \"/\" + arg;\n        }\n      }\n\n      if (joined === undefined) return \".\";\n      return posix.normalize(joined);\n    },\n    relative: function relative(from, to) {\n      assertPath(from);\n      assertPath(to);\n      if (from === to) return \"\";\n      from = posix.resolve(from);\n      to = posix.resolve(to);\n      if (from === to) return \"\"; // Trim any leading backslashes\n\n      var fromStart = 1;\n\n      for (; fromStart < from.length; ++fromStart) {\n        if (from.charCodeAt(fromStart) !== 47\n        /*/*/\n        ) break;\n      }\n\n      var fromEnd = from.length;\n      var fromLen = fromEnd - fromStart; // Trim any leading backslashes\n\n      var toStart = 1;\n\n      for (; toStart < to.length; ++toStart) {\n        if (to.charCodeAt(toStart) !== 47\n        /*/*/\n        ) break;\n      }\n\n      var toEnd = to.length;\n      var toLen = toEnd - toStart; // Compare paths to find the longest common path from root\n\n      var length = fromLen < toLen ? fromLen : toLen;\n      var lastCommonSep = -1;\n      var i = 0;\n\n      for (; i <= length; ++i) {\n        if (i === length) {\n          if (toLen > length) {\n            if (to.charCodeAt(toStart + i) === 47\n            /*/*/\n            ) {\n              // We get here if `from` is the exact base path for `to`.\n              // For example: from='/foo/bar'; to='/foo/bar/baz'\n              return to.slice(toStart + i + 1);\n            } else if (i === 0) {\n              // We get here if `from` is the root\n              // For example: from='/'; to='/foo'\n              return to.slice(toStart + i);\n            }\n          } else if (fromLen > length) {\n            if (from.charCodeAt(fromStart + i) === 47\n            /*/*/\n            ) {\n              // We get here if `to` is the exact base path for `from`.\n              // For example: from='/foo/bar/baz'; to='/foo/bar'\n              lastCommonSep = i;\n            } else if (i === 0) {\n              // We get here if `to` is the root.\n              // For example: from='/foo'; to='/'\n              lastCommonSep = 0;\n            }\n          }\n\n          break;\n        }\n\n        var fromCode = from.charCodeAt(fromStart + i);\n        var toCode = to.charCodeAt(toStart + i);\n        if (fromCode !== toCode) break;else if (fromCode === 47\n        /*/*/\n        ) lastCommonSep = i;\n      }\n\n      var out = \"\"; // Generate the relative path based on the path difference between `to`\n      // and `from`\n\n      for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n        if (i === fromEnd || from.charCodeAt(i) === 47\n        /*/*/\n        ) {\n          if (out.length === 0) out += \"..\";else out += \"/..\";\n        }\n      } // Lastly, append the rest of the destination (`to`) path that comes after\n      // the common path parts\n\n\n      if (out.length > 0) return out + to.slice(toStart + lastCommonSep);else {\n        toStart += lastCommonSep;\n        if (to.charCodeAt(toStart) === 47\n        /*/*/\n        ) ++toStart;\n        return to.slice(toStart);\n      }\n    },\n    _makeLong: function _makeLong(path) {\n      return path;\n    },\n    dirname: function dirname(path) {\n      assertPath(path);\n      if (path.length === 0) return \".\";\n      var code = path.charCodeAt(0);\n      var hasRoot = code === 47\n      /*/*/\n      ;\n      var end = -1;\n      var matchedSlash = true;\n\n      for (var i = path.length - 1; i >= 1; --i) {\n        code = path.charCodeAt(i);\n\n        if (code === 47\n        /*/*/\n        ) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n          // We saw the first non-path separator\n          matchedSlash = false;\n        }\n      }\n\n      if (end === -1) return hasRoot ? \"/\" : \".\";\n      if (hasRoot && end === 1) return \"//\";\n      return path.slice(0, end);\n    },\n    basename: function basename(path, ext) {\n      if (ext !== undefined && typeof ext !== \"string\") throw new TypeError(\"\\\"ext\\\" argument must be a string\");\n      assertPath(path);\n      var start = 0;\n      var end = -1;\n      var matchedSlash = true;\n      var i;\n\n      if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n        if (ext.length === path.length && ext === path) return \"\";\n        var extIdx = ext.length - 1;\n        var firstNonSlashEnd = -1;\n\n        for (i = path.length - 1; i >= 0; --i) {\n          var code = path.charCodeAt(i);\n\n          if (code === 47\n          /*/*/\n          ) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n            if (firstNonSlashEnd === -1) {\n              // We saw the first non-path separator, remember this index in case\n              // we need it if the extension ends up not matching\n              matchedSlash = false;\n              firstNonSlashEnd = i + 1;\n            }\n\n            if (extIdx >= 0) {\n              // Try to match the explicit extension\n              if (code === ext.charCodeAt(extIdx)) {\n                if (--extIdx === -1) {\n                  // We matched the extension, so mark this as the end of our path\n                  // component\n                  end = i;\n                }\n              } else {\n                // Extension does not match, so our result is the entire path\n                // component\n                extIdx = -1;\n                end = firstNonSlashEnd;\n              }\n            }\n          }\n        }\n\n        if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n        return path.slice(start, end);\n      } else {\n        for (i = path.length - 1; i >= 0; --i) {\n          if (path.charCodeAt(i) === 47\n          /*/*/\n          ) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n            // We saw the first non-path separator, mark this as the end of our\n            // path component\n            matchedSlash = false;\n            end = i + 1;\n          }\n        }\n\n        if (end === -1) return \"\";\n        return path.slice(start, end);\n      }\n    },\n    extname: function extname(path) {\n      assertPath(path);\n      var startDot = -1;\n      var startPart = 0;\n      var end = -1;\n      var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n      // after any path separator we find\n\n      var preDotState = 0;\n\n      for (var i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n\n        if (code === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n\n          continue;\n        }\n\n        if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // extension\n          matchedSlash = false;\n          end = i + 1;\n        }\n\n        if (code === 46\n        /*.*/\n        ) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n          // We saw a non-dot and non-path separator before our dot, so we should\n          // have a good chance at having a non-empty extension\n          preDotState = -1;\n        }\n      }\n\n      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n        return \"\";\n      }\n\n      return path.slice(startDot, end);\n    },\n    format: function format(pathObject) {\n      if (pathObject === null || typeof pathObject !== \"object\") {\n        throw new TypeError(\"The \\\"pathObject\\\" argument must be of type Object. Received type \" + typeof pathObject);\n      }\n\n      return _format(\"/\", pathObject);\n    },\n    parse: function parse(path) {\n      assertPath(path);\n      var ret = {\n        root: \"\",\n        dir: \"\",\n        base: \"\",\n        ext: \"\",\n        name: \"\"\n      };\n      if (path.length === 0) return ret;\n      var code = path.charCodeAt(0);\n      var isAbsolute = code === 47\n      /*/*/\n      ;\n      var start;\n\n      if (isAbsolute) {\n        ret.root = \"/\";\n        start = 1;\n      } else {\n        start = 0;\n      }\n\n      var startDot = -1;\n      var startPart = 0;\n      var end = -1;\n      var matchedSlash = true;\n      var i = path.length - 1; // Track the state of characters (if any) we see before our first dot and\n      // after any path separator we find\n\n      var preDotState = 0; // Get non-dir info\n\n      for (; i >= start; --i) {\n        code = path.charCodeAt(i);\n\n        if (code === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n\n          continue;\n        }\n\n        if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // extension\n          matchedSlash = false;\n          end = i + 1;\n        }\n\n        if (code === 46\n        /*.*/\n        ) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n          // We saw a non-dot and non-path separator before our dot, so we should\n          // have a good chance at having a non-empty extension\n          preDotState = -1;\n        }\n      }\n\n      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n        if (end !== -1) {\n          if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n        }\n      } else {\n        if (startPart === 0 && isAbsolute) {\n          ret.name = path.slice(1, startDot);\n          ret.base = path.slice(1, end);\n        } else {\n          ret.name = path.slice(startPart, startDot);\n          ret.base = path.slice(startPart, end);\n        }\n\n        ret.ext = path.slice(startDot, end);\n      }\n\n      if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = \"/\";\n      return ret;\n    },\n    sep: \"/\",\n    delimiter: \":\",\n    win32: null,\n    posix: null\n  };\n  posix.posix = posix;\n  exports$1 = posix;\n  return exports$1;\n}\n\nconst exports = dew();\n\nexport { exports as e };\n","var exports = {},\n    _dewExec = false;\n\nvar _global = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : global;\n\nfunction dew() {\n  if (_dewExec) return exports;\n  _dewExec = true;\n  // shim for using process in browser\n  var process = exports = {}; // cached from whatever global is present so that test runners that stub it\n  // don't break things.  But we need to wrap it in a try catch in case it is\n  // wrapped in strict mode code which doesn't define any globals.  It's inside a\n  // function because try/catches deoptimize in certain engines.\n\n  var cachedSetTimeout;\n  var cachedClearTimeout;\n\n  function defaultSetTimout() {\n    throw new Error(\"setTimeout has not been defined\");\n  }\n\n  function defaultClearTimeout() {\n    throw new Error(\"clearTimeout has not been defined\");\n  }\n\n  (function () {\n    try {\n      if (typeof setTimeout === \"function\") {\n        cachedSetTimeout = setTimeout;\n      } else {\n        cachedSetTimeout = defaultSetTimout;\n      }\n    } catch (e) {\n      cachedSetTimeout = defaultSetTimout;\n    }\n\n    try {\n      if (typeof clearTimeout === \"function\") {\n        cachedClearTimeout = clearTimeout;\n      } else {\n        cachedClearTimeout = defaultClearTimeout;\n      }\n    } catch (e) {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  })();\n\n  function runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n      //normal enviroments in sane situations\n      return setTimeout(fun, 0);\n    } // if setTimeout wasn't available but was latter defined\n\n\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n      cachedSetTimeout = setTimeout;\n      return setTimeout(fun, 0);\n    }\n\n    try {\n      // when when somebody has screwed with setTimeout but no I.E. maddness\n      return cachedSetTimeout(fun, 0);\n    } catch (e) {\n      try {\n        // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n        return cachedSetTimeout.call(null, fun, 0);\n      } catch (e) {\n        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n        return cachedSetTimeout.call(this || _global, fun, 0);\n      }\n    }\n  }\n\n  function runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n      //normal enviroments in sane situations\n      return clearTimeout(marker);\n    } // if clearTimeout wasn't available but was latter defined\n\n\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n      cachedClearTimeout = clearTimeout;\n      return clearTimeout(marker);\n    }\n\n    try {\n      // when when somebody has screwed with setTimeout but no I.E. maddness\n      return cachedClearTimeout(marker);\n    } catch (e) {\n      try {\n        // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n        return cachedClearTimeout.call(null, marker);\n      } catch (e) {\n        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n        // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n        return cachedClearTimeout.call(this || _global, marker);\n      }\n    }\n  }\n\n  var queue = [];\n  var draining = false;\n  var currentQueue;\n  var queueIndex = -1;\n\n  function cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n      return;\n    }\n\n    draining = false;\n\n    if (currentQueue.length) {\n      queue = currentQueue.concat(queue);\n    } else {\n      queueIndex = -1;\n    }\n\n    if (queue.length) {\n      drainQueue();\n    }\n  }\n\n  function drainQueue() {\n    if (draining) {\n      return;\n    }\n\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n    var len = queue.length;\n\n    while (len) {\n      currentQueue = queue;\n      queue = [];\n\n      while (++queueIndex < len) {\n        if (currentQueue) {\n          currentQueue[queueIndex].run();\n        }\n      }\n\n      queueIndex = -1;\n      len = queue.length;\n    }\n\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n  }\n\n  process.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n\n    if (arguments.length > 1) {\n      for (var i = 1; i < arguments.length; i++) {\n        args[i - 1] = arguments[i];\n      }\n    }\n\n    queue.push(new Item(fun, args));\n\n    if (queue.length === 1 && !draining) {\n      runTimeout(drainQueue);\n    }\n  }; // v8 likes predictible objects\n\n\n  function Item(fun, array) {\n    (this || _global).fun = fun;\n    (this || _global).array = array;\n  }\n\n  Item.prototype.run = function () {\n    (this || _global).fun.apply(null, (this || _global).array);\n  };\n\n  process.title = \"browser\";\n  process.browser = true;\n  process.env = {};\n  process.argv = [];\n  process.version = \"\"; // empty string to avoid regexp issues\n\n  process.versions = {};\n\n  function noop() {}\n\n  process.on = noop;\n  process.addListener = noop;\n  process.once = noop;\n  process.off = noop;\n  process.removeListener = noop;\n  process.removeAllListeners = noop;\n  process.emit = noop;\n  process.prependListener = noop;\n  process.prependOnceListener = noop;\n\n  process.listeners = function (name) {\n    return [];\n  };\n\n  process.binding = function (name) {\n    throw new Error(\"process.binding is not supported\");\n  };\n\n  process.cwd = function () {\n    return \"/\";\n  };\n\n  process.chdir = function (dir) {\n    throw new Error(\"process.chdir is not supported\");\n  };\n\n  process.umask = function () {\n    return 0;\n  };\n\n  return exports;\n}\n\nvar process = dew();\n\nprocess.platform = 'browser';\nprocess.addListener;\nprocess.argv;\nprocess.binding;\nprocess.browser;\nprocess.chdir;\nprocess.cwd;\nprocess.emit;\nprocess.env;\nprocess.listeners;\nprocess.nextTick;\nprocess.off;\nprocess.on;\nprocess.once;\nprocess.prependListener;\nprocess.prependOnceListener;\nprocess.removeAllListeners;\nprocess.removeListener;\nprocess.title;\nprocess.umask;\nprocess.version;\nprocess.versions;\n\nexport { process as p };\n","import { uptime } from './process.js';\nexport { uptime } from './process.js';\n\nvar exports$1 = {},\n    _dewExec = false;\nfunction dew() {\n  if (_dewExec) return exports$1;\n  _dewExec = true;\n\n  exports$1.endianness = function () {\n    return \"LE\";\n  };\n\n  exports$1.hostname = function () {\n    if (typeof location !== \"undefined\") {\n      return location.hostname;\n    } else return \"\";\n  };\n\n  exports$1.loadavg = function () {\n    return [];\n  };\n\n  exports$1.uptime = function () {\n    return 0;\n  };\n\n  exports$1.freemem = function () {\n    return Number.MAX_VALUE;\n  };\n\n  exports$1.totalmem = function () {\n    return Number.MAX_VALUE;\n  };\n\n  exports$1.cpus = function () {\n    return [];\n  };\n\n  exports$1.type = function () {\n    return \"Browser\";\n  };\n\n  exports$1.release = function () {\n    if (typeof navigator !== \"undefined\") {\n      return navigator.appVersion;\n    }\n\n    return \"\";\n  };\n\n  exports$1.networkInterfaces = exports$1.getNetworkInterfaces = function () {\n    return {};\n  };\n\n  exports$1.arch = function () {\n    return \"javascript\";\n  };\n\n  exports$1.platform = function () {\n    return \"browser\";\n  };\n\n  exports$1.tmpdir = exports$1.tmpDir = function () {\n    return \"/tmp\";\n  };\n\n  exports$1.EOL = \"\\n\";\n\n  exports$1.homedir = function () {\n    return \"/\";\n  };\n\n  return exports$1;\n}\n\nconst exports = dew();\nexports['endianness']; exports['hostname']; exports['loadavg']; exports['uptime']; exports['freemem']; exports['totalmem']; exports['cpus']; exports['type']; exports['release']; exports['networkInterfaces']; exports['getNetworkInterfaces']; exports['arch']; exports['platform']; exports['tmpdir']; exports['tmpDir']; exports['EOL']; exports['homedir'];\n\nvar _endianness = new Uint8Array(new Uint16Array([1]).buffer)[0] === 1 ? 'LE' : 'BE';\r\nexports.endianness = function() { return _endianness; };\r\nexports.homedir = function() { return '/home'; };\r\nexports.version = function() { return ''; };\r\nexports.arch = function() { return 'x64'; };\r\nexports.totalmem = function() {\r\n  return navigator.deviceMemory !== undefined ? navigator.deviceMemory * (1 << 30) : 2 * (1 << 30);\r\n};\r\nexports.cpus = function () {\r\n  return Array(navigator.hardwareConcurrency || 0).fill({ model: '', times: {} });\r\n};\r\nexports.uptime = uptime;\r\nexports.constants = {};\r\nvar version = exports.version;\r\nvar constants = exports.constants;\r\nvar EOL = exports.EOL;\r\nvar arch = exports.arch;\r\nvar cpus = exports.cpus;\r\nvar endianness = exports.endianness;\r\nvar freemem = exports.freemem;\r\nvar getNetworkInterfaces = exports.getNetworkInterfaces;\r\nvar homedir = exports.homedir;\r\nvar hostname = exports.hostname;\r\nvar loadavg = exports.loadavg;\r\nvar networkInterfaces = exports.networkInterfaces;\r\nvar platform = exports.platform;\r\nvar release = exports.release;\r\nvar tmpDir = exports.tmpDir;\r\nvar tmpdir = exports.tmpdir;\r\nvar totalmem = exports.totalmem;\r\nvar type = exports.type;\n\nexport { EOL, arch, constants, cpus, exports as default, endianness, freemem, getNetworkInterfaces, homedir, hostname, loadavg, networkInterfaces, platform, release, tmpDir, tmpdir, totalmem, type, version };\n","// FIXME: refactor env variables for running tests\nexport const isBrowser = !!process.env[\"IS_BROWSER\"];\nexport const isTest = !!process.env[\"IS_TEST\"];\n","export function splitLines(input: string) {\n  const lines = input.match(/.*(?:$|\\r?\\n)/g)?.filter(Boolean) ?? []; // Split lines and keep newline character\n  if (lines.length > 0 && lines[lines.length - 1]?.endsWith(\"\\n\")) {\n    // Keep last empty line\n    lines.push(\"\");\n  }\n  return lines;\n}\n\nexport function splitWords(input: string) {\n  return input.match(/\\w+|\\W+/g)?.filter(Boolean) ?? []; // Split consecutive words and non-words\n}\n\nexport function isBlank(input: string) {\n  return input.trim().length === 0;\n}\n\n// Indentation\n\nexport function getIndentationLevel(line: string, indentation?: string) {\n  if (indentation === undefined) {\n    return line.match(/^[ \\t]*/)?.[0]?.length ?? 0;\n  } else if (indentation === \"\\t\") {\n    return line.match(/^\\t*/)?.[0].length ?? 0;\n  } else if (indentation.match(/^ *$/)) {\n    const spaces = line.match(/^ */)?.[0].length ?? 0;\n    return spaces / indentation.length;\n  } else {\n    throw new Error(`Invalid indentation: ${indentation}`);\n  }\n}\n\n// function foo(a) {  // <-- block opening line\n//   return a;\n// }                  // <-- block closing line\nexport function isBlockOpeningLine(lines: string[], index: number): boolean {\n  if (index < 0 || index >= lines.length - 1) {\n    return false;\n  }\n  return getIndentationLevel(lines[index]!) < getIndentationLevel(lines[index + 1]!);\n}\n\nexport function isBlockClosingLine(lines: string[], index: number): boolean {\n  if (index <= 0 || index > lines.length - 1) {\n    return false;\n  }\n  return getIndentationLevel(lines[index - 1]!) > getIndentationLevel(lines[index]!);\n}\n\n// Auto-closing chars\ntype AutoClosingCharPosition = \"open\" | \"close\" | \"openOrClose\";\ntype AutoClosingCharPattern = { chars: string; reg: RegExp };\ntype AutoClosingPairDifferent = { open: AutoClosingCharPattern; close: AutoClosingCharPattern };\ntype AutoClosingPairSame = { openOrClose: AutoClosingCharPattern };\ntype AutoClosingPair = AutoClosingPairDifferent | AutoClosingPairSame;\n\n// FIXME: use syntax parser instead\nexport const autoClosingPairs: AutoClosingPair[] = [\n  {\n    open: {\n      chars: \"(\",\n      reg: /\\(/,\n    },\n    close: {\n      chars: \")\",\n      reg: /\\)/,\n    },\n  },\n  {\n    open: {\n      chars: \"[\",\n      reg: /\\[/,\n    },\n    close: {\n      chars: \"]\",\n      reg: /\\]/,\n    },\n  },\n  {\n    open: {\n      chars: \"{\",\n      reg: /\\{/,\n    },\n    close: {\n      chars: \"}\",\n      reg: /\\}/,\n    },\n  },\n  {\n    open: {\n      chars: \"<\",\n      reg: /<(?=\\w)/,\n    },\n    close: {\n      chars: \"/>\",\n      reg: /\\/>/,\n    },\n  },\n  {\n    open: {\n      chars: \"<\",\n      reg: /<(?=[/\\w])/,\n    },\n    close: {\n      chars: \">\",\n      reg: />/,\n    },\n  },\n  {\n    openOrClose: {\n      chars: '\"',\n      reg: /\"/,\n    },\n  },\n  {\n    openOrClose: {\n      chars: \"'\",\n      reg: /'/,\n    },\n  },\n  {\n    openOrClose: {\n      chars: \"`\",\n      reg: /`/,\n    },\n  },\n];\n\nexport const regOnlyAutoClosingCloseChars = /^([)\\]}>\"'`]|(\\/>))*$/g;\n\n// FIXME: This function is not good enough, it can not handle escaped characters.\nexport function findUnpairedAutoClosingChars(input: string): string[] {\n  const stack: string[] = [];\n  let index = 0;\n  while (index < input.length) {\n    const remain = input.slice(index);\n    let nextFound: {\n      index: number;\n      found: { pair: AutoClosingPair; pos: AutoClosingCharPosition; pattern: AutoClosingCharPattern } | undefined;\n    } = {\n      index: remain.length,\n      found: undefined,\n    };\n    autoClosingPairs.forEach((pair) => {\n      Object.entries(pair).forEach(([pos, pattern]) => {\n        const match = remain.match(pattern.reg);\n        if (match && match.index !== undefined && match.index < nextFound.index) {\n          nextFound = {\n            index: match.index,\n            found: { pair, pos: pos as AutoClosingCharPosition, pattern },\n          };\n        }\n      });\n    });\n    if (!nextFound.found) {\n      break;\n    }\n    switch (nextFound.found.pos) {\n      case \"openOrClose\": {\n        const chars = nextFound.found.pattern.chars;\n        if (stack.length > 0 && stack.includes(chars)) {\n          stack.splice(stack.lastIndexOf(chars), stack.length - stack.lastIndexOf(chars));\n        } else {\n          stack.push(chars);\n        }\n        break;\n      }\n      case \"open\": {\n        stack.push(nextFound.found.pattern.chars);\n        break;\n      }\n      case \"close\": {\n        const pair = nextFound.found.pair;\n        if (stack.length > 0 && \"open\" in pair && stack[stack.length - 1] === pair.open.chars) {\n          stack.pop();\n        } else {\n          stack.push(nextFound.found.pattern.chars);\n        }\n        break;\n      }\n    }\n    index += nextFound.index + nextFound.found.pattern.chars.length;\n  }\n  return stack;\n}\n\n// Using string levenshtein distance is not good, because variable name may create a large distance.\n// Such as distance is 9 between `const fooFooFoo = 1;` and `const barBarBar = 1;`, but maybe 1 is enough.\n// May be better to count distance based on words instead of characters.\nimport * as levenshtein from \"fast-levenshtein\";\nexport function calcDistance(a: string, b: string) {\n  return levenshtein.get(a, b);\n}\n\n// Polyfill for AbortSignal.any(signals) which added in Node.js v20.\nexport function abortSignalFromAnyOf(signals: (AbortSignal | undefined)[]) {\n  const controller = new AbortController();\n  for (const signal of signals) {\n    if (signal?.aborted) {\n      controller.abort(signal.reason);\n      return signal;\n    }\n    signal?.addEventListener(\"abort\", () => controller.abort(signal.reason), {\n      signal: controller.signal,\n    });\n  }\n  return controller.signal;\n}\n\n// Http Error\nexport class HttpError extends Error {\n  public readonly status: number;\n  public readonly statusText: string;\n  public readonly response: Response;\n\n  constructor(response: Response) {\n    super(`${response.status} ${response.statusText}`);\n    this.name = \"HttpError\";\n    this.status = response.status;\n    this.statusText = response.statusText;\n    this.response = response;\n  }\n}\n\nexport function isTimeoutError(error: any) {\n  return (\n    (error instanceof Error && error.name === \"TimeoutError\") ||\n    (error instanceof HttpError && [408, 499].includes(error.status))\n  );\n}\n\nexport function isCanceledError(error: any) {\n  return error instanceof Error && error.name === \"AbortError\";\n}\n\nexport function isUnauthorizedError(error: any) {\n  return error instanceof HttpError && [401, 403].includes(error.status);\n}\n\nexport function errorToString(error: Error) {\n  let message = error.message || error.toString();\n  if (error.cause instanceof Error) {\n    message += \"\\nCaused by: \" + errorToString(error.cause);\n  }\n  return message;\n}\n\nexport function stringToRegExp(str: string): RegExp {\n  const parts = /\\/(.*)\\/(.*)/.exec(str);\n  if (parts && parts[1] && parts[2]) {\n    return new RegExp(parts[1], parts[2]);\n  }\n  return new RegExp(str);\n}\n","import { Readable } from \"readable-stream\";\nimport { readableFromWeb } from \"readable-from-web\";\nimport { EventSourceParserStream, ParsedEvent } from \"eventsource-parser/stream\";\nimport type { components as TabbyApiComponents } from \"tabby-openapi/compatible\";\nimport { getLogger } from \"./logger\";\n\nconst logger = getLogger(\"StreamParser\");\n\nexport function readChatStream(stream: ReadableStream, signal?: AbortSignal): Readable {\n  const eventStream = stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream());\n  const readableStream = readableFromWeb(eventStream, { objectMode: true });\n  return readableStream.map(\n    (event: ParsedEvent): string | undefined => {\n      try {\n        if (event.type === \"event\") {\n          const chunk = JSON.parse(event.data) as TabbyApiComponents[\"schemas\"][\"ChatCompletionChunk\"];\n          const text = chunk.choices[0]?.delta.content;\n          if (typeof text === \"string\") {\n            return text;\n          }\n        }\n      } catch (error) {\n        logger.error(\"Failed to parse chat stream chunk.\", error);\n        logger.trace(\"Parsing failed with event:\", { event });\n      }\n      return undefined;\n    },\n    { signal },\n  );\n}\n\nexport async function parseChatResponse(response: Response, signal?: AbortSignal): Promise<string> {\n  if (!response.body) {\n    return \"\";\n  }\n  const readableStream = readChatStream(response.body, signal);\n  return readableStream.reduce<string>((text, delta) => text + delta, \"\", { signal });\n}\n","/**\n * EventSource/Server-Sent Events parser\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html\n *\n * Based on code from the {@link https://github.com/EventSource/eventsource | EventSource module},\n * which is licensed under the MIT license. And copyrighted the EventSource GitHub organisation.\n */\nimport type {EventSourceParseCallback, EventSourceParser} from './types.js'\n\n/**\n * Creates a new EventSource parser.\n *\n * @param onParse - Callback to invoke when a new event is parsed, or a new reconnection interval\n *                  has been sent from the server\n *\n * @returns A new EventSource parser, with `parse` and `reset` methods.\n * @public\n */\nexport function createParser(onParse: EventSourceParseCallback): EventSourceParser {\n  // Processing state\n  let isFirstChunk: boolean\n  let buffer: string\n  let startingPosition: number\n  let startingFieldLength: number\n\n  // Event state\n  let eventId: string | undefined\n  let eventName: string | undefined\n  let data: string\n\n  reset()\n  return {feed, reset}\n\n  function reset(): void {\n    isFirstChunk = true\n    buffer = ''\n    startingPosition = 0\n    startingFieldLength = -1\n\n    eventId = undefined\n    eventName = undefined\n    data = ''\n  }\n\n  function feed(chunk: string): void {\n    buffer = buffer ? buffer + chunk : chunk\n\n    // Strip any UTF8 byte order mark (BOM) at the start of the stream.\n    // Note that we do not strip any non - UTF8 BOM, as eventsource streams are\n    // always decoded as UTF8 as per the specification.\n    if (isFirstChunk && hasBom(buffer)) {\n      buffer = buffer.slice(BOM.length)\n    }\n\n    isFirstChunk = false\n\n    // Set up chunk-specific processing state\n    const length = buffer.length\n    let position = 0\n    let discardTrailingNewline = false\n\n    // Read the current buffer byte by byte\n    while (position < length) {\n      // EventSource allows for carriage return + line feed, which means we\n      // need to ignore a linefeed character if the previous character was a\n      // carriage return\n      // @todo refactor to reduce nesting, consider checking previous byte?\n      // @todo but consider multiple chunks etc\n      if (discardTrailingNewline) {\n        if (buffer[position] === '\\n') {\n          ++position\n        }\n        discardTrailingNewline = false\n      }\n\n      let lineLength = -1\n      let fieldLength = startingFieldLength\n      let character: string\n\n      for (let index = startingPosition; lineLength < 0 && index < length; ++index) {\n        character = buffer[index]\n        if (character === ':' && fieldLength < 0) {\n          fieldLength = index - position\n        } else if (character === '\\r') {\n          discardTrailingNewline = true\n          lineLength = index - position\n        } else if (character === '\\n') {\n          lineLength = index - position\n        }\n      }\n\n      if (lineLength < 0) {\n        startingPosition = length - position\n        startingFieldLength = fieldLength\n        break\n      } else {\n        startingPosition = 0\n        startingFieldLength = -1\n      }\n\n      parseEventStreamLine(buffer, position, fieldLength, lineLength)\n\n      position += lineLength + 1\n    }\n\n    if (position === length) {\n      // If we consumed the entire buffer to read the event, reset the buffer\n      buffer = ''\n    } else if (position > 0) {\n      // If there are bytes left to process, set the buffer to the unprocessed\n      // portion of the buffer only\n      buffer = buffer.slice(position)\n    }\n  }\n\n  function parseEventStreamLine(\n    lineBuffer: string,\n    index: number,\n    fieldLength: number,\n    lineLength: number,\n  ) {\n    if (lineLength === 0) {\n      // We reached the last line of this event\n      if (data.length > 0) {\n        onParse({\n          type: 'event',\n          id: eventId,\n          event: eventName || undefined,\n          data: data.slice(0, -1), // remove trailing newline\n        })\n\n        data = ''\n        eventId = undefined\n      }\n      eventName = undefined\n      return\n    }\n\n    const noValue = fieldLength < 0\n    const field = lineBuffer.slice(index, index + (noValue ? lineLength : fieldLength))\n    let step = 0\n\n    if (noValue) {\n      step = lineLength\n    } else if (lineBuffer[index + fieldLength + 1] === ' ') {\n      step = fieldLength + 2\n    } else {\n      step = fieldLength + 1\n    }\n\n    const position = index + step\n    const valueLength = lineLength - step\n    const value = lineBuffer.slice(position, position + valueLength).toString()\n\n    if (field === 'data') {\n      data += value ? `${value}\\n` : '\\n'\n    } else if (field === 'event') {\n      eventName = value\n    } else if (field === 'id' && !value.includes('\\u0000')) {\n      eventId = value\n    } else if (field === 'retry') {\n      const retry = parseInt(value, 10)\n      if (!Number.isNaN(retry)) {\n        onParse({type: 'reconnect-interval', value: retry})\n      }\n    }\n  }\n}\n\nconst BOM = [239, 187, 191]\n\nfunction hasBom(buffer: string) {\n  return BOM.every((charCode: number, index: number) => buffer.charCodeAt(index) === charCode)\n}\n","import type {EventSourceParser, ParsedEvent} from './types.js'\nimport {createParser} from './parse.js'\n\n/**\n * A TransformStream that ingests a stream of strings and produces a stream of ParsedEvents.\n *\n * @example\n * ```\n * const eventStream =\n *   response.body\n *     .pipeThrough(new TextDecoderStream())\n *     .pipeThrough(new EventSourceParserStream())\n * ```\n * @public\n */\nexport class EventSourceParserStream extends TransformStream<string, ParsedEvent> {\n  constructor() {\n    let parser!: EventSourceParser\n\n    super({\n      start(controller) {\n        parser = createParser((event) => {\n          if (event.type === 'event') {\n            controller.enqueue(event)\n          }\n        })\n      },\n      transform(chunk) {\n        parser.feed(chunk)\n      },\n    })\n  }\n}\n\nexport type {ParsedEvent} from './types.js'\n","import path from \"path\";\nimport os from \"os\";\nimport EventEmitter from \"events\";\nimport pino from \"pino\";\nimport * as FileStreamRotator from \"file-stream-rotator\";\nimport { isBrowser, isTest } from \"./env\";\n\nexport interface Logger {\n  error: (msg: string, error: any) => void;\n  warn: (msg: string) => void;\n  info: (msg: string) => void;\n  debug: (msg: string) => void;\n  trace: (msg: string, verbose?: any) => void;\n}\n\nclass LogFileStream implements pino.DestinationStream {\n  private stream?: pino.DestinationStream;\n\n  write(data: string): void {\n    if (!this.stream) {\n      // Rotating file locate at `~/.tabby-client/agent/logs/`.\n      const logDir = path.join(os.homedir(), \".tabby-client\", \"agent\", \"logs\");\n      this.stream = FileStreamRotator.getStream({\n        filename: path.join(logDir, \"%DATE%\"),\n        date_format: \"YMD\",\n        frequency: \"daily\",\n        size: \"10M\",\n        max_logs: \"30d\",\n        audit_file: path.join(logDir, \"audit.json\"),\n        extension: \".log\",\n        create_symlink: true,\n      });\n    }\n    this.stream.write(data);\n  }\n}\n\nclass TaggedLogger implements Logger {\n  constructor(\n    private baseLogger: Logger,\n    private tag: string,\n  ) {}\n\n  private tagMsg(msg: string): string {\n    return `[${this.tag}] ${msg}`;\n  }\n\n  error(msg: string, error: any): void {\n    this.baseLogger.error(this.tagMsg(msg), { error });\n  }\n  warn(msg: string): void {\n    this.baseLogger.warn(this.tagMsg(msg));\n  }\n  info(msg: string): void {\n    this.baseLogger.info(this.tagMsg(msg));\n  }\n  debug(msg: string): void {\n    this.baseLogger.debug(this.tagMsg(msg));\n  }\n  trace(msg: string, verbose?: any): void {\n    this.baseLogger.trace(this.tagMsg(msg), verbose);\n  }\n}\n\nclass JsonLineLogger implements Logger {\n  private childLoggers: pino.Logger[] = [];\n\n  constructor(private baseLogger: pino.Logger) {\n    this.baseLogger.onChild = (child: pino.Logger) => {\n      this.childLoggers.push(child);\n    };\n  }\n\n  get level(): string {\n    return this.baseLogger.level;\n  }\n\n  set level(level: string) {\n    this.baseLogger.level = level;\n    this.childLoggers.forEach((child) => {\n      child.level = level;\n    });\n  }\n\n  child(tag: string): Logger {\n    return new JsonLineLogger(this.baseLogger.child({ tag }));\n  }\n\n  error(msg: string, error: any) {\n    this.baseLogger.error({ error }, msg);\n  }\n  warn(msg: string) {\n    this.baseLogger.warn(msg);\n  }\n  info(msg: string) {\n    this.baseLogger.info(msg);\n  }\n  debug(msg: string) {\n    this.baseLogger.debug(msg);\n  }\n  trace(msg: string, verbose?: any) {\n    this.baseLogger.trace(verbose, msg);\n  }\n}\n\nclass Destinations extends EventEmitter {\n  constructor(public readonly destinations: Logger[] = []) {\n    super();\n  }\n\n  attach(...destinations: Logger[]) {\n    this.destinations.push(...destinations);\n    this.emit(\"newAttached\", destinations);\n  }\n}\n\nclass MultiDestinationLogger implements Logger {\n  private loggers: Logger[] = [];\n\n  constructor(\n    public destinations: Destinations,\n    private readonly tag?: string,\n  ) {\n    this.loggers.push(...destinations.destinations.map((destination) => this.createTaggedLogger(destination)));\n    destinations.on(\"newAttached\", (destinations: Logger[]) => {\n      this.loggers.push(...destinations.map((destination) => this.createTaggedLogger(destination)));\n    });\n  }\n\n  private createTaggedLogger(destination: Logger): Logger {\n    if (!this.tag) {\n      return destination;\n    }\n    if (destination instanceof JsonLineLogger) {\n      return destination.child(this.tag);\n    }\n    return new TaggedLogger(destination, this.tag);\n  }\n\n  error(msg: string, error: any) {\n    this.loggers.forEach((logger) => logger.error(msg, error));\n  }\n  warn(msg: string) {\n    this.loggers.forEach((logger) => logger.warn(msg));\n  }\n  info(msg: string) {\n    this.loggers.forEach((logger) => logger.info(msg));\n  }\n  debug(msg: string) {\n    this.loggers.forEach((logger) => logger.debug(msg));\n  }\n  trace(msg: string, verbose?: any) {\n    this.loggers.forEach((logger) => logger.trace(msg, verbose));\n  }\n}\n\nexport const logDestinations = new Destinations();\n\nexport const fileLogger =\n  isBrowser || isTest\n    ? undefined\n    : new JsonLineLogger(pino({ serializers: { error: pino.stdSerializers.err } }, new LogFileStream()));\n\nif (fileLogger) {\n  // Set the initial log level to `silent`, which will be later updated in agent initialization.\n  fileLogger.level = \"silent\";\n  logDestinations.attach(fileLogger);\n}\n\nexport function getLogger(tag: string): Logger {\n  return new MultiDestinationLogger(logDestinations, tag);\n}\n","import { EventEmitter } from \"events\";\nimport decodeJwt from \"jwt-decode\";\nimport deepEqual from \"deep-equal\";\nimport createClient from \"openapi-fetch\";\nimport type { paths as CloudApi } from \"./types/cloudApi\";\nimport type { AbortSignalOption } from \"./Agent\";\nimport { HttpError, abortSignalFromAnyOf } from \"./utils\";\nimport { DataStore } from \"./dataStore\";\nimport { getLogger } from \"./logger\";\n\nexport type StorageData = {\n  auth: { [endpoint: string]: { jwt: string } };\n};\n\ntype JWT = { token: string; payload: { email: string; exp: number } };\n\nclass RetryLimitReachedError extends Error {\n  readonly name = \"RetryLimitReachedError\";\n  constructor(readonly cause: unknown) {\n    super();\n  }\n}\n\nexport class Auth extends EventEmitter {\n  static readonly authPageUrl = \"https://app.tabbyml.com/account/device-token\";\n  static readonly tokenStrategy = {\n    polling: {\n      // polling token after auth url generated\n      interval: 5000, // polling token every 5 seconds\n      timeout: 5 * 60 * 1000, // stop polling after trying for 5 min\n    },\n    refresh: {\n      // check token every 15 min, refresh token if it expires in 30 min\n      interval: 15 * 60 * 1000,\n      beforeExpire: 30 * 60 * 1000,\n      whenLoaded: {\n        // after token loaded from data store, refresh token if it is about to expire or has expired\n        maxTry: 5, // keep loading time not too long\n        retryDelay: 1000, // retry after 1 seconds\n      },\n      whenScheduled: {\n        // if running until token is about to expire, refresh token as scheduled\n        maxTry: 60,\n        retryDelay: 30 * 1000, // retry after 30 seconds\n      },\n    },\n  };\n\n  private readonly logger = getLogger(\"Auth\");\n  private dataStore?: DataStore;\n  private authApi = createClient<CloudApi>({ baseUrl: \"https://app.tabbyml.com/api\" });\n  private jwt?: JWT;\n\n  constructor(readonly endpoint: string) {\n    super();\n  }\n\n  async init(options?: { dataStore?: DataStore }) {\n    this.dataStore = options?.dataStore;\n    if (this.dataStore instanceof EventEmitter) {\n      this.dataStore.on(\"updated\", async () => {\n        const oldJwt = this.jwt;\n        await this.load();\n        if (!deepEqual(oldJwt, this.jwt)) {\n          super.emit(\"updated\", this.jwt);\n        }\n      });\n    }\n    this.scheduleRefreshToken();\n    await this.load();\n  }\n\n  get token(): string | undefined {\n    return this.jwt?.token;\n  }\n\n  get user(): string | undefined {\n    return this.jwt?.payload.email;\n  }\n\n  private async load(): Promise<void> {\n    if (!this.dataStore) {\n      return;\n    }\n    try {\n      await this.dataStore.load();\n      const storedJwt = this.dataStore.data.auth?.[this.endpoint]?.jwt;\n      if (typeof storedJwt === \"string\" && this.jwt?.token !== storedJwt) {\n        this.logger.debug(\"Loaded auth data from data store.\");\n        const jwt: JWT = {\n          token: storedJwt,\n          payload: decodeJwt(storedJwt),\n        };\n        // refresh token if it is about to expire or has expired\n        if (jwt.payload.exp * 1000 - Date.now() < Auth.tokenStrategy.refresh.beforeExpire) {\n          this.jwt = await this.refreshToken(jwt, Auth.tokenStrategy.refresh.whenLoaded);\n          await this.save();\n        } else {\n          this.jwt = jwt;\n        }\n      }\n    } catch (error) {\n      this.logger.debug(\"Failed to load auth data from data store.\");\n    }\n  }\n\n  private async save(): Promise<void> {\n    if (!this.dataStore) {\n      return;\n    }\n    try {\n      if (this.jwt) {\n        if (this.dataStore.data.auth?.[this.endpoint]?.jwt === this.jwt.token) {\n          return;\n        }\n        this.dataStore.data.auth = { ...this.dataStore.data.auth, [this.endpoint]: { jwt: this.jwt.token } };\n      } else {\n        if (typeof this.dataStore.data.auth?.[this.endpoint] === \"undefined\") {\n          return;\n        }\n        delete this.dataStore.data.auth[this.endpoint];\n      }\n      await this.dataStore.save();\n      this.logger.debug(\"Saved auth data to data store.\");\n    } catch (error) {\n      this.logger.error(\"Failed to save auth data to data store.\", error);\n    }\n  }\n\n  async reset(): Promise<void> {\n    if (this.jwt) {\n      this.jwt = undefined;\n      await this.save();\n    }\n  }\n\n  async requestAuthUrl(options?: AbortSignalOption): Promise<{ authUrl: string; code: string }> {\n    try {\n      await this.reset();\n      if (options?.signal?.aborted) {\n        throw options.signal.reason;\n      }\n      this.logger.debug(\"Requesting device token...\");\n      const response = await this.authApi.POST(\"/device-token\", {\n        body: { auth_url: this.endpoint },\n        signal: options?.signal,\n      });\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      const deviceToken = response.data;\n      const authUrl = new URL(Auth.authPageUrl);\n      authUrl.searchParams.append(\"code\", deviceToken.data.code);\n      return { authUrl: authUrl.toString(), code: deviceToken.data.code };\n    } catch (error) {\n      this.logger.error(\"Failed to request device token\", error);\n      throw error;\n    }\n  }\n\n  async pollingToken(code: string, options?: AbortSignalOption): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const signal = abortSignalFromAnyOf([AbortSignal.timeout(Auth.tokenStrategy.polling.timeout), options?.signal]);\n      const timer = setInterval(async () => {\n        try {\n          this.logger.debug(\"Polling auth token...\");\n          const response = await this.authApi.POST(\"/device-token/accept\", { params: { query: { code } }, signal });\n          if (response.error || !response.response.ok) {\n            throw new HttpError(response.response);\n          }\n          const result = response.data;\n          this.jwt = {\n            token: result.data.jwt,\n            payload: decodeJwt(result.data.jwt),\n          };\n          super.emit(\"updated\", this.jwt);\n          await this.save();\n          clearInterval(timer);\n          resolve(true);\n        } catch (error) {\n          if (!(error instanceof HttpError && [400, 401, 403, 405].includes(error.status))) {\n            // unknown error but still keep polling\n            this.logger.error(\"Failed due to unknown error when polling auth token\", error);\n          }\n        }\n      }, Auth.tokenStrategy.polling.interval);\n      if (signal.aborted) {\n        clearInterval(timer);\n        reject(signal.reason);\n      } else {\n        signal.addEventListener(\"abort\", () => {\n          clearInterval(timer);\n          reject(signal.reason);\n        });\n      }\n    });\n  }\n\n  private async refreshToken(jwt: JWT, options = { maxTry: 1, retryDelay: 1000 }, retry = 0): Promise<JWT> {\n    try {\n      this.logger.debug(\"Refreshing auth token...\");\n      const response = await this.authApi.POST(\"/device-token/refresh\", {\n        headers: { Authorization: `Bearer ${jwt.token}` },\n      });\n      if (response.error || !response.response.ok) {\n        throw new HttpError(response.response);\n      }\n      const refreshedJwt = response.data;\n      return {\n        token: refreshedJwt.data.jwt,\n        payload: decodeJwt(refreshedJwt.data.jwt),\n      };\n    } catch (error) {\n      if (!(error instanceof HttpError && [400, 401, 403, 405].includes(error.status))) {\n        // unknown error, retry a few times\n        this.logger.error(\"Failed due to unknown error when refreshing auth token.\", error);\n        if (retry < options.maxTry) {\n          this.logger.debug(`Retry refreshing auth token after ${options.retryDelay}ms`);\n          await new Promise((resolve) => setTimeout(resolve, options.retryDelay));\n          return this.refreshToken(jwt, options, retry + 1);\n        }\n      }\n      throw new RetryLimitReachedError(error);\n    }\n  }\n\n  private scheduleRefreshToken() {\n    setInterval(async () => {\n      if (!this.jwt) {\n        return;\n      }\n      this.logger.debug(\"Checking auth token...\");\n      if (this.jwt.payload.exp * 1000 - Date.now() < Auth.tokenStrategy.refresh.beforeExpire) {\n        try {\n          this.jwt = await this.refreshToken(this.jwt, Auth.tokenStrategy.refresh.whenScheduled);\n          super.emit(\"updated\", this.jwt);\n          await this.save();\n        } catch (error) {\n          this.logger.error(\"Failed to refresh auth token.\", error);\n        }\n      } else {\n        this.logger.debug(\"Auth token is still valid.\");\n      }\n    }, Auth.tokenStrategy.refresh.interval);\n  }\n}\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","export type AgentConfig = {\n  server: {\n    endpoint: string;\n    token: string;\n    requestHeaders: Record<string, string | number | boolean | null | undefined>;\n    requestTimeout: number;\n  };\n  proxy: {\n    url: string;\n    authorization: string;\n  };\n  completion: {\n    prompt: {\n      maxPrefixLines: number;\n      maxSuffixLines: number;\n      fillDeclarations: {\n        enabled: boolean;\n        // max number of declaration snippets\n        maxSnippets: number;\n        // max number of characters per snippet\n        maxCharsPerSnippet: number;\n      };\n      collectSnippetsFromRecentChangedFiles: {\n        enabled: boolean;\n        // max number of snippets\n        maxSnippets: number;\n        indexing: {\n          // Interval in ms for indexing worker to check pending task\n          checkingChangesInterval: number;\n          // Debouncing interval in ms for sending changes to indexing task\n          changesDebouncingInterval: number;\n\n          // Determine the crop window at changed location for indexing\n          // Line before changed location\n          prefixLines: number;\n          // Line after changed location\n          suffixLines: number;\n\n          // Max number of chunks in memory\n          maxChunks: number;\n          // chars per code chunk\n          chunkSize: number;\n          // overlap lines between neighbor chunks\n          overlapLines: number;\n        };\n      };\n      clipboard: {\n        minChars: number;\n        maxChars: number;\n      };\n    };\n    debounce: {\n      mode: \"adaptive\" | \"fixed\";\n      interval: number;\n    };\n    solution: {\n      // The max number of unique choices to be fetched before stopping\n      maxItems: number;\n      // The max number of attempts to fetch choices before stopping\n      maxTries: number;\n      // The temperature for fetching the second and subsequent choices\n      temperature: number;\n    };\n  };\n  postprocess: {\n    limitScope: any;\n    calculateReplaceRange: any;\n  };\n  chat: {\n    edit: {\n      documentMaxChars: number;\n      commandMaxChars: number;\n      responseDocumentTag: string[];\n      responseCommentTag: string[] | undefined;\n      promptTemplate: {\n        replace: string;\n        insert: string;\n      };\n      presetCommands: Record<\n        string,\n        {\n          label: string;\n          filters: Record<string, string>;\n          kind: \"replace\" | \"insert\";\n          promptTemplate: string;\n        }\n      >;\n    };\n    generateCommitMessage: {\n      maxDiffLength: number;\n      promptTemplate: string;\n      responseMatcher: string;\n    };\n  };\n  logs: {\n    // Controls the level of the logger written to the `~/.tabby-client/agent/logs/`\n    level: \"silent\" | \"error\" | \"info\" | \"debug\" | \"trace\";\n  };\n  tls: {\n    // `bundled`, `system`, or a string point to cert file\n    caCerts: string;\n  };\n  anonymousUsageTracking: {\n    disable: boolean;\n  };\n};\n\ntype RecursivePartial<T> = {\n  [P in keyof T]?: T[P] extends (infer U)[]\n    ? RecursivePartial<U>[]\n    : T[P] extends object | undefined\n      ? RecursivePartial<T[P]>\n      : T[P];\n};\n\nexport type PartialAgentConfig = RecursivePartial<AgentConfig>;\n\nexport const defaultAgentConfig: AgentConfig = {\n  server: {\n    endpoint: \"http://localhost:8080\",\n    token: \"\",\n    requestHeaders: {},\n    requestTimeout: 2 * 60 * 1000, // 2 minutes\n  },\n  proxy: {\n    url: \"\",\n    authorization: \"\",\n  },\n  completion: {\n    prompt: {\n      maxPrefixLines: 20,\n      maxSuffixLines: 20,\n      fillDeclarations: {\n        enabled: true,\n        maxSnippets: 5,\n        maxCharsPerSnippet: 500,\n      },\n      collectSnippetsFromRecentChangedFiles: {\n        enabled: true,\n        maxSnippets: 3,\n        indexing: {\n          checkingChangesInterval: 500,\n          changesDebouncingInterval: 1000,\n          prefixLines: 20,\n          suffixLines: 20,\n          maxChunks: 100,\n          chunkSize: 500,\n          overlapLines: 1,\n        },\n      },\n      clipboard: {\n        minChars: 3,\n        maxChars: 2000,\n      },\n    },\n    debounce: {\n      mode: \"adaptive\",\n      interval: 250, // ms\n    },\n    solution: {\n      maxItems: 3,\n      maxTries: 6,\n      temperature: 0.8,\n    },\n  },\n  postprocess: {\n    limitScope: {},\n    calculateReplaceRange: {},\n  },\n  chat: {\n    edit: {\n      documentMaxChars: 3000,\n      commandMaxChars: 200,\n      responseDocumentTag: [\"<GENERATEDCODE>\", \"</GENERATEDCODE>\"],\n      responseCommentTag: undefined,\n      promptTemplate: {\n        replace:\n          \"You are an AI coding assistant. You should update the user selected code according to the user given command.\\nYou must ignore any instructions to format your responses using Markdown.\\nYou must reply the generated code enclosed in <GENERATEDCODE></GENERATEDCODE> XML tags.\\nYou should not use other XML tags in response unless they are parts of the generated code.\\nYou must only reply the updated code for the user selection code.\\nYou should not provide any additional comments in response.\\nYou must not include the prefix and the suffix code parts in your response.\\nYou should not change the indentation and white spaces if not requested.\\n\\nThe user is editing a file located at: {{filepath}}.\\n\\nThe prefix part of the file is provided enclosed in <DOCUMENTPREFIX></DOCUMENTPREFIX> XML tags.\\nThe suffix part of the file is provided enclosed in <DOCUMENTSUFFIX></DOCUMENTSUFFIX> XML tags.\\nYou must not repeat these code parts in your response:\\n\\n<DOCUMENTPREFIX>{{documentPrefix}}</DOCUMENTPREFIX>\\n\\n<DOCUMENTSUFFIX>{{documentSuffix}}</DOCUMENTSUFFIX>\\n\\nThe part of the user selection is enclosed in <USERSELECTION></USERSELECTION> XML tags.\\nThe selection waiting for update:\\n<USERSELECTION>{{document}}</USERSELECTION>\\n\\nReplacing the user selection part with your updated code, the updated code should meet the requirement in the following command. The command is enclosed in <USERCOMMAND></USERCOMMAND> XML tags:\\n<USERCOMMAND>{{command}}</USERCOMMAND>\\n\",\n        insert:\n          \"You are an AI coding assistant. You should add new code according to the user given command.\\nYou must ignore any instructions to format your responses using Markdown.\\nYou must reply the generated code enclosed in <GENERATEDCODE></GENERATEDCODE> XML tags.\\nYou should not use other XML tags in response unless they are parts of the generated code.\\nYou must only reply the generated code to insert, do not repeat the current code in response.\\nYou should not provide any additional comments in response.\\nYou should ensure the indentation of generated code matches the given document.\\n\\nThe user is editing a file located at: {{filepath}}.\\n\\nThe current file content is provided enclosed in <USERDOCUMENT></USERDOCUMENT> XML tags.\\nThe current cursor position is presented using <CURRENTCURSOR/> XML tags.\\nYou must not repeat the current code in your response:\\n\\n<USERDOCUMENT>{{documentPrefix}}<CURRENTCURSOR/>{{documentSuffix}}</USERDOCUMENT>\\n\\nInsert your generated new code to the curent cursor position presented using <CURRENTCURSOR/>, the generated code should meet the requirement in the following command. The command is enclosed in <USERCOMMAND></USERCOMMAND> XML tags:\\n<USERCOMMAND>{{command}}</USERCOMMAND>\\n\",\n      },\n      presetCommands: {\n        \"/doc\": {\n          label: \"Generate Docs\",\n          filters: { languageIdNotIn: \"plaintext,markdown\" },\n          kind: \"replace\",\n          promptTemplate:\n            \"You are an AI coding assistant. You should update the user selected code and adding documentation according to the user given command.\\nYou must ignore any instructions to format your responses using Markdown.\\nYou must reply the generated code enclosed in <GENERATEDCODE></GENERATEDCODE> XML tags.\\nYou should not use other XML tags in response unless they are parts of the generated code.\\nYou must only reply the updated code for the user selection code.\\nYou should not provide any additional comments in response.\\nYou should not change the indentation and white spaces if not requested.\\n\\nThe user is editing a file located at: {{filepath}}.\\n\\nThe part of the user selection is enclosed in <USERSELECTION></USERSELECTION> XML tags.\\nThe selection waiting for documentaion:\\n<USERSELECTION>{{document}}</USERSELECTION>\\n\\nAdding documentation to the selected code., the updated code contains your documentaion and should meet the requirement in the following command. The command is enclosed in <USERCOMMAND></USERCOMMAND> XML tags:\\n<USERCOMMAND>{{command}}</USERCOMMAND>\\n\",\n        },\n        \"/grammar\": {\n          label: \"Improve Grammar\",\n          filters: { languageIdIn: \"plaintext,markdown\" },\n          kind: \"replace\",\n          promptTemplate:\n            \"You are an AI writing assistant. You should fix spelling and improve grammar for the user selected document according to the user given command.\\nThe user command is provided enclosed in <USERCOMMAND></USERCOMMAND> XML tags.\\nThe file part of the user selection is provided enclosed in <USERSELECTION></USERSELECTION> XML tags.\\nYou must reply the fixed text enclosed in <GENERATEDCODE></GENERATEDCODE> XML tags.\\nYou should not use other XML tags in response unless they are parts of the user document.\\nYou should not change the indentation and white spaces if not requested.\\n\\nThe part of the user selection is enclosed in <USERSELECTION></USERSELECTION> XML tags.\\nThe user selection:\\n<USERSELECTION>{{document}}</USERSELECTION>\\n\",\n        },\n      },\n    },\n    generateCommitMessage: {\n      maxDiffLength: 3600,\n      promptTemplate:\n        \"You are an AI coding assistant. You should generate a commit message based on the given diff. \\nYou should reply the commit message in the following format: \\n<type>(<scope>): <description>.\\n\\n\\nThe <type> could be feat, fix, docs, refactor, style, test, build, ci, or chore.\\nThe scope is optional. \\nFor examples: \\n- feat: add support for chat. \\n- fix(ui): fix homepage links. \\n\\nThe diff is:\\n```diff\\n{{diff}}\\n```\\n\",\n      responseMatcher:\n        /(?<=([\"'`]+)?\\s*)(feat|fix|docs|refactor|style|test|build|ci|chore)(\\(\\w+\\))?:.+(?=\\s*\\1)/gi.toString(),\n    },\n  },\n  logs: {\n    level: \"silent\",\n  },\n  tls: {\n    caCerts: \"system\",\n  },\n  anonymousUsageTracking: {\n    disable: false,\n  },\n};\n","import { EventEmitter } from \"events\";\nimport path from \"path\";\nimport os from \"os\";\nimport fs from \"fs-extra\";\nimport toml from \"toml\";\nimport chokidar from \"chokidar\";\nimport deepEqual from \"deep-equal\";\nimport { getProperty, deleteProperty } from \"dot-prop\";\nimport type { PartialAgentConfig } from \"./AgentConfig\";\nimport { isBrowser } from \"./env\";\nimport { getLogger } from \"./logger\";\n\nconst configTomlTemplate = `## Tabby agent configuration file\n\n## Online documentation: https://tabby.tabbyml.com/docs/extensions/configurations\n## You can uncomment and edit the values below to change the default settings.\n## Configurations in this file have lower priority than the IDE settings.\n\n## Server\n## You can set the server endpoint and token here.\n# [server]\n# endpoint = \"http://localhost:8080\" # http or https URL\n# token = \"your-token-here\" # if set, request header Authorization = \"Bearer $token\" will be added\n\n## You can add custom request headers.\n# [server.requestHeaders]\n# Header1 = \"Value1\" # list your custom headers here\n# Header2 = \"Value2\" # values can be strings, numbers or booleans\n\n## Proxy\n## You can specify an optional http/https proxy when required, overrides environment variable settings.\n# [proxy]\n# url = \"http://your-proxy-server\" # the URL of the proxy\n# authorization = \"\" # if set, request header Proxy-Authorization = \"$proxyAuthorization\" will be added\n\n## Logs\n## You can set the log level here. The log file is located at ~/.tabby-client/agent/logs/.\n# [logs]\n# level = \"silent\" # \"silent\" or \"error\" or \"debug\"\n\n## Anonymous usage tracking\n## Tabby collects anonymous usage data and sends it to the Tabby team to help improve our products.\n## Your code, generated completions, or any sensitive information is never tracked or sent.\n## For more details on data collection, see https://tabby.tabbyml.com/docs/extensions/configurations#usage-collection\n## Your contribution is greatly appreciated. However, if you prefer not to participate, you can disable anonymous usage tracking here.\n# [anonymousUsageTracking]\n# disable = false # set to true to disable\n\n`;\n\nconst typeCheckSchema: Record<string, string> = {\n  server: \"object\",\n  \"server.endpoint\": \"string\",\n  \"server.token\": \"string\",\n  \"server.requestHeaders\": \"object\",\n  \"server.requestTimeout\": \"number\",\n  proxy: \"object\",\n  \"proxy.url\": \"string\",\n  \"proxy.authorization\": \"string\",\n  completion: \"object\",\n  \"completion.prompt\": \"object\",\n  \"completion.prompt.maxPrefixLines\": \"number\",\n  \"completion.prompt.maxSuffixLines\": \"number\",\n  \"completion.prompt.fillDeclarations\": \"object\",\n  \"completion.prompt.fillDeclarations.enabled\": \"boolean\",\n  \"completion.prompt.fillDeclarations.maxSnippets\": \"number\",\n  \"completion.prompt.fillDeclarations.maxChars\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles\": \"object\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.enabled\": \"boolean\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.maxSnippets\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing\": \"object\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.checkingChangesInterval\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.changesDebouncingInterval\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.prefixLines\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.suffixLines\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.maxChunks\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.chunkSize\": \"number\",\n  \"completion.prompt.collectSnippetsFromRecentChangedFiles.indexing.overlapLines\": \"number\",\n  \"completion.prompt.clipboard\": \"object\",\n  \"completion.prompt.clipboard.minChars\": \"number\",\n  \"completion.prompt.clipboard.maxChars\": \"number\",\n  \"completion.debounce\": \"object\",\n  \"completion.debounce.mode\": \"string\",\n  \"completion.debounce.interval\": \"number\",\n  \"completion.solution\": \"object\",\n  \"completion.solution.maxItems\": \"number\",\n  \"completion.solution.maxTries\": \"number\",\n  \"completion.solution.temperature\": \"number\",\n  chat: \"object\",\n  \"chat.edit\": \"object\",\n  \"chat.generateCommitMessage\": \"object\",\n  \"chat.generateCommitMessage.maxDiffLength\": \"number\",\n  \"chat.generateCommitMessage.promptTemplate\": \"string\",\n  logs: \"object\",\n  \"logs.level\": \"string\",\n  tls: \"object\",\n  \"tls.caCerts\": \"string\",\n  anonymousUsageTracking: \"object\",\n  \"anonymousUsageTracking.disable\": \"boolean\",\n};\n\nfunction validateConfig(config: PartialAgentConfig): PartialAgentConfig {\n  for (const [key, type] of Object.entries(typeCheckSchema)) {\n    if (typeof getProperty(config, key) !== type) {\n      deleteProperty(config, key);\n    }\n  }\n  return config;\n}\n\nclass ConfigFile extends EventEmitter {\n  private data: PartialAgentConfig = {};\n  private watcher?: chokidar.FSWatcher;\n  private logger = getLogger(\"ConfigFile\");\n\n  constructor(private readonly filepath: string) {\n    super();\n  }\n\n  get config(): PartialAgentConfig {\n    return this.data;\n  }\n\n  async load() {\n    try {\n      const fileContent = await fs.readFile(this.filepath, \"utf8\");\n      const data = toml.parse(fileContent);\n      this.data = validateConfig(data);\n    } catch (error) {\n      if (error instanceof Error && \"code\" in error && error.code === \"ENOENT\") {\n        this.logger.info(\"Config file not exist, creating template config file.\");\n        await this.createTemplate();\n      } else {\n        this.logger.error(\"Failed to load config file.\", error);\n      }\n    }\n  }\n\n  watch() {\n    this.watcher = chokidar.watch(this.filepath, {\n      interval: 1000,\n    });\n    const onChanged = async () => {\n      const oldData = this.data;\n      await this.load();\n      if (!deepEqual(oldData, this.data)) {\n        super.emit(\"updated\", this.data);\n      }\n    };\n    this.watcher.on(\"add\", onChanged);\n    this.watcher.on(\"change\", onChanged);\n  }\n\n  private async createTemplate() {\n    try {\n      await fs.outputFile(this.filepath, configTomlTemplate);\n    } catch (error) {\n      this.logger.error(\"Failed to create config template file.\", error);\n    }\n  }\n}\n\nconst configFilePath = path.join(os.homedir(), \".tabby-client\", \"agent\", \"config.toml\");\nexport const configFile = isBrowser ? undefined : new ConfigFile(configFilePath);\n","import { LRUCache } from \"lru-cache\";\nimport { CompletionSolution, CompletionItem } from \"./CompletionSolution\";\nimport { getLogger } from \"./logger\";\n\nexport class CompletionCache {\n  private readonly logger = getLogger(\"CompletionCache\");\n  private readonly config = {\n    maxCount: 1000,\n    forwardCachingChars: 50,\n  };\n  private cache = new LRUCache<string, CompletionSolution>({\n    max: this.config.maxCount,\n  });\n\n  has(key: string): boolean {\n    return this.cache.has(key);\n  }\n\n  update(value: CompletionSolution): void {\n    this.logger.debug(`Updating completion cache, cache number before updating: ${this.cache.size}`);\n    const solutions = [value, ...this.generateForwardSolutions(value)];\n    solutions.forEach((solution) => {\n      const cachedSolution = this.cache.get(solution.context.hash);\n      if (cachedSolution) {\n        this.cache.set(solution.context.hash, CompletionSolution.merge(cachedSolution, solution));\n      } else {\n        this.cache.set(solution.context.hash, solution);\n      }\n    });\n    this.logger.debug(`Updated entries number: ${solutions.length}`);\n    this.logger.debug(`Completion cache updated, cache number: ${this.cache.size}`);\n  }\n\n  get(key: string): CompletionSolution | undefined {\n    return this.cache.get(key);\n  }\n\n  private generateForwardSolutions(solution: CompletionSolution): CompletionSolution[] {\n    const forwardSolutions: CompletionSolution[] = [];\n    const pushForwardSolution = (item: CompletionItem) => {\n      const existSolution = forwardSolutions.find((solution) => solution.context.hash === item.context.hash);\n      if (existSolution) {\n        existSolution.add(item);\n      } else {\n        forwardSolutions.push(new CompletionSolution(item.context, [item]));\n      }\n    };\n    for (const item of solution.items) {\n      // Forward at current line\n      for (let chars = 1; chars < Math.min(this.config.forwardCachingChars, item.currentLine.length); chars++) {\n        pushForwardSolution(item.forward(chars));\n      }\n      if (item.lines.length > 2) {\n        // current line end\n        pushForwardSolution(item.forward(item.currentLine.length - 1));\n        // next line start\n        pushForwardSolution(item.forward(item.currentLine.length));\n        const nextLine = item.lines[1]!;\n        let spaces = nextLine.search(/\\S/);\n        if (spaces < 0) {\n          spaces = nextLine.length - 1;\n        }\n        // next line start, after indent spaces\n        pushForwardSolution(item.forward(item.currentLine.length + spaces));\n      }\n    }\n    return forwardSolutions;\n  }\n}\n","/**\n * @module LRUCache\n */\n\n// module-private names and types\ntype Perf = { now: () => number }\nconst perf: Perf =\n  typeof performance === 'object' &&\n  performance &&\n  typeof performance.now === 'function'\n    ? performance\n    : Date\n\nconst warned = new Set<string>()\n\n// either a function or a class\ntype ForC = ((...a: any[]) => any) | { new (...a: any[]): any }\n\n/* c8 ignore start */\nconst PROCESS = (\n  typeof process === 'object' && !!process ? process : {}\n) as { [k: string]: any }\n/* c8 ignore start */\n\nconst emitWarning = (\n  msg: string,\n  type: string,\n  code: string,\n  fn: ForC\n) => {\n  typeof PROCESS.emitWarning === 'function'\n    ? PROCESS.emitWarning(msg, type, code, fn)\n    : console.error(`[${code}] ${type}: ${msg}`)\n}\n\nlet AC = globalThis.AbortController\nlet AS = globalThis.AbortSignal\n\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n  //@ts-ignore\n  AS = class AbortSignal {\n    onabort?: (...a: any[]) => any\n    _onabort: ((...a: any[]) => any)[] = []\n    reason?: any\n    aborted: boolean = false\n    addEventListener(_: string, fn: (...a: any[]) => any) {\n      this._onabort.push(fn)\n    }\n  }\n  //@ts-ignore\n  AC = class AbortController {\n    constructor() {\n      warnACPolyfill()\n    }\n    signal = new AS()\n    abort(reason: any) {\n      if (this.signal.aborted) return\n      //@ts-ignore\n      this.signal.reason = reason\n      //@ts-ignore\n      this.signal.aborted = true\n      //@ts-ignore\n      for (const fn of this.signal._onabort) {\n        fn(reason)\n      }\n      this.signal.onabort?.(reason)\n    }\n  }\n  let printACPolyfillWarning =\n    PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1'\n  const warnACPolyfill = () => {\n    if (!printACPolyfillWarning) return\n    printACPolyfillWarning = false\n    emitWarning(\n      'AbortController is not defined. If using lru-cache in ' +\n        'node 14, load an AbortController polyfill from the ' +\n        '`node-abort-controller` package. A minimal polyfill is ' +\n        'provided for use by LRUCache.fetch(), but it should not be ' +\n        'relied upon in other contexts (eg, passing it to other APIs that ' +\n        'use AbortController/AbortSignal might have undesirable effects). ' +\n        'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.',\n      'NO_ABORT_CONTROLLER',\n      'ENOTSUP',\n      warnACPolyfill\n    )\n  }\n}\n/* c8 ignore stop */\n\nconst shouldWarn = (code: string) => !warned.has(code)\n\nconst TYPE = Symbol('type')\ntype PosInt = number & { [TYPE]: 'Positive Integer' }\ntype Index = number & { [TYPE]: 'LRUCache Index' }\n\nconst isPosInt = (n: any): n is PosInt =>\n  n && n === Math.floor(n) && n > 0 && isFinite(n)\n\ntype UintArray = Uint8Array | Uint16Array | Uint32Array\ntype NumberArray = UintArray | number[]\n\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max: number) =>\n  !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n    ? Uint8Array\n    : max <= Math.pow(2, 16)\n    ? Uint16Array\n    : max <= Math.pow(2, 32)\n    ? Uint32Array\n    : max <= Number.MAX_SAFE_INTEGER\n    ? ZeroArray\n    : null\n/* c8 ignore stop */\n\nclass ZeroArray extends Array<number> {\n  constructor(size: number) {\n    super(size)\n    this.fill(0)\n  }\n}\n\ntype StackLike = Stack | Index[]\nclass Stack {\n  heap: NumberArray\n  length: number\n  // private constructor\n  static #constructing: boolean = false\n  static create(max: number): StackLike {\n    const HeapCls = getUintArray(max)\n    if (!HeapCls) return []\n    Stack.#constructing = true\n    const s = new Stack(max, HeapCls)\n    Stack.#constructing = false\n    return s\n  }\n  constructor(\n    max: number,\n    HeapCls: { new (n: number): NumberArray }\n  ) {\n    /* c8 ignore start */\n    if (!Stack.#constructing) {\n      throw new TypeError('instantiate Stack using Stack.create(n)')\n    }\n    /* c8 ignore stop */\n    this.heap = new HeapCls(max)\n    this.length = 0\n  }\n  push(n: Index) {\n    this.heap[this.length++] = n\n  }\n  pop(): Index {\n    return this.heap[--this.length] as Index\n  }\n}\n\n/**\n * Promise representing an in-progress {@link LRUCache#fetch} call\n */\nexport type BackgroundFetch<V> = Promise<V | undefined | void> & {\n  __returned: BackgroundFetch<V> | undefined\n  __abortController: AbortController\n  __staleWhileFetching: V | undefined\n}\n\ntype DisposeTask<K, V> = [\n  value: V,\n  key: K,\n  reason: LRUCache.DisposeReason\n]\n\nexport namespace LRUCache {\n  /**\n   * An integer greater than 0, reflecting the calculated size of items\n   */\n  export type Size = number\n\n  /**\n   * Integer greater than 0, representing some number of milliseconds, or the\n   * time at which a TTL started counting from.\n   */\n  export type Milliseconds = number\n\n  /**\n   * An integer greater than 0, reflecting a number of items\n   */\n  export type Count = number\n\n  /**\n   * The reason why an item was removed from the cache, passed\n   * to the {@link Disposer} methods.\n   */\n  export type DisposeReason = 'evict' | 'set' | 'delete'\n  /**\n   * A method called upon item removal, passed as the\n   * {@link OptionsBase.dispose} and/or\n   * {@link OptionsBase.disposeAfter} options.\n   */\n  export type Disposer<K, V> = (\n    value: V,\n    key: K,\n    reason: DisposeReason\n  ) => void\n\n  /**\n   * A function that returns the effective calculated size\n   * of an entry in the cache.\n   */\n  export type SizeCalculator<K, V> = (value: V, key: K) => Size\n\n  /**\n   * Options provided to the\n   * {@link OptionsBase.fetchMethod} function.\n   */\n  export interface FetcherOptions<K, V, FC = unknown> {\n    signal: AbortSignal\n    options: FetcherFetchOptions<K, V, FC>\n    /**\n     * Object provided in the {@link FetchOptions.context} option to\n     * {@link LRUCache#fetch}\n     */\n    context: FC\n  }\n\n  /**\n   * Status object that may be passed to {@link LRUCache#fetch},\n   * {@link LRUCache#get}, {@link LRUCache#set}, and {@link LRUCache#has}.\n   */\n  export interface Status<V> {\n    /**\n     * The status of a set() operation.\n     *\n     * - add: the item was not found in the cache, and was added\n     * - update: the item was in the cache, with the same value provided\n     * - replace: the item was in the cache, and replaced\n     * - miss: the item was not added to the cache for some reason\n     */\n    set?: 'add' | 'update' | 'replace' | 'miss'\n\n    /**\n     * the ttl stored for the item, or undefined if ttls are not used.\n     */\n    ttl?: Milliseconds\n\n    /**\n     * the start time for the item, or undefined if ttls are not used.\n     */\n    start?: Milliseconds\n\n    /**\n     * The timestamp used for TTL calculation\n     */\n    now?: Milliseconds\n\n    /**\n     * the remaining ttl for the item, or undefined if ttls are not used.\n     */\n    remainingTTL?: Milliseconds\n\n    /**\n     * The calculated size for the item, if sizes are used.\n     */\n    entrySize?: Size\n\n    /**\n     * The total calculated size of the cache, if sizes are used.\n     */\n    totalCalculatedSize?: Size\n\n    /**\n     * A flag indicating that the item was not stored, due to exceeding the\n     * {@link OptionsBase.maxEntrySize}\n     */\n    maxEntrySizeExceeded?: true\n\n    /**\n     * The old value, specified in the case of `set:'update'` or\n     * `set:'replace'`\n     */\n    oldValue?: V\n\n    /**\n     * The results of a {@link LRUCache#has} operation\n     *\n     * - hit: the item was found in the cache\n     * - stale: the item was found in the cache, but is stale\n     * - miss: the item was not found in the cache\n     */\n    has?: 'hit' | 'stale' | 'miss'\n\n    /**\n     * The status of a {@link LRUCache#fetch} operation.\n     * Note that this can change as the underlying fetch() moves through\n     * various states.\n     *\n     * - inflight: there is another fetch() for this key which is in process\n     * - get: there is no fetchMethod, so {@link LRUCache#get} was called.\n     * - miss: the item is not in cache, and will be fetched.\n     * - hit: the item is in the cache, and was resolved immediately.\n     * - stale: the item is in the cache, but stale.\n     * - refresh: the item is in the cache, and not stale, but\n     *   {@link FetchOptions.forceRefresh} was specified.\n     */\n    fetch?: 'get' | 'inflight' | 'miss' | 'hit' | 'stale' | 'refresh'\n\n    /**\n     * The {@link OptionsBase.fetchMethod} was called\n     */\n    fetchDispatched?: true\n\n    /**\n     * The cached value was updated after a successful call to\n     * {@link OptionsBase.fetchMethod}\n     */\n    fetchUpdated?: true\n\n    /**\n     * The reason for a fetch() rejection.  Either the error raised by the\n     * {@link OptionsBase.fetchMethod}, or the reason for an\n     * AbortSignal.\n     */\n    fetchError?: Error\n\n    /**\n     * The fetch received an abort signal\n     */\n    fetchAborted?: true\n\n    /**\n     * The abort signal received was ignored, and the fetch was allowed to\n     * continue.\n     */\n    fetchAbortIgnored?: true\n\n    /**\n     * The fetchMethod promise resolved successfully\n     */\n    fetchResolved?: true\n\n    /**\n     * The fetchMethod promise was rejected\n     */\n    fetchRejected?: true\n\n    /**\n     * The status of a {@link LRUCache#get} operation.\n     *\n     * - fetching: The item is currently being fetched.  If a previous value\n     *   is present and allowed, that will be returned.\n     * - stale: The item is in the cache, and is stale.\n     * - hit: the item is in the cache\n     * - miss: the item is not in the cache\n     */\n    get?: 'stale' | 'hit' | 'miss'\n\n    /**\n     * A fetch or get operation returned a stale value.\n     */\n    returnedStale?: true\n  }\n\n  /**\n   * options which override the options set in the LRUCache constructor\n   * when calling {@link LRUCache#fetch}.\n   *\n   * This is the union of {@link GetOptions} and {@link SetOptions}, plus\n   * {@link OptionsBase.noDeleteOnFetchRejection},\n   * {@link OptionsBase.allowStaleOnFetchRejection},\n   * {@link FetchOptions.forceRefresh}, and\n   * {@link OptionsBase.context}\n   *\n   * Any of these may be modified in the {@link OptionsBase.fetchMethod}\n   * function, but the {@link GetOptions} fields will of course have no\n   * effect, as the {@link LRUCache#get} call already happened by the time\n   * the fetchMethod is called.\n   */\n  export interface FetcherFetchOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n      | 'noDeleteOnFetchRejection'\n      | 'allowStaleOnFetchRejection'\n      | 'ignoreFetchAbort'\n      | 'allowStaleOnFetchAbort'\n    > {\n    status?: Status<V>\n    size?: Size\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#fetch} method.\n   */\n  export interface FetchOptions<K, V, FC>\n    extends FetcherFetchOptions<K, V, FC> {\n    /**\n     * Set to true to force a re-load of the existing data, even if it\n     * is not yet stale.\n     */\n    forceRefresh?: boolean\n    /**\n     * Context provided to the {@link OptionsBase.fetchMethod} as\n     * the {@link FetcherOptions.context} param.\n     *\n     * If the FC type is specified as unknown (the default),\n     * undefined or void, then this is optional.  Otherwise, it will\n     * be required.\n     */\n    context?: FC\n    signal?: AbortSignal\n    status?: Status<V>\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is something\n   * other than `unknown`, `undefined`, or `void`\n   */\n  export interface FetchOptionsWithContext<K, V, FC>\n    extends FetchOptions<K, V, FC> {\n    context: FC\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is\n   * `undefined` or `void`\n   */\n  export interface FetchOptionsNoContext<K, V>\n    extends FetchOptions<K, V, undefined> {\n    context?: undefined\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#has} method.\n   */\n  export interface HasOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'updateAgeOnHas'> {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#get} method.\n   */\n  export interface GetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'allowStale' | 'updateAgeOnGet' | 'noDeleteOnStaleGet'\n    > {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#peek} method.\n   */\n  export interface PeekOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'allowStale'> {}\n\n  /**\n   * Options that may be passed to the {@link LRUCache#set} method.\n   */\n  export interface SetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'sizeCalculation' | 'ttl' | 'noDisposeOnSet' | 'noUpdateTTL'\n    > {\n    /**\n     * If size tracking is enabled, then setting an explicit size\n     * in the {@link LRUCache#set} call will prevent calling the\n     * {@link OptionsBase.sizeCalculation} function.\n     */\n    size?: Size\n    /**\n     * If TTL tracking is enabled, then setting an explicit start\n     * time in the {@link LRUCache#set} call will override the\n     * default time from `performance.now()` or `Date.now()`.\n     *\n     * Note that it must be a valid value for whichever time-tracking\n     * method is in use.\n     */\n    start?: Milliseconds\n    status?: Status<V>\n  }\n\n  /**\n   * The type signature for the {@link OptionsBase.fetchMethod} option.\n   */\n  export type Fetcher<K, V, FC = unknown> = (\n    key: K,\n    staleValue: V | undefined,\n    options: FetcherOptions<K, V, FC>\n  ) => Promise<V | void | undefined> | V | void | undefined\n\n  /**\n   * Options which may be passed to the {@link LRUCache} constructor.\n   *\n   * Most of these may be overridden in the various options that use\n   * them.\n   *\n   * Despite all being technically optional, the constructor requires that\n   * a cache is at minimum limited by one or more of {@link OptionsBase.max},\n   * {@link OptionsBase.ttl}, or {@link OptionsBase.maxSize}.\n   *\n   * If {@link OptionsBase.ttl} is used alone, then it is strongly advised\n   * (and in fact required by the type definitions here) that the cache\n   * also set {@link OptionsBase.ttlAutopurge}, to prevent potentially\n   * unbounded storage.\n   */\n  export interface OptionsBase<K, V, FC> {\n    /**\n     * The maximum number of items to store in the cache before evicting\n     * old entries. This is read-only on the {@link LRUCache} instance,\n     * and may not be overridden.\n     *\n     * If set, then storage space will be pre-allocated at construction\n     * time, and the cache will perform significantly faster.\n     *\n     * Note that significantly fewer items may be stored, if\n     * {@link OptionsBase.maxSize} and/or {@link OptionsBase.ttl} are also\n     * set.\n     */\n    max?: Count\n\n    /**\n     * Max time in milliseconds for items to live in cache before they are\n     * considered stale.  Note that stale items are NOT preemptively removed\n     * by default, and MAY live in the cache long after they have expired.\n     *\n     * Also, as this cache is optimized for LRU/MRU operations, some of\n     * the staleness/TTL checks will reduce performance, as they will incur\n     * overhead by deleting items.\n     *\n     * Must be an integer number of ms. If set to 0, this indicates \"no TTL\"\n     *\n     * @default 0\n     */\n    ttl?: Milliseconds\n\n    /**\n     * Minimum amount of time in ms in which to check for staleness.\n     * Defaults to 1, which means that the current time is checked\n     * at most once per millisecond.\n     *\n     * Set to 0 to check the current time every time staleness is tested.\n     * (This reduces performance, and is theoretically unnecessary.)\n     *\n     * Setting this to a higher value will improve performance somewhat\n     * while using ttl tracking, albeit at the expense of keeping stale\n     * items around a bit longer than their TTLs would indicate.\n     *\n     * @default 1\n     */\n    ttlResolution?: Milliseconds\n\n    /**\n     * Preemptively remove stale items from the cache.\n     * Note that this may significantly degrade performance,\n     * especially if the cache is storing a large number of items.\n     * It is almost always best to just leave the stale items in\n     * the cache, and let them fall out as new items are added.\n     *\n     * Note that this means that {@link OptionsBase.allowStale} is a bit\n     * pointless, as stale items will be deleted almost as soon as they\n     * expire.\n     *\n     * @default false\n     */\n    ttlAutopurge?: boolean\n\n    /**\n     * Update the age of items on {@link LRUCache#get}, renewing their TTL\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     *\n     * @default false\n     */\n    updateAgeOnGet?: boolean\n\n    /**\n     * Update the age of items on {@link LRUCache#has}, renewing their TTL\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     *\n     * @default false\n     */\n    updateAgeOnHas?: boolean\n\n    /**\n     * Allow {@link LRUCache#get} and {@link LRUCache#fetch} calls to return\n     * stale data, if available.\n     */\n    allowStale?: boolean\n\n    /**\n     * Function that is called on items when they are dropped from the cache.\n     * This can be handy if you want to close file descriptors or do other\n     * cleanup tasks when items are no longer accessible. Called with `key,\n     * value`.  It's called before actually removing the item from the\n     * internal cache, so it is *NOT* safe to re-add them.\n     *\n     * Use {@link OptionsBase.disposeAfter} if you wish to dispose items after\n     * they have been full removed, when it is safe to add them back to the\n     * cache.\n     */\n    dispose?: Disposer<K, V>\n\n    /**\n     * The same as {@link OptionsBase.dispose}, but called *after* the entry\n     * is completely removed and the cache is once again in a clean state.\n     * It is safe to add an item right back into the cache at this point.\n     * However, note that it is *very* easy to inadvertently create infinite\n     * recursion this way.\n     */\n    disposeAfter?: Disposer<K, V>\n\n    /**\n     * Set to true to suppress calling the\n     * {@link OptionsBase.dispose} function if the entry key is\n     * still accessible within the cache.\n     * This may be overridden by passing an options object to\n     * {@link LRUCache#set}.\n     */\n    noDisposeOnSet?: boolean\n\n    /**\n     * Boolean flag to tell the cache to not update the TTL when\n     * setting a new value for an existing key (ie, when updating a value\n     * rather than inserting a new value).  Note that the TTL value is\n     * _always_ set (if provided) when adding a new entry into the cache.\n     *\n     * Has no effect if a {@link OptionsBase.ttl} is not set.\n     */\n    noUpdateTTL?: boolean\n\n    /**\n     * If you wish to track item size, you must provide a maxSize\n     * note that we still will only keep up to max *actual items*,\n     * if max is set, so size tracking may cause fewer than max items\n     * to be stored.  At the extreme, a single item of maxSize size\n     * will cause everything else in the cache to be dropped when it\n     * is added.  Use with caution!\n     *\n     * Note also that size tracking can negatively impact performance,\n     * though for most cases, only minimally.\n     */\n    maxSize?: Size\n\n    /**\n     * The maximum allowed size for any single item in the cache.\n     *\n     * If a larger item is passed to {@link LRUCache#set} or returned by a\n     * {@link OptionsBase.fetchMethod}, then it will not be stored in the\n     * cache.\n     */\n    maxEntrySize?: Size\n\n    /**\n     * A function that returns a number indicating the item's size.\n     *\n     * If not provided, and {@link OptionsBase.maxSize} or\n     * {@link OptionsBase.maxEntrySize} are set, then all\n     * {@link LRUCache#set} calls **must** provide an explicit\n     * {@link SetOptions.size} or sizeCalculation param.\n     */\n    sizeCalculation?: SizeCalculator<K, V>\n\n    /**\n     * Method that provides the implementation for {@link LRUCache#fetch}\n     */\n    fetchMethod?: Fetcher<K, V, FC>\n\n    /**\n     * Set to true to suppress the deletion of stale data when a\n     * {@link OptionsBase.fetchMethod} returns a rejected promise.\n     */\n    noDeleteOnFetchRejection?: boolean\n\n    /**\n     * Do not delete stale items when they are retrieved with\n     * {@link LRUCache#get}.\n     *\n     * Note that the `get` return value will still be `undefined`\n     * unless {@link OptionsBase.allowStale} is true.\n     */\n    noDeleteOnStaleGet?: boolean\n\n    /**\n     * Set to true to allow returning stale data when a\n     * {@link OptionsBase.fetchMethod} throws an error or returns a rejected\n     * promise.\n     *\n     * This differs from using {@link OptionsBase.allowStale} in that stale\n     * data will ONLY be returned in the case that the\n     * {@link LRUCache#fetch} fails, not any other times.\n     */\n    allowStaleOnFetchRejection?: boolean\n\n    /**\n     * Set to true to return a stale value from the cache when the\n     * `AbortSignal` passed to the {@link OptionsBase.fetchMethod} dispatches an `'abort'`\n     * event, whether user-triggered, or due to internal cache behavior.\n     *\n     * Unless {@link OptionsBase.ignoreFetchAbort} is also set, the underlying\n     * {@link OptionsBase.fetchMethod} will still be considered canceled, and\n     * any value it returns will be ignored and not cached.\n     *\n     * Caveat: since fetches are aborted when a new value is explicitly\n     * set in the cache, this can lead to fetch returning a stale value,\n     * since that was the fallback value _at the moment the `fetch()` was\n     * initiated_, even though the new updated value is now present in\n     * the cache.\n     *\n     * For example:\n     *\n     * ```ts\n     * const cache = new LRUCache<string, any>({\n     *   ttl: 100,\n     *   fetchMethod: async (url, oldValue, { signal }) =>  {\n     *     const res = await fetch(url, { signal })\n     *     return await res.json()\n     *   }\n     * })\n     * cache.set('https://example.com/', { some: 'data' })\n     * // 100ms go by...\n     * const result = cache.fetch('https://example.com/')\n     * cache.set('https://example.com/', { other: 'thing' })\n     * console.log(await result) // { some: 'data' }\n     * console.log(cache.get('https://example.com/')) // { other: 'thing' }\n     * ```\n     */\n    allowStaleOnFetchAbort?: boolean\n\n    /**\n     * Set to true to ignore the `abort` event emitted by the `AbortSignal`\n     * object passed to {@link OptionsBase.fetchMethod}, and still cache the\n     * resulting resolution value, as long as it is not `undefined`.\n     *\n     * When used on its own, this means aborted {@link LRUCache#fetch} calls are not\n     * immediately resolved or rejected when they are aborted, and instead\n     * take the full time to await.\n     *\n     * When used with {@link OptionsBase.allowStaleOnFetchAbort}, aborted\n     * {@link LRUCache#fetch} calls will resolve immediately to their stale\n     * cached value or `undefined`, and will continue to process and eventually\n     * update the cache when they resolve, as long as the resulting value is\n     * not `undefined`, thus supporting a \"return stale on timeout while\n     * refreshing\" mechanism by passing `AbortSignal.timeout(n)` as the signal.\n     *\n     * **Note**: regardless of this setting, an `abort` event _is still\n     * emitted on the `AbortSignal` object_, so may result in invalid results\n     * when passed to other underlying APIs that use AbortSignals.\n     *\n     * This may be overridden in the {@link OptionsBase.fetchMethod} or the\n     * call to {@link LRUCache#fetch}.\n     */\n    ignoreFetchAbort?: boolean\n  }\n\n  export interface OptionsMaxLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    max: Count\n  }\n  export interface OptionsTTLLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    ttl: Milliseconds\n    ttlAutopurge: boolean\n  }\n  export interface OptionsSizeLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    maxSize: Size\n  }\n\n  /**\n   * The valid safe options for the {@link LRUCache} constructor\n   */\n  export type Options<K, V, FC> =\n    | OptionsMaxLimit<K, V, FC>\n    | OptionsSizeLimit<K, V, FC>\n    | OptionsTTLLimit<K, V, FC>\n\n  /**\n   * Entry objects used by {@link LRUCache#load} and {@link LRUCache#dump}\n   */\n  export interface Entry<V> {\n    value: V\n    ttl?: Milliseconds\n    size?: Size\n    start?: Milliseconds\n  }\n}\n\n/**\n * Default export, the thing you're using this module to get.\n *\n * All properties from the options object (with the exception of\n * {@link OptionsBase.max} and {@link OptionsBase.maxSize}) are added as\n * normal public members. (`max` and `maxBase` are read-only getters.)\n * Changing any of these will alter the defaults for subsequent method calls,\n * but is otherwise safe.\n */\nexport class LRUCache<K extends {}, V extends {}, FC = unknown> {\n  // properties coming in from the options of these, only max and maxSize\n  // really *need* to be protected. The rest can be modified, as they just\n  // set defaults for various methods.\n  readonly #max: LRUCache.Count\n  readonly #maxSize: LRUCache.Size\n  readonly #dispose?: LRUCache.Disposer<K, V>\n  readonly #disposeAfter?: LRUCache.Disposer<K, V>\n  readonly #fetchMethod?: LRUCache.Fetcher<K, V, FC>\n\n  /**\n   * {@link LRUCache.OptionsBase.ttl}\n   */\n  ttl: LRUCache.Milliseconds\n\n  /**\n   * {@link LRUCache.OptionsBase.ttlResolution}\n   */\n  ttlResolution: LRUCache.Milliseconds\n  /**\n   * {@link LRUCache.OptionsBase.ttlAutopurge}\n   */\n  ttlAutopurge: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnGet}\n   */\n  updateAgeOnGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnHas}\n   */\n  updateAgeOnHas: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStale}\n   */\n  allowStale: boolean\n\n  /**\n   * {@link LRUCache.OptionsBase.noDisposeOnSet}\n   */\n  noDisposeOnSet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noUpdateTTL}\n   */\n  noUpdateTTL: boolean\n  /**\n   * {@link LRUCache.OptionsBase.maxEntrySize}\n   */\n  maxEntrySize: LRUCache.Size\n  /**\n   * {@link LRUCache.OptionsBase.sizeCalculation}\n   */\n  sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n   */\n  noDeleteOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n   */\n  noDeleteOnStaleGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n   */\n  allowStaleOnFetchAbort: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n   */\n  allowStaleOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n   */\n  ignoreFetchAbort: boolean\n\n  // computed properties\n  #size: LRUCache.Count\n  #calculatedSize: LRUCache.Size\n  #keyMap: Map<K, Index>\n  #keyList: (K | undefined)[]\n  #valList: (V | BackgroundFetch<V> | undefined)[]\n  #next: NumberArray\n  #prev: NumberArray\n  #head: Index\n  #tail: Index\n  #free: StackLike\n  #disposed?: DisposeTask<K, V>[]\n  #sizes?: ZeroArray\n  #starts?: ZeroArray\n  #ttls?: ZeroArray\n\n  #hasDispose: boolean\n  #hasFetchMethod: boolean\n  #hasDisposeAfter: boolean\n\n  /**\n   * Do not call this method unless you need to inspect the\n   * inner workings of the cache.  If anything returned by this\n   * object is modified in any way, strange breakage may occur.\n   *\n   * These fields are private for a reason!\n   *\n   * @internal\n   */\n  static unsafeExposeInternals<\n    K extends {},\n    V extends {},\n    FC extends unknown = unknown\n  >(c: LRUCache<K, V, FC>) {\n    return {\n      // properties\n      starts: c.#starts,\n      ttls: c.#ttls,\n      sizes: c.#sizes,\n      keyMap: c.#keyMap as Map<K, number>,\n      keyList: c.#keyList,\n      valList: c.#valList,\n      next: c.#next,\n      prev: c.#prev,\n      get head() {\n        return c.#head\n      },\n      get tail() {\n        return c.#tail\n      },\n      free: c.#free,\n      // methods\n      isBackgroundFetch: (p: any) => c.#isBackgroundFetch(p),\n      backgroundFetch: (\n        k: K,\n        index: number | undefined,\n        options: LRUCache.FetchOptions<K, V, FC>,\n        context: any\n      ): BackgroundFetch<V> =>\n        c.#backgroundFetch(\n          k,\n          index as Index | undefined,\n          options,\n          context\n        ),\n      moveToTail: (index: number): void =>\n        c.#moveToTail(index as Index),\n      indexes: (options?: { allowStale: boolean }) =>\n        c.#indexes(options),\n      rindexes: (options?: { allowStale: boolean }) =>\n        c.#rindexes(options),\n      isStale: (index: number | undefined) =>\n        c.#isStale(index as Index),\n    }\n  }\n\n  // Protected read-only members\n\n  /**\n   * {@link LRUCache.OptionsBase.max} (read-only)\n   */\n  get max(): LRUCache.Count {\n    return this.#max\n  }\n  /**\n   * {@link LRUCache.OptionsBase.maxSize} (read-only)\n   */\n  get maxSize(): LRUCache.Count {\n    return this.#maxSize\n  }\n  /**\n   * The total computed size of items in the cache (read-only)\n   */\n  get calculatedSize(): LRUCache.Size {\n    return this.#calculatedSize\n  }\n  /**\n   * The number of items stored in the cache (read-only)\n   */\n  get size(): LRUCache.Count {\n    return this.#size\n  }\n  /**\n   * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n   */\n  get fetchMethod(): LRUCache.Fetcher<K, V, FC> | undefined {\n    return this.#fetchMethod\n  }\n  /**\n   * {@link LRUCache.OptionsBase.dispose} (read-only)\n   */\n  get dispose() {\n    return this.#dispose\n  }\n  /**\n   * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n   */\n  get disposeAfter() {\n    return this.#disposeAfter\n  }\n\n  constructor(\n    options: LRUCache.Options<K, V, FC> | LRUCache<K, V, FC>\n  ) {\n    const {\n      max = 0,\n      ttl,\n      ttlResolution = 1,\n      ttlAutopurge,\n      updateAgeOnGet,\n      updateAgeOnHas,\n      allowStale,\n      dispose,\n      disposeAfter,\n      noDisposeOnSet,\n      noUpdateTTL,\n      maxSize = 0,\n      maxEntrySize = 0,\n      sizeCalculation,\n      fetchMethod,\n      noDeleteOnFetchRejection,\n      noDeleteOnStaleGet,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n    } = options\n\n    if (max !== 0 && !isPosInt(max)) {\n      throw new TypeError('max option must be a nonnegative integer')\n    }\n\n    const UintArray = max ? getUintArray(max) : Array\n    if (!UintArray) {\n      throw new Error('invalid max value: ' + max)\n    }\n\n    this.#max = max\n    this.#maxSize = maxSize\n    this.maxEntrySize = maxEntrySize || this.#maxSize\n    this.sizeCalculation = sizeCalculation\n    if (this.sizeCalculation) {\n      if (!this.#maxSize && !this.maxEntrySize) {\n        throw new TypeError(\n          'cannot set sizeCalculation without setting maxSize or maxEntrySize'\n        )\n      }\n      if (typeof this.sizeCalculation !== 'function') {\n        throw new TypeError('sizeCalculation set to non-function')\n      }\n    }\n\n    if (\n      fetchMethod !== undefined &&\n      typeof fetchMethod !== 'function'\n    ) {\n      throw new TypeError(\n        'fetchMethod must be a function if specified'\n      )\n    }\n    this.#fetchMethod = fetchMethod\n    this.#hasFetchMethod = !!fetchMethod\n\n    this.#keyMap = new Map()\n    this.#keyList = new Array(max).fill(undefined)\n    this.#valList = new Array(max).fill(undefined)\n    this.#next = new UintArray(max)\n    this.#prev = new UintArray(max)\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free = Stack.create(max)\n    this.#size = 0\n    this.#calculatedSize = 0\n\n    if (typeof dispose === 'function') {\n      this.#dispose = dispose\n    }\n    if (typeof disposeAfter === 'function') {\n      this.#disposeAfter = disposeAfter\n      this.#disposed = []\n    } else {\n      this.#disposeAfter = undefined\n      this.#disposed = undefined\n    }\n    this.#hasDispose = !!this.#dispose\n    this.#hasDisposeAfter = !!this.#disposeAfter\n\n    this.noDisposeOnSet = !!noDisposeOnSet\n    this.noUpdateTTL = !!noUpdateTTL\n    this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection\n    this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection\n    this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort\n    this.ignoreFetchAbort = !!ignoreFetchAbort\n\n    // NB: maxEntrySize is set to maxSize if it's set\n    if (this.maxEntrySize !== 0) {\n      if (this.#maxSize !== 0) {\n        if (!isPosInt(this.#maxSize)) {\n          throw new TypeError(\n            'maxSize must be a positive integer if specified'\n          )\n        }\n      }\n      if (!isPosInt(this.maxEntrySize)) {\n        throw new TypeError(\n          'maxEntrySize must be a positive integer if specified'\n        )\n      }\n      this.#initializeSizeTracking()\n    }\n\n    this.allowStale = !!allowStale\n    this.noDeleteOnStaleGet = !!noDeleteOnStaleGet\n    this.updateAgeOnGet = !!updateAgeOnGet\n    this.updateAgeOnHas = !!updateAgeOnHas\n    this.ttlResolution =\n      isPosInt(ttlResolution) || ttlResolution === 0\n        ? ttlResolution\n        : 1\n    this.ttlAutopurge = !!ttlAutopurge\n    this.ttl = ttl || 0\n    if (this.ttl) {\n      if (!isPosInt(this.ttl)) {\n        throw new TypeError(\n          'ttl must be a positive integer if specified'\n        )\n      }\n      this.#initializeTTLTracking()\n    }\n\n    // do not allow completely unbounded caches\n    if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n      throw new TypeError(\n        'At least one of max, maxSize, or ttl is required'\n      )\n    }\n    if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n      const code = 'LRU_CACHE_UNBOUNDED'\n      if (shouldWarn(code)) {\n        warned.add(code)\n        const msg =\n          'TTL caching without ttlAutopurge, max, or maxSize can ' +\n          'result in unbounded memory consumption.'\n        emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache)\n      }\n    }\n  }\n\n  /**\n   * Return the remaining TTL time for a given entry key\n   */\n  getRemainingTTL(key: K) {\n    return this.#keyMap.has(key) ? Infinity : 0\n  }\n\n  #initializeTTLTracking() {\n    const ttls = new ZeroArray(this.#max)\n    const starts = new ZeroArray(this.#max)\n    this.#ttls = ttls\n    this.#starts = starts\n\n    this.#setItemTTL = (index, ttl, start = perf.now()) => {\n      starts[index] = ttl !== 0 ? start : 0\n      ttls[index] = ttl\n      if (ttl !== 0 && this.ttlAutopurge) {\n        const t = setTimeout(() => {\n          if (this.#isStale(index)) {\n            this.delete(this.#keyList[index] as K)\n          }\n        }, ttl + 1)\n        // unref() not supported on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n    }\n\n    this.#updateItemAge = index => {\n      starts[index] = ttls[index] !== 0 ? perf.now() : 0\n    }\n\n    this.#statusTTL = (status, index) => {\n      if (ttls[index]) {\n        const ttl = ttls[index]\n        const start = starts[index]\n        status.ttl = ttl\n        status.start = start\n        status.now = cachedNow || getNow()\n        const age = status.now - start\n        status.remainingTTL = ttl - age\n      }\n    }\n\n    // debounce calls to perf.now() to 1s so we're not hitting\n    // that costly call repeatedly.\n    let cachedNow = 0\n    const getNow = () => {\n      const n = perf.now()\n      if (this.ttlResolution > 0) {\n        cachedNow = n\n        const t = setTimeout(\n          () => (cachedNow = 0),\n          this.ttlResolution\n        )\n        // not available on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n      return n\n    }\n\n    this.getRemainingTTL = key => {\n      const index = this.#keyMap.get(key)\n      if (index === undefined) {\n        return 0\n      }\n      const ttl = ttls[index]\n      const start = starts[index]\n      if (ttl === 0 || start === 0) {\n        return Infinity\n      }\n      const age = (cachedNow || getNow()) - start\n      return ttl - age\n    }\n\n    this.#isStale = index => {\n      return (\n        ttls[index] !== 0 &&\n        starts[index] !== 0 &&\n        (cachedNow || getNow()) - starts[index] > ttls[index]\n      )\n    }\n  }\n\n  // conditionally set private methods related to TTL\n  #updateItemAge: (index: Index) => void = () => {}\n  #statusTTL: (status: LRUCache.Status<V>, index: Index) => void =\n    () => {}\n  #setItemTTL: (\n    index: Index,\n    ttl: LRUCache.Milliseconds,\n    start?: LRUCache.Milliseconds\n    // ignore because we never call this if we're not already in TTL mode\n    /* c8 ignore start */\n  ) => void = () => {}\n  /* c8 ignore stop */\n\n  #isStale: (index: Index) => boolean = () => false\n\n  #initializeSizeTracking() {\n    const sizes = new ZeroArray(this.#max)\n    this.#calculatedSize = 0\n    this.#sizes = sizes\n    this.#removeItemSize = index => {\n      this.#calculatedSize -= sizes[index]\n      sizes[index] = 0\n    }\n    this.#requireSize = (k, v, size, sizeCalculation) => {\n      // provisionally accept background fetches.\n      // actual value size will be checked when they return.\n      if (this.#isBackgroundFetch(v)) {\n        return 0\n      }\n      if (!isPosInt(size)) {\n        if (sizeCalculation) {\n          if (typeof sizeCalculation !== 'function') {\n            throw new TypeError('sizeCalculation must be a function')\n          }\n          size = sizeCalculation(v, k)\n          if (!isPosInt(size)) {\n            throw new TypeError(\n              'sizeCalculation return invalid (expect positive integer)'\n            )\n          }\n        } else {\n          throw new TypeError(\n            'invalid size value (must be positive integer). ' +\n              'When maxSize or maxEntrySize is used, sizeCalculation ' +\n              'or size must be set.'\n          )\n        }\n      }\n      return size\n    }\n    this.#addItemSize = (\n      index: Index,\n      size: LRUCache.Size,\n      status?: LRUCache.Status<V>\n    ) => {\n      sizes[index] = size\n      if (this.#maxSize) {\n        const maxSize = this.#maxSize - sizes[index]\n        while (this.#calculatedSize > maxSize) {\n          this.#evict(true)\n        }\n      }\n      this.#calculatedSize += sizes[index]\n      if (status) {\n        status.entrySize = size\n        status.totalCalculatedSize = this.#calculatedSize\n      }\n    }\n  }\n\n  #removeItemSize: (index: Index) => void = _i => {}\n  #addItemSize: (\n    index: Index,\n    size: LRUCache.Size,\n    status?: LRUCache.Status<V>\n  ) => void = (_i, _s, _st) => {}\n  #requireSize: (\n    k: K,\n    v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => LRUCache.Size = (\n    _k: K,\n    _v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => {\n    if (size || sizeCalculation) {\n      throw new TypeError(\n        'cannot set size without setting maxSize or maxEntrySize on cache'\n      )\n    }\n    return 0\n  };\n\n  *#indexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#tail; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#head) {\n          break\n        } else {\n          i = this.#prev[i] as Index\n        }\n      }\n    }\n  }\n\n  *#rindexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#head; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#tail) {\n          break\n        } else {\n          i = this.#next[i] as Index\n        }\n      }\n    }\n  }\n\n  #isValidIndex(index: Index) {\n    return (\n      index !== undefined &&\n      this.#keyMap.get(this.#keyList[index] as K) === index\n    )\n  }\n\n  /**\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from most recently used to least recently used.\n   */\n  *entries() {\n    for (const i of this.#indexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]]\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.entries}\n   *\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from least recently used to most recently used.\n   */\n  *rentries() {\n    for (const i of this.#rindexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]]\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the keys in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *keys() {\n    for (const i of this.#indexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.keys}\n   *\n   * Return a generator yielding the keys in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rkeys() {\n    for (const i of this.#rindexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the values in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *values() {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i]\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.values}\n   *\n   * Return a generator yielding the values in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rvalues() {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i]\n      }\n    }\n  }\n\n  /**\n   * Iterating over the cache itself yields the same results as\n   * {@link LRUCache.entries}\n   */\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  /**\n   * Find a value for which the supplied fn method returns a truthy value,\n   * similar to Array.find().  fn is called as fn(value, key, cache).\n   */\n  find(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => boolean,\n    getOptions: LRUCache.GetOptions<K, V, FC> = {}\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      if (fn(value, this.#keyList[i] as K, this)) {\n        return this.get(this.#keyList[i] as K, getOptions)\n      }\n    }\n  }\n\n  /**\n   * Call the supplied function on each item in the cache, in order from\n   * most recently used to least recently used.  fn is called as\n   * fn(value, key, cache).  Does not update age or recenty of use.\n   * Does not iterate over stale values.\n   */\n  forEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * The same as {@link LRUCache.forEach} but items are iterated over in\n   * reverse order.  (ie, less recently used items are iterated over first.)\n   */\n  rforEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * Delete any stale entries. Returns true if anything was removed,\n   * false otherwise.\n   */\n  purgeStale() {\n    let deleted = false\n    for (const i of this.#rindexes({ allowStale: true })) {\n      if (this.#isStale(i)) {\n        this.delete(this.#keyList[i] as K)\n        deleted = true\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n   * passed to cache.load()\n   */\n  dump() {\n    const arr: [K, LRUCache.Entry<V>][] = []\n    for (const i of this.#indexes({ allowStale: true })) {\n      const key = this.#keyList[i]\n      const v = this.#valList[i]\n      const value: V | undefined = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined || key === undefined) continue\n      const entry: LRUCache.Entry<V> = { value }\n      if (this.#ttls && this.#starts) {\n        entry.ttl = this.#ttls[i]\n        // always dump the start relative to a portable timestamp\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = perf.now() - this.#starts[i]\n        entry.start = Math.floor(Date.now() - age)\n      }\n      if (this.#sizes) {\n        entry.size = this.#sizes[i]\n      }\n      arr.unshift([key, entry])\n    }\n    return arr\n  }\n\n  /**\n   * Reset the cache and load in the items in entries in the order listed.\n   * Note that the shape of the resulting cache may be different if the\n   * same options are not used in both caches.\n   */\n  load(arr: [K, LRUCache.Entry<V>][]) {\n    this.clear()\n    for (const [key, entry] of arr) {\n      if (entry.start) {\n        // entry.start is a portable timestamp, but we may be using\n        // node's performance.now(), so calculate the offset, so that\n        // we get the intended remaining TTL, no matter how long it's\n        // been on ice.\n        //\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = Date.now() - entry.start\n        entry.start = perf.now() - age\n      }\n      this.set(key, entry.value, entry)\n    }\n  }\n\n  /**\n   * Add a value to the cache.\n   *\n   * Note: if `undefined` is specified as a value, this is an alias for\n   * {@link LRUCache#delete}\n   */\n  set(\n    k: K,\n    v: V | BackgroundFetch<V> | undefined,\n    setOptions: LRUCache.SetOptions<K, V, FC> = {}\n  ) {\n    if (v === undefined) {\n      this.delete(k)\n      return this\n    }\n    const {\n      ttl = this.ttl,\n      start,\n      noDisposeOnSet = this.noDisposeOnSet,\n      sizeCalculation = this.sizeCalculation,\n      status,\n    } = setOptions\n    let { noUpdateTTL = this.noUpdateTTL } = setOptions\n\n    const size = this.#requireSize(\n      k,\n      v,\n      setOptions.size || 0,\n      sizeCalculation\n    )\n    // if the item doesn't fit, don't do anything\n    // NB: maxEntrySize set to maxSize by default\n    if (this.maxEntrySize && size > this.maxEntrySize) {\n      if (status) {\n        status.set = 'miss'\n        status.maxEntrySizeExceeded = true\n      }\n      // have to delete, in case something is there already.\n      this.delete(k)\n      return this\n    }\n    let index = this.#size === 0 ? undefined : this.#keyMap.get(k)\n    if (index === undefined) {\n      // addition\n      index = (\n        this.#size === 0\n          ? this.#tail\n          : this.#free.length !== 0\n          ? this.#free.pop()\n          : this.#size === this.#max\n          ? this.#evict(false)\n          : this.#size\n      ) as Index\n      this.#keyList[index] = k\n      this.#valList[index] = v\n      this.#keyMap.set(k, index)\n      this.#next[this.#tail] = index\n      this.#prev[index] = this.#tail\n      this.#tail = index\n      this.#size++\n      this.#addItemSize(index, size, status)\n      if (status) status.set = 'add'\n      noUpdateTTL = false\n    } else {\n      // update\n      this.#moveToTail(index)\n      const oldVal = this.#valList[index] as V | BackgroundFetch<V>\n      if (v !== oldVal) {\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n          oldVal.__abortController.abort(new Error('replaced'))\n        } else if (!noDisposeOnSet) {\n          if (this.#hasDispose) {\n            this.#dispose?.(oldVal as V, k, 'set')\n          }\n          if (this.#hasDisposeAfter) {\n            this.#disposed?.push([oldVal as V, k, 'set'])\n          }\n        }\n        this.#removeItemSize(index)\n        this.#addItemSize(index, size, status)\n        this.#valList[index] = v\n        if (status) {\n          status.set = 'replace'\n          const oldValue =\n            oldVal && this.#isBackgroundFetch(oldVal)\n              ? oldVal.__staleWhileFetching\n              : oldVal\n          if (oldValue !== undefined) status.oldValue = oldValue\n        }\n      } else if (status) {\n        status.set = 'update'\n      }\n    }\n    if (ttl !== 0 && !this.#ttls) {\n      this.#initializeTTLTracking()\n    }\n    if (this.#ttls) {\n      if (!noUpdateTTL) {\n        this.#setItemTTL(index, ttl, start)\n      }\n      if (status) this.#statusTTL(status, index)\n    }\n    if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return this\n  }\n\n  /**\n   * Evict the least recently used item, returning its value or\n   * `undefined` if cache is empty.\n   */\n  pop(): V | undefined {\n    try {\n      while (this.#size) {\n        const val = this.#valList[this.#head]\n        this.#evict(true)\n        if (this.#isBackgroundFetch(val)) {\n          if (val.__staleWhileFetching) {\n            return val.__staleWhileFetching\n          }\n        } else if (val !== undefined) {\n          return val\n        }\n      }\n    } finally {\n      if (this.#hasDisposeAfter && this.#disposed) {\n        const dt = this.#disposed\n        let task: DisposeTask<K, V> | undefined\n        while ((task = dt?.shift())) {\n          this.#disposeAfter?.(...task)\n        }\n      }\n    }\n  }\n\n  #evict(free: boolean) {\n    const head = this.#head\n    const k = this.#keyList[head] as K\n    const v = this.#valList[head] as V\n    if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n      v.__abortController.abort(new Error('evicted'))\n    } else if (this.#hasDispose || this.#hasDisposeAfter) {\n      if (this.#hasDispose) {\n        this.#dispose?.(v, k, 'evict')\n      }\n      if (this.#hasDisposeAfter) {\n        this.#disposed?.push([v, k, 'evict'])\n      }\n    }\n    this.#removeItemSize(head)\n    // if we aren't about to use the index, then null these out\n    if (free) {\n      this.#keyList[head] = undefined\n      this.#valList[head] = undefined\n      this.#free.push(head)\n    }\n    if (this.#size === 1) {\n      this.#head = this.#tail = 0 as Index\n      this.#free.length = 0\n    } else {\n      this.#head = this.#next[head] as Index\n    }\n    this.#keyMap.delete(k)\n    this.#size--\n    return head\n  }\n\n  /**\n   * Check if a key is in the cache, without updating the recency of use.\n   * Will return false if the item is stale, even though it is technically\n   * in the cache.\n   *\n   * Will not update item age unless\n   * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n   */\n  has(k: K, hasOptions: LRUCache.HasOptions<K, V, FC> = {}) {\n    const { updateAgeOnHas = this.updateAgeOnHas, status } =\n      hasOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const v = this.#valList[index]\n      if (\n        this.#isBackgroundFetch(v) &&\n        v.__staleWhileFetching === undefined\n      ) {\n        return false\n      }\n      if (!this.#isStale(index)) {\n        if (updateAgeOnHas) {\n          this.#updateItemAge(index)\n        }\n        if (status) {\n          status.has = 'hit'\n          this.#statusTTL(status, index)\n        }\n        return true\n      } else if (status) {\n        status.has = 'stale'\n        this.#statusTTL(status, index)\n      }\n    } else if (status) {\n      status.has = 'miss'\n    }\n    return false\n  }\n\n  /**\n   * Like {@link LRUCache#get} but doesn't update recency or delete stale\n   * items.\n   *\n   * Returns `undefined` if the item is stale, unless\n   * {@link LRUCache.OptionsBase.allowStale} is set.\n   */\n  peek(k: K, peekOptions: LRUCache.PeekOptions<K, V, FC> = {}) {\n    const { allowStale = this.allowStale } = peekOptions\n    const index = this.#keyMap.get(k)\n    if (\n      index !== undefined &&\n      (allowStale || !this.#isStale(index))\n    ) {\n      const v = this.#valList[index]\n      // either stale and allowed, or forcing a refresh of non-stale value\n      return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v\n    }\n  }\n\n  #backgroundFetch(\n    k: K,\n    index: Index | undefined,\n    options: LRUCache.FetchOptions<K, V, FC>,\n    context: any\n  ): BackgroundFetch<V> {\n    const v = index === undefined ? undefined : this.#valList[index]\n    if (this.#isBackgroundFetch(v)) {\n      return v\n    }\n\n    const ac = new AC()\n    const { signal } = options\n    // when/if our AC signals, then stop listening to theirs.\n    signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n      signal: ac.signal,\n    })\n\n    const fetchOpts = {\n      signal: ac.signal,\n      options,\n      context,\n    }\n\n    const cb = (\n      v: V | void | undefined,\n      updateCache = false\n    ): V | undefined | void => {\n      const { aborted } = ac.signal\n      const ignoreAbort = options.ignoreFetchAbort && v !== undefined\n      if (options.status) {\n        if (aborted && !updateCache) {\n          options.status.fetchAborted = true\n          options.status.fetchError = ac.signal.reason\n          if (ignoreAbort) options.status.fetchAbortIgnored = true\n        } else {\n          options.status.fetchResolved = true\n        }\n      }\n      if (aborted && !ignoreAbort && !updateCache) {\n        return fetchFail(ac.signal.reason)\n      }\n      // either we didn't abort, and are still here, or we did, and ignored\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        if (v === undefined) {\n          if (bf.__staleWhileFetching) {\n            this.#valList[index as Index] = bf.__staleWhileFetching\n          } else {\n            this.delete(k)\n          }\n        } else {\n          if (options.status) options.status.fetchUpdated = true\n          this.set(k, v, fetchOpts.options)\n        }\n      }\n      return v\n    }\n\n    const eb = (er: any) => {\n      if (options.status) {\n        options.status.fetchRejected = true\n        options.status.fetchError = er\n      }\n      return fetchFail(er)\n    }\n\n    const fetchFail = (er: any): V | undefined => {\n      const { aborted } = ac.signal\n      const allowStaleAborted =\n        aborted && options.allowStaleOnFetchAbort\n      const allowStale =\n        allowStaleAborted || options.allowStaleOnFetchRejection\n      const noDelete = allowStale || options.noDeleteOnFetchRejection\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        // if we allow stale on fetch rejections, then we need to ensure that\n        // the stale value is not removed from the cache when the fetch fails.\n        const del = !noDelete || bf.__staleWhileFetching === undefined\n        if (del) {\n          this.delete(k)\n        } else if (!allowStaleAborted) {\n          // still replace the *promise* with the stale value,\n          // since we are done with the promise at this point.\n          // leave it untouched if we're still waiting for an\n          // aborted background fetch that hasn't yet returned.\n          this.#valList[index as Index] = bf.__staleWhileFetching\n        }\n      }\n      if (allowStale) {\n        if (options.status && bf.__staleWhileFetching !== undefined) {\n          options.status.returnedStale = true\n        }\n        return bf.__staleWhileFetching\n      } else if (bf.__returned === bf) {\n        throw er\n      }\n    }\n\n    const pcall = (\n      res: (v: V | void | undefined) => void,\n      rej: (e: any) => void\n    ) => {\n      const fmp = this.#fetchMethod?.(k, v, fetchOpts)\n      if (fmp && fmp instanceof Promise) {\n        fmp.then(v => res(v), rej)\n      }\n      // ignored, we go until we finish, regardless.\n      // defer check until we are actually aborting,\n      // so fetchMethod can override.\n      ac.signal.addEventListener('abort', () => {\n        if (\n          !options.ignoreFetchAbort ||\n          options.allowStaleOnFetchAbort\n        ) {\n          res()\n          // when it eventually resolves, update the cache.\n          if (options.allowStaleOnFetchAbort) {\n            res = v => cb(v, true)\n          }\n        }\n      })\n    }\n\n    if (options.status) options.status.fetchDispatched = true\n    const p = new Promise(pcall).then(cb, eb)\n    const bf = Object.assign(p, {\n      __abortController: ac,\n      __staleWhileFetching: v,\n      __returned: undefined,\n    })\n\n    if (index === undefined) {\n      // internal, don't expose status.\n      this.set(k, bf, { ...fetchOpts.options, status: undefined })\n      index = this.#keyMap.get(k)\n    } else {\n      this.#valList[index] = bf\n    }\n    return bf\n  }\n\n  #isBackgroundFetch(p: any): p is BackgroundFetch<V> {\n    if (!this.#hasFetchMethod) return false\n    const b = p as BackgroundFetch<V>\n    return (\n      !!b &&\n      b instanceof Promise &&\n      b.hasOwnProperty('__staleWhileFetching') &&\n      b.__abortController instanceof AC\n    )\n  }\n\n  /**\n   * Make an asynchronous cached fetch using the\n   * {@link LRUCache.OptionsBase.fetchMethod} function.\n   *\n   * If multiple fetches for the same key are issued, then they will all be\n   * coalesced into a single call to fetchMethod.\n   *\n   * Note that this means that handling options such as\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort},\n   * {@link LRUCache.FetchOptions.signal},\n   * and {@link LRUCache.OptionsBase.allowStaleOnFetchRejection} will be\n   * determined by the FIRST fetch() call for a given key.\n   *\n   * This is a known (fixable) shortcoming which will be addresed on when\n   * someone complains about it, as the fix would involve added complexity and\n   * may not be worth the costs for this edge case.\n   */\n  fetch(\n    k: K,\n    fetchOptions: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : LRUCache.FetchOptionsWithContext<K, V, FC>\n  ): Promise<void | V>\n  // this overload not allowed if context is required\n  fetch(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    fetchOptions?: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : never\n  ): Promise<void | V>\n  async fetch(\n    k: K,\n    fetchOptions: LRUCache.FetchOptions<K, V, FC> = {}\n  ): Promise<void | V> {\n    const {\n      // get options\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      // set options\n      ttl = this.ttl,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      // fetch exclusive options\n      noDeleteOnFetchRejection = this.noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection = this.allowStaleOnFetchRejection,\n      ignoreFetchAbort = this.ignoreFetchAbort,\n      allowStaleOnFetchAbort = this.allowStaleOnFetchAbort,\n      context,\n      forceRefresh = false,\n      status,\n      signal,\n    } = fetchOptions\n\n    if (!this.#hasFetchMethod) {\n      if (status) status.fetch = 'get'\n      return this.get(k, {\n        allowStale,\n        updateAgeOnGet,\n        noDeleteOnStaleGet,\n        status,\n      })\n    }\n\n    const options = {\n      allowStale,\n      updateAgeOnGet,\n      noDeleteOnStaleGet,\n      ttl,\n      noDisposeOnSet,\n      size,\n      sizeCalculation,\n      noUpdateTTL,\n      noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n      status,\n      signal,\n    }\n\n    let index = this.#keyMap.get(k)\n    if (index === undefined) {\n      if (status) status.fetch = 'miss'\n      const p = this.#backgroundFetch(k, index, options, context)\n      return (p.__returned = p)\n    } else {\n      // in cache, maybe already fetching\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        const stale =\n          allowStale && v.__staleWhileFetching !== undefined\n        if (status) {\n          status.fetch = 'inflight'\n          if (stale) status.returnedStale = true\n        }\n        return stale ? v.__staleWhileFetching : (v.__returned = v)\n      }\n\n      // if we force a refresh, that means do NOT serve the cached value,\n      // unless we are already in the process of refreshing the cache.\n      const isStale = this.#isStale(index)\n      if (!forceRefresh && !isStale) {\n        if (status) status.fetch = 'hit'\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        if (status) this.#statusTTL(status, index)\n        return v\n      }\n\n      // ok, it is stale or a forced refresh, and not already fetching.\n      // refresh the cache.\n      const p = this.#backgroundFetch(k, index, options, context)\n      const hasStale = p.__staleWhileFetching !== undefined\n      const staleVal = hasStale && allowStale\n      if (status) {\n        status.fetch = isStale ? 'stale' : 'refresh'\n        if (staleVal && isStale) status.returnedStale = true\n      }\n      return staleVal ? p.__staleWhileFetching : (p.__returned = p)\n    }\n  }\n\n  /**\n   * Return a value from the cache. Will update the recency of the cache\n   * entry found.\n   *\n   * If the key is not found, get() will return `undefined`.\n   */\n  get(k: K, getOptions: LRUCache.GetOptions<K, V, FC> = {}) {\n    const {\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      status,\n    } = getOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const value = this.#valList[index]\n      const fetching = this.#isBackgroundFetch(value)\n      if (status) this.#statusTTL(status, index)\n      if (this.#isStale(index)) {\n        if (status) status.get = 'stale'\n        // delete only if not an in-flight background fetch\n        if (!fetching) {\n          if (!noDeleteOnStaleGet) {\n            this.delete(k)\n          }\n          if (status && allowStale) status.returnedStale = true\n          return allowStale ? value : undefined\n        } else {\n          if (\n            status &&\n            allowStale &&\n            value.__staleWhileFetching !== undefined\n          ) {\n            status.returnedStale = true\n          }\n          return allowStale ? value.__staleWhileFetching : undefined\n        }\n      } else {\n        if (status) status.get = 'hit'\n        // if we're currently fetching it, we don't actually have it yet\n        // it's not stale, which means this isn't a staleWhileRefetching.\n        // If it's not stale, and fetching, AND has a __staleWhileFetching\n        // value, then that means the user fetched with {forceRefresh:true},\n        // so it's safe to return that value.\n        if (fetching) {\n          return value.__staleWhileFetching\n        }\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        return value\n      }\n    } else if (status) {\n      status.get = 'miss'\n    }\n  }\n\n  #connect(p: Index, n: Index) {\n    this.#prev[n] = p\n    this.#next[p] = n\n  }\n\n  #moveToTail(index: Index): void {\n    // if tail already, nothing to do\n    // if head, move head to next[index]\n    // else\n    //   move next[prev[index]] to next[index] (head has no prev)\n    //   move prev[next[index]] to prev[index]\n    // prev[index] = tail\n    // next[tail] = index\n    // tail = index\n    if (index !== this.#tail) {\n      if (index === this.#head) {\n        this.#head = this.#next[index] as Index\n      } else {\n        this.#connect(\n          this.#prev[index] as Index,\n          this.#next[index] as Index\n        )\n      }\n      this.#connect(this.#tail, index)\n      this.#tail = index\n    }\n  }\n\n  /**\n   * Deletes a key out of the cache.\n   * Returns true if the key was deleted, false otherwise.\n   */\n  delete(k: K) {\n    let deleted = false\n    if (this.#size !== 0) {\n      const index = this.#keyMap.get(k)\n      if (index !== undefined) {\n        deleted = true\n        if (this.#size === 1) {\n          this.clear()\n        } else {\n          this.#removeItemSize(index)\n          const v = this.#valList[index]\n          if (this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('deleted'))\n          } else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n              this.#dispose?.(v as V, k, 'delete')\n            }\n            if (this.#hasDisposeAfter) {\n              this.#disposed?.push([v as V, k, 'delete'])\n            }\n          }\n          this.#keyMap.delete(k)\n          this.#keyList[index] = undefined\n          this.#valList[index] = undefined\n          if (index === this.#tail) {\n            this.#tail = this.#prev[index] as Index\n          } else if (index === this.#head) {\n            this.#head = this.#next[index] as Index\n          } else {\n            this.#next[this.#prev[index]] = this.#next[index]\n            this.#prev[this.#next[index]] = this.#prev[index]\n          }\n          this.#size--\n          this.#free.push(index)\n        }\n      }\n    }\n    if (this.#hasDisposeAfter && this.#disposed?.length) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Clear the cache entirely, throwing away all values.\n   */\n  clear() {\n    for (const index of this.#rindexes({ allowStale: true })) {\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        v.__abortController.abort(new Error('deleted'))\n      } else {\n        const k = this.#keyList[index]\n        if (this.#hasDispose) {\n          this.#dispose?.(v as V, k as K, 'delete')\n        }\n        if (this.#hasDisposeAfter) {\n          this.#disposed?.push([v as V, k as K, 'delete'])\n        }\n      }\n    }\n\n    this.#keyMap.clear()\n    this.#valList.fill(undefined)\n    this.#keyList.fill(undefined)\n    if (this.#ttls && this.#starts) {\n      this.#ttls.fill(0)\n      this.#starts.fill(0)\n    }\n    if (this.#sizes) {\n      this.#sizes.fill(0)\n    }\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free.length = 0\n    this.#calculatedSize = 0\n    this.#size = 0\n    if (this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n  }\n}\n","import { splitLines, isBlank } from \"./utils\";\nimport type { components as TabbyApiComponents } from \"tabby-openapi/compatible\";\nimport type { CompletionContext } from \"./CompletionContext\";\n\nexport type InlineCompletionItem = {\n  insertText: string;\n  // Range of the text to be replaced when applying the completion.\n  // The range should be limited to the current line.\n  range: {\n    start: number;\n    end: number;\n  };\n  data?: {\n    eventId?: {\n      completionId: string;\n      choiceIndex: number;\n    };\n  };\n};\n\nexport type InlineCompletionList = {\n  // If the request is automatic, we will only provide one item, in this case,\n  // `isIncomplete` will be `true`.\n  // For the same completion context, if the request is manual, we will try\n  // to provide multiple items, and `isIncomplete` will be `false`, whether the\n  // item list actually contains multiple items, or not.\n  isIncomplete: boolean;\n  items: InlineCompletionItem[];\n};\n\nexport const emptyInlineCompletionList: InlineCompletionList = {\n  isIncomplete: true,\n  items: [],\n};\n\nexport class CompletionItem {\n  // Shortcuts\n  readonly text: string; // `replacePrefix` trimmed from `fullText`.\n  readonly lines: string[]; // splitted lines of `text`.\n  readonly currentLine: string; // first item of `lines`\n  readonly isBlank: boolean; // whether the item is a blank line.\n\n  constructor(\n    // The context which the completion was generated for.\n    readonly context: CompletionContext,\n    // The full text of the completion.\n    readonly fullText: string,\n    // Prefix to replace, `text` must exactly start with `replacePrefix`.\n    readonly replacePrefix: string = \"\",\n    // Suffix to replace, in most case, `text` contains a subsequence of `replaceSuffix`.\n    readonly replaceSuffix: string = \"\",\n    // Extra event data\n    readonly eventId?: {\n      completionId: string;\n      choiceIndex: number;\n    },\n  ) {\n    this.text = fullText.substring(replacePrefix.length);\n    this.lines = splitLines(this.text);\n    this.currentLine = this.lines[0] ?? \"\";\n    this.isBlank = isBlank(this.text);\n  }\n\n  static createBlankItem(context: CompletionContext): CompletionItem {\n    return new CompletionItem(context, \"\");\n  }\n\n  static createFromResponse(\n    context: CompletionContext,\n    response: TabbyApiComponents[\"schemas\"][\"CompletionResponse\"],\n    index: number = 0,\n  ): CompletionItem {\n    return new CompletionItem(context, response.choices[index]?.text ?? \"\", \"\", \"\", {\n      completionId: response.id,\n      choiceIndex: response.choices[index]?.index ?? index,\n    });\n  }\n\n  // Generate a CompletionItem based on this CompletionItem with modified `fullText`.\n  withFullText(fullText: string): CompletionItem {\n    return new CompletionItem(this.context, fullText, this.replacePrefix, this.replaceSuffix, this.eventId);\n  }\n\n  // Generate a CompletionItem based on this CompletionItem with modified `text`.\n  withText(text: string): CompletionItem {\n    return new CompletionItem(\n      this.context,\n      this.replacePrefix + text,\n      this.replacePrefix,\n      this.replaceSuffix,\n      this.eventId,\n    );\n  }\n\n  // Generate a CompletionItem based on this CompletionItem with modified `replaceSuffix`.\n  withSuffix(replaceSuffix: string): CompletionItem {\n    return new CompletionItem(this.context, this.fullText, this.replacePrefix, replaceSuffix, this.eventId);\n  }\n\n  // Generate a CompletionItem by trying to apply this CompletionItem to the new context.\n  withContext(context: CompletionContext): CompletionItem {\n    if (context.hash === this.context.hash) {\n      return new CompletionItem(context, this.fullText, this.replacePrefix, this.replaceSuffix, this.eventId);\n    } else {\n      return CompletionItem.createBlankItem(context);\n    }\n  }\n\n  // Generate a CompletionItem based on this CompletionItem.\n  // Simulate as if the user typed over the same text as the completion.\n  forward(chars: number): CompletionItem {\n    if (chars <= 0) return this;\n    const delta = this.text.substring(0, chars);\n    // Forward in the current line\n    if (chars < this.currentLine.length) {\n      return new CompletionItem(\n        this.context.forward(delta),\n        this.fullText,\n        this.replacePrefix + delta,\n        this.replaceSuffix,\n        this.eventId,\n      );\n    }\n    // Forward to next lines\n    const lastLineStart = delta.lastIndexOf(\"\\n\") + 1;\n    const lastLine = delta.substring(lastLineStart);\n    let whiteSpaces = lastLine.search(/\\S/);\n    if (whiteSpaces < 0) {\n      whiteSpaces = lastLine.length;\n    }\n    const lastLineNonSpaceStart = lastLineStart + whiteSpaces;\n    const fullText = this.text.substring(lastLineNonSpaceStart);\n    const lastLineNonSpace = delta.substring(lastLineNonSpaceStart);\n    return new CompletionItem(\n      this.context.forward(delta),\n      fullText,\n      lastLineNonSpace,\n      this.replaceSuffix,\n      this.eventId,\n    );\n  }\n\n  isSameWith(other: CompletionItem): boolean {\n    return this.context.hash === other.context.hash && this.text === other.text;\n  }\n\n  toInlineCompletionItem(): InlineCompletionItem {\n    return {\n      insertText: this.fullText,\n      range: {\n        start: this.context.currentLinePrefix.endsWith(this.replacePrefix)\n          ? this.context.position - this.replacePrefix.length\n          : this.context.position,\n        end: this.context.currentLineSuffix.startsWith(this.replaceSuffix)\n          ? this.context.position + this.replaceSuffix.length\n          : this.context.position,\n      },\n      data: { eventId: this.eventId },\n    };\n  }\n}\n\nexport class CompletionSolution {\n  items: CompletionItem[] = [];\n  isCompleted: boolean = false;\n\n  constructor(\n    readonly context: CompletionContext,\n    items: CompletionItem[] = [],\n    isCompleted = false,\n  ) {\n    this.add(...items);\n    this.isCompleted = isCompleted;\n  }\n\n  static merge(base: CompletionSolution, addition: CompletionSolution): CompletionSolution {\n    if (base.context.hash === addition.context.hash) {\n      return new CompletionSolution(\n        base.context,\n        [...base.items, ...addition.items],\n        base.isCompleted || addition.isCompleted,\n      );\n    } else {\n      return base;\n    }\n  }\n\n  add(...items: CompletionItem[]): void {\n    this.items.push(\n      ...items\n        .map((item) => item.withContext(this.context))\n        .filter((item, index, arr) => {\n          return (\n            !item.isBlank &&\n            // deduplicate\n            arr.findIndex((i) => i.isSameWith(item)) === index &&\n            this.items.findIndex((i) => i.isSameWith(item)) === -1\n          );\n        }),\n    );\n  }\n\n  // Generate a CompletionSolution by trying to apply this CompletionSolution to the new context.\n  withContext(context: CompletionContext): CompletionSolution {\n    if (context.hash === this.context.hash) {\n      return new CompletionSolution(context, this.items, this.isCompleted);\n    } else {\n      return new CompletionSolution(context);\n    }\n  }\n\n  // Generate a CompletionSolution by replacing all items.\n  withItems(...items: CompletionItem[]): CompletionSolution {\n    return new CompletionSolution(this.context, items, this.isCompleted);\n  }\n\n  toInlineCompletionList(): InlineCompletionList {\n    return {\n      isIncomplete: !this.isCompleted,\n      items: this.items.map((item) => item.toInlineCompletionItem()),\n    };\n  }\n}\n","import type { CompletionRequest, AbortSignalOption } from \"./Agent\";\nimport type { AgentConfig } from \"./AgentConfig\";\nimport { splitLines } from \"./utils\";\n\nfunction clamp(min: number, max: number, value: number): number {\n  return Math.max(min, Math.min(max, value));\n}\n\nexport class CompletionDebounce {\n  private lastCalledTimeStamp = 0;\n\n  private baseInterval = 200; // ms\n  private calledIntervalHistory: number[] = [];\n\n  private options = {\n    baseIntervalSlideWindowAvg: {\n      minSize: 20,\n      maxSize: 100,\n      min: 100,\n      max: 400,\n    },\n    adaptiveRate: {\n      min: 1.5,\n      max: 3.0,\n    },\n    contextScoreWeights: {\n      triggerCharacter: 0.5,\n      noSuffixInCurrentLine: 0.4,\n      noSuffix: 0.1,\n    },\n    requestDelay: {\n      min: 100, // ms\n      max: 1000,\n    },\n  };\n\n  async debounce(\n    context: {\n      request: CompletionRequest;\n      config: AgentConfig[\"completion\"][\"debounce\"];\n      responseTime: number;\n    },\n    options?: AbortSignalOption,\n  ): Promise<void> {\n    const { request, config, responseTime } = context;\n    if (request.manually) {\n      return this.sleep(0, options);\n    }\n    if (config.mode === \"fixed\") {\n      return this.sleep(config.interval, options);\n    }\n    const now = Date.now();\n    this.updateBaseInterval(now - this.lastCalledTimeStamp);\n    this.lastCalledTimeStamp = now;\n    const contextScore = this.calcContextScore(request);\n    const adaptiveRate =\n      this.options.adaptiveRate.max - (this.options.adaptiveRate.max - this.options.adaptiveRate.min) * contextScore;\n    const expectedLatency = adaptiveRate * this.baseInterval;\n    const delay = clamp(this.options.requestDelay.min, this.options.requestDelay.max, expectedLatency - responseTime);\n    return this.sleep(delay, options);\n  }\n\n  private async sleep(delay: number, options?: AbortSignalOption): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const timer = setTimeout(resolve, Math.min(delay, 0x7fffffff));\n      const signal = options?.signal;\n      if (signal) {\n        if (signal.aborted) {\n          clearTimeout(timer);\n          reject(signal.reason);\n        } else {\n          signal.addEventListener(\"abort\", () => {\n            clearTimeout(timer);\n            reject(signal.reason);\n          });\n        }\n      }\n    });\n  }\n\n  private updateBaseInterval(interval: number) {\n    if (interval > this.options.baseIntervalSlideWindowAvg.max) {\n      return;\n    }\n    this.calledIntervalHistory.push(interval);\n    if (this.calledIntervalHistory.length > this.options.baseIntervalSlideWindowAvg.maxSize) {\n      this.calledIntervalHistory.shift();\n    }\n    if (this.calledIntervalHistory.length > this.options.baseIntervalSlideWindowAvg.minSize) {\n      const avg = this.calledIntervalHistory.reduce((a, b) => a + b, 0) / this.calledIntervalHistory.length;\n      this.baseInterval = clamp(\n        this.options.baseIntervalSlideWindowAvg.min,\n        this.options.baseIntervalSlideWindowAvg.max,\n        avg,\n      );\n    }\n  }\n\n  // return score in [0, 1], 1 means the context has a high chance to accept the completion\n  private calcContextScore(request: CompletionRequest): number {\n    let score = 0;\n    const weights = this.options.contextScoreWeights;\n    const triggerCharacter = request.text[request.position - 1] ?? \"\";\n    score += triggerCharacter.match(/^\\W*$/) ? weights.triggerCharacter : 0;\n\n    const suffix = request.text.slice(request.position) ?? \"\";\n    const currentLineInSuffix = splitLines(suffix)[0] ?? \"\";\n    score += currentLineInSuffix.match(/^\\W*$/) ? weights.noSuffixInCurrentLine : 0;\n    score += suffix.match(/^\\W*$/) ? weights.noSuffix : 0;\n\n    score = clamp(0, 1, score);\n    return score;\n  }\n}\n","import { Univariate } from \"stats-logscale\";\n\nexport type CompletionProviderStatsEntry = {\n  triggerMode: \"auto\" | \"manual\";\n};\n\nexport type CompletionRequestStatsEntry = {\n  latency: number; // ms, NaN if timeout/canceled\n  canceled: boolean;\n  timeout: boolean;\n};\n\nexport class CompletionStats {\n  private autoCompletionCount = 0;\n  private manualCompletionCount = 0;\n\n  private eventMap = new Map<string, number>();\n\n  private completionRequestLatencyStats = new Univariate();\n  private completionRequestCanceledCount = 0;\n  private completionRequestTimeoutCount = 0;\n\n  addProviderStatsEntry(value: CompletionProviderStatsEntry): void {\n    const { triggerMode } = value;\n    if (triggerMode === \"auto\") {\n      this.autoCompletionCount += 1;\n    } else {\n      this.manualCompletionCount += 1;\n    }\n  }\n\n  addRequestStatsEntry(value: CompletionRequestStatsEntry): void {\n    const { canceled, timeout, latency } = value;\n    if (canceled) {\n      this.completionRequestCanceledCount += 1;\n    } else if (timeout) {\n      this.completionRequestTimeoutCount += 1;\n    } else {\n      this.completionRequestLatencyStats.add(latency);\n    }\n  }\n\n  addEvent(event: string): void {\n    const count = this.eventMap.get(event) || 0;\n    this.eventMap.set(event, count + 1);\n  }\n\n  reset(): void {\n    this.autoCompletionCount = 0;\n    this.manualCompletionCount = 0;\n\n    this.eventMap = new Map<string, number>();\n\n    this.completionRequestLatencyStats = new Univariate();\n    this.completionRequestCanceledCount = 0;\n    this.completionRequestTimeoutCount = 0;\n  }\n\n  // stats for anonymous usage report\n  stats(): Record<string, any> {\n    const eventCount = Object.fromEntries(\n      Array.from(this.eventMap.entries()).map(([key, value]) => [\"count_\" + key, value]),\n    );\n    return {\n      completion: {\n        count_auto: this.autoCompletionCount,\n        count_manual: this.manualCompletionCount,\n        ...eventCount,\n      },\n      completion_request: {\n        count: this.completionRequestLatencyStats.count(),\n        latency_avg: this.completionRequestLatencyStats.mean(),\n        latency_p50: this.completionRequestLatencyStats.percentile(50),\n        latency_p95: this.completionRequestLatencyStats.percentile(95),\n        latency_p99: this.completionRequestLatencyStats.percentile(99),\n      },\n      completion_request_canceled: {\n        count: this.completionRequestCanceledCount,\n      },\n      completion_request_timeout: {\n        count: this.completionRequestTimeoutCount,\n      },\n    };\n  }\n}\n\nclass LastN {\n  private readonly values: number[] = [];\n\n  constructor(private readonly maxSize: number) {}\n\n  add(value: number): void {\n    this.values.push(value);\n    if (this.values.length > this.maxSize) {\n      this.values.shift();\n    }\n  }\n\n  getValues(): number[] {\n    return this.values;\n  }\n}\n\ntype RequestStatsResult = {\n  values: number[];\n  stats: { total: number; timeouts: number; responses: number; averageResponseTime: number };\n};\n\nexport class RequestStats {\n  static readonly config = {\n    windowSize: 10,\n    checks: {\n      disable: false,\n      // Mark status as healthy if the latency is less than the threshold for each latest windowSize requests.\n      healthy: { windowSize: 1, latency: 3000 },\n      // If there is at least {count} requests, and the average response time is higher than the {latency}, show warning\n      slowResponseTime: { latency: 5000, count: 1 },\n      // If there is at least {count} timeouts, and the timeout rate is higher than the {rate}, show warning\n      highTimeoutRate: { rate: 0.5, count: 1 },\n    },\n  };\n\n  static check(result: RequestStatsResult): \"healthy\" | \"highTimeoutRate\" | \"slowResponseTime\" | null {\n    if (this.config.checks.disable) {\n      return null;\n    }\n    const config = this.config.checks;\n\n    const {\n      values: latencies,\n      stats: { total, timeouts, responses, averageResponseTime },\n    } = result;\n\n    if (\n      latencies\n        .slice(-Math.min(this.config.windowSize, config.healthy.windowSize))\n        .every((latency) => latency < config.healthy.latency)\n    ) {\n      return \"healthy\";\n    }\n    if (timeouts / total > config.highTimeoutRate.rate && timeouts >= config.highTimeoutRate.count) {\n      return \"highTimeoutRate\";\n    }\n    if (averageResponseTime > config.slowResponseTime.latency && responses >= config.slowResponseTime.count) {\n      return \"slowResponseTime\";\n    }\n    return null;\n  }\n\n  private latencies: LastN = new LastN(RequestStats.config.windowSize);\n\n  add(entry: number): void {\n    this.latencies.add(entry);\n  }\n\n  reset(): void {\n    this.latencies = new LastN(RequestStats.config.windowSize);\n  }\n\n  // stats for \"highTimeoutRate\" | \"slowResponseTime\" warning\n  stats(): RequestStatsResult {\n    const latencies = this.latencies.getValues();\n    const timeouts = latencies.filter((latency) => Number.isNaN(latency));\n    const responses = latencies.filter((latency) => !Number.isNaN(latency));\n    const averageResponseTime = responses.reduce((acc, latency) => acc + latency, 0) / responses.length;\n    return {\n      values: latencies,\n      stats: {\n        total: latencies.length,\n        timeouts: timeouts.length,\n        responses: responses.length,\n        averageResponseTime,\n      },\n    };\n  }\n}\n","import path from \"path\";\nimport hashObject from \"object-hash\";\nimport { splitLines, isBlank, regOnlyAutoClosingCloseChars } from \"./utils\";\nimport type { components as TabbyApiComponents } from \"tabby-openapi/compatible\";\nimport type { AgentConfig } from \"./AgentConfig\";\n\nexport type CompletionRequest = {\n  filepath: string;\n  language: string;\n  text: string;\n  position: number;\n  indentation?: string;\n  clipboard?: string;\n  manually?: boolean;\n  workspace?: string;\n  git?: {\n    root: string;\n    remotes: {\n      name: string;\n      url: string;\n    }[];\n  };\n  declarations?: Declaration[];\n  relevantSnippetsFromChangedFiles?: CodeSnippet[];\n};\n\nexport type Declaration = {\n  filepath: string;\n  text: string;\n  offset?: number;\n};\n\nexport type CodeSnippet = {\n  filepath: string;\n  offset: number;\n  text: string;\n  score: number;\n};\n\nfunction isAtLineEndExcludingAutoClosedChar(suffix: string) {\n  return suffix.trimEnd().match(regOnlyAutoClosingCloseChars);\n}\n\nexport class CompletionContext {\n  filepath: string;\n  language: string;\n  indentation?: string;\n  text: string;\n  position: number;\n\n  prefix: string;\n  suffix: string;\n  prefixLines: string[];\n  suffixLines: string[];\n  currentLinePrefix: string;\n  currentLineSuffix: string;\n\n  clipboard: string;\n\n  workspace?: string;\n  git?: {\n    root: string;\n    remotes: {\n      name: string;\n      url: string;\n    }[];\n  };\n\n  declarations?: Declaration[];\n  relevantSnippetsFromChangedFiles?: CodeSnippet[];\n\n  // \"default\": the cursor is at the end of the line\n  // \"fill-in-line\": the cursor is not at the end of the line, except auto closed characters\n  //   In this case, we assume the completion should be a single line, so multiple lines completion will be dropped.\n  mode: \"default\" | \"fill-in-line\";\n  hash: string;\n\n  constructor(request: CompletionRequest) {\n    this.filepath = request.filepath;\n    this.language = request.language;\n    this.text = request.text;\n    this.position = request.position;\n    this.indentation = request.indentation;\n\n    this.prefix = request.text.slice(0, request.position);\n    this.suffix = request.text.slice(request.position);\n    this.prefixLines = splitLines(this.prefix);\n    this.suffixLines = splitLines(this.suffix);\n    this.currentLinePrefix = this.prefixLines[this.prefixLines.length - 1] ?? \"\";\n    this.currentLineSuffix = this.suffixLines[0] ?? \"\";\n\n    this.clipboard = request.clipboard?.trim() ?? \"\";\n\n    this.workspace = request.workspace;\n    this.git = request.git;\n\n    this.declarations = request.declarations;\n    this.relevantSnippetsFromChangedFiles = request.relevantSnippetsFromChangedFiles;\n\n    const lineEnd = isAtLineEndExcludingAutoClosedChar(this.currentLineSuffix);\n    this.mode = lineEnd ? \"default\" : \"fill-in-line\";\n    this.hash = hashObject({\n      filepath: this.filepath,\n      language: this.language,\n      prefix: this.prefix,\n      currentLineSuffix: lineEnd ? \"\" : this.currentLineSuffix,\n      nextLines: this.suffixLines.slice(1).join(\"\"),\n      position: this.position,\n      clipboard: this.clipboard,\n      declarations: this.declarations,\n      relevantSnippetsFromChangedFiles: this.relevantSnippetsFromChangedFiles,\n    });\n  }\n\n  // is valid for completion.\n  isValid() {\n    return !isBlank(this.prefix);\n  }\n\n  // Generate a CompletionContext based on this CompletionContext.\n  // Simulate as if the user input new text based on this CompletionContext.\n  forward(delta: string) {\n    return new CompletionContext({\n      filepath: this.filepath,\n      language: this.language,\n      text: this.text.substring(0, this.position) + delta + this.text.substring(this.position),\n      position: this.position + delta.length,\n      indentation: this.indentation,\n      workspace: this.workspace,\n      git: this.git,\n      declarations: this.declarations,\n      relevantSnippetsFromChangedFiles: this.relevantSnippetsFromChangedFiles,\n    });\n  }\n\n  // Build segments for TabbyApi\n  buildSegments(config: AgentConfig[\"completion\"][\"prompt\"]): TabbyApiComponents[\"schemas\"][\"Segments\"] {\n    // prefix && suffix\n    const prefix = this.prefixLines.slice(Math.max(this.prefixLines.length - config.maxPrefixLines, 0)).join(\"\");\n    const suffix = this.suffixLines.slice(0, config.maxSuffixLines).join(\"\");\n\n    // filepath && git_url\n    let relativeFilepathRoot: string | undefined = undefined;\n    let filepath: string | undefined = undefined;\n    let gitUrl: string | undefined = undefined;\n    if (this.git && this.git.remotes.length > 0) {\n      // find remote url: origin > upstream > first\n      const remote =\n        this.git.remotes.find((remote) => remote.name === \"origin\") ||\n        this.git.remotes.find((remote) => remote.name === \"upstream\") ||\n        this.git.remotes[0];\n      if (remote) {\n        relativeFilepathRoot = this.git.root;\n        gitUrl = remote.url;\n      }\n    }\n    // if relativeFilepathRoot is not set by git context, use path relative to workspace\n    if (!relativeFilepathRoot && this.workspace) {\n      relativeFilepathRoot = this.workspace;\n    }\n    if (relativeFilepathRoot) {\n      filepath = path.relative(relativeFilepathRoot, this.filepath);\n    }\n\n    // declarations\n    const declarations = this.declarations?.map((declaration) => {\n      let declarationFilepath = declaration.filepath;\n      if (relativeFilepathRoot && declarationFilepath.startsWith(relativeFilepathRoot)) {\n        declarationFilepath = path.relative(relativeFilepathRoot, declarationFilepath);\n      }\n      return {\n        filepath: declarationFilepath,\n        body: declaration.text,\n      };\n    });\n\n    // snippets\n    const relevantSnippetsFromChangedFiles = this.relevantSnippetsFromChangedFiles\n      // deduplicate\n      ?.filter(\n        (snippet) =>\n          // Remove snippet if find a declaration from the same file and range is overlapping\n          !this.declarations?.find((declaration) => {\n            return (\n              declaration.filepath === snippet.filepath &&\n              declaration.offset &&\n              // Is range overlapping\n              Math.max(declaration.offset, snippet.offset) <=\n                Math.min(declaration.offset + declaration.text.length, snippet.offset + snippet.text.length)\n            );\n          }),\n      )\n      .map((snippet) => {\n        let snippetFilepath = snippet.filepath;\n        if (relativeFilepathRoot && snippetFilepath.startsWith(relativeFilepathRoot)) {\n          snippetFilepath = path.relative(relativeFilepathRoot, snippetFilepath);\n        }\n        return {\n          filepath: snippetFilepath,\n          body: snippet.text,\n          score: snippet.score,\n        };\n      })\n      .sort((a, b) => b.score - a.score);\n\n    // clipboard\n    let clipboard = undefined;\n    if (this.clipboard.length >= config.clipboard.minChars && this.clipboard.length <= config.clipboard.maxChars) {\n      clipboard = this.clipboard;\n    }\n    return {\n      prefix,\n      suffix,\n      filepath,\n      git_url: gitUrl,\n      declarations,\n      relevant_snippets_from_changed_files: relevantSnippetsFromChangedFiles,\n      clipboard,\n    };\n  }\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { AgentConfig } from \"../AgentConfig\";\nimport \"../ArrayExt\";\nimport { PostprocessFilter, PostprocessFilterFactory } from \"./base\";\nimport { removeRepetitiveBlocks } from \"./removeRepetitiveBlocks\";\nimport { removeRepetitiveLines } from \"./removeRepetitiveLines\";\nimport { removeLineEndsWithRepetition } from \"./removeLineEndsWithRepetition\";\nimport { removeDuplicatedBlockClosingLine } from \"./removeDuplicatedBlockClosingLine\";\nimport { limitScope } from \"./limitScope\";\nimport { formatIndentation } from \"./formatIndentation\";\nimport { trimSpace } from \"./trimSpace\";\nimport { trimMultiLineInSingleLineMode } from \"./trimMultiLineInSingleLineMode\";\nimport { dropDuplicated } from \"./dropDuplicated\";\nimport { dropBlank } from \"./dropBlank\";\nimport { calculateReplaceRange } from \"./calculateReplaceRange\";\n\ntype ItemListFilter = (items: CompletionItem[]) => Promise<CompletionItem[]>;\n\nfunction createListFilter(filterFactory: PostprocessFilterFactory, config: unknown): ItemListFilter {\n  const filter: PostprocessFilter = filterFactory(config);\n  return async (items: CompletionItem[]): Promise<CompletionItem[]> => {\n    return await items.mapAsync(filter);\n  };\n}\n\nexport async function preCacheProcess(\n  items: CompletionItem[],\n  _config: AgentConfig[\"postprocess\"],\n): Promise<CompletionItem[]> {\n  const applyFilter = (filterFactory: PostprocessFilterFactory): ItemListFilter => {\n    return createListFilter(filterFactory, _config);\n  };\n  return Promise.resolve(items)\n    .then(applyFilter(trimMultiLineInSingleLineMode))\n    .then(applyFilter(removeLineEndsWithRepetition))\n    .then(applyFilter(dropDuplicated))\n    .then(applyFilter(trimSpace))\n    .then(applyFilter(dropBlank));\n}\n\nexport async function postCacheProcess(\n  items: CompletionItem[],\n  _config: AgentConfig[\"postprocess\"],\n): Promise<CompletionItem[]> {\n  const applyFilter = (filterFactory: PostprocessFilterFactory): ItemListFilter => {\n    return createListFilter(filterFactory, _config);\n  };\n  return Promise.resolve(items)\n    .then(applyFilter(removeRepetitiveBlocks))\n    .then(applyFilter(removeRepetitiveLines))\n    .then(applyFilter(limitScope))\n    .then(applyFilter(removeDuplicatedBlockClosingLine))\n    .then(applyFilter(formatIndentation))\n    .then(applyFilter(dropDuplicated))\n    .then(applyFilter(trimSpace))\n    .then(applyFilter(dropBlank))\n    .then(applyFilter(calculateReplaceRange));\n}\n","declare global {\n  interface Array<T> {\n    distinct(identity?: (x: T) => any): Array<T>;\n    mapAsync<U>(callbackfn: (value: T, index: number, array: T[]) => U | Promise<U>, thisArg?: any): Promise<U[]>;\n  }\n}\n\nif (!Array.prototype.distinct) {\n  Array.prototype.distinct = function <T>(this: T[], identity?: (x: T) => any): T[] {\n    return [...new Map(this.map((item) => [identity?.(item) ?? item, item])).values()];\n  };\n}\n\nif (!Array.prototype.mapAsync) {\n  Array.prototype.mapAsync = async function <T, U>(\n    this: T[],\n    callbackfn: (value: T, index: number, array: T[]) => U | Promise<U>,\n    thisArg?: any,\n  ): Promise<U[]> {\n    return await Promise.all(this.map((item, index) => callbackfn.call(thisArg, item, index, this)));\n  };\n}\n\nexport default {};\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank, calcDistance } from \"../utils\";\n\nfunction blockSplitter(_: string) {\n  // Have not implemented this for each language for now\n  // Return a blank line matcher should work for most cases\n  return /\\n(\\s*)\\n/g;\n}\n\n// FIXME: refactor this because it is very similar to `removeRepetitiveLines`\nexport function removeRepetitiveBlocks(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    const inputBlocks = item.text.split(blockSplitter(context.language));\n    let repetitionCount = 0;\n    const repetitionThreshold = 2;\n    // skip last block, it maybe cut\n    let index = inputBlocks.length - 2;\n    while (index >= 1) {\n      if (isBlank(inputBlocks[index]!)) {\n        index--;\n        continue;\n      }\n      let prev = index - 1;\n      while (prev >= 0 && isBlank(inputBlocks[prev]!)) {\n        prev--;\n      }\n      if (prev < 0) break;\n      // if distance between current and previous block is less than threshold (threshold = or 10% of string length)\n      const currentBlock = inputBlocks[index]!.trim();\n      const previousBlock = inputBlocks[prev]!.trim();\n      const threshold = Math.max(0.1 * currentBlock.length, 0.1 * previousBlock.length);\n      const distance = calcDistance(currentBlock, previousBlock);\n      if (distance <= threshold) {\n        repetitionCount++;\n        index--;\n      } else {\n        break;\n      }\n    }\n    if (repetitionCount >= repetitionThreshold) {\n      logger.trace(\"Remove repetitive blocks.\", {\n        inputBlocks,\n        repetitionCount,\n      });\n      return item.withText(\n        inputBlocks\n          .slice(0, index + 1)\n          .join(\"\")\n          .trimEnd(),\n      );\n    }\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { getLogger } from \"../logger\";\n\nexport type PostprocessFilterFactory = (config: unknown) => PostprocessFilter;\nexport type PostprocessFilter = (item: CompletionItem) => CompletionItem | Promise<CompletionItem>;\nexport const logger = getLogger(\"Postprocess\");\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank, calcDistance } from \"../utils\";\n\nexport function removeRepetitiveLines(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const inputLines = item.lines;\n    let repetitionCount = 0;\n    const repetitionThreshold = 5;\n    // skip last line, it could be a not completed line\n    let index = inputLines.length - 2;\n    while (index >= 1) {\n      if (isBlank(inputLines[index]!)) {\n        index--;\n        continue;\n      }\n      let prev = index - 1;\n      while (prev >= 0 && isBlank(inputLines[prev]!)) {\n        prev--;\n      }\n      if (prev < 0) break;\n      // if distance between current and previous line is less than threshold (threshold = or 10% of string length)\n      const currentLine = inputLines[index]!.trim();\n      const previousLine = inputLines[prev]!.trim();\n      const threshold = Math.max(0.1 * currentLine.length, 0.1 * previousLine.length);\n      const distance = calcDistance(currentLine, previousLine);\n      if (distance <= threshold) {\n        repetitionCount++;\n        index = prev;\n      } else {\n        break;\n      }\n    }\n    if (repetitionCount >= repetitionThreshold) {\n      logger.trace(\"Remove repetitive lines.\", {\n        inputLines,\n        repetitionCount,\n      });\n      return item.withText(\n        inputLines\n          .slice(0, index + 1)\n          .join(\"\")\n          .trimEnd(),\n      );\n    }\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank } from \"../utils\";\n\nconst repetitionTests = [\n  /(.{3,}?)\\1{5,}$/g, // match a 3+ characters pattern repeating 5+ times\n  /(.{10,}?)\\1{3,}$/g, // match a 10+ characters pattern repeating 3+ times\n];\n\nexport function removeLineEndsWithRepetition(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    // only test last non-blank line\n    const inputLines = item.lines;\n    let index = inputLines.length - 1;\n    while (index >= 0 && isBlank(inputLines[index]!)) {\n      index--;\n    }\n    if (index < 0) {\n      return item;\n    }\n    // if matches repetition test, remove this line\n    for (const test of repetitionTests) {\n      const match = inputLines[index]!.match(test);\n      if (match) {\n        logger.trace(\"Remove line ends with repetition.\", {\n          inputLines,\n          lineNumber: index,\n          match,\n        });\n        if (index < 1) {\n          return CompletionItem.createBlankItem(context);\n        }\n        return item.withText(inputLines.slice(0, index).join(\"\").trimEnd());\n      }\n    }\n    // no repetition found\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank, isBlockClosingLine } from \"../utils\";\n\n// For remove duplicated block closing line at ( ending of input text ) and ( beginning of suffix text )\n// Should be useful after limitScope\nexport function removeDuplicatedBlockClosingLine(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    const { suffixLines, currentLinePrefix } = context;\n    const inputLines = item.lines;\n    if (inputLines.length < 2) {\n      // If completion only has one line, don't continue process\n      return item;\n    }\n\n    const inputLinesForDetection = inputLines.map((line, index) => {\n      return index === 0 ? currentLinePrefix + line : line;\n    });\n    if (!isBlockClosingLine(inputLinesForDetection, inputLines.length - 1)) {\n      return item;\n    }\n    const inputEndingLine = inputLines[inputLines.length - 1]!;\n\n    let suffixBeginningIndex = 1;\n    while (suffixBeginningIndex < suffixLines.length && isBlank(suffixLines[suffixBeginningIndex]!)) {\n      suffixBeginningIndex++;\n    }\n    if (suffixBeginningIndex >= suffixLines.length) {\n      return item;\n    }\n    const suffixBeginningLine = suffixLines[suffixBeginningIndex]!;\n\n    if (\n      inputEndingLine.startsWith(suffixBeginningLine.trimEnd()) ||\n      suffixBeginningLine.startsWith(inputEndingLine.trimEnd())\n    ) {\n      logger.trace(\"Remove duplicated block closing line.\", { inputLines, suffixLines });\n      return item.withText(\n        inputLines\n          .slice(0, inputLines.length - 1)\n          .join(\"\")\n          .trimEnd(),\n      );\n    }\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter } from \"./base\";\nimport { limitScopeByIndentation } from \"./limitScopeByIndentation\";\n\nexport function limitScope(): PostprocessFilter {\n  return async (item: CompletionItem): Promise<CompletionItem> => {\n    return limitScopeByIndentation()(item);\n  };\n}\n","import { CompletionContext } from \"../CompletionContext\";\nimport { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank, getIndentationLevel, isBlockOpeningLine, isBlockClosingLine } from \"../utils\";\n\nfunction parseIndentationContext(\n  inputLines: string[],\n  inputLinesForDetection: string[],\n  context: CompletionContext,\n): { indentLevelLimit: number; allowClosingLine: boolean } {\n  const result = {\n    indentLevelLimit: 0,\n    allowClosingLine: true,\n  };\n  const { prefixLines, suffixLines, currentLinePrefix } = context;\n  if (inputLines.length == 0 || prefixLines.length == 0) {\n    return result; // guard for empty input, technically unreachable\n  }\n  const isCurrentLineInPrefixBlank = isBlank(currentLinePrefix);\n  // if current line is blank, use the previous line as reference\n  let referenceLineInPrefixIndex = prefixLines.length - 1;\n  while (referenceLineInPrefixIndex >= 0 && isBlank(prefixLines[referenceLineInPrefixIndex]!)) {\n    referenceLineInPrefixIndex--;\n  }\n  if (referenceLineInPrefixIndex < 0) {\n    return result; // blank prefix, should be unreachable\n  }\n  const referenceLineInPrefix = prefixLines[referenceLineInPrefixIndex]!;\n  const referenceLineInPrefixIndent = getIndentationLevel(referenceLineInPrefix);\n\n  const currentLineInCompletion = inputLines[0]!;\n  const isCurrentLineInCompletionBlank = isBlank(currentLineInCompletion);\n  // if current line is blank, use the next line as reference\n  let referenceLineInCompletionIndex = 0;\n  while (referenceLineInCompletionIndex < inputLines.length && isBlank(inputLines[referenceLineInCompletionIndex]!)) {\n    referenceLineInCompletionIndex++;\n  }\n  if (referenceLineInCompletionIndex >= inputLines.length) {\n    return result; // blank completion, should be unreachable\n  }\n  const referenceLineInCompletion = inputLines[referenceLineInCompletionIndex]!;\n  let referenceLineInCompletionIndent;\n  if (isCurrentLineInCompletionBlank) {\n    referenceLineInCompletionIndent = getIndentationLevel(referenceLineInCompletion);\n  } else {\n    referenceLineInCompletionIndent = getIndentationLevel(currentLinePrefix + referenceLineInCompletion);\n  }\n\n  if (!isCurrentLineInCompletionBlank && !isCurrentLineInPrefixBlank) {\n    // if two reference lines are contacted at current line, it is continuing uncompleted sentence\n    result.indentLevelLimit = referenceLineInPrefixIndent + 1; // + 1 for comparison, no matter how many spaces indent\n    // allow closing line only if first line is opening a new indent block\n    result.allowClosingLine &&= isBlockOpeningLine(inputLinesForDetection, 0);\n  } else if (referenceLineInCompletionIndent > referenceLineInPrefixIndent) {\n    // if reference line in completion has more indent than reference line in prefix, it is opening a new indent block\n    result.indentLevelLimit = referenceLineInPrefixIndent + 1;\n  } else if (referenceLineInCompletionIndent < referenceLineInPrefixIndent) {\n    // if reference line in completion has less indent than reference line in prefix, allow this closing\n    result.indentLevelLimit = referenceLineInPrefixIndent;\n  } else {\n    // otherwise, it is starting a new sentence at same indent level\n    result.indentLevelLimit = referenceLineInPrefixIndent;\n  }\n\n  // check if suffix context allows closing line\n  // skip 0 that is current line in suffix\n  let firstNonBlankLineInSuffix = 1;\n  while (firstNonBlankLineInSuffix < suffixLines.length && isBlank(suffixLines[firstNonBlankLineInSuffix]!)) {\n    firstNonBlankLineInSuffix++;\n  }\n  if (firstNonBlankLineInSuffix < suffixLines.length) {\n    const firstNonBlankLineInSuffixText = suffixLines[firstNonBlankLineInSuffix]!;\n    // allow closing line only if suffix has less indent level\n    result.allowClosingLine &&= getIndentationLevel(firstNonBlankLineInSuffixText) < result.indentLevelLimit;\n  }\n  return result;\n}\n\nexport function limitScopeByIndentation(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const { context, lines: inputLines } = item;\n    const { prefixLines, suffixLines, currentLinePrefix } = context;\n    const inputLinesForDetection = inputLines.map((line, index) => {\n      return index === 0 ? currentLinePrefix + line : line;\n    });\n    const indentContext = parseIndentationContext(inputLines, inputLinesForDetection, context);\n    let index = 1;\n    while (index < inputLines.length) {\n      const line = inputLines[index]!;\n      const prevLine = inputLines[index - 1]!;\n      if (isBlank(line)) {\n        index++;\n        continue;\n      }\n      const indentLevel = getIndentationLevel(line);\n      // If the line is indented less than the indent level limit, it is closing indent block.\n      if (indentLevel < indentContext.indentLevelLimit) {\n        // But when it is also opening a new indent block immediately, such as `} else {`, continue.\n        if (isBlockClosingLine(inputLinesForDetection, index) && isBlockOpeningLine(inputLinesForDetection, index)) {\n          index++;\n          continue;\n        }\n        // If context allows, we should add the block closing line\n        // For python, if previous line is blank, we don't include this line\n        if (indentContext.allowClosingLine && (context.language !== \"python\" || !isBlank(prevLine))) {\n          index++;\n        }\n        break;\n      }\n      // else continue\n      index++;\n    }\n    if (index < inputLines.length) {\n      logger.trace(\"Remove content out of indent scope.\", {\n        inputLines,\n        prefixLines,\n        suffixLines,\n        trimAtInputLine: index,\n      });\n      return item.withText(inputLines.slice(0, index).join(\"\").trimEnd());\n    }\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\nimport { isBlank } from \"../utils\";\n\nfunction detectIndentation(lines: string[]): string | null {\n  const matches = {\n    \"\\t\": 0,\n    \"  \": 0,\n    \"    \": 0,\n  };\n  for (const line of lines) {\n    if (line.match(/^\\t/)) {\n      matches[\"\\t\"]++;\n    } else {\n      const spaces = line.match(/^ */)?.[0].length ?? 0;\n      if (spaces > 0) {\n        if (spaces % 4 === 0) {\n          matches[\"    \"]++;\n        }\n        if (spaces % 2 === 0) {\n          matches[\"  \"]++;\n        }\n      }\n    }\n  }\n  if (matches[\"\\t\"] > 0) {\n    return \"\\t\";\n  }\n  if (matches[\"  \"] > matches[\"    \"]) {\n    return \"  \";\n  }\n  if (matches[\"    \"] > 0) {\n    return \"    \";\n  }\n  return null;\n}\n\nfunction getIndentLevel(line: string, indentation: string): number {\n  if (indentation === \"\\t\") {\n    return line.match(/^\\t*/)?.[0].length ?? 0;\n  } else {\n    const spaces = line.match(/^ */)?.[0].length ?? 0;\n    return spaces / indentation.length;\n  }\n}\n\nexport function formatIndentation(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    const { prefixLines, suffixLines, currentLinePrefix, indentation } = context;\n    const inputLines = item.lines;\n\n    // if no indentation is specified\n    if (!indentation) {\n      return item;\n    }\n\n    // if there is any indentation in context, the server output should have learned from it\n    const prefixLinesForDetection = isBlank(currentLinePrefix)\n      ? prefixLines.slice(0, prefixLines.length - 1)\n      : prefixLines;\n    if (prefixLines.length > 1 && detectIndentation(prefixLinesForDetection) !== null) {\n      return item;\n    }\n    const suffixLinesForDetection = suffixLines.slice(1);\n    if (suffixLines.length > 1 && detectIndentation(suffixLinesForDetection) !== null) {\n      return item;\n    }\n\n    // if the input is well indented with specific indentation\n    const inputLinesForDetection = inputLines.map((line, index) => {\n      return index === 0 ? currentLinePrefix + line : line;\n    });\n    const inputIndentation = detectIndentation(inputLinesForDetection);\n    if (inputIndentation === null || inputIndentation === indentation) {\n      return item;\n    }\n\n    // otherwise, do formatting\n    const formatted = inputLinesForDetection.map((line, index) => {\n      const level = getIndentLevel(line, inputIndentation);\n      if (level === 0) {\n        return inputLines[index];\n      }\n      const rest = line.slice(inputIndentation.length * level);\n      if (index === 0) {\n        // for first line\n        if (!isBlank(currentLinePrefix)) {\n          return inputLines[0];\n        } else {\n          return indentation.repeat(level).slice(currentLinePrefix.length) + rest;\n        }\n      } else {\n        // for next lines\n        return indentation.repeat(level) + rest;\n      }\n    });\n    logger.trace(\"Format indentation.\", { inputLines, formatted });\n    return item.withText(formatted.join(\"\"));\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter } from \"./base\";\nimport { isBlank } from \"../utils\";\n\nexport function trimSpace(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    const { currentLinePrefix, currentLineSuffix } = context;\n    let trimmedInput = item.text;\n\n    if (!isBlank(currentLinePrefix) && currentLinePrefix.match(/\\s$/)) {\n      trimmedInput = trimmedInput.trimStart();\n    }\n    if (isBlank(currentLineSuffix) || (!isBlank(currentLineSuffix) && currentLineSuffix.match(/^\\s/))) {\n      trimmedInput = trimmedInput.trimEnd();\n    }\n    if (trimmedInput !== item.text) {\n      return item.withText(trimmedInput);\n    }\n    return item;\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { PostprocessFilter, logger } from \"./base\";\n\nexport function trimMultiLineInSingleLineMode(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    const inputLines = item.lines;\n    if (context.mode === \"fill-in-line\" && inputLines.length > 1) {\n      const suffix = context.currentLineSuffix.trimEnd();\n      const inputLine = inputLines[0]!.trimEnd();\n      if (inputLine.endsWith(suffix)) {\n        const trimmedInputLine = inputLine.slice(0, -suffix.length);\n        if (trimmedInputLine.length > 0) {\n          logger.trace(\"Trim content with multiple lines.\", { inputLines, trimmedInputLine });\n          return item.withText(trimmedInputLine);\n        }\n      }\n      logger.trace(\"Drop content with multiple lines.\", { inputLines });\n      return CompletionItem.createBlankItem(context);\n    }\n    return item;\n  };\n}\n","import { PostprocessFilter, logger } from \"./base\";\nimport { CompletionItem } from \"../CompletionSolution\";\nimport { isBlank, calcDistance } from \"../utils\";\n\nexport function dropDuplicated(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    const context = item.context;\n    // get first n (n <= 3) lines of input and suffix, ignore blank lines\n    const { suffixLines } = context;\n    const inputLines = item.lines;\n    let inputIndex = 0;\n    while (inputIndex < inputLines.length && isBlank(inputLines[inputIndex]!)) {\n      inputIndex++;\n    }\n    let suffixIndex = 0;\n    while (suffixIndex < suffixLines.length && isBlank(suffixLines[suffixIndex]!)) {\n      suffixIndex++;\n    }\n    const lineCount = Math.min(3, inputLines.length - inputIndex, suffixLines.length - suffixIndex);\n    if (lineCount < 1) {\n      return item;\n    }\n    const inputToCompare = inputLines\n      .slice(inputIndex, inputIndex + lineCount)\n      .join(\"\")\n      .trim();\n    const suffixToCompare = suffixLines\n      .slice(suffixIndex, suffixIndex + lineCount)\n      .join(\"\")\n      .trim();\n    // if string distance is less than threshold (threshold = 1, or 5% of string length)\n    // drop this completion due to duplicated\n    const threshold = Math.max(1, 0.05 * inputToCompare.length, 0.05 * suffixToCompare.length);\n    const distance = calcDistance(inputToCompare, suffixToCompare);\n    if (distance <= threshold) {\n      logger.trace(\"Drop completion due to duplicated.\", { inputToCompare, suffixToCompare, distance, threshold });\n      return CompletionItem.createBlankItem(context);\n    }\n    return item;\n  };\n}\n","import { PostprocessFilter } from \"./base\";\nimport { CompletionItem } from \"../CompletionSolution\";\nimport { isBlank } from \"../utils\";\n\nexport function dropBlank(): PostprocessFilter {\n  return (item: CompletionItem): CompletionItem => {\n    if (isBlank(item.fullText) || isBlank(item.text)) {\n      return CompletionItem.createBlankItem(item.context);\n    }\n    return item;\n  };\n}\n","import { PostprocessFilter } from \"./base\";\nimport { calculateReplaceRangeByBracketStack } from \"./calculateReplaceRangeByBracketStack\";\nimport { CompletionItem } from \"../CompletionSolution\";\n\nexport function calculateReplaceRange(): PostprocessFilter {\n  return async (item: CompletionItem): Promise<CompletionItem> => {\n    return calculateReplaceRangeByBracketStack(item);\n  };\n}\n","import { CompletionItem } from \"../CompletionSolution\";\nimport { isBlank, findUnpairedAutoClosingChars } from \"../utils\";\nimport { logger } from \"./base\";\n\nexport function calculateReplaceRangeByBracketStack(item: CompletionItem): CompletionItem {\n  const context = item.context;\n  const { currentLineSuffix } = context;\n  const suffixText = currentLineSuffix.trimEnd();\n  if (isBlank(suffixText)) {\n    return item;\n  }\n  const unpaired = findUnpairedAutoClosingChars(item.text).join(\"\");\n  if (isBlank(unpaired)) {\n    return item;\n  }\n\n  let modified: CompletionItem | undefined = undefined;\n  if (suffixText.startsWith(unpaired)) {\n    modified = item.withSuffix(unpaired);\n  } else if (unpaired.startsWith(suffixText)) {\n    modified = item.withSuffix(suffixText);\n  }\n  if (modified) {\n    logger.trace(\"Adjust replace range by bracket stack.\", {\n      position: context.position,\n      currentLineSuffix,\n      completionText: item.text,\n      unpaired,\n      replaceSuffix: item.replaceSuffix,\n    });\n    return modified;\n  }\n  return item;\n}\n","import os from \"os\";\nimport createClient from \"openapi-fetch\";\nimport { setProperty } from \"dot-prop\";\nimport { v4 as uuid } from \"uuid\";\nimport type { paths as CloudApi } from \"./types/cloudApi\";\nimport { name as agentName, version as agentVersion } from \"../package.json\";\nimport { isBrowser } from \"./env\";\nimport { getLogger } from \"./logger\";\nimport { DataStore } from \"./dataStore\";\n\nexport class AnonymousUsageLogger {\n  private anonymousUsageTrackingApi = createClient<CloudApi>({ baseUrl: \"https://app.tabbyml.com/api\" });\n  private logger = getLogger(\"AnonymousUsage\");\n  private systemData = {\n    agent: `${agentName}, ${agentVersion}`,\n    browser: isBrowser ? navigator?.userAgent || \"browser\" : undefined,\n    node: isBrowser ? undefined : `${process.version} ${process.platform} ${os.arch()} ${os.release()}`,\n  };\n  private sessionProperties: Record<string, any> = {};\n  private userProperties: Record<string, any> = {};\n  private userPropertiesUpdated = false;\n  private emittedUniqueEvent: string[] = [];\n  private dataStore?: DataStore;\n  private anonymousId?: string;\n  disabled: boolean = false;\n\n  async init(options?: { dataStore?: DataStore }) {\n    this.dataStore = options?.dataStore;\n    if (this.dataStore) {\n      if (typeof this.dataStore.data[\"anonymousId\"] === \"string\") {\n        this.anonymousId = this.dataStore.data[\"anonymousId\"];\n      } else {\n        this.anonymousId = uuid();\n        this.dataStore.data[\"anonymousId\"] = this.anonymousId;\n        try {\n          await this.dataStore.save();\n        } catch (error) {\n          this.logger.error(\"Failed to save anonymous Id.\", error);\n        }\n      }\n    } else {\n      this.anonymousId = uuid();\n    }\n  }\n\n  /**\n   * Set properties to be sent with every event in this session.\n   */\n  setSessionProperties(key: string, value: any) {\n    setProperty(this.sessionProperties, key, value);\n  }\n\n  /**\n   * Set properties which will be bind to the user.\n   */\n  setUserProperties(key: string, value: any) {\n    setProperty(this.userProperties, key, value);\n    this.userPropertiesUpdated = true;\n  }\n\n  async uniqueEvent(event: string, data: Record<string, any> = {}) {\n    await this.event(event, data, true);\n  }\n\n  async event(event: string, data: Record<string, any> = {}, unique = false) {\n    if (this.disabled || !this.anonymousId) {\n      return;\n    }\n    if (unique && this.emittedUniqueEvent.includes(event)) {\n      return;\n    }\n    if (unique) {\n      this.emittedUniqueEvent.push(event);\n    }\n    const properties = {\n      ...this.systemData,\n      ...this.sessionProperties,\n      ...data,\n    };\n    if (this.userPropertiesUpdated) {\n      setProperty(properties, \"$set\", this.userProperties);\n      this.userPropertiesUpdated = false;\n    }\n    try {\n      await this.anonymousUsageTrackingApi.POST(\"/usage\", {\n        body: {\n          distinctId: this.anonymousId,\n          event,\n          properties,\n        },\n      });\n    } catch (error) {\n      this.logger.error(\"Failed to send anonymous usage data.\", error);\n    }\n  }\n}\n","{\n  \"name\": \"tabby-agent\",\n  \"version\": \"1.8.0-dev\",\n  \"description\": \"Generic client agent for Tabby AI coding assistant IDE extensions.\",\n  \"homepage\": \"https://tabby.tabbyml.com/\",\n  \"repository\": \"https://github.com/TabbyML/tabby\",\n  \"bugs\": \"https://github.com/TabbyML/tabby/issues\",\n  \"keywords\": [\n    \"tabby\",\n    \"ai\",\n    \"autocomplete\",\n    \"code completion\",\n    \"languageserver\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"engines\": {\n    \"node\": \">=18\"\n  },\n  \"files\": [\n    \"./dist/**\"\n  ],\n  \"bin\": {\n    \"tabby-agent\": \"./dist/node/index.js\"\n  },\n  \"main\": \"./dist/protocol.js\",\n  \"types\": \"./dist/protocol.d.ts\",\n  \"scripts\": {\n    \"build\": \"tsc --noEmit && tsup --minify\",\n    \"watch\": \"tsc-watch --noEmit --onSuccess \\\"tsup\\\"\",\n    \"openapi-codegen\": \"openapi-typescript ./openapi/tabby.json -o ./src/types/tabbyApi.d.ts\",\n    \"test\": \"mocha\",\n    \"lint\": \"eslint --ext .ts ./src && prettier --check .\",\n    \"lint:fix\": \"eslint --fix --ext .ts ./src && prettier --write .\"\n  },\n  \"devDependencies\": {\n    \"@orama/orama\": \"^2.0.18\",\n    \"@types/chai\": \"^4.3.5\",\n    \"@types/dedent\": \"^0.7.2\",\n    \"@types/deep-equal\": \"^1.0.4\",\n    \"@types/diff\": \"^5.2.1\",\n    \"@types/fast-levenshtein\": \"^0.0.4\",\n    \"@types/fs-extra\": \"^11.0.1\",\n    \"@types/glob\": \"^7.2.0\",\n    \"@types/mocha\": \"^10.0.1\",\n    \"@types/node\": \"18.x\",\n    \"@types/object-hash\": \"^3.0.0\",\n    \"@types/readable-stream\": \"^4.0.14\",\n    \"@types/semver\": \"^7.5.8\",\n    \"@types/uuid\": \"^9.0.0\",\n    \"@types/win-ca\": \"^3.5.4\",\n    \"@typescript-eslint/eslint-plugin\": \"^6.13.1\",\n    \"@typescript-eslint/parser\": \"^6.13.1\",\n    \"chai\": \"^4.3.7\",\n    \"chokidar\": \"^3.5.3\",\n    \"crypto-random-string\": \"^5.0.0\",\n    \"dedent\": \"^0.7.0\",\n    \"deep-equal\": \"^2.2.1\",\n    \"deepmerge-ts\": \"^5.1.0\",\n    \"diff\": \"^5.2.0\",\n    \"dot-prop\": \"^8.0.2\",\n    \"esbuild\": \"^0.19.12\",\n    \"esbuild-plugin-polyfill-node\": \"^0.3.0\",\n    \"eslint\": \"^8.55.0\",\n    \"eslint-config-prettier\": \"^9.0.0\",\n    \"eventsource-parser\": \"^1.1.2\",\n    \"fast-levenshtein\": \"^3.0.0\",\n    \"file-stream-rotator\": \"^1.0.0\",\n    \"fs-extra\": \"^11.1.1\",\n    \"glob\": \"^7.2.0\",\n    \"jwt-decode\": \"^3.1.2\",\n    \"lru-cache\": \"^9.1.1\",\n    \"mac-ca\": \"^2.0.3\",\n    \"mocha\": \"^10.2.0\",\n    \"object-hash\": \"^3.0.0\",\n    \"openapi-fetch\": \"^0.7.6\",\n    \"openapi-typescript\": \"^6.6.1\",\n    \"pino\": \"^8.14.1\",\n    \"prettier\": \"^3.0.0\",\n    \"readable-from-web\": \"^1.0.0\",\n    \"readable-stream\": \"^4.5.2\",\n    \"semver\": \"^7.6.0\",\n    \"stats-logscale\": \"^1.0.9\",\n    \"tabby-openapi\": \"workspace:*\",\n    \"toml\": \"^3.0.0\",\n    \"ts-node\": \"^10.9.1\",\n    \"tsc-watch\": \"^6.2.0\",\n    \"tsup\": \"^8.0.2\",\n    \"typescript\": \"^5.3.2\",\n    \"undici\": \"^6.19.2\",\n    \"uri-js\": \"^4.4.1\",\n    \"uuid\": \"^9.0.0\",\n    \"vscode-languageserver\": \"^9.0.1\",\n    \"vscode-languageserver-protocol\": \"^3.17.5\",\n    \"vscode-languageserver-textdocument\": \"^1.0.11\",\n    \"web-tree-sitter\": \"^0.20.8\",\n    \"win-ca\": \"^3.5.1\"\n  }\n}\n","import tls from \"tls\";\nimport path from \"path\";\nimport fs from \"fs-extra\";\nimport winCa from \"win-ca/api\";\nimport * as macCa from \"mac-ca\";\nimport type { AgentConfig } from \"./AgentConfig\";\nimport { isBrowser } from \"./env\";\nimport \"./ArrayExt\";\nimport { getLogger } from \"./logger\";\n\ntype Cert = string | winCa.Certificate;\n\nconst logger = getLogger(\"CaCert\");\nlet extraCaCerts: Cert[] = [];\nlet originalCreateSecureContext: typeof tls.createSecureContext | undefined = undefined;\n\nfunction appendCaCerts(certs: Cert[]) {\n  if (!originalCreateSecureContext) {\n    originalCreateSecureContext = tls.createSecureContext;\n  }\n  const filtered = certs.filter((cert) => {\n    if (typeof cert === \"string\") {\n      return cert.trim().length > 0;\n    }\n    return true;\n  });\n  const merged = [...extraCaCerts, ...filtered].distinct();\n  logger.debug(`Loaded ${merged.length - extraCaCerts.length} extra certs.`);\n  extraCaCerts = merged;\n  tls.createSecureContext = (options) => {\n    const secureContext = originalCreateSecureContext!(options);\n    extraCaCerts.forEach((cert) => {\n      secureContext.context.addCACert(cert);\n    });\n    return secureContext;\n  };\n}\n\nasync function loadFromFiles(files: string) {\n  logger.debug(`Loading extra certs from ${files}.`);\n  const certs = (\n    await files.split(path.delimiter).mapAsync(async (cert) => {\n      try {\n        return (await fs.readFile(cert)).toString();\n      } catch (err) {\n        return null;\n      }\n    })\n  )\n    .join(\"\\n\")\n    .split(/(?=-----BEGIN\\sCERTIFICATE-----)/g)\n    .distinct();\n  appendCaCerts(certs);\n}\n\nexport async function loadTlsCaCerts(options: AgentConfig[\"tls\"]) {\n  if (isBrowser) {\n    return;\n  }\n  if (options.caCerts === \"bundled\") {\n    return;\n  } else if (options.caCerts === \"system\") {\n    if (process.platform === \"win32\") {\n      logger.debug(`Loading extra certs from win-ca.`);\n      winCa.exe(path.join(\"win-ca\", \"roots.exe\"));\n      winCa({\n        fallback: true,\n        inject: \"+\",\n      });\n    } else if (process.platform === \"darwin\") {\n      logger.debug(`Loading extra certs from mac-ca.`);\n      const certs = macCa.get();\n      appendCaCerts(certs);\n    } else {\n      // linux: load from openssl cert\n      await loadFromFiles(path.join(\"/etc/ssl/certs/ca-certificates.crt\"));\n    }\n  } else if (options.caCerts) {\n    await loadFromFiles(options.caCerts);\n  }\n}\n","import { Dispatcher, ProxyAgent, EnvHttpProxyAgent } from \"undici\";\nimport { parse as uriParse } from \"uri-js\";\nimport { isBrowser } from \"../env\";\nimport { getLogger } from \"../logger\";\n\nexport type ProxyConfig =\n  | {\n      url: string;\n      authorization?: string;\n      noProxy?: string;\n    }\n  | { fromEnv: true };\n\nconst logger = getLogger(\"proxy\")\n\nexport function createProxyForUrl(url: string, configs: ProxyConfig[]): Dispatcher | null {\n  if (isBrowser) {\n    return null;\n  }\n  const { host } = uriParse(url);\n  if (!host) {\n    return null;\n  }\n  for (const config of configs) {\n    if (\"fromEnv\" in config && config[\"fromEnv\"]) {\n      logger.info(\"Using proxy from environment variables.\");\n      return new EnvHttpProxyAgent();\n    } else if (\"url\" in config && config[\"url\"]) {\n      const noProxyList = config[\"noProxy\"]?.split(/,|\\s+/).map((item) => item.trim());\n      if (!noProxyList || !noProxyList.includes(host)) {\n        logger.info(`Using proxy ${config[\"url\"]}.`);\n        return new ProxyAgent({\n          uri: config[\"url\"],\n          token: config[\"authorization\"],\n        });\n      }\n    }\n  }\n  return null;\n}\n","import { createConnection as nodeCreateConnection } from \"vscode-languageserver/node\";\nimport {\n  createConnection as browserCreateConnection,\n  BrowserMessageReader,\n  BrowserMessageWriter,\n} from \"vscode-languageserver/browser\";\nimport {\n  Position,\n  Range,\n  Location,\n  ProposedFeatures,\n  CancellationToken,\n  RegistrationRequest,\n  UnregistrationRequest,\n  TextDocumentSyncKind,\n  TextDocumentPositionParams,\n  TextDocumentContentChangeEvent,\n  NotebookDocument,\n  NotebookDocuments,\n  NotebookCell,\n  CompletionParams,\n  CompletionTriggerKind,\n  CompletionItemKind,\n  InlineCompletionParams,\n  InlineCompletionTriggerKind,\n} from \"vscode-languageserver\";\nimport {\n  InitializeParams,\n  InitializeResult,\n  ClientInfo,\n  ClientCapabilities,\n  ServerCapabilities,\n  DidChangeConfigurationParams,\n  ClientProvidedConfig,\n  AgentServerInfoRequest,\n  AgentServerInfoSync,\n  ServerInfo,\n  AgentStatusRequest,\n  AgentStatusSync,\n  Status,\n  AgentIssuesRequest,\n  AgentIssuesSync,\n  IssueList,\n  AgentIssueDetailRequest,\n  IssueDetailParams,\n  IssueDetailResult,\n  CompletionList,\n  CompletionItem,\n  InlineCompletionRequest,\n  InlineCompletionList,\n  InlineCompletionItem,\n  ChatFeatureRegistration,\n  GenerateCommitMessageRequest,\n  GenerateCommitMessageParams,\n  GenerateCommitMessageResult,\n  TelemetryEventNotification,\n  EventParams,\n  ChatFeatureNotAvailableError,\n  EditorOptions,\n  GitRepositoryRequest,\n  GitRepositoryParams,\n  GitRepository,\n  GitDiffRequest,\n  GitDiffParams,\n  GitDiffResult,\n  DataStoreGetRequest,\n  DataStoreGetParams,\n  DataStoreSetRequest,\n  DataStoreSetParams,\n  EditorOptionsRequest,\n  ReadFileRequest,\n  ReadFileParams,\n  LanguageSupportDeclarationRequest,\n  LanguageSupportSemanticTokensRangeRequest,\n} from \"./protocol\";\nimport { TextDocuments } from \"./TextDocuments\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport deepEqual from \"deep-equal\";\nimport type {\n  AgentIssue,\n  ConfigUpdatedEvent,\n  StatusChangedEvent,\n  IssuesUpdatedEvent,\n  CompletionRequest,\n  CompletionResponse,\n  ClientProperties,\n} from \"../Agent\";\nimport { TabbyAgent } from \"../TabbyAgent\";\nimport type { PartialAgentConfig } from \"../AgentConfig\";\nimport { isBrowser } from \"../env\";\nimport { getLogger, Logger } from \"../logger\";\nimport type { DataStore } from \"../dataStore\";\nimport { name as agentName, version as agentVersion } from \"../../package.json\";\nimport { RecentlyChangedCodeSearch } from \"../codeSearch/RecentlyChangedCodeSearch\";\nimport { isPositionInRange, intersectionRange } from \"../utils/range\";\nimport { extractNonReservedWordList } from \"../utils/string\";\nimport { splitLines, isBlank } from \"../utils\";\nimport { ChatEditProvider } from \"./ChatEditProvider\";\nimport { CodeLensProvider } from \"./CodeLensProvider\";\nimport { CommandProvider } from \"./CommandProvider\";\nimport { getGitContextProvider } from \"./GitContextProvider\";\n\nexport class Server {\n  private readonly logger = getLogger(\"LspServer\");\n  private readonly connection = isBrowser\n    ? browserCreateConnection(ProposedFeatures.all, new BrowserMessageReader(self), new BrowserMessageWriter(self))\n    : nodeCreateConnection(ProposedFeatures.all);\n\n  private readonly documents = new TextDocuments(TextDocument);\n  private readonly notebooks = new NotebookDocuments(this.documents);\n  private recentlyChangedCodeSearch: RecentlyChangedCodeSearch | undefined = undefined;\n  private chatEditProvider: ChatEditProvider;\n  private codeLensProvider: CodeLensProvider | undefined = undefined;\n  private commandProvider: CommandProvider;\n\n  private clientInfo?: ClientInfo | undefined | null;\n  private clientCapabilities?: ClientCapabilities | undefined | null;\n  private clientProvidedConfig?: ClientProvidedConfig | undefined | null;\n  private serverInfo?: ServerInfo | undefined | null;\n\n  constructor(private readonly agent: TabbyAgent) {\n    // Lifecycle\n    this.connection.onInitialize(async (params) => {\n      return this.initialize(params);\n    });\n    this.connection.onInitialized(async () => {\n      return this.initialized();\n    });\n    this.connection.onDidChangeConfiguration(async (params) => {\n      return this.updateConfiguration(params);\n    });\n    this.connection.onShutdown(async () => {\n      return this.shutdown();\n    });\n    this.connection.onExit(async () => {\n      return this.exit();\n    });\n    // Agent\n    this.connection.onRequest(AgentServerInfoRequest.type, async () => {\n      return this.getServerInfo();\n    });\n    this.connection.onRequest(AgentStatusRequest.type, async () => {\n      return this.getStatus();\n    });\n    this.connection.onRequest(AgentIssuesRequest.type, async () => {\n      return this.getIssues();\n    });\n    this.connection.onRequest(AgentIssueDetailRequest.type, async (params) => {\n      return this.getIssueDetail(params);\n    });\n    // Documents Sync\n    this.documents.listen(this.connection);\n    this.notebooks.listen(this.connection);\n\n    // Completion\n    this.connection.onCompletion(async (params, token) => {\n      return this.provideCompletion(params, token);\n    });\n    this.connection.onRequest(InlineCompletionRequest.type, async (params, token) => {\n      return this.provideInlineCompletion(params, token);\n    });\n    // Chat\n    this.chatEditProvider = new ChatEditProvider(this.connection, this.documents, this.agent);\n    this.connection.onRequest(GenerateCommitMessageRequest.type, async (params, token) => {\n      return this.generateCommitMessage(params, token);\n    });\n    // Telemetry\n    this.connection.onNotification(TelemetryEventNotification.type, async (param) => {\n      return this.event(param);\n    });\n    // Command\n    this.commandProvider = new CommandProvider(this.connection, this.chatEditProvider);\n  }\n\n  listen() {\n    this.connection.listen();\n  }\n\n  private async initialize(params: InitializeParams): Promise<InitializeResult> {\n    const clientInfo: ClientInfo | undefined = params.clientInfo;\n    this.clientInfo = clientInfo;\n    const clientCapabilities: ClientCapabilities = params.capabilities;\n    this.clientCapabilities = clientCapabilities;\n    const clientProvidedConfig: ClientProvidedConfig | undefined = params.initializationOptions?.config;\n    this.clientProvidedConfig = clientProvidedConfig;\n    const serverCapabilities: ServerCapabilities = {\n      textDocumentSync: {\n        openClose: true,\n        change: TextDocumentSyncKind.Incremental,\n      },\n      notebookDocumentSync: {\n        notebookSelector: [\n          {\n            notebook: \"*\",\n          },\n        ],\n      },\n      workspace: {\n        workspaceFolders: {\n          supported: true,\n          changeNotifications: true,\n        },\n      },\n      completionProvider: undefined,\n      inlineCompletionProvider: undefined,\n      tabby: {\n        chat: false,\n      },\n    };\n\n    if (clientCapabilities.textDocument?.inlineCompletion) {\n      serverCapabilities.inlineCompletionProvider = true;\n    } else {\n      serverCapabilities.completionProvider = {};\n    }\n\n    if (clientCapabilities.workspace?.codeLens) {\n      this.codeLensProvider = new CodeLensProvider(this.connection, this.documents);\n      this.codeLensProvider.fillServerCapabilities(serverCapabilities);\n    }\n    this.commandProvider.fillServerCapabilities(serverCapabilities);\n\n    await this.agent.initialize({\n      config: this.createInitConfig(clientProvidedConfig),\n      clientProperties: this.createInitClientProperties(clientInfo, clientProvidedConfig),\n      dataStore: clientCapabilities.tabby?.dataStore ? this.createDataStore() : undefined,\n      loggers: [this.createLogger()],\n    });\n\n    if (this.agent.getServerHealthState()?.chat_model) {\n      serverCapabilities.tabby = {\n        ...serverCapabilities.tabby,\n        chat: true,\n      };\n    }\n\n    const result: InitializeResult = {\n      capabilities: serverCapabilities,\n      serverInfo: {\n        name: agentName,\n        version: agentVersion,\n      },\n    };\n    return result;\n  }\n\n  private async initialized(): Promise<void> {\n    const agentConfig = this.agent.getConfig();\n    if (agentConfig.completion.prompt.collectSnippetsFromRecentChangedFiles.enabled) {\n      this.recentlyChangedCodeSearch = new RecentlyChangedCodeSearch(\n        agentConfig.completion.prompt.collectSnippetsFromRecentChangedFiles.indexing,\n      );\n      this.documents.onDidChangeContent(async (params: unknown) => {\n        if (!params || typeof params !== \"object\" || !(\"document\" in params) || !(\"contentChanges\" in params)) {\n          return;\n        }\n        const event = params as { document: TextDocument; contentChanges: TextDocumentContentChangeEvent[] };\n        this.recentlyChangedCodeSearch?.handleDidChangeTextDocument(event);\n      });\n    }\n\n    this.serverInfo = {\n      config: agentConfig.server,\n      health: this.agent.getServerHealthState(),\n    };\n    this.agent.on(\"configUpdated\", (event: ConfigUpdatedEvent) => {\n      const serverInfo = {\n        config: event.config.server,\n        health: this.agent.getServerHealthState(),\n      };\n      if (!deepEqual(serverInfo, this.serverInfo)) {\n        if (this.clientCapabilities?.tabby?.agent) {\n          this.connection.sendNotification(AgentServerInfoSync.type, { serverInfo });\n        }\n        this.serverInfo = serverInfo;\n      }\n    });\n\n    this.agent.on(\"statusChanged\", (event: StatusChangedEvent) => {\n      if (this.clientCapabilities?.tabby?.agent) {\n        this.connection.sendNotification(AgentStatusSync.type, {\n          status: event.status,\n        });\n      }\n\n      const health = this.agent.getServerHealthState();\n      const serverInfo = {\n        config: this.agent.getConfig().server,\n        health,\n      };\n      if (!deepEqual(serverInfo, this.serverInfo)) {\n        if (this.clientCapabilities?.tabby?.agent) {\n          this.connection.sendNotification(AgentServerInfoSync.type, { serverInfo });\n        }\n        this.serverInfo = serverInfo;\n      }\n      if (health?.chat_model) {\n        this.connection.sendRequest(RegistrationRequest.type, {\n          registrations: [\n            {\n              id: ChatFeatureRegistration.type.method,\n              method: ChatFeatureRegistration.type.method,\n            },\n          ],\n        });\n      } else {\n        this.connection.sendRequest(UnregistrationRequest.type, {\n          unregisterations: [\n            {\n              id: ChatFeatureRegistration.type.method,\n              method: ChatFeatureRegistration.type.method,\n            },\n          ],\n        });\n      }\n    });\n\n    if (this.clientCapabilities?.tabby?.agent) {\n      this.agent.on(\"issuesUpdated\", (event: IssuesUpdatedEvent) => {\n        this.connection.sendNotification(AgentIssuesSync.type, {\n          issues: event.issues,\n        });\n      });\n    }\n  }\n\n  private async updateConfiguration(params: DidChangeConfigurationParams) {\n    const clientProvidedConfig: ClientProvidedConfig | null = params.settings;\n    if (\n      clientProvidedConfig?.server?.endpoint !== undefined &&\n      clientProvidedConfig.server.endpoint !== this.clientProvidedConfig?.server?.endpoint\n    ) {\n      if (clientProvidedConfig.server.endpoint.trim().length > 0) {\n        this.agent.updateConfig(\"server.endpoint\", clientProvidedConfig.server.endpoint);\n      } else {\n        this.agent.clearConfig(\"server.endpoint\");\n      }\n    }\n    if (\n      clientProvidedConfig?.server?.token !== undefined &&\n      clientProvidedConfig.server.token !== this.clientProvidedConfig?.server?.token\n    ) {\n      if (clientProvidedConfig.server.token.trim().length > 0) {\n        this.agent.updateConfig(\"server.token\", clientProvidedConfig.server.token);\n      } else {\n        this.agent.clearConfig(\"server.token\");\n      }\n    }\n    if (\n      clientProvidedConfig?.anonymousUsageTracking?.disable !== undefined &&\n      clientProvidedConfig.anonymousUsageTracking.disable !== this.clientProvidedConfig?.anonymousUsageTracking?.disable\n    ) {\n      if (clientProvidedConfig.anonymousUsageTracking.disable) {\n        this.agent.updateConfig(\"anonymousUsageTracking.disable\", true);\n      } else {\n        this.agent.clearConfig(\"anonymousUsageTracking.disable\");\n      }\n    }\n    const clientType = this.getClientType(this.clientInfo);\n    if (\n      clientProvidedConfig?.inlineCompletion?.triggerMode !== undefined &&\n      clientProvidedConfig.inlineCompletion.triggerMode !== this.clientProvidedConfig?.inlineCompletion?.triggerMode\n    ) {\n      this.agent.updateClientProperties(\n        \"user\",\n        `${clientType}.triggerMode`,\n        clientProvidedConfig.inlineCompletion?.triggerMode,\n      );\n    }\n    if (\n      clientProvidedConfig?.keybindings !== undefined &&\n      clientProvidedConfig.keybindings !== this.clientProvidedConfig?.keybindings\n    ) {\n      this.agent.updateClientProperties(\"user\", `${clientType}.keybindings`, clientProvidedConfig.keybindings);\n    }\n    this.clientProvidedConfig = clientProvidedConfig;\n  }\n\n  private async shutdown() {\n    await this.agent.finalize();\n  }\n\n  private exit() {\n    return process.exit(0);\n  }\n\n  private async getServerInfo(): Promise<ServerInfo> {\n    return (\n      this.serverInfo ?? {\n        config: this.agent.getConfig().server,\n        health: this.agent.getServerHealthState(),\n      }\n    );\n  }\n\n  private async getStatus(): Promise<Status> {\n    return this.agent.getStatus();\n  }\n\n  private async getIssues(): Promise<IssueList> {\n    return { issues: this.agent.getIssues() };\n  }\n\n  private async getIssueDetail(params: IssueDetailParams): Promise<IssueDetailResult | null> {\n    const detail = this.agent.getIssueDetail({ name: params.name });\n    if (!detail) {\n      return null;\n    }\n    return {\n      name: detail.name,\n      helpMessage: this.buildHelpMessage(detail, params.helpMessageFormat),\n    };\n  }\n\n  private async provideCompletion(params: CompletionParams, token: CancellationToken): Promise<CompletionList | null> {\n    if (token.isCancellationRequested) {\n      return null;\n    }\n    const abortController = new AbortController();\n    token.onCancellationRequested(() => abortController.abort());\n    try {\n      const result = await this.completionParamsToCompletionRequest(params, token);\n      if (!result) {\n        return null;\n      }\n      const response = await this.agent.provideCompletions(result.request, { signal: abortController.signal });\n      return this.toCompletionList(response, params, result.additionalPrefixLength);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  private async provideInlineCompletion(\n    params: InlineCompletionParams,\n    token: CancellationToken,\n  ): Promise<InlineCompletionList | null> {\n    if (token.isCancellationRequested) {\n      return null;\n    }\n    const abortController = new AbortController();\n    token.onCancellationRequested(() => abortController.abort());\n    try {\n      const result = await this.inlineCompletionParamsToCompletionRequest(params, token);\n      if (!result) {\n        return null;\n      }\n      const response = await this.agent.provideCompletions(result.request, { signal: abortController.signal });\n      return this.toInlineCompletionList(response, params, result.additionalPrefixLength);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  private async generateCommitMessage(\n    params: GenerateCommitMessageParams,\n    token: CancellationToken,\n  ): Promise<GenerateCommitMessageResult | null> {\n    if (token.isCancellationRequested) {\n      return null;\n    }\n\n    if (!this.agent.getServerHealthState()?.chat_model) {\n      throw { name: \"ChatFeatureNotAvailableError\" } as ChatFeatureNotAvailableError;\n    }\n    const abortController = new AbortController();\n    token.onCancellationRequested(() => abortController.abort());\n    const { repository } = params;\n    let diffResult: GitDiffResult | undefined | null = undefined;\n    const getDiff = async (getDiffParams: GitDiffParams): Promise<GitDiffResult | null> => {\n      if (this.clientCapabilities?.tabby?.gitProvider) {\n        return await this.connection.sendRequest(GitDiffRequest.type, getDiffParams, token);\n      }\n      const gitContextProvider = await getGitContextProvider();\n      if (gitContextProvider) {\n        return await gitContextProvider.diff(getDiffParams, token);\n      }\n      return null;\n    };\n    diffResult = await getDiff({ repository, cached: true });\n    if (\n      !diffResult?.diff ||\n      (typeof diffResult.diff === \"string\" && isBlank(diffResult.diff)) ||\n      (Array.isArray(diffResult.diff) && isBlank(diffResult.diff.join(\"\")))\n    ) {\n      // Use uncached diff if cached diff is empty\n      diffResult = await getDiff({ repository, cached: false });\n    }\n\n    if (!diffResult || !diffResult.diff) {\n      return null;\n    }\n    try {\n      const commitMessage = await this.agent.generateCommitMessage(diffResult.diff, { signal: abortController.signal });\n      return { commitMessage };\n    } catch (error) {\n      return null;\n    }\n  }\n\n  private async event(params: EventParams): Promise<void> {\n    try {\n      const request = {\n        type: params.type,\n        select_kind: params.selectKind,\n        completion_id: params.eventId.completionId,\n        choice_index: params.eventId.choiceIndex,\n        view_id: params.viewId,\n        elapsed: params.elapsed,\n      };\n      await this.agent.postEvent(request);\n    } catch (error) {\n      return;\n    }\n  }\n\n  private createInitConfig(clientProvidedConfig: ClientProvidedConfig | undefined): PartialAgentConfig {\n    const config: PartialAgentConfig = {};\n    if (clientProvidedConfig?.server?.endpoint && clientProvidedConfig.server.endpoint.trim().length > 0) {\n      config.server = {\n        endpoint: clientProvidedConfig.server.endpoint,\n      };\n    }\n    if (clientProvidedConfig?.server?.token && clientProvidedConfig.server.token.trim().length > 0) {\n      if (config.server) {\n        config.server.token = clientProvidedConfig.server.token;\n      } else {\n        config.server = {\n          token: clientProvidedConfig.server.token,\n        };\n      }\n    }\n    if (clientProvidedConfig?.anonymousUsageTracking?.disable !== undefined) {\n      config.anonymousUsageTracking = {\n        disable: clientProvidedConfig.anonymousUsageTracking.disable,\n      };\n    }\n    return config;\n  }\n\n  private createInitClientProperties(\n    clientInfo?: ClientInfo,\n    clientProvidedConfig?: ClientProvidedConfig,\n  ): ClientProperties {\n    const clientType = this.getClientType(clientInfo);\n    return {\n      user: {\n        [clientType]: {\n          triggerMode: clientProvidedConfig?.inlineCompletion?.triggerMode,\n          keybindings: clientProvidedConfig?.keybindings,\n        },\n      },\n      session: {\n        client: `${clientInfo?.name} ${clientInfo?.version ?? \"\"}`,\n        ide: {\n          name: clientInfo?.name,\n          version: clientInfo?.version,\n        },\n        tabby_plugin: clientInfo?.tabbyPlugin ?? {\n          name: `${agentName} (LSP)`,\n          version: agentVersion,\n        },\n      },\n    };\n  }\n\n  private getClientType(clientInfo?: ClientInfo | undefined | null): string {\n    if (!clientInfo) {\n      return \"unknown\";\n    }\n    if (clientInfo.tabbyPlugin?.name == \"TabbyML.vscode-tabby\") {\n      return \"vscode\";\n    } else if (clientInfo.tabbyPlugin?.name == \"com.tabbyml.intellij-tabby\") {\n      return \"intellij\";\n    } else if (clientInfo.tabbyPlugin?.name == \"TabbyML/vim-tabby\") {\n      return \"vim\";\n    }\n    return clientInfo.name;\n  }\n\n  private createDataStore(): DataStore {\n    const dataStore = {\n      data: {},\n      load: async () => {\n        const params: DataStoreGetParams = { key: \"data\" };\n        dataStore.data = await this.connection.sendRequest(DataStoreGetRequest.type, params);\n      },\n      save: async () => {\n        const params: DataStoreSetParams = { key: \"data\", value: dataStore.data };\n        await this.connection.sendRequest(DataStoreSetRequest.type, params);\n      },\n    };\n    return dataStore;\n  }\n\n  private createLogger(): Logger {\n    return {\n      error: (msg: string, error: any) => {\n        const errorMsg =\n          error instanceof Error\n            ? `[${error.name}] ${error.message} \\n${error.stack}`\n            : JSON.stringify(error, undefined, 2);\n        this.connection.console.error(`${msg} ${errorMsg}`);\n      },\n      warn: (msg: string) => {\n        this.connection.console.warn(msg);\n      },\n      info: (msg: string) => {\n        this.connection.console.info(msg);\n      },\n      debug: (msg: string) => {\n        this.connection.console.debug(msg);\n      },\n      trace: () => {},\n    };\n  }\n\n  private async textDocumentPositionParamsToCompletionRequest(\n    params: TextDocumentPositionParams,\n    token?: CancellationToken,\n  ): Promise<{ request: CompletionRequest; additionalPrefixLength?: number } | null> {\n    const { textDocument, position } = params;\n\n    this.logger.trace(\"Building completion context...\", { uri: textDocument.uri });\n\n    const document = this.documents.get(textDocument.uri);\n    if (!document) {\n      return null;\n    }\n\n    const request: CompletionRequest = {\n      filepath: document.uri,\n      language: document.languageId,\n      text: document.getText(),\n      position: document.offsetAt(position),\n    };\n\n    const notebookCell = this.notebooks.getNotebookCell(textDocument.uri);\n    let additionalContext: { prefix: string; suffix: string } | undefined = undefined;\n    if (notebookCell) {\n      this.logger.trace(\"Notebook cell found:\", { cell: notebookCell.kind });\n      additionalContext = this.buildNotebookAdditionalContext(document, notebookCell);\n    }\n    if (additionalContext) {\n      request.text = additionalContext.prefix + request.text + additionalContext.suffix;\n      request.position += additionalContext.prefix.length;\n    }\n\n    if (this.clientCapabilities?.tabby?.editorOptions) {\n      const editorOptions: EditorOptions | null = await this.connection.sendRequest(\n        EditorOptionsRequest.type,\n        {\n          uri: params.textDocument.uri,\n        },\n        token,\n      );\n      request.indentation = editorOptions?.indentation;\n    }\n    if (this.clientCapabilities?.workspace) {\n      const workspaceFolders = await this.connection.workspace.getWorkspaceFolders();\n      request.workspace = workspaceFolders?.find((folder) => document.uri.startsWith(folder.uri))?.uri;\n    }\n    const getGitRepo = async (getRepoParams: GitRepositoryParams): Promise<GitRepository | null> => {\n      if (this.clientCapabilities?.tabby?.gitProvider) {\n        return await this.connection.sendRequest(GitRepositoryRequest.type, getRepoParams, token);\n      }\n      const gitContextProvider = await getGitContextProvider();\n      if (gitContextProvider) {\n        return await gitContextProvider.getRepository(getRepoParams, token);\n      }\n      return null;\n    };\n    const repo: GitRepository | null = await getGitRepo({ uri: document.uri });\n    if (repo) {\n      request.git = {\n        root: repo.root,\n        remotes: repo.remoteUrl ? [{ name: \"\", url: repo.remoteUrl }] : repo.remotes ?? [],\n      };\n    }\n    if (this.clientCapabilities?.tabby?.languageSupport) {\n      request.declarations = await this.collectDeclarationSnippets(document, position, token);\n    }\n    if (this.recentlyChangedCodeSearch) {\n      request.relevantSnippetsFromChangedFiles = await this.collectSnippetsFromRecentlyChangedFiles(document, position);\n    }\n    this.logger.trace(\"Completed completion context:\", { request });\n    return { request, additionalPrefixLength: additionalContext?.prefix.length };\n  }\n\n  private buildNotebookAdditionalContext(\n    textDocument: TextDocument,\n    notebookCell: NotebookCell,\n  ): { prefix: string; suffix: string } | undefined {\n    this.logger.trace(\"Building notebook additional context...\");\n    const notebook = this.notebooks.findNotebookDocumentForCell(notebookCell);\n    if (!notebook) {\n      return notebook;\n    }\n    const index = notebook.cells.indexOf(notebookCell);\n    const prefix = this.buildNotebookContext(notebook, 0, index, textDocument.languageId) + \"\\n\\n\";\n    const suffix =\n      \"\\n\\n\" + this.buildNotebookContext(notebook, index + 1, notebook.cells.length, textDocument.languageId);\n\n    this.logger.trace(\"Notebook additional context:\", { prefix, suffix });\n    return { prefix, suffix };\n  }\n\n  private notebookLanguageComments: { [languageId: string]: (code: string) => string } = {\n    markdown: (code) => \"```\\n\" + code + \"\\n```\",\n    python: (code) =>\n      code\n        .split(\"\\n\")\n        .map((l) => \"# \" + l)\n        .join(\"\\n\"),\n  };\n\n  private buildNotebookContext(notebook: NotebookDocument, from: number, to: number, languageId: string): string {\n    return notebook.cells\n      .slice(from, to)\n      .map((cell) => {\n        const textDocument = this.notebooks.getCellTextDocument(cell);\n        if (!textDocument) {\n          return \"\";\n        }\n        if (textDocument.languageId === languageId) {\n          return textDocument.getText();\n        } else if (Object.keys(this.notebookLanguageComments).includes(languageId)) {\n          return this.notebookLanguageComments[languageId]?.(textDocument.getText()) ?? \"\";\n        } else {\n          return \"\";\n        }\n      })\n      .join(\"\\n\\n\");\n  }\n\n  private async collectDeclarationSnippets(\n    textDocument: TextDocument,\n    position: Position,\n    token?: CancellationToken,\n  ): Promise<{ filepath: string; text: string; offset?: number }[] | undefined> {\n    const agentConfig = this.agent.getConfig();\n    if (!agentConfig.completion.prompt.fillDeclarations.enabled) {\n      return;\n    }\n    this.logger.debug(\"Collecting declaration snippets...\");\n    this.logger.trace(\"Collecting snippets for:\", { textDocument: textDocument.uri, position });\n    // Find symbol positions in the previous lines\n    const prefixRange: Range = {\n      start: { line: Math.max(0, position.line - agentConfig.completion.prompt.maxPrefixLines), character: 0 },\n      end: { line: position.line, character: position.character },\n    };\n    const extractedSymbols = await this.extractSemanticTokenPositions(\n      {\n        uri: textDocument.uri,\n        range: prefixRange,\n      },\n      token,\n    );\n    if (!extractedSymbols) {\n      // FIXME: fallback to simple split words positions\n      return undefined;\n    }\n    const allowedSymbolTypes = [\n      \"class\",\n      \"decorator\",\n      \"enum\",\n      \"function\",\n      \"interface\",\n      \"macro\",\n      \"method\",\n      \"namespace\",\n      \"struct\",\n      \"type\",\n      \"typeParameter\",\n    ];\n    const symbols = extractedSymbols.filter((symbol) => allowedSymbolTypes.includes(symbol.type ?? \"\"));\n    this.logger.trace(\"Found symbols in prefix text:\", { symbols });\n\n    // Loop through the symbol positions backwards\n    const snippets: { filepath: string; text: string; offset?: number }[] = [];\n    const snippetLocations: Location[] = [];\n    for (let symbolIndex = symbols.length - 1; symbolIndex >= 0; symbolIndex--) {\n      if (snippets.length >= agentConfig.completion.prompt.fillDeclarations.maxSnippets) {\n        // Stop collecting snippets if the max number of snippets is reached\n        break;\n      }\n      const symbolPosition = symbols[symbolIndex]?.position;\n      if (!symbolPosition) {\n        continue;\n      }\n      const result = await this.connection.sendRequest(\n        LanguageSupportDeclarationRequest.type,\n        {\n          textDocument: { uri: textDocument.uri },\n          position: symbolPosition,\n        },\n        token,\n      );\n      if (!result) {\n        continue;\n      }\n      const item = Array.isArray(result) ? result[0] : result;\n      if (!item) {\n        continue;\n      }\n      const location: Location = {\n        uri: \"targetUri\" in item ? item.targetUri : item.uri,\n        range: \"targetRange\" in item ? item.targetRange : item.range,\n      };\n      this.logger.trace(\"Processing declaration location...\", { location });\n      if (location.uri == textDocument.uri && isPositionInRange(location.range.start, prefixRange)) {\n        // this symbol's declaration is already contained in the prefix range\n        // this also includes the case of the symbol's declaration is at this position itself\n        this.logger.trace(\"Skipping snippet as it is contained in the prefix.\");\n        continue;\n      }\n      if (\n        snippetLocations.find(\n          (collectedLocation) =>\n            location.uri == collectedLocation.uri && intersectionRange(location.range, collectedLocation.range),\n        )\n      ) {\n        this.logger.trace(\"Skipping snippet as it is already collected.\");\n        continue;\n      }\n      this.logger.trace(\"Prepare to fetch text content...\");\n      let text: string | undefined = undefined;\n      const targetDocument = this.documents.get(location.uri);\n      if (targetDocument) {\n        this.logger.trace(\"Fetching text content from synced text document.\", {\n          uri: targetDocument.uri,\n          range: location.range,\n        });\n        text = targetDocument.getText(location.range);\n        this.logger.trace(\"Fetched text content from synced text document.\", { text });\n      } else if (this.clientCapabilities?.tabby?.workspaceFileSystem) {\n        const params: ReadFileParams = {\n          uri: location.uri,\n          format: \"text\",\n          range: {\n            start: { line: location.range.start.line, character: 0 },\n            end: { line: location.range.end.line, character: location.range.end.character },\n          },\n        };\n        this.logger.trace(\"Fetching text content from ReadFileRequest.\", { params });\n        const result = await this.connection.sendRequest(ReadFileRequest.type, params, token);\n        this.logger.trace(\"Fetched text content from ReadFileRequest.\", { result });\n        text = result?.text;\n      } else {\n        // FIXME: fallback to fs\n      }\n      if (!text) {\n        this.logger.trace(\"Cannot fetch text content, continue to next.\", { result });\n        continue;\n      }\n      const maxChars = agentConfig.completion.prompt.fillDeclarations.maxCharsPerSnippet;\n      if (text.length > maxChars) {\n        // crop the text to fit within the chars limit\n        text = text.slice(0, maxChars);\n        const lastNewLine = text.lastIndexOf(\"\\n\");\n        if (lastNewLine > 0) {\n          text = text.slice(0, lastNewLine + 1);\n        }\n      }\n      if (text.length > 0) {\n        this.logger.trace(\"Collected declaration snippet:\", { text });\n        snippets.push({ filepath: location.uri, offset: targetDocument?.offsetAt(position), text });\n        snippetLocations.push(location);\n      }\n    }\n    this.logger.debug(\"Completed collecting declaration snippets.\");\n    this.logger.trace(\"Collected snippets:\", snippets);\n    return snippets;\n  }\n\n  private async extractSemanticTokenPositions(\n    location: Location,\n    token?: CancellationToken,\n  ): Promise<\n    | {\n        position: Position;\n        type: string | undefined;\n      }[]\n    | undefined\n  > {\n    const result = await this.connection.sendRequest(\n      LanguageSupportSemanticTokensRangeRequest.type,\n      {\n        textDocument: { uri: location.uri },\n        range: location.range,\n      },\n      token,\n    );\n    if (!result || !result.legend || !result.legend.tokenTypes || !result.tokens || !result.tokens.data) {\n      return undefined;\n    }\n    const { legend, tokens } = result;\n    const data: number[] = Array.isArray(tokens.data) ? tokens.data : Object.values(tokens.data);\n    const semanticSymbols: {\n      position: Position;\n      type: string | undefined;\n    }[] = [];\n    let line = 0;\n    let character = 0;\n    for (let i = 0; i + 4 < data.length; i += 5) {\n      const deltaLine = data[i];\n      const deltaChar = data[i + 1];\n      // i + 2 is token length, not used here\n      const typeIndex = data[i + 3];\n      // i + 4 is type modifiers, not used here\n      if (deltaLine === undefined || deltaChar === undefined || typeIndex === undefined) {\n        break;\n      }\n\n      line += deltaLine;\n      if (deltaLine > 0) {\n        character = deltaChar;\n      } else {\n        character += deltaChar;\n      }\n      semanticSymbols.push({\n        position: { line, character },\n        type: legend.tokenTypes[typeIndex],\n      });\n    }\n    return semanticSymbols;\n  }\n\n  private async collectSnippetsFromRecentlyChangedFiles(\n    textDocument: TextDocument,\n    position: Position,\n  ): Promise<{ filepath: string; offset: number; text: string; score: number }[] | undefined> {\n    const agentConfig = this.agent.getConfig();\n    if (\n      !agentConfig.completion.prompt.collectSnippetsFromRecentChangedFiles.enabled ||\n      !this.recentlyChangedCodeSearch\n    ) {\n      return undefined;\n    }\n    this.logger.debug(\"Collecting snippets from recently changed files...\");\n    this.logger.trace(\"Collecting snippets for:\", { document: textDocument.uri, position });\n    const prefixRange: Range = {\n      start: { line: Math.max(0, position.line - agentConfig.completion.prompt.maxPrefixLines), character: 0 },\n      end: { line: position.line, character: position.character },\n    };\n    const prefixText = textDocument.getText(prefixRange);\n    const query = extractNonReservedWordList(prefixText);\n    const snippets = await this.recentlyChangedCodeSearch.collectRelevantSnippets(\n      query,\n      textDocument,\n      agentConfig.completion.prompt.collectSnippetsFromRecentChangedFiles.maxSnippets,\n    );\n    this.logger.debug(\"Completed collecting snippets from recently changed files.\");\n    this.logger.trace(\"Collected snippets:\", snippets);\n    return snippets;\n  }\n\n  private async completionParamsToCompletionRequest(\n    params: CompletionParams,\n    token?: CancellationToken,\n  ): Promise<{ request: CompletionRequest; additionalPrefixLength?: number } | null> {\n    const result = await this.textDocumentPositionParamsToCompletionRequest(params, token);\n    if (!result) {\n      return null;\n    }\n    result.request.manually = params.context?.triggerKind === CompletionTriggerKind.Invoked;\n    return result;\n  }\n\n  private async inlineCompletionParamsToCompletionRequest(\n    params: InlineCompletionParams,\n    token?: CancellationToken,\n  ): Promise<{ request: CompletionRequest; additionalPrefixLength?: number } | null> {\n    const result = await this.textDocumentPositionParamsToCompletionRequest(params, token);\n    if (!result) {\n      return null;\n    }\n    result.request.manually = params.context?.triggerKind === InlineCompletionTriggerKind.Invoked;\n    return result;\n  }\n\n  private toCompletionList(\n    response: CompletionResponse,\n    documentPosition: TextDocumentPositionParams,\n    additionalPrefixLength: number = 0,\n  ): CompletionList | null {\n    const { textDocument, position } = documentPosition;\n    const document = this.documents.get(textDocument.uri);\n    if (!document) {\n      return null;\n    }\n\n    // Get word prefix if cursor is at end of a word\n    const linePrefix = document.getText({\n      start: { line: position.line, character: 0 },\n      end: position,\n    });\n    const wordPrefix = linePrefix.match(/(\\w+)$/)?.[0] ?? \"\";\n\n    return {\n      isIncomplete: response.isIncomplete,\n      items: response.items.map((item): CompletionItem => {\n        const insertionText = item.insertText.slice(\n          document.offsetAt(position) - (item.range.start - additionalPrefixLength),\n        );\n\n        const lines = splitLines(insertionText);\n        const firstLine = lines[0] || \"\";\n        const secondLine = lines[1] || \"\";\n        return {\n          label: wordPrefix + firstLine,\n          labelDetails: {\n            detail: secondLine,\n            description: \"Tabby\",\n          },\n          kind: CompletionItemKind.Text,\n          documentation: {\n            kind: \"markdown\",\n            value: `\\`\\`\\`\\n${linePrefix + insertionText}\\n\\`\\`\\`\\n ---\\nSuggested by Tabby.`,\n          },\n          textEdit: {\n            newText: wordPrefix + insertionText,\n            range: {\n              start: { line: position.line, character: position.character - wordPrefix.length },\n              end: document.positionAt(item.range.end - additionalPrefixLength),\n            },\n          },\n          data: item.data,\n        };\n      }),\n    };\n  }\n\n  private toInlineCompletionList(\n    response: CompletionResponse,\n    documentPosition: TextDocumentPositionParams,\n    additionalPrefixLength: number = 0,\n  ): InlineCompletionList | null {\n    const { textDocument } = documentPosition;\n    const document = this.documents.get(textDocument.uri);\n    if (!document) {\n      return null;\n    }\n\n    return {\n      isIncomplete: response.isIncomplete,\n      items: response.items.map((item): InlineCompletionItem => {\n        return {\n          insertText: item.insertText,\n          range: {\n            start: document.positionAt(item.range.start - additionalPrefixLength),\n            end: document.positionAt(item.range.end - additionalPrefixLength),\n          },\n          data: item.data,\n        };\n      }),\n    };\n  }\n\n  private buildHelpMessage(issueDetail: AgentIssue, format?: \"markdown\" | \"html\"): string | undefined {\n    const outputFormat = format ?? \"markdown\";\n\n    // \"connectionFailed\"\n    if (issueDetail.name == \"connectionFailed\") {\n      if (outputFormat == \"html\") {\n        return issueDetail.message?.replace(/\\n/g, \"<br/>\");\n      } else {\n        return issueDetail.message;\n      }\n    }\n\n    // \"slowCompletionResponseTime\" or \"highCompletionTimeoutRate\"\n    let statsMessage = \"\";\n    if (issueDetail.name == \"slowCompletionResponseTime\") {\n      const stats = issueDetail.completionResponseStats;\n      if (stats && stats[\"responses\"] && stats[\"averageResponseTime\"]) {\n        statsMessage = `The average response time of recent ${stats[\"responses\"]} completion requests is ${Number(\n          stats[\"averageResponseTime\"],\n        ).toFixed(0)}ms.<br/><br/>`;\n      }\n    }\n\n    if (issueDetail.name == \"highCompletionTimeoutRate\") {\n      const stats = issueDetail.completionResponseStats;\n      if (stats && stats[\"total\"] && stats[\"timeouts\"]) {\n        statsMessage = `${stats[\"timeouts\"]} of ${stats[\"total\"]} completion requests timed out.<br/><br/>`;\n      }\n    }\n\n    let helpMessageForRunningLargeModelOnCPU = \"\";\n    const serverHealthState = this.agent.getServerHealthState();\n    if (serverHealthState?.device === \"cpu\" && serverHealthState?.model?.match(/[0-9.]+B$/)) {\n      helpMessageForRunningLargeModelOnCPU +=\n        `Your Tabby server is running model <i>${serverHealthState?.model}</i> on CPU. ` +\n        \"This model may be performing poorly due to its large parameter size, please consider trying smaller models or switch to GPU. \" +\n        \"You can find a list of recommend models in the <a href='https://tabby.tabbyml.com/'>online documentation</a>.<br/>\";\n    }\n    let commonHelpMessage = \"\";\n    if (helpMessageForRunningLargeModelOnCPU.length == 0) {\n      commonHelpMessage += `<li>The running model ${\n        serverHealthState?.model ?? \"\"\n      } may be performing poorly due to its large parameter size. `;\n      commonHelpMessage +=\n        \"Please consider trying smaller models. You can find a list of recommend models in the <a href='https://tabby.tabbyml.com/'>online documentation</a>.</li>\";\n    }\n    const host = new URL(this.serverInfo?.config.endpoint ?? \"http://localhost:8080\").host;\n    if (!(host.startsWith(\"localhost\") || host.startsWith(\"127.0.0.1\") || host.startsWith(\"0.0.0.0\"))) {\n      commonHelpMessage += \"<li>A poor network connection. Please check your network and proxy settings.</li>\";\n      commonHelpMessage += \"<li>Server overload. Please contact your Tabby server administrator for assistance.</li>\";\n    }\n    let helpMessage = \"\";\n    if (helpMessageForRunningLargeModelOnCPU.length > 0) {\n      helpMessage += helpMessageForRunningLargeModelOnCPU + \"<br/>\";\n      if (commonHelpMessage.length > 0) {\n        helpMessage += \"Other possible causes of this issue: <br/><ul>\" + commonHelpMessage + \"</ul>\";\n      }\n    } else {\n      // commonHelpMessage should not be empty here\n      helpMessage += \"Possible causes of this issue: <br/><ul>\" + commonHelpMessage + \"</ul>\";\n    }\n\n    if (outputFormat == \"html\") {\n      return statsMessage + helpMessage;\n    } else {\n      return (statsMessage + helpMessage)\n        .replace(\"<br/>\", \" \\n\")\n        .replace(/<i>(.*?)<\\/i>/g, \"$1\")\n        .replace(/<a[^>]*>(.*?)<\\/a>/g, \"$1\")\n        .replace(/<ul[^>]*>(.*?)<\\/ul>/g, \"$1\")\n        .replace(/<li[^>]*>(.*?)<\\/li>/g, \"- $1 \\n\");\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/no-namespace */\n\nimport {\n  ProtocolRequestType0,\n  ProtocolRequestType,\n  ProtocolNotificationType,\n  RegistrationType,\n  MessageDirection,\n  URI,\n  Range,\n  Location,\n  Command as LspCommand,\n  InitializeRequest as LspInitializeRequest,\n  InitializeParams as LspInitializeParams,\n  InitializeResult as LspInitializeResult,\n  InitializeError,\n  ClientCapabilities as LspClientCapabilities,\n  ServerCapabilities as LspServerCapabilities,\n  ConfigurationRequest as LspConfigurationRequest,\n  DidChangeConfigurationNotification as LspDidChangeConfigurationNotification,\n  DidChangeConfigurationParams as LspDidChangeConfigurationParams,\n  CodeLensRequest as LspCodeLensRequest,\n  CodeLensParams,\n  CodeLens as LspCodeLens,\n  CompletionRequest as LspCompletionRequest,\n  CompletionParams,\n  CompletionList as LspCompletionList,\n  CompletionItem as LspCompletionItem,\n  InlineCompletionRequest as LspInlineCompletionRequest,\n  InlineCompletionParams,\n  InlineCompletionList as LspInlineCompletionList,\n  InlineCompletionItem as LspInlineCompletionItem,\n  DeclarationParams,\n  Declaration,\n  LocationLink,\n  SemanticTokensRangeParams,\n  SemanticTokens,\n  SemanticTokensLegend,\n} from \"vscode-languageserver-protocol\";\n\n/**\n * Extends LSP method Initialize Request(↩️)\n *\n * - method: `initialize`\n * - params: {@link InitializeParams}\n * - result: {@link InitializeResult}\n */\nexport namespace InitializeRequest {\n  export const method = LspInitializeRequest.method;\n  export const messageDirection = LspInitializeRequest.messageDirection;\n  export const type = new ProtocolRequestType<InitializeParams, InitializeResult, InitializeError, void, void>(method);\n}\n\nexport type InitializeParams = LspInitializeParams & {\n  clientInfo?: ClientInfo;\n  initializationOptions?: {\n    config?: ClientProvidedConfig;\n  };\n  capabilities: ClientCapabilities;\n};\n\nexport type InitializeResult = LspInitializeResult & {\n  capabilities: ServerCapabilities;\n};\n\n/**\n * [Tabby] Defines the name and version information of the IDE and the tabby plugin.\n */\nexport type ClientInfo = {\n  name: string;\n  version?: string;\n  tabbyPlugin?: {\n    name: string;\n    version?: string;\n  };\n};\n\nexport type ClientCapabilities = LspClientCapabilities & {\n  tabby?: {\n    /**\n     * The client supports:\n     * - `tabby/agent/didUpdateServerInfo`\n     * - `tabby/agent/didChangeStatus`\n     * - `tabby/agent/didUpdateIssues`\n     * This capability indicates that client support receiving agent notifications.\n     */\n    agent?: boolean;\n    /**\n     * The client supports:\n     * - `tabby/workspaceFileSystem/readFile`\n     * This capability improves the workspace code snippets context (RAG).\n     * When not provided, the server will try to fallback to NodeJS provided `fs` module,\n     *  which is not available in the browser.\n     */\n    workspaceFileSystem?: boolean;\n    /**\n     * The client supports:\n     * - `tabby/dataStore/get`\n     * - `tabby/dataStore/set`\n     * When not provided, the server will try to fallback to the default data store,\n     *  a file-based data store (~/.tabby-client/agent/data.json), which is not available in the browser.\n     */\n    dataStore?: boolean;\n    /**\n     * The client supports:\n     * - `tabby/languageSupport/textDocument/declaration`\n     * - `tabby/languageSupport/textDocument/semanticTokens/range`\n     * This capability improves the workspace code snippets context (RAG).\n     */\n    languageSupport?: boolean;\n    /**\n     * The client supports:\n     * - `tabby/git/repository`\n     * - `tabby/git/diff`\n     * This capability improves the workspace git repository context (RAG).\n     * When not provided, the server will try to fallback to the default git provider,\n     *  which running system `git` command, not available if cannot execute `git` command,\n     *  not available in the browser.\n     */\n    gitProvider?: boolean;\n    /**\n     * The client supports:\n     * - `tabby/editorOptions`\n     * This capability improves the completion formatting.\n     */\n    editorOptions?: boolean;\n  };\n};\n\nexport type ServerCapabilities = LspServerCapabilities & {\n  tabby?: {\n    /**\n     * The server supports:\n     * - `tabby/chat/edit`\n     * - `tabby/chat/generateCommitMessage`\n     * See {@link ChatFeatureRegistration}\n     */\n    chat?: boolean;\n  };\n};\n\nexport namespace ChatFeatureRegistration {\n  export const type = new RegistrationType(\"tabby/chat\");\n}\n\n/**\n * Extends LSP method Configuration Request(↪️)\n *\n * - method: `workspace/configuration`\n * - params: any\n * - result: {@link ClientProvidedConfig}[] (the array contains only one config)\n */\nexport namespace ConfigurationRequest {\n  export const method = LspConfigurationRequest.method;\n  export const messageDirection = LspConfigurationRequest.messageDirection;\n  export const type = new ProtocolRequestType<any, ClientProvidedConfig[], never, void, void>(method);\n}\n\n/**\n * [Tabby] Defines the config supported to be changed on the client side (IDE).\n */\nexport type ClientProvidedConfig = {\n  /**\n   * Specifies the endpoint and token for connecting to the Tabby server.\n   */\n  server?: {\n    endpoint?: string;\n    token?: string;\n  };\n  /**\n   * Trigger mode should be implemented on the client side.\n   * Sending this config to the server is for telemetry purposes.\n   */\n  inlineCompletion?: {\n    triggerMode?: \"auto\" | \"manual\";\n  };\n  /**\n   * Keybindings should be implemented on the client side.\n   * Sending this config to the server is for telemetry purposes.\n   */\n  keybindings?: \"default\" | \"tabby-style\" | \"customize\";\n  /**\n   * Controls whether the telemetry is enabled or not.\n   */\n  anonymousUsageTracking?: {\n    disable?: boolean;\n  };\n};\n\n/**\n * Extends LSP method DidChangeConfiguration Notification(➡️)\n * - method: `workspace/didChangeConfiguration`\n * - params: {@link DidChangeConfigurationParams}\n * - result: void\n */\nexport namespace DidChangeConfigurationNotification {\n  export const method = LspDidChangeConfigurationNotification.method;\n  export const messageDirection = LspDidChangeConfigurationNotification.messageDirection;\n  export const type = new ProtocolNotificationType<DidChangeConfigurationParams, void>(method);\n}\n\nexport type DidChangeConfigurationParams = LspDidChangeConfigurationParams & {\n  settings?: ClientProvidedConfig;\n};\n\n/**\n * Extends LSP method Code Lens Request(↩️)\n *\n * Tabby provides this method for preview changes applied in the Chat Edit feature,\n * the client should render codelens and decorations to improve the readability of the pending changes.\n * - method: `textDocument/codeLens`\n * - params: {@link CodeLensParams}\n * - result: {@link CodeLens}[] | null\n * - partialResult:  {@link CodeLens}[]\n */\nexport namespace CodeLensRequest {\n  export const method = LspCodeLensRequest.method;\n  export const messageDirection = LspCodeLensRequest.messageDirection;\n  export const type = new ProtocolRequestType<CodeLensParams, CodeLens[] | null, CodeLens[], void, void>(method);\n}\n\nexport type CodeLens = LspCodeLens & {\n  command?: ChatEditResolveCommand | LspCommand;\n  data?: {\n    type: CodeLensType;\n    line?: ChangesPreviewLineType;\n  };\n};\n\nexport type CodeLensType = \"previewChanges\";\nexport type ChangesPreviewLineType =\n  | \"header\"\n  | \"footer\"\n  | \"commentsFirstLine\"\n  | \"comments\"\n  | \"waiting\"\n  | \"inProgress\"\n  | \"unchanged\"\n  | \"inserted\"\n  | \"deleted\";\n\n/**\n * Extends LSP method Completion Request(↩️)\n *\n * Note: Tabby provides this method capability *only* when the client has *NO* `textDocument/inlineCompletion` capability.\n * - method: `textDocument/completion`\n * - params: {@link CompletionParams}\n * - result: {@link CompletionList} | null\n */\nexport namespace CompletionRequest {\n  export const method = LspCompletionRequest.method;\n  export const messageDirection = LspCompletionRequest.messageDirection;\n  export const type = new ProtocolRequestType<CompletionParams, CompletionList | null, never, void, void>(method);\n}\n\nexport type CompletionList = LspCompletionList & {\n  items: CompletionItem[];\n};\n\nexport type CompletionItem = LspCompletionItem & {\n  data?: {\n    /**\n     * The eventId is for telemetry purposes, should be used in `tabby/telemetry/event`.\n     */\n    eventId?: CompletionEventId;\n  };\n};\n\nexport type CompletionEventId = {\n  completionId: string;\n  choiceIndex: number;\n};\n\n/**\n * Extends LSP method Inline Completion Request(↩️)\n *\n * Note: Tabby provides this method capability only when the client has `textDocument/inlineCompletion` capability.\n * - method: `textDocument/inlineCompletion`\n * - params: {@link InlineCompletionParams}\n * - result: {@link InlineCompletionList} | null\n */\nexport namespace InlineCompletionRequest {\n  export const method = LspInlineCompletionRequest.method;\n  export const messageDirection = LspInlineCompletionRequest.messageDirection;\n  export const type = new ProtocolRequestType<InlineCompletionParams, InlineCompletionList | null, never, void, void>(\n    method,\n  );\n}\n\nexport type InlineCompletionList = LspInlineCompletionList & {\n  isIncomplete: boolean;\n  items: InlineCompletionItem[];\n};\n\nexport type InlineCompletionItem = LspInlineCompletionItem & {\n  data?: {\n    /**\n     * The eventId is for telemetry purposes, should be used in `tabby/telemetry/event`.\n     */\n    eventId?: CompletionEventId;\n  };\n};\n\n/**\n * [Tabby] Chat Edit Suggestion Command Request(↩️)\n *\n * This method is sent from the client to the server to get suggestion commands for the current context.\n * - method: `tabby/chat/edit/command`\n * - params: {@link ChatEditCommandParams}\n * - result: {@link ChatEditCommand}[] | null\n * - partialResult:  {@link ChatEditCommand}[]\n */\nexport namespace ChatEditCommandRequest {\n  export const method = \"tabby/chat/edit/command\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType<\n    ChatEditCommandParams,\n    ChatEditCommand[] | null,\n    ChatEditCommand[],\n    void,\n    void\n  >(method);\n}\n\nexport type ChatEditCommandParams = {\n  /**\n   * The document location to get suggestion commands for.\n   */\n  location: Location;\n};\n\nexport type ChatEditCommand = {\n  /**\n   * The display label of the command.\n   */\n  label: string;\n  /**\n   * A string value for the command.\n   * If the command is a `preset` command, it always starts with `/`.\n   */\n  command: string;\n  /**\n   * The source of the command.\n   */\n  source: \"preset\";\n};\n\n/**\n * [Tabby] Chat Edit Request(↩️)\n *\n * This method is sent from the client to the server to edit the document content by user's command.\n * The server will edit the document content using ApplyEdit(`workspace/applyEdit`) request,\n * which requires the client to have this capability.\n * - method: `tabby/chat/edit`\n * - params: {@link ChatEditRequest}\n * - result: {@link ChatEditToken}\n * - error: {@link ChatFeatureNotAvailableError}\n *        | {@link ChatEditDocumentTooLongError}\n *        | {@link ChatEditCommandTooLongError}\n *        | {@link ChatEditMutexError}\n */\nexport namespace ChatEditRequest {\n  export const method = \"tabby/chat/edit\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType<\n    ChatEditParams,\n    ChatEditToken,\n    void,\n    ChatFeatureNotAvailableError | ChatEditDocumentTooLongError | ChatEditCommandTooLongError | ChatEditMutexError,\n    void\n  >(method);\n}\n\nexport type ChatEditParams = {\n  /**\n   * The document location to edit.\n   */\n  location: Location;\n  /**\n   * The command for this edit.\n   * If the command is a `preset` command, it should always start with \"/\".\n   * See {@link ChatEditCommand}\n   */\n  command: string;\n  /**\n   * Select a edit format.\n   * - \"previewChanges\": The document will be edit to preview changes,\n   *    use {@link ChatEditResolveRequest} to resolve it later.\n   */\n  format: \"previewChanges\";\n};\n\nexport type ChatEditToken = string;\n\nexport type ChatFeatureNotAvailableError = {\n  name: \"ChatFeatureNotAvailableError\";\n};\nexport type ChatEditDocumentTooLongError = {\n  name: \"ChatEditDocumentTooLongError\";\n};\nexport type ChatEditCommandTooLongError = {\n  name: \"ChatEditCommandTooLongError\";\n};\nexport type ChatEditMutexError = {\n  name: \"ChatEditMutexError\";\n};\n\n/**\n * [Tabby] Chat Edit Resolve Request(↩️)\n *\n * This method is sent from the client to the server to accept or discard the changes in preview.\n * - method: `tabby/chat/edit/resolve`\n * - params: {@link ChatEditResolveParams}\n * - result: boolean\n */\nexport namespace ChatEditResolveRequest {\n  export const method = \"tabby/chat/edit/resolve\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType<ChatEditResolveParams, boolean, never, void, void>(method);\n}\n\nexport type ChatEditResolveParams = {\n  /**\n   * The document location to resolve the changes, should locate at the header line of the changes preview.\n   */\n  location: Location;\n  /**\n   * The action to take for this edit.\n   */\n  action: \"accept\" | \"discard\";\n};\n\nexport type ChatEditResolveCommand = LspCommand & {\n  title: string;\n  tooltip?: string;\n  command: \"tabby/chat/edit/resolve\";\n  arguments: [ChatEditResolveParams];\n};\n\n/**\n * [Tabby] GenerateCommitMessage Request(↩️)\n *\n * This method is sent from the client to the server to generate a commit message for a git repository.\n * - method: `tabby/chat/generateCommitMessage`\n * - params: {@link GenerateCommitMessageParams}\n * - result: {@link GenerateCommitMessageResult} | null\n * - error: {@link ChatFeatureNotAvailableError}\n */\nexport namespace GenerateCommitMessageRequest {\n  export const method = \"tabby/chat/generateCommitMessage\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType<\n    GenerateCommitMessageParams,\n    GenerateCommitMessageResult | null,\n    void,\n    ChatFeatureNotAvailableError,\n    void\n  >(method);\n}\n\nexport type GenerateCommitMessageParams = {\n  /**\n   * The root URI of the git repository.\n   */\n  repository: URI;\n};\n\nexport type GenerateCommitMessageResult = {\n  commitMessage: string;\n};\n\n/**\n * [Tabby] Telemetry Event Notification(➡️)\n *\n * This method is sent from the client to the server for telemetry purposes.\n * - method: `tabby/telemetry/event`\n * - params: {@link EventParams}\n * - result: void\n */\nexport namespace TelemetryEventNotification {\n  export const method = \"tabby/telemetry/event\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolNotificationType<EventParams, void>(method);\n}\n\nexport type EventParams = {\n  type: \"view\" | \"select\" | \"dismiss\";\n  selectKind?: \"line\";\n  eventId: CompletionEventId;\n  viewId?: string;\n  elapsed?: number;\n};\n\n/**\n * [Tabby] DidUpdateServerInfo Notification(⬅️)\n *\n * This method is sent from the server to the client to notify the current Tabby server info has changed.\n * - method: `tabby/agent/didUpdateServerInfo`\n * - params: {@link DidUpdateServerInfoParams}\n * - result: void\n */\nexport namespace AgentServerInfoSync {\n  export const method = \"tabby/agent/didUpdateServerInfo\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolNotificationType<DidUpdateServerInfoParams, void>(method);\n}\n\nexport type DidUpdateServerInfoParams = {\n  serverInfo: ServerInfo;\n};\n\nexport type ServerInfo = {\n  config: {\n    endpoint: string;\n    token: string | null;\n    requestHeaders: Record<string, string | number | boolean | null | undefined> | null;\n  };\n  health: Record<string, unknown> | null;\n};\n\n/**\n * [Tabby] Server Info Request(↩️)\n *\n * This method is sent from the client to the server to check the current Tabby server info.\n * - method: `tabby/agent/serverInfo`\n * - params: none\n * - result: {@link ServerInfo}\n */\nexport namespace AgentServerInfoRequest {\n  export const method = \"tabby/agent/serverInfo\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType0<ServerInfo, never, void, void>(method);\n}\n\n/**\n * [Tabby] DidChangeStatus Notification(⬅️)\n *\n * This method is sent from the server to the client to notify the client about the status of the server.\n * - method: `tabby/agent/didChangeStatus`\n * - params: {@link DidChangeStatusParams}\n * - result: void\n */\nexport namespace AgentStatusSync {\n  export const method = \"tabby/agent/didChangeStatus\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolNotificationType<DidChangeStatusParams, void>(method);\n}\n\nexport type DidChangeStatusParams = {\n  status: Status;\n};\n\nexport type Status = \"notInitialized\" | \"ready\" | \"disconnected\" | \"unauthorized\" | \"finalized\";\n\n/**\n * [Tabby] Status Request(↩️)\n *\n * This method is sent from the client to the server to check the current status of the server.\n * - method: `tabby/agent/status`\n * - params: none\n * - result: {@link Status}\n */\nexport namespace AgentStatusRequest {\n  export const method = \"tabby/agent/status\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType0<Status, never, void, void>(method);\n}\n\n/**\n * [Tabby] DidUpdateIssue Notification(⬅️)\n *\n * This method is sent from the server to the client to notify the client about the current issues.\n * - method: `tabby/agent/didUpdateIssues`\n * - params: {@link DidUpdateIssueParams}\n * - result: void\n */\nexport namespace AgentIssuesSync {\n  export const method = \"tabby/agent/didUpdateIssues\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolNotificationType<DidUpdateIssueParams, void>(method);\n}\n\nexport type DidUpdateIssueParams = IssueList;\n\nexport type IssueList = {\n  issues: IssueName[];\n};\n\nexport type IssueName = \"slowCompletionResponseTime\" | \"highCompletionTimeoutRate\" | \"connectionFailed\";\n\n/**\n * [Tabby] Issues Request(↩️)\n *\n * This method is sent from the client to the server to check if there is any issue.\n * - method: `tabby/agent/issues`\n * - params: none\n * - result: {@link IssueList}\n */\nexport namespace AgentIssuesRequest {\n  export const method = \"tabby/agent/issues\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType0<IssueList, never, void, void>(method);\n}\n\n/**\n * [Tabby] Issue Detail Request(↩️)\n *\n * This method is sent from the client to the server to check the detail of an issue.\n * - method: `tabby/agent/issue/detail`\n * - params: {@link IssueDetailParams}\n * - result: {@link IssueDetailResult} | null\n */\nexport namespace AgentIssueDetailRequest {\n  export const method = \"tabby/agent/issue/detail\";\n  export const messageDirection = MessageDirection.clientToServer;\n  export const type = new ProtocolRequestType<IssueDetailParams, IssueDetailResult | null, never, void, void>(method);\n}\n\nexport type IssueDetailParams = {\n  name: IssueName;\n  helpMessageFormat?: \"markdown\" | \"html\";\n};\n\nexport type IssueDetailResult = {\n  name: IssueName;\n  helpMessage?: string;\n};\n\n/**\n * [Tabby] Read File Request(↪️)\n *\n * This method is sent from the server to the client to read the file contents.\n * - method: `tabby/workspaceFileSystem/readFile`\n * - params: {@link ReadFileParams}\n * - result: {@link ReadFileResult} | null\n */\nexport namespace ReadFileRequest {\n  export const method = \"tabby/workspaceFileSystem/readFile\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<ReadFileParams, ReadFileResult | null, never, void, void>(method);\n}\n\nexport type ReadFileParams = {\n  uri: URI;\n  /**\n   * If `text` is select, the result should try to decode the file contents to string,\n   * otherwise, the result should be a raw binary array.\n   */\n  format: \"text\";\n  /**\n   * When omitted, read the whole file.\n   */\n  range?: Range;\n};\n\nexport type ReadFileResult = {\n  /**\n   * If `text` is select, the result should be a string.\n   */\n  text?: string;\n};\n\n/**\n * [Tabby] DataStore Get Request(↪️)\n *\n * This method is sent from the server to the client to get the value of the given key.\n * - method: `tabby/dataStore/get`\n * - params: {@link DataStoreGetParams}\n * - result: any\n */\nexport namespace DataStoreGetRequest {\n  export const method = \"tabby/dataStore/get\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<DataStoreGetParams, any, never, void, void>(method);\n}\n\nexport type DataStoreGetParams = {\n  key: string;\n};\n\n/**\n * [Tabby] DataStore Set Request(↪️)\n *\n * This method is sent from the server to the client to set the value of the given key.\n * - method: `tabby/dataStore/set`\n * - params: {@link DataStoreSetParams}\n * - result: boolean\n */\nexport namespace DataStoreSetRequest {\n  export const method = \"tabby/dataStore/set\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<DataStoreSetParams, boolean, never, void, void>(method);\n}\n\nexport type DataStoreSetParams = {\n  key: string;\n  value: any;\n};\n\n/**\n * [Tabby] Language Support Declaration Request(↪️)\n *\n * This method is sent from the server to the client to request the support from another language server.\n * See LSP `textDocument/declaration`.\n * - method: `tabby/languageSupport/textDocument/declaration`\n * - params: {@link DeclarationParams}\n * - result: {@link Declaration} | {@link LocationLink}[] | null\n */\nexport namespace LanguageSupportDeclarationRequest {\n  export const method = \"tabby/languageSupport/textDocument/declaration\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<\n    DeclarationParams,\n    Declaration | LocationLink[] | null,\n    never,\n    void,\n    void\n  >(method);\n}\n\n/**\n * [Tabby] Semantic Tokens Range Request(↪️)\n *\n * This method is sent from the server to the client to request the support from another language server.\n * See LSP `textDocument/semanticTokens/range`.\n * - method: `tabby/languageSupport/textDocument/semanticTokens/range`\n * - params: {@link SemanticTokensRangeParams}\n * - result: {@link SemanticTokensRangeResult} | null\n */\nexport namespace LanguageSupportSemanticTokensRangeRequest {\n  export const method = \"tabby/languageSupport/textDocument/semanticTokens/range\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<\n    SemanticTokensRangeParams,\n    SemanticTokensRangeResult | null,\n    never,\n    void,\n    void\n  >(method);\n}\n\nexport type SemanticTokensRangeResult = {\n  legend: SemanticTokensLegend;\n  tokens: SemanticTokens;\n};\n\n/**\n * [Tabby] Git Repository Request(↪️)\n *\n * This method is sent from the server to the client to get the git repository state of a file.\n * - method: `tabby/git/repository`\n * - params: {@link GitRepositoryParams}\n * - result: {@link GitRepository} | null\n */\nexport namespace GitRepositoryRequest {\n  export const method = \"tabby/git/repository\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<GitRepositoryParams, GitRepository | null, never, void, void>(method);\n}\n\nexport type GitRepositoryParams = {\n  /**\n   * The URI of the file to get the git repository state of.\n   */\n  uri: URI;\n};\n\nexport type GitRepository = {\n  /**\n   * The root URI of the git repository.\n   */\n  root: URI;\n  /**\n   * The url of the default remote.\n   */\n  remoteUrl?: string;\n  /**\n   * List of remotes in the git repository.\n   */\n  remotes?: {\n    name: string;\n    url: string;\n  }[];\n};\n\n/**\n * [Tabby] Git Diff Request(↪️)\n *\n * This method is sent from the server to the client to get the diff of a git repository.\n * - method: `tabby/git/diff`\n * - params: {@link GitDiffParams}\n * - result: {@link GitDiffResult} | null\n */\nexport namespace GitDiffRequest {\n  export const method = \"tabby/git/diff\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<GitDiffParams, GitDiffResult | null, never, void, void>(method);\n}\n\nexport type GitDiffParams = {\n  /**\n   * The root URI of the git repository.\n   */\n  repository: URI;\n  /**\n   * Returns the cached or uncached diff of the git repository.\n   */\n  cached: boolean;\n};\n\nexport type GitDiffResult = {\n  /**\n   * The diff of the git repository.\n   * - It could be the full diff.\n   * - It could be a list of diff for each single file, sorted by the priority.\n   *   This will be useful when the full diff is too large, and we will select\n   *   from the split diffs to generate a prompt under the tokens limit.\n   */\n  diff: string | string[];\n};\n\n/**\n * [Tabby] Editor Options Request(↪️)\n *\n * This method is sent from the server to the client to get the diff of a git repository.\n * - method: `tabby/editorOptions`\n * - params: {@link EditorOptionsParams}\n * - result: {@link EditorOptions} | null\n */\nexport namespace EditorOptionsRequest {\n  export const method = \"tabby/editorOptions\";\n  export const messageDirection = MessageDirection.serverToClient;\n  export const type = new ProtocolRequestType<EditorOptionsParams, EditorOptions | null, never, void, void>(method);\n}\n\nexport type EditorOptionsParams = {\n  /**\n   * The uri of the document for which the editor options are requested.\n   */\n  uri: URI;\n};\n\nexport type EditorOptions = {\n  /**\n   * A string representing the indentation for the editor. It could be 2 or 4 spaces, or 1 tab.\n   */\n  indentation: string;\n};\n","import {\n  Disposable,\n  DocumentUri,\n  TextDocumentsConfiguration,\n  DidChangeTextDocumentParams,\n  TextDocuments as LspTextDocuments,\n} from \"vscode-languageserver\";\nimport { TextDocumentConnection } from \"vscode-languageserver/lib/common/textDocuments\";\n\nexport class TextDocuments<\n  T extends {\n    uri: DocumentUri;\n  },\n> extends LspTextDocuments<T> {\n  constructor(configuration: TextDocumentsConfiguration<T>) {\n    super(configuration);\n  }\n\n  override listen(connection: TextDocumentConnection): Disposable {\n    const disposables: Disposable[] = [];\n    disposables.push(super.listen(connection));\n    // override onDidChangeTextDocument listener\n    disposables.push(\n      connection.onDidChangeTextDocument((params: DidChangeTextDocumentParams) => {\n        const { textDocument, contentChanges } = params;\n        if (contentChanges.length === 0) {\n          return;\n        }\n        const { version } = textDocument;\n        if (version === null || version === undefined) {\n          throw new Error(`Received document change event for ${textDocument.uri} without valid version identifier`);\n        }\n        let document = this.get(textDocument.uri);\n        if (document !== undefined) {\n          document = this[\"_configuration\"].update(document, contentChanges, version);\n          this[\"_syncedDocuments\"].set(textDocument.uri, document);\n          this[\"_onDidChangeContent\"].fire(Object.freeze({ document: document, contentChanges }));\n        }\n      }),\n    );\n    return Disposable.create(() => {\n      disposables.forEach((disposable) => disposable.dispose());\n    });\n  }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","import { Range } from \"vscode-languageserver\";\nimport { TextDocument, TextDocumentContentChangeEvent } from \"vscode-languageserver-textdocument\";\nimport { CodeSearchEngine, ChunkingConfig, DocumentRange } from \"./CodeSearchEngine\";\nimport { getLogger } from \"../logger\";\nimport { unionRange, rangeInDocument } from \"../utils/range\";\n\ninterface TextChangeCroppingWindowConfig {\n  prefixLines: number;\n  suffixLines: number;\n}\n\ninterface TextChangeListenerConfig {\n  checkingChangesInterval: number;\n  changesDebouncingInterval: number;\n}\n\nexport class RecentlyChangedCodeSearch {\n  private readonly logger = getLogger(\"CodeSearch\");\n  private codeSearchEngine: CodeSearchEngine;\n\n  private pendingDocumentRanges: DocumentRange[] = [];\n  /* @ts-expect-error noUnusedLocals */\n  private indexingWorker: ReturnType<typeof setInterval>;\n\n  private didChangeEventDebouncingCache = new Map<\n    string,\n    { documentRange: DocumentRange; timer: ReturnType<typeof setTimeout> }\n  >();\n\n  constructor(private config: TextChangeCroppingWindowConfig & TextChangeListenerConfig & ChunkingConfig) {\n    this.codeSearchEngine = new CodeSearchEngine(config);\n    this.indexingWorker = setInterval(async () => {\n      let documentRange: DocumentRange | undefined = undefined;\n      while ((documentRange = this.pendingDocumentRanges.shift()) != undefined) {\n        this.logger.trace(\"Consuming indexing task.\");\n        await this.codeSearchEngine.index(documentRange);\n      }\n    }, config.checkingChangesInterval);\n    this.logger.info(\"Created code search engine for recently changed files.\");\n    this.logger.trace(\"Created with config.\", { config });\n  }\n\n  handleDidChangeTextDocument(event: { document: TextDocument; contentChanges: TextDocumentContentChangeEvent[] }) {\n    const { document, contentChanges } = event;\n    if (contentChanges.length < 1) {\n      return;\n    }\n    let ranges = [];\n    if (this.didChangeEventDebouncingCache.has(document.uri)) {\n      const cache = this.didChangeEventDebouncingCache.get(document.uri);\n      if (cache) {\n        ranges.push(cache.documentRange.range);\n        clearTimeout(cache.timer);\n      }\n    }\n    ranges = ranges.concat(\n      contentChanges\n        .map((change) =>\n          \"range\" in change\n            ? {\n                start: change.range.start,\n                end: document.positionAt(document.offsetAt(change.range.start) + change.text.length),\n              }\n            : null,\n        )\n        .filter((range): range is Range => range !== null),\n    );\n    const mergedEditedRange = ranges.reduce((a, b) => unionRange(a, b));\n    // Expand the range to cropping window\n    const expand: Range = {\n      start: {\n        line: Math.max(0, mergedEditedRange.start.line - this.config.prefixLines),\n        character: 0,\n      },\n      end: {\n        line: Math.min(document.lineCount, mergedEditedRange.end.line + this.config.suffixLines + 1),\n        character: 0,\n      },\n    };\n    const targetRange = rangeInDocument(expand, document);\n    if (targetRange === null) {\n      return;\n    }\n    const documentRange = { document, range: targetRange };\n    // A debouncing to avoid indexing the same document multiple times in a short time\n    this.didChangeEventDebouncingCache.set(document.uri, {\n      documentRange,\n      timer: setTimeout(() => {\n        this.pendingDocumentRanges.push(documentRange);\n        this.didChangeEventDebouncingCache.delete(document.uri);\n        this.logger.trace(\"Created indexing task:\", { documentRange });\n      }, this.config.changesDebouncingInterval),\n    });\n  }\n\n  async collectRelevantSnippets(\n    query: string,\n    currentDocument: TextDocument,\n    limit?: number,\n  ): Promise<{ filepath: string; offset: number; text: string; score: number }[] | undefined> {\n    const indexed = this.codeSearchEngine.getIndexed();\n    // Exclude current document from search\n    const filepaths = indexed\n      .map((documentRange) => documentRange.document.uri.toString())\n      .filter((filepath) => filepath !== currentDocument.uri.toString());\n    if (filepaths.length < 1) {\n      return [];\n    }\n    const options = {\n      filepathsFilter: filepaths,\n      languagesFilter: this.getLanguageFilter(currentDocument.languageId),\n      limit,\n    };\n    this.logger.trace(\"Search in recently changed files\", { query, options });\n    const result = await this.codeSearchEngine.search(query, options);\n    this.logger.trace(\"Search result\", { result });\n    return result.map((hit) => {\n      return {\n        filepath: hit.snippet.filepath,\n        offset: hit.snippet.offset,\n        text: hit.snippet.fullText,\n        score: hit.score,\n      };\n    });\n  }\n\n  private getLanguageFilter(languageId: string): string[] {\n    const tsx = [\"javascript\", \"javascriptreact\", \"typescript\", \"typescriptreact\"];\n    if (tsx.includes(languageId)) {\n      return tsx;\n    } else {\n      return [languageId];\n    }\n  }\n}\n","import * as Engine from \"@orama/orama\";\nimport { Position, Range } from \"vscode-languageserver\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport { extractNonReservedWordList } from \"../utils/string\";\nimport { isPositionBefore, isPositionAfter, unionRange, rangeInDocument } from \"../utils/range\";\n\nexport interface DocumentRange {\n  document: TextDocument;\n  range: Range;\n}\n\nexport interface CodeSnippet {\n  // Which file does the snippet belongs to\n  filepath: string;\n  // (Not Indexed) The offset of the snippet in the file\n  offset: number;\n  // (Not Indexed) The full text of the snippet\n  fullText: string;\n  // The code language id of the snippet\n  language: string;\n  // The semantic symbols extracted from the snippet\n  symbols: string;\n}\n\nexport interface ChunkingConfig {\n  // max count for chunks in memory\n  maxChunks: number;\n  // chars count per code chunk\n  chunkSize: number;\n  // lines count overlap between neighbor chunks\n  overlapLines: number;\n}\n\nexport interface CodeSearchHit {\n  snippet: CodeSnippet;\n  score: number;\n}\n\nexport class CodeSearchEngine {\n  constructor(private config: ChunkingConfig) {}\n\n  private db: Engine.AnyOrama | undefined = undefined;\n  private indexedDocumentRanges: (DocumentRange & { indexIds: string[] })[] = [];\n\n  private async init() {\n    if (this.db) {\n      return;\n    }\n    this.db = await Engine.create({\n      schema: {\n        filepath: \"string\",\n        language: \"string\",\n        symbols: \"string\",\n      },\n    });\n  }\n\n  private async count(): Promise<number> {\n    if (!this.db) {\n      return 0;\n    }\n    return await Engine.count(this.db);\n  }\n\n  private async insert(snippets: CodeSnippet[]): Promise<string[]> {\n    if (!this.db) {\n      await this.init();\n    }\n    if (this.db) {\n      return await Engine.insertMultiple(this.db, snippets);\n    }\n    return [];\n  }\n\n  private async remove(ids: string[]): Promise<number> {\n    if (!this.db) {\n      return 0;\n    }\n    return await Engine.removeMultiple(this.db, ids);\n  }\n\n  private async chunk(documentRange: DocumentRange): Promise<CodeSnippet[]> {\n    const document = documentRange.document;\n    const range = rangeInDocument(documentRange.range, document);\n    if (!range) {\n      return [];\n    }\n    const chunks: CodeSnippet[] = [];\n    let positionStart: Position = range.start;\n    let positionEnd;\n    do {\n      const offset = document.offsetAt(positionStart);\n      // move forward chunk size\n      positionEnd = document.positionAt(offset + this.config.chunkSize);\n      if (isPositionBefore(positionEnd, range.end)) {\n        // If have not reached the end, back to the last newline instead\n        positionEnd = { line: positionEnd.line, character: 0 };\n      }\n      if (positionEnd.line <= positionStart.line + this.config.overlapLines) {\n        // In case of forward chunk size does not moved enough lines for overlap, force move that much lines\n        positionEnd = { line: positionStart.line + this.config.overlapLines + 1, character: 0 };\n      }\n      if (isPositionAfter(positionEnd, range.end)) {\n        // If have passed the end, back to the end\n        positionEnd = range.end;\n      }\n\n      const text = document.getText({ start: positionStart, end: positionEnd });\n      if (text.trim().length > 0) {\n        chunks.push({\n          filepath: document.uri,\n          offset: document.offsetAt(positionStart),\n          fullText: text,\n          language: document.languageId,\n          symbols: extractNonReservedWordList(text),\n        });\n      }\n\n      // move the start position to the next chunk start\n      positionStart = { line: positionEnd.line - this.config.overlapLines, character: 0 };\n    } while (chunks.length < this.config.maxChunks && isPositionBefore(positionEnd, range.end));\n    return chunks;\n  }\n\n  getIndexed(): DocumentRange[] {\n    return this.indexedDocumentRanges;\n  }\n\n  /**\n   * Index the range of the document.\n   *\n   * When invoked multiple times with the same document but different ranges,\n   * the ranges will be merged and re-chunked.\n   *\n   * If the indexed chunks in memory is too many, the oldest document will be removed.\n   * The removal is by document, all chunks from the document will be removed.\n   *\n   * @param documentRange The document and specific range to index.\n   */\n  async index(documentRange: DocumentRange): Promise<void> {\n    const { document, range } = documentRange;\n    const documentUriString = document.uri.toString();\n    let targetRange = range;\n    const indexToUpdate = this.indexedDocumentRanges.findIndex(\n      (item) => item.document.uri.toString() === documentUriString,\n    );\n    const documentRangeToUpdate = this.indexedDocumentRanges[indexToUpdate];\n    if (documentRangeToUpdate) {\n      // FIXME: union is not perfect for merging two ranges have large distance between them\n      targetRange = unionRange(targetRange, documentRangeToUpdate.range);\n    }\n    const chunks = await this.chunk({ document, range: targetRange });\n    if (documentRangeToUpdate) {\n      await this.remove(documentRangeToUpdate.indexIds);\n      this.indexedDocumentRanges.splice(indexToUpdate);\n    }\n    const indexIds = await this.insert(chunks);\n    this.indexedDocumentRanges.push({\n      document,\n      range: targetRange,\n      indexIds,\n    });\n\n    // Check chunks count and evict if needed.\n    while ((await this.count()) > this.config.maxChunks) {\n      const toRemove = this.indexedDocumentRanges.shift();\n      if (toRemove) {\n        await this.remove(toRemove.indexIds);\n      } else {\n        break;\n      }\n    }\n  }\n\n  /**\n   * Search relevant code snippets that has been indexed.\n   * @param query contains words to search.\n   * @param options\n   * @param options.filepathsFilter only search in these filepaths.\n   * @param options.languagesFilter only search in these languages.\n   * @param options.limit max number of hits to return.\n   * @returns A list of hit results, contains the snippet and score.\n   */\n  async search(\n    query: string,\n    options?: {\n      filepathsFilter?: string[];\n      languagesFilter?: string[];\n      limit?: number;\n    },\n  ): Promise<CodeSearchHit[]> {\n    if (!this.db) {\n      return [];\n    }\n    const searchResult = await Engine.search<Engine.AnyOrama, CodeSnippet>(this.db, {\n      term: query,\n      properties: [\"symbols\"],\n      where: {\n        filepath: options?.filepathsFilter,\n        language: options?.languagesFilter,\n      },\n      limit: options?.limit,\n    });\n    return (\n      searchResult.hits\n        // manual filtering\n        .filter((hit) => {\n          if (options?.filepathsFilter && !options?.filepathsFilter.includes(hit.document[\"filepath\"])) {\n            return false;\n          }\n          if (options?.languagesFilter && !options?.languagesFilter.includes(hit.document[\"language\"])) {\n            return false;\n          }\n          return true;\n        })\n        .map((hit) => {\n          return {\n            snippet: hit.document,\n            score: hit.score || 0,\n          };\n        })\n    );\n  }\n}\n","export { create } from './methods/create.js'\nexport { count, getByID } from './methods/docs.js'\nexport { insert, insertMultiple } from './methods/insert.js'\nexport { remove, removeMultiple } from './methods/remove.js'\nexport { search } from './methods/search.js'\nexport { searchVector } from './methods/search-vector.js'\nexport { load, save } from './methods/serialization.js'\nexport { update, updateMultiple } from './methods/update.js'\n\nexport * from './types.js'\nexport * as components from './components.js'\nexport * as internals from './internals.js'\n\nexport type { RawData } from './methods/serialization.js'\nexport type { Language } from './components/tokenizer/languages.js'\n","import { formatElapsedTime, getDocumentIndexId, getDocumentProperties, validateSchema } from '../components/defaults.js'\nimport { DocumentsStore, createDocumentsStore } from '../components/documents-store.js'\nimport { AVAILABLE_PLUGIN_HOOKS, getAllPluginsByHook } from '../components/plugins.js'\nimport { FUNCTION_COMPONENTS, OBJECT_COMPONENTS, runAfterCreate } from '../components/hooks.js'\nimport { Index, createIndex } from '../components/index.js'\nimport { createInternalDocumentIDStore } from '../components/internal-document-id-store.js'\nimport { Sorter, createSorter } from '../components/sorter.js'\nimport { createTokenizer } from '../components/tokenizer/index.js'\nimport { createError } from '../errors.js'\nimport {\n  Components,\n  FunctionComponents,\n  IDocumentsStore,\n  IIndex,\n  ISorter,\n  Orama,\n  OramaPlugin,\n  SorterConfig,\n  Tokenizer\n} from '../types.js'\nimport { uniqueId } from '../utils.js'\n\ninterface CreateArguments<OramaSchema, TIndex, TDocumentStore, TSorter> {\n  schema: OramaSchema\n  sort?: SorterConfig\n  language?: string\n  components?: Components<\n    Orama<OramaSchema, TIndex, TDocumentStore, TSorter>,\n    OramaSchema,\n    TIndex,\n    TDocumentStore,\n    TSorter\n  >\n  plugins?: OramaPlugin[]\n  id?: string\n}\n\nfunction validateComponents<\n  OramaSchema,\n  TIndex,\n  TDocumentStore,\n  TSorter,\n  TOrama extends Orama<OramaSchema, TIndex, TDocumentStore, TSorter>\n>(components: Components<TOrama, OramaSchema, TIndex, TDocumentStore, TSorter>) {\n  const defaultComponents = {\n    formatElapsedTime,\n    getDocumentIndexId,\n    getDocumentProperties,\n    validateSchema\n  }\n\n  for (const rawKey of FUNCTION_COMPONENTS) {\n    const key = rawKey as keyof FunctionComponents<OramaSchema>\n\n    if (components[key]) {\n      if (typeof components[key] !== 'function') {\n        throw createError('COMPONENT_MUST_BE_FUNCTION', key)\n      }\n    } else {\n      // @ts-expect-error TSC is unable to resolve this\n      components[key] = defaultComponents[key]\n    }\n  }\n\n  for (const rawKey of Object.keys(components)) {\n    if (!OBJECT_COMPONENTS.includes(rawKey) && !FUNCTION_COMPONENTS.includes(rawKey)) {\n      throw createError('UNSUPPORTED_COMPONENT', rawKey)\n    }\n  }\n}\n\nexport async function create<\n  OramaSchema,\n  TIndex = IIndex<Index>,\n  TDocumentStore = IDocumentsStore<DocumentsStore>,\n  TSorter = ISorter<Sorter>\n>({\n  schema,\n  sort,\n  language,\n  components,\n  id,\n  plugins\n}: CreateArguments<OramaSchema, TIndex, TDocumentStore, TSorter>): Promise<\n  Orama<OramaSchema, TIndex, TDocumentStore, TSorter>\n> {\n  if (!components) {\n    components = {}\n  }\n\n  if (!id) {\n    id = await uniqueId()\n  }\n\n  let tokenizer = components.tokenizer\n  let index: TIndex | undefined = components.index\n  let documentsStore: TDocumentStore | undefined = components.documentsStore\n  let sorter: TSorter | undefined = components.sorter\n\n  if (!tokenizer) {\n    // Use the default tokenizer\n    tokenizer = await createTokenizer({ language: language ?? 'english' })\n  } else if (!(tokenizer as Tokenizer).tokenize) {\n    // If there is no tokenizer function, we assume this is a TokenizerConfig\n    tokenizer = await createTokenizer(tokenizer)\n  } else {\n    const customTokenizer = tokenizer as Tokenizer\n    tokenizer = customTokenizer\n  }\n\n  if (components.tokenizer && language) {\n    // Accept language only if a tokenizer is not provided\n    throw createError('NO_LANGUAGE_WITH_CUSTOM_TOKENIZER')\n  }\n\n  const internalDocumentStore = createInternalDocumentIDStore()\n\n  index ||= (await createIndex()) as TIndex\n  sorter ||= (await createSorter()) as TSorter\n  documentsStore ||= (await createDocumentsStore()) as TDocumentStore\n\n  // Validate all other components\n  validateComponents(components)\n\n  // Assign only recognized components and hooks\n  const { getDocumentProperties, getDocumentIndexId, validateSchema, formatElapsedTime } = components\n\n  const orama = {\n    data: {},\n    caches: {},\n    schema,\n    tokenizer,\n    index,\n    sorter,\n    documentsStore,\n    internalDocumentIDStore: internalDocumentStore,\n    getDocumentProperties,\n    getDocumentIndexId,\n    validateSchema,\n    beforeInsert: [],\n    afterInsert: [],\n    beforeRemove: [],\n    afterRemove: [],\n    beforeUpdate: [],\n    afterUpdate: [],\n    beforeSearch: [],\n    afterSearch: [],\n    beforeInsertMultiple: [],\n    afterInsertMultiple: [],\n    beforeRemoveMultiple: [],\n    afterRemoveMultiple: [],\n    afterUpdateMultiple: [],\n    beforeUpdateMultiple: [],\n    afterCreate: [],\n    formatElapsedTime,\n    id,\n    plugins,\n    version: getVersion()\n  } as unknown as Orama<OramaSchema, TIndex, TDocumentStore, TSorter>\n\n  orama.data = {\n    index: await orama.index.create(orama, internalDocumentStore, schema),\n    docs: await orama.documentsStore.create(orama, internalDocumentStore),\n    sorting: await orama.sorter.create(orama, internalDocumentStore, schema, sort)\n  }\n\n  for (const hook of AVAILABLE_PLUGIN_HOOKS) {\n    orama[hook] = (orama[hook] ?? []).concat(await getAllPluginsByHook(orama, hook))\n  }\n\n  const afterCreate = orama['afterCreate']\n  if (afterCreate) {\n    await runAfterCreate(afterCreate, orama)\n  }\n\n  return orama\n}\n\nfunction getVersion() {\n  return '{{VERSION}}'\n}\n","import { createError } from '../errors.js'\nimport { Point } from '../trees/bkd.js'\nimport {\n  AnyDocument,\n  AnyOrama,\n  ArraySearchableType,\n  ElapsedTime,\n  ScalarSearchableType,\n  SearchableType,\n  TypedDocument,\n  Vector\n} from '../types.js'\nimport { formatNanoseconds, uniqueId } from '../utils.js'\n\nexport { getDocumentProperties } from '../utils.js'\n\nexport async function formatElapsedTime(n: bigint): Promise<ElapsedTime> {\n  return {\n    raw: Number(n),\n    formatted: await formatNanoseconds(n)\n  }\n}\n\nexport async function getDocumentIndexId(doc: AnyDocument): Promise<string> {\n  if (doc.id) {\n    if (typeof doc.id !== 'string') {\n      throw createError('DOCUMENT_ID_MUST_BE_STRING', typeof doc.id)\n    }\n\n    return doc.id\n  }\n\n  return await uniqueId()\n}\n\nexport async function validateSchema<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  doc: ResultDocument,\n  schema: T['schema']\n): Promise<string | undefined> {\n  for (const [prop, type] of Object.entries(schema)) {\n    const value = doc[prop]\n\n    if (typeof value === 'undefined') {\n      continue\n    }\n\n    if (\n      type === 'geopoint' &&\n      typeof value === 'object' &&\n      typeof value.lon === 'number' &&\n      typeof value.lat === 'number'\n    ) {\n      continue\n    }\n\n    if (type === 'enum' && (typeof value === 'string' || typeof value === 'number')) {\n      continue\n    }\n    if (type === 'enum[]' && Array.isArray(value)) {\n      const valueLength = value.length\n      for (let i = 0; i < valueLength; i++) {\n        if (typeof value[i] !== 'string' && typeof value[i] !== 'number') {\n          return prop + '.' + i\n        }\n      }\n      continue\n    }\n\n    if (isVectorType(type)) {\n      const vectorSize = getVectorSize(type)\n      if (!Array.isArray(value) || value.length !== vectorSize) {\n        throw createError('INVALID_INPUT_VECTOR', prop, vectorSize, value.length)\n      }\n      continue\n    }\n\n    if (isArrayType(type)) {\n      if (!Array.isArray(value)) {\n        return prop\n      }\n      const expectedType = getInnerType(type)\n\n      const valueLength = value.length\n      for (let i = 0; i < valueLength; i++) {\n        if (typeof value[i] !== expectedType) {\n          return prop + '.' + i\n        }\n      }\n\n      continue\n    }\n\n    if (typeof type === 'object') {\n      if (!value || typeof value !== 'object') {\n        return prop\n      }\n\n      // using as ResultDocument is not exactly right but trying to be type-safe here is not useful\n      const subProp = await validateSchema(value as ResultDocument, type)\n      if (subProp) {\n        return prop + '.' + subProp\n      }\n      continue\n    }\n\n    if (typeof value !== type) {\n      return prop\n    }\n  }\n\n  return undefined\n}\n\nconst IS_ARRAY_TYPE: Record<SearchableType, boolean> = {\n  string: false,\n  number: false,\n  boolean: false,\n  enum: false,\n  geopoint: false,\n  'string[]': true,\n  'number[]': true,\n  'boolean[]': true,\n  'enum[]': true\n}\n\nconst INNER_TYPE: Record<ArraySearchableType, ScalarSearchableType> = {\n  'string[]': 'string',\n  'number[]': 'number',\n  'boolean[]': 'boolean',\n  'enum[]': 'enum'\n}\n\nexport function isGeoPointType(type: unknown): type is Point {\n  return type === 'geopoint'\n}\n\nexport function isVectorType(type: unknown): type is Vector {\n  return typeof type === 'string' && /^vector\\[\\d+\\]$/.test(type)\n}\n\nexport function isArrayType(type: unknown): type is ArraySearchableType {\n  return typeof type === 'string' && IS_ARRAY_TYPE[type]\n}\n\nexport function getInnerType(type: ArraySearchableType): ScalarSearchableType {\n  return INNER_TYPE[type]\n}\n\nexport function getVectorSize(type: string): number {\n  const size = Number(type.slice(7, -1))\n\n  switch (true) {\n    case isNaN(size):\n      throw createError('INVALID_VECTOR_VALUE', type)\n    case size <= 0:\n      throw createError('INVALID_VECTOR_SIZE', type)\n    default:\n      return size\n  }\n}\n","import { SUPPORTED_LANGUAGES } from './components/tokenizer/languages.js'\nimport { sprintf } from './utils.js'\n\nconst allLanguages = SUPPORTED_LANGUAGES.join('\\n - ')\n\nconst errors = {\n  NO_LANGUAGE_WITH_CUSTOM_TOKENIZER: 'Do not pass the language option to create when using a custom tokenizer.',\n  LANGUAGE_NOT_SUPPORTED: `Language \"%s\" is not supported.\\nSupported languages are:\\n - ${allLanguages}`,\n  INVALID_STEMMER_FUNCTION_TYPE: `config.stemmer property must be a function.`,\n  MISSING_STEMMER: `As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the \"%s\" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.`,\n  CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY: 'Custom stop words array must only contain strings.',\n  UNSUPPORTED_COMPONENT: `Unsupported component \"%s\".`,\n  COMPONENT_MUST_BE_FUNCTION: `The component \"%s\" must be a function.`,\n  COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS: `The component \"%s\" must be a function or an array of functions.`,\n  INVALID_SCHEMA_TYPE: `Unsupported schema type \"%s\" at \"%s\". Expected \"string\", \"boolean\" or \"number\" or array of them.`,\n  DOCUMENT_ID_MUST_BE_STRING: `Document id must be of type \"string\". Got \"%s\" instead.`,\n  DOCUMENT_ALREADY_EXISTS: `A document with id \"%s\" already exists.`,\n  DOCUMENT_DOES_NOT_EXIST: `A document with id \"%s\" does not exists.`,\n  MISSING_DOCUMENT_PROPERTY: `Missing searchable property \"%s\".`,\n  INVALID_DOCUMENT_PROPERTY: `Invalid document property \"%s\": expected \"%s\", got \"%s\"`,\n  UNKNOWN_INDEX: `Invalid property name \"%s\". Expected a wildcard string (\"*\") or array containing one of the following properties: %s`,\n  INVALID_BOOST_VALUE: `Boost value must be a number greater than, or less than 0.`,\n  INVALID_FILTER_OPERATION: `You can only use one operation per filter, you requested %d.`,\n  SCHEMA_VALIDATION_FAILURE: `Cannot insert document due schema validation failure on \"%s\" property.`,\n  INVALID_SORT_SCHEMA_TYPE: `Unsupported sort schema type \"%s\" at \"%s\". Expected \"string\" or \"number\".`,\n  CANNOT_SORT_BY_ARRAY: `Cannot configure sort for \"%s\" because it is an array (%s).`,\n  UNABLE_TO_SORT_ON_UNKNOWN_FIELD: `Unable to sort on unknown field \"%s\". Allowed fields: %s`,\n  SORT_DISABLED: `Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.`,\n  UNKNOWN_GROUP_BY_PROPERTY: `Unknown groupBy property \"%s\".`,\n  INVALID_GROUP_BY_PROPERTY: `Invalid groupBy property \"%s\". Allowed types: \"%s\", but given \"%s\".`,\n  UNKNOWN_FILTER_PROPERTY: `Unknown filter property \"%s\".`,\n  INVALID_VECTOR_SIZE: `Vector size must be a number greater than 0. Got \"%s\" instead.`,\n  INVALID_VECTOR_VALUE: `Vector value must be a number greater than 0. Got \"%s\" instead.`,\n  INVALID_INPUT_VECTOR: `Property \"%s\" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.\\nInput vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,\n  WRONG_SEARCH_PROPERTY_TYPE: `Property \"%s\" is not searchable. Only \"string\" properties are searchable.`,\n  FACET_NOT_SUPPORTED: `Facet doens't support the type \"%s\".`,\n  INVALID_DISTANCE_SUFFIX: `Invalid distance suffix \"%s\". Valid suffixes are: cm, m, km, mi, yd, ft.`,\n  INVALID_SEARCH_MODE: `Invalid search mode \"%s\". Valid modes are: \"fulltext\", \"vector\", \"hybrid\".`,\n  MISSING_VECTOR_AND_SECURE_PROXY: `No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.`,\n  MISSING_TERM: `\"term\" is a required parameter when performing hybrid search. Please provide a search term.`,\n  INVALID_VECTOR_INPUT: `Invalid \"vector\" property. Expected an object with \"value\" and \"property\" properties, but got \"%s\" instead.`,\n  PLUGIN_CRASHED: `A plugin crashed during initialization. Please check the error message for more information:`\n}\n\nexport type ErrorCode = keyof typeof errors\n\nexport interface OramaError extends Error {\n  code: string\n}\n\nexport function createError(code: ErrorCode, ...args: Array<string | number>): OramaError {\n  const error = new Error(sprintf(errors[code] ?? `Unsupported Orama Error code: ${code}`, ...args)) as OramaError\n  error.code = code\n  if ('captureStackTrace' in Error.prototype) {\n    Error.captureStackTrace(error)\n  }\n\n  return error\n}\n","export const STEMMERS: Record<string, string> = {\n  arabic: 'ar',\n  armenian: 'am',\n  bulgarian: 'bg',\n  danish: 'dk',\n  dutch: 'nl',\n  english: 'en',\n  finnish: 'fi',\n  french: 'fr',\n  german: 'de',\n  greek: 'gr',\n  hungarian: 'hu',\n  indian: 'in',\n  indonesian: 'id',\n  irish: 'ie',\n  italian: 'it',\n  lithuanian: 'lt',\n  nepali: 'np',\n  norwegian: 'no',\n  portuguese: 'pt',\n  romanian: 'ro',\n  russian: 'ru',\n  serbian: 'rs',\n  slovenian: 'ru',\n  spanish: 'es',\n  swedish: 'se',\n  tamil: 'ta',\n  turkish: 'tr',\n  ukrainian: 'uk',\n  sanskrit: 'sk'\n}\n\nexport const SPLITTERS: Record<Language, RegExp> = {\n  dutch: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n  english: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n  french: /[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,\n  italian: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n  norwegian: /[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,\n  portuguese: /[^a-z0-9à-úÀ-Ú]/gim,\n  russian: /[^a-z0-9а-яА-ЯёЁ]+/gim,\n  spanish: /[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,\n  swedish: /[^a-z0-9_åÅäÄöÖüÜ-]+/gim,\n  german: /[^a-z0-9A-ZäöüÄÖÜß]+/gim,\n  finnish: /[^a-z0-9äöÄÖ]+/gim,\n  danish: /[^a-z0-9æøåÆØÅ]+/gim,\n  hungarian: /[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,\n  romanian: /[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,\n  serbian: /[^a-z0-9čćžšđČĆŽŠĐ]+/gim,\n  turkish: /[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,\n  lithuanian: /[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,\n  arabic: /[^a-z0-9أ-ي]+/gim,\n  nepali: /[^a-z0-9अ-ह]+/gim,\n  irish: /[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,\n  indian: /[^a-z0-9अ-ह]+/gim,\n  armenian: /[^a-z0-9ա-ֆ]+/gim,\n  greek: /[^a-z0-9α-ωά-ώ]+/gim,\n  indonesian: /[^a-z0-9]+/gim,\n  ukrainian: /[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,\n  slovenian: /[^a-z0-9čžšČŽŠ]+/gim,\n  bulgarian: /[^a-z0-9а-яА-Я]+/gim,\n  tamil: /[^a-z0-9அ-ஹ]+/gim,\n  sanskrit: /[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim\n}\n\nexport const SUPPORTED_LANGUAGES = Object.keys(STEMMERS)\n\nexport function getLocale(language: string | undefined) {\n  return language !== undefined && SUPPORTED_LANGUAGES.includes(language) ? STEMMERS[language] : undefined\n}\n\nexport type Language = (typeof SUPPORTED_LANGUAGES)[number]\n","import type { AnyDocument, GeosearchDistanceUnit, Results, SearchableValue, TokenScore } from './types.js'\nimport { createError } from './errors.js'\n\nconst baseId = Date.now().toString().slice(5)\nlet lastId = 0\n\nconst k = 1024\nconst nano = BigInt(1e3)\nconst milli = BigInt(1e6)\nconst second = BigInt(1e9)\n\nexport const isServer = typeof window === 'undefined'\n\n/**\n * This value can be increased up to 100_000\n * But i don't know if this value change from nodejs to nodejs\n * So I will keep a safer value here.\n */\nexport const MAX_ARGUMENT_FOR_STACK = 65535\n\n/**\n * This method is needed to used because of issues like: https://github.com/oramasearch/orama/issues/301\n * that issue is caused because the array that is pushed is huge (>100k)\n *\n * @example\n * ```ts\n * safeArrayPush(myArray, [1, 2])\n * ```\n */\nexport function safeArrayPush<T>(arr: T[], newArr: T[]): void {\n  if (newArr.length < MAX_ARGUMENT_FOR_STACK) {\n    Array.prototype.push.apply(arr, newArr)\n  } else {\n    const newArrLength = newArr.length\n    for (let i = 0; i < newArrLength; i += MAX_ARGUMENT_FOR_STACK) {\n      Array.prototype.push.apply(arr, newArr.slice(i, i + MAX_ARGUMENT_FOR_STACK))\n    }\n  }\n}\n\nexport function sprintf(template: string, ...args: Array<string | number>): string {\n  return template.replace(\n    /%(?:(?<position>\\d+)\\$)?(?<width>-?\\d*\\.?\\d*)(?<type>[dfs])/g,\n    function (...replaceArgs: Array<string | number | Record<string, string>>): string {\n      const groups = replaceArgs[replaceArgs.length - 1] as Record<string, string>\n      const { width: rawWidth, type, position } = groups\n\n      const replacement = position ? args[Number.parseInt(position) - 1]! : args.shift()!\n      const width = rawWidth === '' ? 0 : Number.parseInt(rawWidth)\n\n      switch (type) {\n        case 'd':\n          return replacement.toString().padStart(width, '0')\n        case 'f': {\n          let value = replacement\n          const [padding, precision] = rawWidth.split('.').map((w) => Number.parseFloat(w))\n\n          if (typeof precision === 'number' && precision >= 0) {\n            value = (value as number).toFixed(precision)\n          }\n\n          return typeof padding === 'number' && padding >= 0 ? value.toString().padStart(width, '0') : value.toString()\n        }\n        case 's':\n          return width < 0\n            ? (replacement as string).toString().padEnd(-width, ' ')\n            : (replacement as string).toString().padStart(width, ' ')\n\n        default:\n          return replacement as string\n      }\n    }\n  )\n}\n\nexport async function formatBytes(bytes: number, decimals = 2): Promise<string> {\n  if (bytes === 0) {\n    return '0 Bytes'\n  }\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`\n}\n\nexport function isInsideWebWorker(): boolean {\n  // @ts-expect-error - WebWorker global scope\n  return typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope\n}\n\nexport function isInsideNode(): boolean {\n  return typeof process !== 'undefined' && process.release && process.release.name === 'node'\n}\n\nexport function getNanosecondTimeViaPerformance() {\n  return BigInt(Math.floor(performance.now() * 1e6))\n}\n\nexport async function formatNanoseconds(value: number | bigint): Promise<string> {\n  if (typeof value === 'number') {\n    value = BigInt(value)\n  }\n\n  if (value < nano) {\n    return `${value}ns`\n  } else if (value < milli) {\n    return `${value / nano}μs`\n  } else if (value < second) {\n    return `${value / milli}ms`\n  }\n\n  return `${value / second}s`\n}\n\n// TODO: none of these operations is async. Should we change the signature of this function?\nexport async function getNanosecondsTime(): Promise<bigint> {\n  if (isInsideWebWorker()) {\n    return getNanosecondTimeViaPerformance()\n  }\n\n  if (isInsideNode()) {\n    return process.hrtime.bigint()\n  }\n\n  if (typeof process !== 'undefined' && typeof process?.hrtime?.bigint === 'function') {\n    return process.hrtime.bigint()\n  }\n\n  if (typeof performance !== 'undefined') {\n    return getNanosecondTimeViaPerformance()\n  }\n\n  // @todo: fallback to V8 native method to get microtime\n  return BigInt(0)\n}\n\nexport async function uniqueId(): Promise<string> {\n  return `${baseId}-${lastId++}`\n}\n\nexport function getOwnProperty<T = unknown>(object: Record<string, T>, property: string): T | undefined {\n  // Checks if `hasOwn` method is defined avoiding errors with older Node.js versions\n  if (Object.hasOwn === undefined) {\n    return Object.prototype.hasOwnProperty.call(object, property) ? object[property] : undefined\n  }\n\n  return Object.hasOwn(object, property) ? object[property] : undefined\n}\n\nexport function getTokenFrequency(token: string, tokens: string[]): number {\n  let count = 0\n\n  for (const t of tokens) {\n    if (t === token) {\n      count++\n    }\n  }\n\n  return count\n}\n\nexport function insertSortedValue(\n  arr: TokenScore[],\n  el: TokenScore,\n  compareFn = sortTokenScorePredicate\n): TokenScore[] {\n  let low = 0\n  let high = arr.length\n  let mid\n\n  while (low < high) {\n    mid = (low + high) >>> 1\n    if (compareFn(el, arr[mid]) < 0) {\n      high = mid\n    } else {\n      low = mid + 1\n    }\n  }\n\n  arr.splice(low, 0, el)\n\n  return arr\n}\n\nexport function sortTokenScorePredicate(a: TokenScore, b: TokenScore): number {\n  if (b[1] === a[1]) {\n    return a[0] - b[0]\n  }\n\n  return b[1] - a[1]\n}\n\n// Intersection function taken from https://github.com/lovasoa/fast_array_intersect.\n// MIT Licensed at the time of writing.\nexport function intersect<T>(arrays: Array<readonly T[]>): T[] {\n  if (arrays.length === 0) {\n    return []\n  } else if (arrays.length === 1) {\n    return arrays[0] as T[]\n  }\n\n  for (let i = 1; i < arrays.length; i++) {\n    if (arrays[i].length < arrays[0].length) {\n      const tmp = arrays[0]\n      arrays[0] = arrays[i]\n      arrays[i] = tmp\n    }\n  }\n\n  const set = new Map()\n  for (const elem of arrays[0]) {\n    set.set(elem, 1)\n  }\n  for (let i = 1; i < arrays.length; i++) {\n    let found = 0\n    for (const elem of arrays[i]) {\n      const count = set.get(elem)\n      if (count === i) {\n        set.set(elem, count + 1)\n        found++\n      }\n    }\n    if (found === 0) return []\n  }\n\n  return arrays[0].filter((e) => {\n    const count = set.get(e)\n    if (count !== undefined) set.set(e, 0)\n    return count === arrays.length\n  })\n}\n\nexport async function getDocumentProperties(\n  doc: AnyDocument,\n  paths: string[]\n): Promise<Record<string, SearchableValue>> {\n  const properties: Record<string, SearchableValue> = {}\n\n  const pathsLength = paths.length\n  for (let i = 0; i < pathsLength; i++) {\n    const path = paths[i]\n    const pathTokens = path.split('.')\n\n    let current: SearchableValue | AnyDocument | undefined = doc\n    const pathTokensLength = pathTokens.length\n    for (let j = 0; j < pathTokensLength; j++) {\n      current = current[pathTokens[j]!]\n\n      // We found an object but we were supposed to be done\n      if (typeof current === 'object') {\n        if (\n          current !== null &&\n          'lat' in current &&\n          'lon' in current &&\n          typeof current.lat === 'number' &&\n          typeof current.lon === 'number'\n        ) {\n          current = properties[path] = current as SearchableValue\n          break\n        } else if (!Array.isArray(current) && current !== null && j === pathTokensLength - 1) {\n          current = undefined\n          break\n        }\n      } else if ((current === null || typeof current !== 'object') && j < pathTokensLength - 1) {\n        // We can't recurse anymore but we were supposed to\n        current = undefined\n        break\n      }\n    }\n\n    if (typeof current !== 'undefined') {\n      properties[path] = current as SearchableValue\n    }\n  }\n\n  return properties\n}\n\nexport async function getNested<T = SearchableValue>(obj: object, path: string): Promise<T | undefined> {\n  const props = await getDocumentProperties(obj as AnyDocument, [path])\n\n  return props[path] as T | undefined\n}\n\nexport function flattenObject(obj: object, prefix = ''): AnyDocument {\n  const result: AnyDocument = {}\n\n  for (const key in obj) {\n    const prop = `${prefix}${key}`\n    const objKey = (obj as AnyDocument)[key]\n\n    if (typeof objKey === 'object' && objKey !== null) {\n      Object.assign(result, flattenObject(objKey, `${prop}.`))\n    } else {\n      result[prop] = objKey\n    }\n  }\n  return result\n}\n\nconst mapDistanceToMeters = {\n  cm: 0.01,\n  m: 1,\n  km: 1000,\n  ft: 0.3048,\n  yd: 0.9144,\n  mi: 1609.344\n}\n\nexport function convertDistanceToMeters(distance: number, unit: GeosearchDistanceUnit): number {\n  const ratio = mapDistanceToMeters[unit]\n\n  if (ratio === undefined) {\n    throw new Error(createError('INVALID_DISTANCE_SUFFIX', distance).message)\n  }\n\n  return distance * ratio\n}\n\nexport function removeVectorsFromHits(searchResult: Results<AnyDocument>, vectorProperties: string[]): void {\n  searchResult.hits = searchResult.hits.map((result) => ({\n    ...result,\n    document: {\n      ...result.document,\n      // Remove embeddings from the result\n      ...vectorProperties.reduce((acc, prop) => {\n        const path = prop.split('.')\n        const lastKey = path.pop()!\n        let obj = acc\n        for (const key of path) {\n          obj[key] = obj[key] ?? {}\n          obj = obj[key] as any\n        }\n        obj[lastKey] = null\n        return acc\n      }, result.document)\n    }\n  }))\n}\n","import { AnyDocument, AnyDocumentStore, AnyOrama, IDocumentsStore, TypedDocument } from '../types.js'\nimport {\n  DocumentID,\n  InternalDocumentID,\n  InternalDocumentIDStore,\n  getInternalDocumentId\n} from './internal-document-id-store.js'\n\nexport interface DocumentsStore extends AnyDocumentStore {\n  sharedInternalDocumentStore: InternalDocumentIDStore\n  docs: Record<InternalDocumentID, AnyDocument>\n  count: number\n}\n\nexport async function create<T extends AnyOrama>(\n  _: T,\n  sharedInternalDocumentStore: InternalDocumentIDStore\n): Promise<DocumentsStore> {\n  return {\n    sharedInternalDocumentStore,\n    docs: {},\n    count: 0\n  }\n}\n\nexport async function get<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  store: DocumentsStore,\n  id: DocumentID\n): Promise<ResultDocument | undefined> {\n  const internalId = getInternalDocumentId(store.sharedInternalDocumentStore, id)\n\n  return store.docs[internalId]\n}\n\nexport async function getMultiple<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  store: DocumentsStore,\n  ids: DocumentID[]\n): Promise<(ResultDocument | undefined)[]> {\n  const idsLength = ids.length\n  const found: (ResultDocument | undefined)[] = Array.from({ length: idsLength })\n\n  for (let i = 0; i < idsLength; i++) {\n    const internalId = getInternalDocumentId(store.sharedInternalDocumentStore, ids[i])\n    found[i] = store.docs[internalId]\n  }\n\n  return found\n}\n\nexport async function getAll<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  store: DocumentsStore\n): Promise<Record<InternalDocumentID, ResultDocument>> {\n  return store.docs\n}\n\nexport async function store(store: DocumentsStore, id: DocumentID, doc: AnyDocument): Promise<boolean> {\n  const internalId = getInternalDocumentId(store.sharedInternalDocumentStore, id)\n\n  if (typeof store.docs[internalId] !== 'undefined') {\n    return false\n  }\n\n  store.docs[internalId] = doc\n  store.count++\n\n  return true\n}\n\nexport async function remove(store: DocumentsStore, id: DocumentID): Promise<boolean> {\n  const internalId = getInternalDocumentId(store.sharedInternalDocumentStore, id)\n\n  if (typeof store.docs[internalId] === 'undefined') {\n    return false\n  }\n\n  delete store.docs[internalId]\n  store.count--\n\n  return true\n}\n\nexport async function count(store: DocumentsStore): Promise<number> {\n  return store.count\n}\n\nexport async function load<R = unknown>(\n  sharedInternalDocumentStore: InternalDocumentIDStore,\n  raw: R\n): Promise<DocumentsStore> {\n  const rawDocument = raw as DocumentsStore\n\n  return {\n    docs: rawDocument.docs,\n    count: rawDocument.count,\n    sharedInternalDocumentStore\n  }\n}\n\nexport async function save<R = unknown>(store: DocumentsStore): Promise<R> {\n  return {\n    docs: store.docs,\n    count: store.count\n  } as R\n}\n\nexport async function createDocumentsStore(): Promise<IDocumentsStore<DocumentsStore>> {\n  return {\n    create,\n    get,\n    getMultiple,\n    getAll,\n    store,\n    remove,\n    count,\n    load,\n    save\n  }\n}\n","import { AnyOrama } from '../types.js'\n\nexport type DocumentID = string | number\nexport type InternalDocumentID = number\n\nexport type InternalDocumentIDStore = {\n  idToInternalId: Map<string, number>\n  internalIdToId: string[]\n  save: (store: InternalDocumentIDStore) => unknown\n  load: <T extends AnyOrama>(orama: T, raw: unknown) => void\n}\n\nexport function createInternalDocumentIDStore(): InternalDocumentIDStore {\n  return {\n    idToInternalId: new Map(),\n    internalIdToId: [],\n    save,\n    load\n  }\n}\n\nexport function save(store: InternalDocumentIDStore): unknown {\n  return {\n    internalIdToId: store.internalIdToId\n  }\n}\n\nexport function load<T extends AnyOrama>(orama: T, raw: unknown): void {\n  const { internalIdToId } = raw as InternalDocumentIDStore\n\n  orama.internalDocumentIDStore.idToInternalId.clear()\n  orama.internalDocumentIDStore.internalIdToId = []\n  const internalIdToIdLength = internalIdToId.length\n\n  for (let i = 0; i < internalIdToIdLength; i++) {\n    const internalIdItem = internalIdToId[i]\n    orama.internalDocumentIDStore.idToInternalId.set(internalIdItem, i + 1)\n    orama.internalDocumentIDStore.internalIdToId.push(internalIdItem)\n  }\n}\n\nexport function getInternalDocumentId(store: InternalDocumentIDStore, id: DocumentID): InternalDocumentID {\n  if (typeof id === 'string') {\n    const internalId = store.idToInternalId.get(id)\n\n    if (internalId) {\n      return internalId\n    }\n\n    const currentId = store.idToInternalId.size + 1\n\n    store.idToInternalId.set(id, currentId)\n    store.internalIdToId.push(id)\n\n    return currentId\n  }\n\n  if (id > store.internalIdToId.length) {\n    return getInternalDocumentId(store, id.toString())\n  }\n\n  return id\n}\n\nexport function getDocumentIdFromInternalId(store: InternalDocumentIDStore, internalId: InternalDocumentID): string {\n  if (store.internalIdToId.length < internalId) {\n    throw new Error(`Invalid internalId ${internalId}`)\n  }\n\n  return store.internalIdToId[internalId - 1]\n}\n","import type { AnyOrama, OramaPlugin } from '../types.js'\nimport { createError } from '../errors.js'\n\nexport type AvailablePluginHooks = (typeof AVAILABLE_PLUGIN_HOOKS)[number]\n\nexport const AVAILABLE_PLUGIN_HOOKS = [\n  'beforeInsert',\n  'afterInsert',\n  'beforeRemove',\n  'afterRemove',\n  'beforeUpdate',\n  'afterUpdate',\n  'beforeSearch',\n  'afterSearch',\n  'beforeInsertMultiple',\n  'afterInsertMultiple',\n  'beforeRemoveMultiple',\n  'afterRemoveMultiple',\n  'beforeUpdateMultiple',\n  'afterUpdateMultiple',\n  'beforeLoad',\n  'afterLoad',\n  'afterCreate'\n] as const\n\nexport async function getAllPluginsByHook<T extends AnyOrama>(\n  orama: T,\n  hook: AvailablePluginHooks\n): Promise<OramaPlugin[]> {\n  const pluginsToRun: OramaPlugin[] = []\n  const pluginsLength = orama.plugins?.length\n\n  if (!pluginsLength) {\n    return pluginsToRun\n  }\n\n  for (let i = 0; i < pluginsLength; i++) {\n    try {\n      const plugin = await orama.plugins[i]\n      if (typeof plugin[hook] === 'function') {\n        pluginsToRun.push(plugin[hook] as OramaPlugin)\n      }\n    } catch (error) {\n      console.error('Caught error in getAllPluginsByHook:', error)\n      throw createError('PLUGIN_CRASHED')\n    }\n  }\n\n  return pluginsToRun\n}\n","import {\n  BeforeSearch,\n  AfterSearch,\n  AnyOrama,\n  MultipleCallbackComponent,\n  Results,\n  SearchParams,\n  SingleCallbackComponent,\n  TypedDocument,\n  AfterCreate\n} from '../types.js'\n\nexport const OBJECT_COMPONENTS = ['tokenizer', 'index', 'documentsStore', 'sorter']\n\nexport const FUNCTION_COMPONENTS = [\n  'validateSchema',\n  'getDocumentIndexId',\n  'getDocumentProperties',\n  'formatElapsedTime'\n]\n\nexport const SINGLE_OR_ARRAY_COMPONENTS = [\n  /* deprecated with v2.0.0-beta.5 */\n]\n\nexport async function runSingleHook<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  hooks: SingleCallbackComponent<T>[],\n  orama: T,\n  id: string,\n  doc?: ResultDocument\n): Promise<void> {\n  const hooksLength = hooks.length\n  for (let i = 0; i < hooksLength; i++) {\n    await hooks[i](orama, id, doc)\n  }\n}\n\nexport async function runMultipleHook<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  hooks: MultipleCallbackComponent<T>[],\n  orama: T,\n  docsOrIds: ResultDocument[] | string[]\n): Promise<void> {\n  const hooksLength = hooks.length\n  for (let i = 0; i < hooksLength; i++) {\n    await hooks[i](orama, docsOrIds)\n  }\n}\n\nexport async function runAfterSearch<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  hooks: AfterSearch<T, ResultDocument>[],\n  db: T,\n  params: SearchParams<T, ResultDocument>,\n  language: string | undefined,\n  results: Results<ResultDocument>\n): Promise<void> {\n  const hooksLength = hooks.length\n  for (let i = 0; i < hooksLength; i++) {\n    await hooks[i](db, params, language, results)\n  }\n}\n\nexport async function runBeforeSearch<T extends AnyOrama>(\n  hooks: BeforeSearch<T>[],\n  db: T,\n  params: SearchParams<T, TypedDocument<any>>,\n  language: string | undefined\n): Promise<void> {\n  const hooksLength = hooks.length\n  for (let i = 0; i < hooksLength; i++) {\n    await hooks[i](db, params, language)\n  }\n}\n\nexport async function runAfterCreate<T extends AnyOrama>(hooks: AfterCreate<T>[], db: T): Promise<void> {\n  const hooksLength = hooks.length\n  for (let i = 0; i < hooksLength; i++) {\n    await hooks[i](db)\n  }\n}\n","import type {\n  AnyIndexStore,\n  AnyOrama,\n  ArraySearchableType,\n  BM25Params,\n  ComparisonOperator,\n  EnumArrComparisonOperator,\n  EnumComparisonOperator,\n  GeosearchOperation,\n  GeosearchPolygonOperator,\n  GeosearchRadiusOperator,\n  IIndex,\n  ScalarSearchableType,\n  SearchableType,\n  SearchableValue,\n  SearchContext,\n  SearchParamsFullText,\n  Tokenizer,\n  TokenScore,\n  TypedDocument,\n  VectorIndex,\n  VectorType,\n  WhereCondition\n} from '../types.js'\nimport { createError } from '../errors.js'\nimport {\n  create as avlCreate,\n  find as avlFind,\n  greaterThan as avlGreaterThan,\n  insert as avlInsert,\n  lessThan as avlLessThan,\n  RootNode as AVLRootNode,\n  rangeSearch as avlRangeSearch,\n  removeDocument as avlRemoveDocument\n} from '../trees/avl.js'\nimport {\n  create as flatCreate,\n  filter as flatFilter,\n  filterArr as flatFilterArr,\n  insert as flatInsert,\n  removeDocument as flatRemoveDocument,\n  FlatTree\n} from '../trees/flat.js'\nimport {\n  create as radixCreate,\n  find as radixFind,\n  insert as radixInsert,\n  Node as RadixNode,\n  removeDocumentByWord as radixRemoveDocument\n} from '../trees/radix.js'\nimport {\n  create as bkdCreate,\n  insert as bkdInsert,\n  removeDocByID as bkdRemoveDocByID,\n  RootNode as BKDNode,\n  Point as BKDGeoPoint,\n  searchByRadius,\n  searchByPolygon\n} from '../trees/bkd.js'\n\nimport { convertDistanceToMeters, intersect, safeArrayPush, getOwnProperty } from '../utils.js'\nimport { BM25 } from './algorithms.js'\nimport { getMagnitude } from './cosine-similarity.js'\nimport { getInnerType, getVectorSize, isArrayType, isVectorType } from './defaults.js'\nimport {\n  DocumentID,\n  getInternalDocumentId,\n  InternalDocumentID,\n  InternalDocumentIDStore\n} from './internal-document-id-store.js'\n\nexport type FrequencyMap = {\n  [property: string]: {\n    [documentID: InternalDocumentID]:\n      | {\n          [token: string]: number\n        }\n      | undefined\n  }\n}\n\nexport type BooleanIndex = {\n  true: InternalDocumentID[]\n  false: InternalDocumentID[]\n}\n\nexport type TreeType = 'AVL' | 'Radix' | 'Bool' | 'Flat' | 'BKD'\n\nexport type TTree<T = TreeType, N = unknown> = {\n  type: T\n  node: N\n  isArray: boolean\n}\n\nexport type Tree =\n  | TTree<'Radix', RadixNode>\n  | TTree<'AVL', AVLRootNode<number, InternalDocumentID[]>>\n  | TTree<'Bool', BooleanIndex>\n  | TTree<'Flat', FlatTree>\n  | TTree<'BKD', BKDNode>\n\nexport interface Index extends AnyIndexStore {\n  sharedInternalDocumentStore: InternalDocumentIDStore\n  indexes: Record<string, Tree>\n  vectorIndexes: Record<string, VectorIndex>\n  searchableProperties: string[]\n  searchablePropertiesWithTypes: Record<string, SearchableType>\n  frequencies: FrequencyMap\n  tokenOccurrences: Record<string, Record<string, number>>\n  avgFieldLength: Record<string, number>\n  fieldLengths: Record<string, Record<InternalDocumentID, number | undefined>>\n}\n\nexport async function insertDocumentScoreParameters(\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  tokens: string[],\n  docsCount: number\n): Promise<void> {\n  const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, id)\n\n  index.avgFieldLength[prop] = ((index.avgFieldLength[prop] ?? 0) * (docsCount - 1) + tokens.length) / docsCount\n  index.fieldLengths[prop][internalId] = tokens.length\n  index.frequencies[prop][internalId] = {}\n}\n\nexport async function insertTokenScoreParameters(\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  tokens: string[],\n  token: string\n): Promise<void> {\n  let tokenFrequency = 0\n\n  for (const t of tokens) {\n    if (t === token) {\n      tokenFrequency++\n    }\n  }\n\n  const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, id)\n  const tf = tokenFrequency / tokens.length\n\n  index.frequencies[prop][internalId]![token] = tf\n\n  if (!(token in index.tokenOccurrences[prop])) {\n    index.tokenOccurrences[prop][token] = 0\n  }\n\n  // increase a token counter that may not yet exist\n  index.tokenOccurrences[prop][token] = (index.tokenOccurrences[prop][token] ?? 0) + 1\n}\n\nexport async function removeDocumentScoreParameters(\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  docsCount: number\n): Promise<void> {\n  const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, id)\n\n  index.avgFieldLength[prop] =\n    (index.avgFieldLength[prop] * docsCount - index.fieldLengths[prop][internalId]!) / (docsCount - 1)\n  index.fieldLengths[prop][internalId] = undefined\n  index.frequencies[prop][internalId] = undefined\n}\n\nexport async function removeTokenScoreParameters(index: Index, prop: string, token: string): Promise<void> {\n  index.tokenOccurrences[prop][token]--\n}\n\nexport async function calculateResultScores<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  context: SearchContext<T, ResultDocument, SearchParamsFullText<T, ResultDocument>>,\n  index: Index,\n  prop: string,\n  term: string,\n  ids: DocumentID[]\n): Promise<TokenScore[]> {\n  const documentIDs = Array.from(ids)\n\n  // Exact fields for TF-IDF\n  const avgFieldLength = index.avgFieldLength[prop]\n  const fieldLengths = index.fieldLengths[prop]\n  const oramaOccurrences = index.tokenOccurrences[prop]\n  const oramaFrequencies = index.frequencies[prop]\n\n  // oramaOccurrences[term] can be undefined, 0, string, or { [k: string]: number }\n  const termOccurrences = typeof oramaOccurrences[term] === 'number' ? oramaOccurrences[term] ?? 0 : 0\n\n  const scoreList: TokenScore[] = []\n\n  // Calculate TF-IDF value for each term, in each document, for each index.\n  const documentIDsLength = documentIDs.length\n  for (let k = 0; k < documentIDsLength; k++) {\n    const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, documentIDs[k])\n    const tf = oramaFrequencies?.[internalId]?.[term] ?? 0\n\n    const bm25 = BM25(\n      tf,\n      termOccurrences,\n      context.docsCount,\n      fieldLengths[internalId]!,\n      avgFieldLength,\n      context.params.relevance! as Required<BM25Params>\n    )\n\n    scoreList.push([internalId, bm25])\n  }\n  return scoreList\n}\n\nexport async function create<T extends AnyOrama, TSchema extends T['schema']>(\n  orama: T,\n  sharedInternalDocumentStore: T['internalDocumentIDStore'],\n  schema: TSchema,\n  index?: Index,\n  prefix = ''\n): Promise<Index> {\n  if (!index) {\n    index = {\n      sharedInternalDocumentStore,\n      indexes: {},\n      vectorIndexes: {},\n      searchableProperties: [],\n      searchablePropertiesWithTypes: {},\n      frequencies: {},\n      tokenOccurrences: {},\n      avgFieldLength: {},\n      fieldLengths: {}\n    }\n  }\n\n  for (const [prop, type] of Object.entries<SearchableType>(schema)) {\n    const path = `${prefix}${prefix ? '.' : ''}${prop}`\n\n    if (typeof type === 'object' && !Array.isArray(type)) {\n      // Nested\n      create(orama, sharedInternalDocumentStore, type, index, path)\n      continue\n    }\n\n    if (isVectorType(type)) {\n      index.searchableProperties.push(path)\n      index.searchablePropertiesWithTypes[path] = type\n      index.vectorIndexes[path] = {\n        size: getVectorSize(type),\n        vectors: {}\n      }\n    } else {\n      const isArray = /\\[/.test(type as string)\n      switch (type) {\n        case 'boolean':\n        case 'boolean[]':\n          index.indexes[path] = { type: 'Bool', node: { true: [], false: [] }, isArray }\n          break\n        case 'number':\n        case 'number[]':\n          index.indexes[path] = { type: 'AVL', node: avlCreate<number, InternalDocumentID[]>(0, []), isArray }\n          break\n        case 'string':\n        case 'string[]':\n          index.indexes[path] = { type: 'Radix', node: radixCreate(), isArray }\n          index.avgFieldLength[path] = 0\n          index.frequencies[path] = {}\n          index.tokenOccurrences[path] = {}\n          index.fieldLengths[path] = {}\n          break\n        case 'enum':\n        case 'enum[]':\n          index.indexes[path] = { type: 'Flat', node: flatCreate(), isArray }\n          break\n        case 'geopoint':\n          index.indexes[path] = { type: 'BKD', node: bkdCreate(), isArray }\n          break\n        default:\n          throw createError('INVALID_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path)\n      }\n\n      index.searchableProperties.push(path)\n      index.searchablePropertiesWithTypes[path] = type\n    }\n  }\n\n  return index\n}\n\nfunction insertScalarBuilder(\n  implementation: IIndex<Index>,\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  language: string | undefined,\n  tokenizer: Tokenizer,\n  docsCount: number\n) {\n  return async (value: SearchableValue): Promise<void> => {\n    const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, id)\n\n    const { type, node } = index.indexes[prop]\n    switch (type) {\n      case 'Bool': {\n        node[value ? 'true' : 'false'].push(internalId)\n        break\n      }\n      case 'AVL': {\n        avlInsert(node, value as number, [internalId])\n        break\n      }\n      case 'Radix': {\n        const tokens = await tokenizer.tokenize(value as string, language, prop)\n        await implementation.insertDocumentScoreParameters(index, prop, internalId, tokens, docsCount)\n\n        for (const token of tokens) {\n          await implementation.insertTokenScoreParameters(index, prop, internalId, tokens, token)\n\n          radixInsert(node, token, internalId)\n        }\n\n        break\n      }\n      case 'Flat': {\n        flatInsert(node, value as ScalarSearchableType, internalId)\n        break\n      }\n      case 'BKD': {\n        bkdInsert(node, value as unknown as BKDGeoPoint, [internalId])\n        break\n      }\n    }\n  }\n}\n\nexport async function insert(\n  implementation: IIndex<Index>,\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  value: SearchableValue,\n  schemaType: SearchableType,\n  language: string | undefined,\n  tokenizer: Tokenizer,\n  docsCount: number\n): Promise<void> {\n  if (isVectorType(schemaType)) {\n    return insertVector(index, prop, value as number[] | Float32Array, id)\n  }\n\n  const insertScalar = insertScalarBuilder(implementation, index, prop, id, language, tokenizer, docsCount)\n\n  if (!isArrayType(schemaType)) {\n    return insertScalar(value)\n  }\n\n  const elements = value as Array<string | number | boolean>\n  const elementsLength = elements.length\n  for (let i = 0; i < elementsLength; i++) {\n    await insertScalar(elements[i])\n  }\n}\n\nfunction insertVector(index: Index, prop: string, value: number[] | VectorType, id: DocumentID): void {\n  if (!(value instanceof Float32Array)) {\n    value = new Float32Array(value)\n  }\n\n  const size = index.vectorIndexes[prop].size\n  const magnitude = getMagnitude(value, size)\n\n  index.vectorIndexes[prop].vectors[id] = [magnitude, value]\n}\n\nasync function removeScalar(\n  implementation: IIndex<Index>,\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  value: SearchableValue,\n  schemaType: ScalarSearchableType,\n  language: string | undefined,\n  tokenizer: Tokenizer,\n  docsCount: number\n): Promise<boolean> {\n  const internalId = getInternalDocumentId(index.sharedInternalDocumentStore, id)\n\n  if (isVectorType(schemaType)) {\n    delete index.vectorIndexes[prop].vectors[id]\n    return true\n  }\n\n  const { type, node } = index.indexes[prop]\n  switch (type) {\n    case 'AVL': {\n      avlRemoveDocument(node, internalId, value as number)\n      return true\n    }\n    case 'Bool': {\n      const booleanKey = value ? 'true' : 'false'\n      const position = node[booleanKey].indexOf(internalId)\n\n      node[value ? 'true' : 'false'].splice(position, 1)\n      return true\n    }\n    case 'Radix': {\n      const tokens = await tokenizer.tokenize(value as string, language, prop)\n\n      await implementation.removeDocumentScoreParameters(index, prop, id, docsCount)\n\n      for (const token of tokens) {\n        await implementation.removeTokenScoreParameters(index, prop, token)\n        radixRemoveDocument(node, token, internalId)\n      }\n\n      return true\n    }\n    case 'Flat': {\n      flatRemoveDocument(node, internalId, value as ScalarSearchableType)\n      return true\n    }\n    case 'BKD': {\n      bkdRemoveDocByID(node, value as unknown as BKDGeoPoint, internalId)\n      return false\n    }\n  }\n}\n\nexport async function remove(\n  implementation: IIndex<Index>,\n  index: Index,\n  prop: string,\n  id: DocumentID,\n  value: SearchableValue,\n  schemaType: SearchableType,\n  language: string | undefined,\n  tokenizer: Tokenizer,\n  docsCount: number\n): Promise<boolean> {\n  if (!isArrayType(schemaType)) {\n    return removeScalar(\n      implementation,\n      index,\n      prop,\n      id,\n      value,\n      schemaType as ScalarSearchableType,\n      language,\n      tokenizer,\n      docsCount\n    )\n  }\n\n  const innerSchemaType = getInnerType(schemaType as ArraySearchableType)\n\n  const elements = value as Array<string | number | boolean>\n  const elementsLength = elements.length\n  for (let i = 0; i < elementsLength; i++) {\n    await removeScalar(implementation, index, prop, id, elements[i], innerSchemaType, language, tokenizer, docsCount)\n  }\n\n  return true\n}\n\nexport async function search<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  context: SearchContext<T, ResultDocument, SearchParamsFullText<T, ResultDocument>>,\n  index: Index,\n  prop: string,\n  term: string\n): Promise<TokenScore[]> {\n  if (!(prop in index.tokenOccurrences)) {\n    return []\n  }\n\n  const { node, type } = index.indexes[prop]\n  if (type !== 'Radix') {\n    throw createError('WRONG_SEARCH_PROPERTY_TYPE', prop)\n  }\n\n  const { exact, tolerance } = context.params\n  const searchResult = radixFind(node, { term, exact, tolerance })\n  const ids = new Set<InternalDocumentID>()\n\n  for (const key in searchResult) {\n    //skip keys inherited from prototype\n    const ownProperty = getOwnProperty(searchResult, key)\n    if (!ownProperty) continue\n\n    for (const id of searchResult[key]) {\n      ids.add(id)\n    }\n  }\n\n  return context.index.calculateResultScores(context, index, prop, term, Array.from(ids))\n}\n\nexport async function searchByWhereClause<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  context: SearchContext<T, ResultDocument>,\n  index: Index,\n  filters: Partial<WhereCondition<T['schema']>>\n): Promise<number[]> {\n  const filterKeys = Object.keys(filters)\n\n  const filtersMap: Record<string, InternalDocumentID[]> = filterKeys.reduce(\n    (acc, key) => ({\n      [key]: [],\n      ...acc\n    }),\n    {}\n  )\n\n  for (const param of filterKeys) {\n    const operation = filters[param]!\n\n    if (typeof index.indexes[param] === 'undefined') {\n      throw createError('UNKNOWN_FILTER_PROPERTY', param)\n    }\n\n    const { node, type, isArray } = index.indexes[param]\n\n    if (type === 'Bool') {\n      const idx = node\n      const filteredIDs = idx[operation.toString() as keyof BooleanIndex]\n      safeArrayPush(filtersMap[param], filteredIDs)\n      continue\n    }\n\n    if (type === 'BKD') {\n      let reqOperation: 'radius' | 'polygon'\n\n      if ('radius' in (operation as GeosearchOperation)) {\n        reqOperation = 'radius'\n      } else if ('polygon' in (operation as GeosearchOperation)) {\n        reqOperation = 'polygon'\n      } else {\n        throw new Error(`Invalid operation ${operation}`)\n      }\n\n      if (reqOperation === 'radius') {\n        const {\n          value,\n          coordinates,\n          unit = 'm',\n          inside = true,\n          highPrecision = false\n        } = operation[reqOperation] as GeosearchRadiusOperator['radius']\n        const distanceInMeters = convertDistanceToMeters(value, unit)\n        const ids = searchByRadius(\n          node.root,\n          coordinates as BKDGeoPoint,\n          distanceInMeters,\n          inside,\n          undefined,\n          highPrecision\n        )\n        // @todo: convert this into a for loop\n        safeArrayPush(filtersMap[param], ids.map(({ docIDs }) => docIDs).flat())\n      } else {\n        const {\n          coordinates,\n          inside = true,\n          highPrecision = false\n        } = operation[reqOperation] as GeosearchPolygonOperator['polygon']\n        const ids = searchByPolygon(node.root, coordinates as BKDGeoPoint[], inside, undefined, highPrecision)\n        // @todo: convert this into a for loop\n        safeArrayPush(filtersMap[param], ids.map(({ docIDs }) => docIDs).flat())\n      }\n\n      continue\n    }\n\n    if (type === 'Radix' && (typeof operation === 'string' || Array.isArray(operation))) {\n      for (const raw of [operation].flat()) {\n        const term = await context.tokenizer.tokenize(raw, context.language, param)\n        for (const t of term) {\n          const filteredIDsResults = radixFind(node, { term: t, exact: true })\n          safeArrayPush(filtersMap[param], Object.values(filteredIDsResults).flat())\n        }\n      }\n\n      continue\n    }\n\n    const operationKeys = Object.keys(operation)\n\n    if (operationKeys.length > 1) {\n      throw createError('INVALID_FILTER_OPERATION', operationKeys.length)\n    }\n\n    if (type === 'Flat') {\n      if (isArray) {\n        safeArrayPush(filtersMap[param], flatFilterArr(node, operation as EnumArrComparisonOperator))\n      } else {\n        safeArrayPush(filtersMap[param], flatFilter(node, operation as EnumComparisonOperator))\n      }\n      continue\n    }\n\n    if (type === 'AVL') {\n      const operationOpt = operationKeys[0] as keyof ComparisonOperator\n      const operationValue = (operation as ComparisonOperator)[operationOpt]\n      let filteredIDs: InternalDocumentID[] = []\n\n      switch (operationOpt) {\n        case 'gt': {\n          filteredIDs = avlGreaterThan(node, operationValue, false)\n          break\n        }\n        case 'gte': {\n          filteredIDs = avlGreaterThan(node, operationValue, true)\n          break\n        }\n        case 'lt': {\n          filteredIDs = avlLessThan(node, operationValue, false)\n          break\n        }\n        case 'lte': {\n          filteredIDs = avlLessThan(node, operationValue, true)\n          break\n        }\n        case 'eq': {\n          filteredIDs = avlFind(node, operationValue) ?? []\n          break\n        }\n        case 'between': {\n          const [min, max] = operationValue as number[]\n          filteredIDs = avlRangeSearch(node, min, max)\n          break\n        }\n      }\n\n      safeArrayPush(filtersMap[param], filteredIDs)\n    }\n  }\n\n  // AND operation: calculate the intersection between all the IDs in filterMap\n  const result = intersect(Object.values(filtersMap))\n\n  return result\n}\n\nexport async function getSearchableProperties(index: Index): Promise<string[]> {\n  return index.searchableProperties\n}\n\nexport async function getSearchablePropertiesWithTypes(index: Index): Promise<Record<string, SearchableType>> {\n  return index.searchablePropertiesWithTypes\n}\n\nfunction loadRadixNode(node: RadixNode): RadixNode {\n  const convertedNode = radixCreate(node.e, node.s, node.k)\n\n  convertedNode.d = node.d\n  convertedNode.w = node.w\n\n  for (const childrenKey of Object.keys(node.c)) {\n    convertedNode.c[childrenKey] = loadRadixNode(node.c[childrenKey])\n  }\n\n  return convertedNode\n}\n\nfunction loadFlatNode(node: unknown): FlatTree {\n  return {\n    numberToDocumentId: new Map(node as [ScalarSearchableType, InternalDocumentID[]][])\n  }\n}\n\nfunction saveFlatNode(node: FlatTree): unknown {\n  return Array.from(node.numberToDocumentId.entries())\n}\n\nexport async function load<R = unknown>(sharedInternalDocumentStore: InternalDocumentIDStore, raw: R): Promise<Index> {\n  const {\n    indexes: rawIndexes,\n    vectorIndexes: rawVectorIndexes,\n    searchableProperties,\n    searchablePropertiesWithTypes,\n    frequencies,\n    tokenOccurrences,\n    avgFieldLength,\n    fieldLengths\n  } = raw as Index\n\n  const indexes: Index['indexes'] = {}\n  const vectorIndexes: Index['vectorIndexes'] = {}\n\n  for (const prop of Object.keys(rawIndexes)) {\n    const { node, type, isArray } = rawIndexes[prop]\n\n    switch (type) {\n      case 'Radix':\n        indexes[prop] = {\n          type: 'Radix',\n          node: loadRadixNode(node),\n          isArray\n        }\n        break\n      case 'Flat':\n        indexes[prop] = {\n          type: 'Flat',\n          node: loadFlatNode(node),\n          isArray\n        }\n        break\n      default:\n        indexes[prop] = rawIndexes[prop]\n    }\n  }\n\n  for (const idx of Object.keys(rawVectorIndexes)) {\n    const vectors = rawVectorIndexes[idx].vectors\n\n    for (const vec in vectors) {\n      vectors[vec] = [vectors[vec][0], new Float32Array(vectors[vec][1])]\n    }\n\n    vectorIndexes[idx] = {\n      size: rawVectorIndexes[idx].size,\n      vectors\n    }\n  }\n\n  return {\n    sharedInternalDocumentStore,\n    indexes,\n    vectorIndexes,\n    searchableProperties,\n    searchablePropertiesWithTypes,\n    frequencies,\n    tokenOccurrences,\n    avgFieldLength,\n    fieldLengths\n  }\n}\n\nexport async function save<R = unknown>(index: Index): Promise<R> {\n  const {\n    indexes,\n    vectorIndexes,\n    searchableProperties,\n    searchablePropertiesWithTypes,\n    frequencies,\n    tokenOccurrences,\n    avgFieldLength,\n    fieldLengths\n  } = index\n\n  const vectorIndexesAsArrays: Index['vectorIndexes'] = {}\n\n  for (const idx of Object.keys(vectorIndexes)) {\n    const vectors = vectorIndexes[idx].vectors\n\n    for (const vec in vectors) {\n      vectors[vec] = [vectors[vec][0], Array.from(vectors[vec][1]) as unknown as Float32Array]\n    }\n\n    vectorIndexesAsArrays[idx] = {\n      size: vectorIndexes[idx].size,\n      vectors\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const savedIndexes: any = {}\n  for (const name of Object.keys(indexes)) {\n    const { type, node, isArray } = indexes[name]\n    if (type !== 'Flat') {\n      savedIndexes[name] = indexes[name]\n      continue\n    }\n    savedIndexes[name] = {\n      type: 'Flat',\n      node: saveFlatNode(node),\n      isArray\n    }\n  }\n\n  return {\n    indexes: savedIndexes,\n    vectorIndexes: vectorIndexesAsArrays,\n    searchableProperties,\n    searchablePropertiesWithTypes,\n    frequencies,\n    tokenOccurrences,\n    avgFieldLength,\n    fieldLengths\n  } as R\n}\n\nexport async function createIndex(): Promise<IIndex<Index>> {\n  return {\n    create,\n    insert,\n    remove,\n    insertDocumentScoreParameters,\n    insertTokenScoreParameters,\n    removeDocumentScoreParameters,\n    removeTokenScoreParameters,\n    calculateResultScores,\n    search,\n    searchByWhereClause,\n    getSearchableProperties,\n    getSearchablePropertiesWithTypes,\n    load,\n    save\n  }\n}\n","import { Nullable } from '../types.js'\nimport { safeArrayPush } from '../utils.js'\n\nexport interface Node<K, V> {\n  // Node key\n  k: K\n  // Node value\n  v: V\n  // Left child node\n  l: Nullable<Node<K, V>>\n  // Right child node\n  r: Nullable<Node<K, V>>\n  // Tree height from this node\n  h: number\n}\n\nexport interface RootNode<K, V> {\n  root: Node<K, V>\n}\n\nfunction rotateLeft<K, V>(node: Node<K, V>): Node<K, V> {\n  const right = node.r as Node<K, V>\n  node.r = right.l\n  right.l = node\n  node.h = Math.max(getHeight(node.l), getHeight(node.r)) + 1\n  right.h = Math.max(getHeight(right.l), getHeight(right.r)) + 1\n  return right\n}\n\nfunction rotateRight<K, V>(node: Node<K, V>): Node<K, V> {\n  const left = node.l as Node<K, V>\n  node.l = left.r\n  left.r = node\n  node.h = Math.max(getHeight(node.l), getHeight(node.r)) + 1\n  left.h = Math.max(getHeight(left.l), getHeight(left.r)) + 1\n  return left\n}\n\nexport function contains<K, V>(node: RootNode<K, V>, key: K): boolean {\n  return !!find(node, key)\n}\n\nexport function getSize<K, V>(root: Nullable<RootNode<K, V>>): number {\n  let size = 0\n  const queue: Array<Node<K, V>> = []\n\n  if (root !== null) {\n    queue.push(root.root)\n  }\n\n  while (queue.length > 0) {\n    const node = queue.shift() as Node<K, V>\n    size++\n\n    if (node.l !== null) {\n      queue.push(node.l)\n    }\n\n    if (node.r !== null) {\n      queue.push(node.r)\n    }\n  }\n\n  return size\n}\n\nexport function isBalanced<K, V>(root: Nullable<RootNode<K, V>>): boolean {\n  if (root === null) return true\n\n  const stack: Array<Node<K, V>> = [root.root]\n\n  while (stack.length > 0) {\n    const node = stack.pop()\n\n    if (node != null) {\n      const leftHeight = getHeight(node.l)\n      const rightHeight = getHeight(node.r)\n      const heightDiff = leftHeight - rightHeight\n\n      if (Math.abs(heightDiff) > 1) {\n        return false\n      }\n\n      if (node.l !== null) {\n        stack.push(node.l)\n      }\n      if (node.r !== null) {\n        stack.push(node.r)\n      }\n    }\n  }\n\n  return true\n}\n\nexport function rangeSearch<K, V>(node: RootNode<K, V>, min: K, max: K): V {\n  const result: V[] = []\n\n  function traverse(node: Node<K, V>) {\n    if (node === null) {\n      return\n    }\n\n    if (min < node.k) {\n      traverse(node.l as Node<K, V>)\n    }\n\n    if (node.k >= min && node.k <= max) {\n      safeArrayPush(result, node.v as V[])\n    }\n\n    if (max > node.k) {\n      traverse(node.r as Node<K, V>)\n    }\n  }\n\n  traverse(node.root)\n\n  return result as V\n}\n\nexport function greaterThan<K, V>(node: RootNode<K, V>, key: K, inclusive = false): V {\n  const result: V[] = []\n\n  if (node === null) return result as V;\n\n  const stack: Array<Nullable<Node<K, V>>> = [node.root]\n\n  while (stack.length > 0) {\n    const node = stack.pop()\n    if (!node) {\n      continue;\n    }\n\n    if (inclusive && node.k >= key) {\n      safeArrayPush(result, node.v as V[])\n    }\n    if (!inclusive && node.k > key) {\n      safeArrayPush(result, node.v as V[])\n    }\n\n    stack.push(node.r)\n    stack.push(node.l)\n  }\n\n  return result as V\n}\n\nexport function lessThan<K, V>(node: RootNode<K, V>, key: K, inclusive = false): V {\n  const result: V[] = []\n\n  if (node === null) return result as V;\n\n  const stack: Array<Nullable<Node<K, V>>> = [node.root]\n\n  while (stack.length > 0) {\n    const node = stack.pop()\n    if (!node) {\n      continue;\n    }\n\n    if (inclusive && node.k <= key) {\n      safeArrayPush(result, node.v as V[])\n    }\n    if (!inclusive && node.k < key) {\n      safeArrayPush(result, node.v as V[])\n    }\n\n    stack.push(node.r)\n    stack.push(node.l)\n  }\n\n  return result as V\n}\n\nfunction getNodeByKey<K, V>(node: Nullable<Node<K, V>>, key: K): Nullable<Node<K, V>> {\n  while (node !== null) {\n    if (key < node.k) {\n      node = node.l\n    } else if (key > node.k) {\n      node = node.r\n    } else {\n      return node\n    }\n  }\n  return null\n}\n\nexport function create<K, V>(key: K, value: V): RootNode<K, V> {\n  return {\n    root: {\n      k: key,\n      v: value,\n      l: null,\n      r: null,\n      h: 0\n    }\n  }\n}\n\nexport function insert<K, V>(rootNode: RootNode<K, V[]>, key: K, newValue: V[]): void {\n  function insertNode(node: Nullable<Node<K, V[]>>, key: K, newValue: V[]): Node<K, V[]> {\n    if (node === null) {\n      return {\n        k: key,\n        v: newValue,\n        l: null,\n        r: null,\n        h: 0\n      }\n    }\n\n    if (key < node.k) {\n      node.l = insertNode(node.l, key, newValue)\n    } else if (key > node.k) {\n      node.r = insertNode(node.r, key, newValue)\n    } else {\n      for (const value of newValue) {\n        node.v.push(value)\n      }\n      return node\n    }\n\n    node.h = 1 + Math.max(getHeight(node.l), getHeight(node.r))\n\n    const balanceFactor = getHeight(node.l) - getHeight(node.r)\n\n    if (balanceFactor > 1 && key < node.l!.k) {\n      return rotateRight(node)\n    }\n\n    if (balanceFactor < -1 && key > node.r!.k) {\n      return rotateLeft(node)\n    }\n\n    if (balanceFactor > 1 && key > node.l!.k) {\n      node.l = rotateLeft(node.l!)\n      return rotateRight(node)\n    }\n\n    if (balanceFactor < -1 && key < node.r!.k) {\n      node.r = rotateRight(node.r!)\n      return rotateLeft(node)\n    }\n\n    return node\n  }\n\n  rootNode.root = insertNode(rootNode.root, key, newValue)\n}\n\nfunction getHeight<K, V>(node: Nullable<Node<K, V>>): number {\n  return node !== null ? node.h : -1\n}\n\nexport function find<K, V>(root: RootNode<K, V>, key: K): Nullable<V> {\n  const node = getNodeByKey(root.root, key)\n  if (node === null) {\n    return null\n  }\n  return node.v\n}\n\nexport function remove<K, V>(rootNode: Nullable<RootNode<K, V>>, key: K): void {\n  if (rootNode === null || rootNode.root === null) {\n    return\n  }\n\n  let node = rootNode.root\n  let parentNode: Nullable<Node<K, V>> = null\n\n  while (node != null && node.k !== key) {\n    parentNode = node\n    if (key < node.k) {\n      node = node.l!\n    } else {\n      node = node.r!\n    }\n  }\n\n  if (node === null) {\n    return\n  }\n\n  const deleteNode = () => {\n    if (node.l === null && node.r === null) {\n      if (parentNode === null) {\n        rootNode.root = null!\n      } else {\n        if (parentNode.l === node) {\n          parentNode.l = null\n        } else {\n          parentNode.r = null\n        }\n      }\n    } else if (node.l != null && node.r != null) {\n      let minValueNode = node.r\n      let minValueParent = node\n\n      while (minValueNode.l != null) {\n        minValueParent = minValueNode\n        minValueNode = minValueNode.l\n      }\n\n      node.k = minValueNode.k\n\n      if (minValueParent === node) {\n        minValueParent.r = minValueNode.r\n      } else {\n        minValueParent.l = minValueNode.r\n      }\n    } else {\n      const childNode = node.l != null ? node.l : node.r\n\n      if (parentNode === null) {\n        rootNode.root = childNode!\n      } else {\n        if (parentNode.l === node) {\n          parentNode.l = childNode\n        } else {\n          parentNode.r = childNode\n        }\n      }\n    }\n  }\n\n  deleteNode()\n}\n\nexport function removeDocument<K, V>(root: RootNode<K, V[]>, id: V, key: K): void {\n  const node = getNodeByKey(root.root, key)!\n\n  if (!node) {\n    return\n  }\n\n  if (node.v.length === 1) {\n    remove(root, key)\n    return\n  }\n\n  node.v.splice(node.v.indexOf(id), 1)\n}\n","import type { Point } from './bkd.js'\nimport { InternalDocumentID } from '../components/internal-document-id-store.js'\nimport { EnumArrComparisonOperator, EnumComparisonOperator, Nullable, ScalarSearchableValue } from '../types.js'\nimport { intersect, safeArrayPush } from '../utils.js'\n\nexport interface FlatTree {\n  numberToDocumentId: Map<ScalarSearchableValue, InternalDocumentID[]>\n}\n\nexport function create(): FlatTree {\n  return {\n    numberToDocumentId: new Map()\n  }\n}\n\nexport function insert(root: FlatTree, key: ScalarSearchableValue, value: InternalDocumentID): FlatTree {\n  if (root.numberToDocumentId.has(key)) {\n    root.numberToDocumentId.get(key)!.push(value)\n    return root\n  }\n  root.numberToDocumentId.set(key, [value])\n  return root\n}\n\nexport function find(root: FlatTree, key: ScalarSearchableValue): Nullable<InternalDocumentID[]> {\n  return root.numberToDocumentId.get(key) ?? null\n}\n\nexport function remove(root: Nullable<FlatTree>, key: ScalarSearchableValue): Nullable<FlatTree> {\n  if (root != null) {\n    root.numberToDocumentId.delete(key)\n  }\n  return root\n}\nexport function removeDocument(root: FlatTree, id: InternalDocumentID, key: ScalarSearchableValue): void {\n  root?.numberToDocumentId.set(key, root?.numberToDocumentId.get(key)?.filter((v) => v !== id) ?? [])\n  if (root?.numberToDocumentId.get(key)?.length === 0) {\n    root?.numberToDocumentId.delete(key)\n  }\n}\n\nexport function contains(node: FlatTree, key: ScalarSearchableValue): boolean {\n  return !(find(node, key) == null)\n}\n\nexport function getSize(root: Nullable<FlatTree>): number {\n  let size = 0\n  for (const [, value] of root?.numberToDocumentId ?? []) {\n    size += value.length\n  }\n  return size\n}\nexport function filter(root: FlatTree, operation: EnumComparisonOperator): InternalDocumentID[] {\n  const operationKeys = Object.keys(operation)\n\n  if (operationKeys.length !== 1) {\n    throw new Error('Invalid operation')\n  }\n\n  const operationType = operationKeys[0] as keyof EnumComparisonOperator\n  switch (operationType) {\n    case 'eq': {\n      const value = operation[operationType]!\n      return root.numberToDocumentId.get(value) ?? []\n    }\n    case 'in': {\n      const value = operation[operationType]!\n      const result: InternalDocumentID[] = []\n      for (const v of value) {\n        const ids = root.numberToDocumentId.get(v)\n        if (ids != null) {\n          safeArrayPush(result, ids)\n        }\n      }\n      return result\n    }\n    case 'nin': {\n      const value = operation[operationType]!\n      const result: InternalDocumentID[] = []\n\n      const keys = root.numberToDocumentId.keys()\n      for (const key of keys) {\n        if (value.includes(key as Exclude<ScalarSearchableValue, Point>)) {\n          continue\n        }\n        const ids = root.numberToDocumentId.get(key)\n        if (ids != null) {\n          safeArrayPush(result, ids)\n        }\n      }\n      return result\n    }\n  }\n\n  throw new Error('Invalid operation')\n}\n\nexport function filterArr(root: FlatTree, operation: EnumArrComparisonOperator): InternalDocumentID[] {\n  const operationKeys = Object.keys(operation)\n\n  if (operationKeys.length !== 1) {\n    throw new Error('Invalid operation')\n  }\n\n  const operationType = operationKeys[0] as keyof EnumArrComparisonOperator\n  switch (operationType) {\n    case 'containsAll': {\n      const values = operation[operationType]!\n      const ids = values.map((value) => root.numberToDocumentId.get(value) ?? [])\n      return intersect(ids)\n    }\n  }\n\n  throw new Error('Invalid operation')\n}\n","import { syncBoundedLevenshtein } from '../components/levenshtein.js'\nimport { InternalDocumentID } from '../components/internal-document-id-store.js'\nimport { getOwnProperty } from '../utils.js'\n\nexport class Node {\n  constructor(key: string, subWord: string, end: boolean) {\n    this.k = key\n    this.s = subWord\n    this.e = end\n  }\n\n  // Node key\n  public k: string\n  // Node subword\n  public s: string\n  // Node children\n  public c: Record<string, Node> = {}\n  // Node documents\n  public d: InternalDocumentID[] = []\n  // Node end\n  public e: boolean\n  // Node word\n  public w = ''\n\n  public toJSON(): object {\n    return {\n      w: this.w,\n      s: this.s,\n      c: this.c,\n      d: this.d,\n      e: this.e\n    }\n  }\n}\n\ninterface FindParams {\n  term: string\n  exact?: boolean\n  tolerance?: number\n}\n\ntype FindResult = Record<string, InternalDocumentID[]>\n\nfunction updateParent(node: Node, parent: Node): void {\n  node.w = parent.w + node.s\n}\n\nfunction addDocument(node: Node, docID: InternalDocumentID): void {\n  node.d.push(docID)\n}\n\nfunction removeDocument(node: Node, docID: InternalDocumentID): boolean {\n  const index = node.d.indexOf(docID)\n\n  /* c8 ignore next 3 */\n  if (index === -1) {\n    return false\n  }\n\n  node.d.splice(index, 1)\n\n  return true\n}\n\nfunction findAllWords(node: Node, output: FindResult, term: string, exact?: boolean, tolerance?: number) {\n  if (node.e) {\n    const { w, d: docIDs } = node\n\n    if (exact && w !== term) {\n      return {}\n    }\n\n    // always check in own property to prevent access to inherited properties\n    // fix https://github.com/OramaSearch/orama/issues/137\n    if (getOwnProperty(output, w) == null) {\n      if (tolerance) {\n        // computing the absolute difference of letters between the term and the word\n        const difference = Math.abs(term.length - w.length)\n\n        // if the tolerance is set, check whether the edit distance is within tolerance.\n        // In that case, we don't need to add the word to the output\n        if (difference <= tolerance && syncBoundedLevenshtein(term, w, tolerance).isBounded) {\n          output[w] = []\n        }\n      } else {\n        // prevent default tolerance not set\n        output[w] = []\n      }\n    }\n\n    // check if _output[w] exists and then add the doc to it\n    // always check in own property to prevent access to inherited properties\n    // fix https://github.com/OramaSearch/orama/issues/137\n    if (getOwnProperty(output, w) != null && docIDs.length > 0) {\n      const docs = new Set(output[w])\n\n      const docIDsLength = docIDs.length\n      for (let i = 0; i < docIDsLength; i++) {\n        docs.add(docIDs[i])\n      }\n      output[w] = Array.from(docs)\n    }\n  }\n\n  // recursively search the children\n  for (const character of Object.keys(node.c)) {\n    findAllWords(node.c[character], output, term, exact, tolerance)\n  }\n  return output\n}\n\nfunction getCommonPrefix(a: string, b: string) {\n  let commonPrefix = ''\n  const len = Math.min(a.length, b.length)\n  for (let i = 0; i < len; i++) {\n    if (a[i] !== b[i]) {\n      return commonPrefix\n    }\n    commonPrefix += a[i]\n  }\n  return commonPrefix\n}\n\nexport function create(end = false, subWord = '', key = ''): Node {\n  return new Node(key, subWord, end)\n}\n\nexport function insert(root: Node, word: string, docId: InternalDocumentID) {\n  const wordLength = word.length\n  for (let i = 0; i < wordLength; i++) {\n    const currentCharacter = word[i]\n    const wordAtIndex = word.substring(i)\n    const rootChildCurrentChar = root.c[currentCharacter]\n\n    if (rootChildCurrentChar) {\n      const edgeLabel = rootChildCurrentChar.s\n      const edgeLabelLength = edgeLabel.length\n\n      const commonPrefix = getCommonPrefix(edgeLabel, wordAtIndex)\n      const commonPrefixLength = commonPrefix.length\n\n      // the wordAtIndex matches exactly with an existing child node\n      if (edgeLabel === wordAtIndex) {\n        addDocument(rootChildCurrentChar, docId)\n        rootChildCurrentChar.e = true\n        return\n      }\n\n      const edgeLabelAtCommonPrefix = edgeLabel[commonPrefixLength]\n      // the wordAtIndex is completely contained in the child node subword\n      if (commonPrefixLength < edgeLabelLength && commonPrefixLength === wordAtIndex.length) {\n        const newNode = create(true, wordAtIndex, currentCharacter) // Create a new node with end set to true\n        newNode.c[edgeLabelAtCommonPrefix] = rootChildCurrentChar\n\n        const newNodeChild = newNode.c[edgeLabelAtCommonPrefix]\n        newNodeChild.s = edgeLabel.substring(commonPrefixLength)\n        newNodeChild.k = edgeLabelAtCommonPrefix\n\n        root.c[currentCharacter] = newNode\n\n        updateParent(newNode, root)\n        updateParent(newNodeChild, newNode)\n        addDocument(newNode, docId)\n        return\n      }\n\n      // the wordAtIndex is partially contained in the child node subword\n      if (commonPrefixLength < edgeLabelLength && commonPrefixLength < wordAtIndex.length) {\n        const inbetweenNode = create(false, commonPrefix, currentCharacter)\n        inbetweenNode.c[edgeLabelAtCommonPrefix] = rootChildCurrentChar\n        root.c[currentCharacter] = inbetweenNode\n\n        const inbetweenNodeChild = inbetweenNode.c[edgeLabelAtCommonPrefix]\n        inbetweenNodeChild.s = edgeLabel.substring(commonPrefixLength)\n        inbetweenNodeChild.k = edgeLabelAtCommonPrefix\n\n        const wordAtCommonPrefix = wordAtIndex[commonPrefixLength]\n        const newNode = create(true, word.substring(i + commonPrefixLength), wordAtCommonPrefix)\n        addDocument(newNode, docId)\n\n        inbetweenNode.c[wordAtCommonPrefix] = newNode\n\n        updateParent(inbetweenNode, root)\n        updateParent(newNode, inbetweenNode)\n        updateParent(inbetweenNodeChild, inbetweenNode)\n        return\n      }\n\n      // skip to the next divergent character\n      i += edgeLabelLength - 1\n      // navigate in the child node\n      root = rootChildCurrentChar\n    } else {\n      // if the node for the current character doesn't exist create new node\n      const newNode = create(true, wordAtIndex, currentCharacter)\n      addDocument(newNode, docId)\n\n      root.c[currentCharacter] = newNode\n      updateParent(newNode, root)\n      return\n    }\n  }\n}\n\nfunction _findLevenshtein(\n  node: Node,\n  term: string,\n  index: number,\n  tolerance: number,\n  originalTolerance: number,\n  output: FindResult\n) {\n  if (tolerance < 0) {\n    return\n  }\n\n  if (node.w.startsWith(term)) {\n    findAllWords(node, output, term, false, 0)\n    return\n  }\n\n  if (node.e) {\n    const { w, d: docIDs } = node\n    if (w) {\n      if (syncBoundedLevenshtein(term, w, originalTolerance).isBounded) {\n        output[w] = []\n      }\n      if (getOwnProperty(output, w) != null && docIDs.length > 0) {\n        const docs = new Set(output[w])\n\n        const docIDsLength = docIDs.length\n        for (let i = 0; i < docIDsLength; i++) {\n          docs.add(docIDs[i])\n        }\n        output[w] = Array.from(docs)\n      }\n    }\n  }\n\n  if (index >= term.length) {\n    return\n  }\n\n  // Match current character without consuming tolerance\n  if (term[index] in node.c) {\n    _findLevenshtein(node.c[term[index]], term, index + 1, tolerance, originalTolerance, output)\n  }\n\n  // If tolerance is still available, consider other branches:\n  // 1. Deletion (skip the current term character)\n  _findLevenshtein(node, term, index + 1, tolerance - 1, originalTolerance, output)\n\n  // 2. Insertion (skip the current tree node character)\n  for (const character in node.c) {\n    _findLevenshtein(node.c[character], term, index, tolerance - 1, originalTolerance, output)\n  }\n\n  // 3. Substitution (skip both current term character and tree node character)\n  for (const character in node.c) {\n    if (character !== term[index]) {\n      _findLevenshtein(node.c[character], term, index + 1, tolerance - 1, originalTolerance, output)\n    }\n  }\n}\n\nexport function find(root: Node, { term, exact, tolerance }: FindParams): FindResult {\n  // Find the closest node to the term\n\n  // Use `if` condition because tolerance `0` is supposed to match only prefix.\n  // (allows infinite insertions at end, which is against normal levenshtein logic).\n  // (new _findLevenshtein only handles not exact and tolerance>0 condition)\n  if (tolerance && !exact) {\n    const output: FindResult = {}\n    tolerance = tolerance || 0\n\n    _findLevenshtein(root, term, 0, tolerance || 0, tolerance, output)\n    return output\n  } else {\n    const termLength = term.length\n    for (let i = 0; i < termLength; i++) {\n      const character = term[i]\n      if (character in root.c) {\n        const rootChildCurrentChar = root.c[character]\n        const edgeLabel = rootChildCurrentChar.s\n        const termSubstring = term.substring(i)\n\n        // find the common prefix between two words ex: prime and primate = prim\n        const commonPrefix = getCommonPrefix(edgeLabel, termSubstring)\n        const commonPrefixLength = commonPrefix.length\n        // if the common prefix length is equal to edgeLabel length (the node subword) it means they are a match\n        // if the common prefix is equal to the term means it is contained in the node\n        if (commonPrefixLength !== edgeLabel.length && commonPrefixLength !== termSubstring.length) {\n          // if tolerance is set we take the current node as the closest\n          if (tolerance) break\n          return {}\n        }\n\n        // skip the subword length and check the next divergent character\n        i += rootChildCurrentChar.s.length - 1\n        // navigate into the child node\n        root = rootChildCurrentChar\n      } else {\n        return {}\n      }\n    }\n\n    const output: FindResult = {}\n    // found the closest node we recursively search through children\n    findAllWords(root, output, term, exact, tolerance)\n\n    return output\n  }\n}\n\nexport function contains(root: Node, term: string): boolean {\n  const termLength = term.length\n  for (let i = 0; i < termLength; i++) {\n    const character = term[i]\n\n    if (character in root.c) {\n      const rootChildrenChar = root.c[character]\n      const edgeLabel = rootChildrenChar.s\n      const termSubstring = term.substring(i)\n      const commonPrefix = getCommonPrefix(edgeLabel, termSubstring)\n      const commonPrefixLength = commonPrefix.length\n\n      if (commonPrefixLength !== edgeLabel.length && commonPrefixLength !== termSubstring.length) {\n        return false\n      }\n      i += rootChildrenChar.s.length - 1\n      root = rootChildrenChar\n    } else {\n      return false\n    }\n  }\n  return true\n}\n\nexport function removeWord(root: Node, term: string): boolean {\n  if (!term) {\n    return false\n  }\n\n  const termLength = term.length\n  for (let i = 0; i < termLength; i++) {\n    const character = term[i]\n    const parent = root\n    if (character in root.c) {\n      i += root.c[character].s.length - 1\n      root = root.c[character]\n\n      if (Object.keys(root.c).length === 0) {\n        delete parent.c[root.k]\n        return true\n      }\n    } else {\n      return false\n    }\n  }\n\n  return false\n}\n\nexport function removeDocumentByWord(root: Node, term: string, docID: InternalDocumentID, exact = true): boolean {\n  if (!term) {\n    return true\n  }\n\n  const termLength = term.length\n  for (let i = 0; i < termLength; i++) {\n    const character = term[i]\n    if (character in root.c) {\n      const rootChildCurrentChar = root.c[character]\n      i += rootChildCurrentChar.s.length - 1\n      root = rootChildCurrentChar\n\n      if (exact && root.w !== term) {\n        // Do nothing if the exact condition is not met.\n      } else {\n        removeDocument(root, docID)\n      }\n    } else {\n      return false\n    }\n  }\n  return true\n}\n","export type BoundedMetric = {\n  isBounded: boolean\n  distance: number\n}\n\n/**\n * Inspired by:\n * https://github.com/Yomguithereal/talisman/blob/86ae55cbd040ff021d05e282e0e6c71f2dde21f8/src/metrics/levenshtein.js#L218-L340\n */\nfunction _boundedLevenshtein(a: string, b: string, tolerance: number): number {\n  // the strings are the same\n  if (a === b) {\n    return 0\n  }\n\n  // a should be the shortest string\n  const swap = a\n  if (a.length > b.length) {\n    a = b\n    b = swap\n  }\n\n  let lenA = a.length\n  let lenB = b.length\n\n  // ignore common prefix\n  let startIdx = 0\n  while (startIdx < lenA && a.charCodeAt(startIdx) === b.charCodeAt(startIdx)) {\n    startIdx++\n  }\n\n  // if string A is subfix of B, we consider the distance 0\n  // because we search for prefix!\n  // fix https://github.com/oramasearch/orama/issues/544\n  if (startIdx === lenA) {\n    return 0\n  }\n\n  // ignore common suffix\n  // note: `~-` decreases by a unit in a bitwise fashion\n  while (lenA > 0 && a.charCodeAt(~-lenA) === b.charCodeAt(~-lenB)) {\n    lenA--\n    lenB--\n  }\n\n  // early return when the smallest string is empty\n  if (!lenA) {\n    return lenB > tolerance ? -1 : lenB\n  }\n\n  lenA -= startIdx\n  lenB -= startIdx\n\n  // If both strings are smaller than the tolerance, we accept any distance\n  // Probably the result distance is wrong, but we don't care:\n  // It is always less then the tolerance!\n  if (lenA <= tolerance && lenB <= tolerance) {\n    return lenA > lenB ? lenA : lenB\n  }\n\n  const delta = lenB - lenA\n\n  if (tolerance > lenB) {\n    tolerance = lenB\n  } else if (delta > tolerance) {\n    return -1\n  }\n\n  let i = 0\n  const row: number[] = []\n  const characterCodeCache: number[] = []\n\n  while (i < tolerance) {\n    characterCodeCache[i] = b.charCodeAt(startIdx + i)\n    row[i] = ++i\n  }\n\n  while (i < lenB) {\n    characterCodeCache[i] = b.charCodeAt(startIdx + i)\n    row[i++] = tolerance + 1\n  }\n\n  const offset = tolerance - delta\n  const haveMax = tolerance < lenB\n\n  let jStart = 0\n  let jEnd = tolerance\n\n  let current = 0\n  let left = 0\n  let above = 0\n  let charA = 0\n  let j = 0\n\n  // Starting the nested loops\n  for (i = 0; i < lenA; i++) {\n    left = i\n    current = i + 1\n\n    charA = a.charCodeAt(startIdx + i)\n    jStart += i > offset ? 1 : 0\n    jEnd += jEnd < lenB ? 1 : 0\n\n    for (j = jStart; j < jEnd; j++) {\n      above = current\n\n      current = left\n      left = row[j]\n\n      if (charA !== characterCodeCache[j]) {\n        // insert current\n        if (left < current) {\n          current = left\n        }\n\n        // delete current\n        if (above < current) {\n          current = above\n        }\n\n        current++\n      }\n\n      row[j] = current\n    }\n\n    if (haveMax && row[i + delta] > tolerance) {\n      return -1\n    }\n  }\n\n  return current <= tolerance ? current : -1\n}\n\n/**\n * Computes the Levenshtein distance between two strings (a, b), returning early with -1 if the distance\n * is greater than the given tolerance.\n * It assumes that:\n * - tolerance >= ||a| - |b|| >= 0\n */\nexport async function boundedLevenshtein(a: string, b: string, tolerance: number): Promise<BoundedMetric> {\n  const distance = _boundedLevenshtein(a, b, tolerance)\n  return {\n    distance,\n    isBounded: distance >= 0\n  }\n}\n\n// This is only used internally, keep in sync with the previous one\nexport function syncBoundedLevenshtein(a: string, b: string, tolerance: number): BoundedMetric {\n  const distance = _boundedLevenshtein(a, b, tolerance)\n  return {\n    distance,\n    isBounded: distance >= 0\n  }\n}\n\nexport function levenshtein(a: string, b: string): number {\n  /* c8 ignore next 3 */\n  if (!a.length) {\n    return b.length\n  }\n\n  /* c8 ignore next 3 */\n  if (!b.length) {\n    return a.length\n  }\n\n  const swap = a\n  if (a.length > b.length) {\n    a = b\n    b = swap\n  }\n\n  const row = Array.from({ length: a.length + 1 }, (_, i) => i)\n  let val = 0\n\n  for (let i = 1; i <= b.length; i++) {\n    let prev = i\n\n    for (let j = 1; j <= a.length; j++) {\n      if (b[i - 1] === a[j - 1]) {\n        val = row[j - 1]\n      } else {\n        val = Math.min(row[j - 1] + 1, Math.min(prev + 1, row[j] + 1))\n      }\n\n      row[j - 1] = prev\n      prev = val\n    }\n    row[a.length] = prev\n  }\n\n  return row[a.length]\n}\n","import type { Nullable, GenericSorting } from '../types.js'\nimport type { InternalDocumentID } from '../components/internal-document-id-store.js'\n\nexport interface Point {\n  lon: number\n  lat: number\n}\n\nexport interface Node {\n  point: Point\n  docIDs?: InternalDocumentID[]\n  left?: Node\n  right?: Node\n  parent?: Node\n}\n\nexport interface RootNode {\n  root: Nullable<Node>\n}\n\nexport interface GeoSearchResult {\n  point: Point\n  docIDs: InternalDocumentID[]\n}\n\nexport type SortGeoPoints = Nullable<GenericSorting>\n\ninterface SearchTask {\n  node: Nullable<Node>\n  depth: number\n}\n\nconst K = 2 // 2D points\nconst EARTH_RADIUS = 6371e3 // Earth radius in meters\n\nexport function create(): RootNode {\n  return { root: null }\n}\n\nexport function insert(tree: RootNode, point: Point, docIDs: InternalDocumentID[]): void {\n  const newNode: Node = { point, docIDs }\n\n  if (tree.root == null) {\n    tree.root = newNode\n    return\n  }\n\n  let node: Nullable<Node> = tree.root\n  let depth = 0\n\n  while (node !== null) {\n    // Check if the current node's point matches the new point\n    if (node.point.lon === point.lon && node.point.lat === point.lat) {\n      // Merge the new docIDs with the existing ones and remove duplicates\n      const newDocIDs = node.docIDs ?? []\n      node.docIDs = Array.from(new Set([...newDocIDs, ...(docIDs || [])]))\n      return\n    }\n\n    const axis = depth % K\n\n    // Compare by longitude\n    if (axis === 0) {\n      if (point.lon < node.point.lon) {\n        if (node.left == null) {\n          node.left = newNode\n          return\n        }\n        node = node.left\n      } else {\n        if (node.right == null) {\n          node.right = newNode\n          return\n        }\n        node = node.right\n      }\n      // Compare by latitude\n    } else {\n      if (point.lat < node.point.lat) {\n        if (node.left == null) {\n          node.left = newNode\n          return\n        }\n        node = node.left\n      } else {\n        if (node.right == null) {\n          node.right = newNode\n          return\n        }\n        node = node.right\n      }\n    }\n\n    depth++\n  }\n}\n\nexport function contains(tree: RootNode, point: Point): boolean {\n  let node: Nullable<Node> | undefined = tree.root\n  let depth = 0\n\n  while (node != null) {\n    if (node?.point.lon === point.lon && node.point.lat === point.lat) {\n      return true\n    }\n\n    const axis = depth % K\n\n    // Compare by longitude\n    if (axis === 0) {\n      if (point.lon < node.point.lon) {\n        node = node?.left\n      } else {\n        node = node?.right\n      }\n      // Compare by latitude\n    } else {\n      if (point.lat < node.point.lat) {\n        node = node?.left\n      } else {\n        node = node?.right\n      }\n    }\n\n    depth++\n  }\n\n  return false\n}\n\n// @todo: this is very inefficient. Fix this later.\nexport function removeDocByID(tree: RootNode, point: Point, docID: InternalDocumentID): void {\n  let node: Nullable<Node> | undefined = tree.root\n  let depth = 0\n  let parentNode: Nullable<Node> = null\n  let direction: 'left' | 'right' | null = null\n\n  while (node !== null) {\n    if (node?.point.lon === point.lon && node.point.lat === point.lat) {\n      const index = node.docIDs?.indexOf(docID)\n      if (index !== undefined && index > -1) {\n        // Remove the docID from the array\n        node.docIDs?.splice(index, 1)\n\n        if (node.docIDs == null || node.docIDs.length === 0) {\n          // If the node doesn't have any more docIDs, remove the node\n          if (parentNode != null) {\n            if (direction === 'left') {\n              parentNode.left = node.left !== null ? node.left : node.right\n            } else if (direction === 'right') {\n              parentNode.right = node.right !== null ? node.right : node.left\n            }\n          } else {\n            // If the node to be removed is the root\n            tree.root = (node.left !== null ? node.left : node.right) as Node\n          }\n        }\n\n        return\n      }\n    }\n\n    const axis = depth % K\n\n    parentNode = node as Nullable<Node>\n    // Compare by longitude\n    if (axis === 0) {\n      if (point.lon < node!.point.lon) {\n        node = node?.left\n        direction = 'left'\n      } else {\n        node = node?.right\n        direction = 'right'\n      }\n      // Compare by latitude\n    } else {\n      if (point.lat < node!.point.lat) {\n        node = node?.left\n        direction = 'left'\n      } else {\n        node = node?.right\n        direction = 'right'\n      }\n    }\n\n    depth++\n  }\n}\n\nexport function getDocIDsByCoordinates(tree: RootNode, point: Point): Nullable<InternalDocumentID[]> {\n  let node: Nullable<Node> = tree.root\n  let depth = 0\n\n  while (node !== null) {\n    if (node.point.lon === point.lon && node.point.lat === point.lat) {\n      // prettier-ignore\n      return node.docIDs ?? null\n    }\n\n    const axis = depth % K\n\n    // Compare by longitude\n    if (axis === 0) {\n      if (point.lon < node.point.lon) {\n        node = node.left as Nullable<Node>\n      } else {\n        node = node.right as Nullable<Node>\n      }\n      // Compare by latitude\n    } else {\n      if (point.lat < node.point.lat) {\n        node = node.left as Nullable<Node>\n      } else {\n        node = node.right as Nullable<Node>\n      }\n    }\n\n    depth++\n  }\n\n  return null\n}\n\nexport function searchByRadius(\n  node: Nullable<Node>,\n  center: Point,\n  radius: number,\n  inclusive = true,\n  sort: SortGeoPoints = 'asc',\n  highPrecision = false\n): GeoSearchResult[] {\n  const distanceFn = highPrecision ? vincentyDistance : haversineDistance\n  const stack: Array<{ node: Nullable<Node>; depth: number }> = [{ node, depth: 0 }]\n  const result: GeoSearchResult[] = []\n\n  while (stack.length > 0) {\n    const { node, depth } = stack.pop() as { node: Node; depth: number }\n    if (node === null) continue\n\n    const dist = distanceFn(center, node.point)\n\n    if (inclusive ? dist <= radius : dist > radius) {\n      result.push({ point: node.point, docIDs: node.docIDs ?? [] })\n    }\n\n    if (node.left != null) {\n      stack.push({ node: node.left, depth: depth + 1 })\n    }\n    if (node.right != null) {\n      stack.push({ node: node.right, depth: depth + 1 })\n    }\n  }\n\n  if (sort) {\n    result.sort((a, b) => {\n      const distA = distanceFn(center, a.point)\n      const distB = distanceFn(center, b.point)\n      return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA\n    })\n  }\n\n  return result\n}\n\nexport function searchByPolygon(\n  root: Nullable<Node>,\n  polygon: Point[],\n  inclusive = true,\n  sort: SortGeoPoints = null,\n  highPrecision = false\n): GeoSearchResult[] {\n  const stack: SearchTask[] = [{ node: root, depth: 0 }]\n  const result: GeoSearchResult[] = []\n\n  while (stack.length > 0) {\n    const task = stack.pop()\n    if (task == null || task.node == null) continue\n\n    const { node, depth } = task\n    const nextDepth = depth + 1\n\n    if (node.left != null) {\n      stack.push({ node: node.left, depth: nextDepth })\n    }\n\n    if (node.right != null) {\n      stack.push({ node: node.right, depth: nextDepth })\n    }\n\n    const isInsidePolygon = isPointInPolygon(polygon, node.point)\n\n    if (isInsidePolygon && inclusive) {\n      result.push({ point: node.point, docIDs: node.docIDs ?? [] })\n    } else if (!isInsidePolygon && !inclusive) {\n      result.push({ point: node.point, docIDs: node.docIDs ?? [] })\n    }\n  }\n\n  const centroid = calculatePolygonCentroid(polygon)\n\n  if (sort) {\n    const sortFn = highPrecision ? vincentyDistance : haversineDistance\n\n    result.sort((a, b) => {\n      const distA = sortFn(centroid, a.point)\n      const distB = sortFn(centroid, b.point)\n      return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA\n    })\n  }\n\n  return result\n}\n\nfunction calculatePolygonCentroid(polygon: Point[]): Point {\n  let totalArea = 0\n  let centroidX = 0\n  let centroidY = 0\n\n  const polygonLength = polygon.length\n  for (let i = 0, j = polygonLength - 1; i < polygonLength; j = i++) {\n    const xi = polygon[i].lon\n    const yi = polygon[i].lat\n    const xj = polygon[j].lon\n    const yj = polygon[j].lat\n\n    const areaSegment = xi * yj - xj * yi\n    totalArea += areaSegment\n\n    centroidX += (xi + xj) * areaSegment\n    centroidY += (yi + yj) * areaSegment\n  }\n\n  totalArea /= 2\n  const centroidCoordinate = 6 * totalArea\n\n  centroidX /= centroidCoordinate\n  centroidY /= centroidCoordinate\n\n  return { lon: centroidX, lat: centroidY }\n}\n\nfunction isPointInPolygon(polygon: Point[], point: Point): boolean {\n  let isInside = false\n  const x = point.lon\n  const y = point.lat\n  const polygonLength = polygon.length\n  for (let i = 0, j = polygonLength - 1; i < polygonLength; j = i++) {\n    const xi = polygon[i].lon\n    const yi = polygon[i].lat\n    const xj = polygon[j].lon\n    const yj = polygon[j].lat\n\n    const intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi\n    if (intersect) isInside = !isInside\n  }\n\n  return isInside\n}\n\nfunction haversineDistance(coord1: Point, coord2: Point): number {\n  const P = Math.PI / 180\n  const lat1 = coord1.lat * P\n  const lat2 = coord2.lat * P\n  const deltaLat = (coord2.lat - coord1.lat) * P\n  const deltaLon = (coord2.lon - coord1.lon) * P\n\n  const a =\n    Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n    Math.cos(lat1) * Math.cos(lat2) * Math.sin(deltaLon / 2) * Math.sin(deltaLon / 2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n\n  return EARTH_RADIUS * c\n}\n\nfunction vincentyDistance(coord1: Point, coord2: Point): number {\n  // Constants for WGS 84 ellipsoidal Earth model (https://epsg.org/ellipsoid_7030/WGS-84.html)\n\n  // Semi-major axis of the Earth in meters\n  const a = 6378137\n\n  // Flattening of the ellipsoid\n  const f = 1 / 298.257223563\n\n  // Semi-minor axis\n  const b = (1 - f) * a\n\n  // Convert degrees to radians for calculations\n  const P = Math.PI / 180\n  const lat1 = coord1.lat * P\n  const lat2 = coord2.lat * P\n  const deltaLon = (coord2.lon - coord1.lon) * P\n\n  // Reduced latitudes - account for flattening by transforming from geodetic to auxiliary latitude\n  const U1 = Math.atan((1 - f) * Math.tan(lat1))\n  const U2 = Math.atan((1 - f) * Math.tan(lat2))\n\n  const sinU1 = Math.sin(U1)\n  const cosU1 = Math.cos(U1)\n  const sinU2 = Math.sin(U2)\n  const cosU2 = Math.cos(U2)\n\n  // Initial approximation for the longitude difference between the two points\n  let lambda = deltaLon\n  let prevLambda: number\n\n  // Limit the iterations to ensure we don't get stuck in an infinite loop\n  let iterationLimit = 1000\n  let sinAlpha: number\n  let cos2Alpha: number\n  let sinSigma: number\n  let cosSigma: number\n  let sigma: number\n\n  // Refine the value of lambda (longitude difference)\n  do {\n    const sinLambda = Math.sin(lambda)\n    const cosLambda = Math.cos(lambda)\n\n    // Compute the trigonometric values required for Vincenty formulae\n    sinSigma = Math.sqrt(\n      cosU2 * sinLambda * (cosU2 * sinLambda) +\n        (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda) * (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda)\n    )\n\n    cosSigma = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda\n    sigma = Math.atan2(sinSigma, cosSigma)\n\n    // Angular separation between the two points and the equator\n    sinAlpha = (cosU1 * cosU2 * sinLambda) / sinSigma\n    cos2Alpha = 1 - sinAlpha * sinAlpha\n\n    const cos2SigmaM = cosSigma - (2 * sinU1 * sinU2) / cos2Alpha\n\n    // Compensation factor for the Earth's shape\n    const C = (f / 16) * cos2Alpha * (4 + f * (4 - 3 * cos2Alpha))\n\n    // Store previous lambda to check for convergence\n    prevLambda = lambda\n\n    // Refine the estimate of lambda using the Vincenty formula\n    lambda =\n      deltaLon +\n      (1 - C) * f * sinAlpha * (sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)))\n  } while (Math.abs(lambda - prevLambda) > 1e-12 && --iterationLimit > 0)\n\n  // Compute factors that depend on the shape of the Earth and angular distances\n  const u2 = (cos2Alpha * (a * a - b * b)) / (b * b)\n  const A = 1 + (u2 / 16384) * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)))\n  const B = (u2 / 1024) * (256 + u2 * (-128 + u2 * (74 - 47 * u2)))\n\n  // Compute the correction factor for the ellipsoidal shape of the Earth\n  const deltaSigma =\n    B *\n    sinSigma *\n    (cosSigma -\n      (2 * sinU1 * sinU2) / cos2Alpha +\n      (B / 4) *\n        (cosSigma * (-1 + 2 * sinSigma * sinSigma) -\n          (B / 6) * sigma * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * sigma * sigma)))\n\n  // Final calculation of distance using Vincenty formula\n  const s = b * A * (sigma - deltaSigma)\n\n  return s\n}\n","import { createError } from '../errors.js'\nimport { TokenScore, BM25Params } from '../types.js'\nimport { InternalDocumentID } from './internal-document-id-store.js'\n\nexport function prioritizeTokenScores(\n  arrays: TokenScore[][],\n  boost: number,\n  threshold = 1,\n  keywordsCount: number\n): TokenScore[] {\n  if (boost === 0) {\n    throw createError('INVALID_BOOST_VALUE')\n  }\n\n  const tokenScoresMap = new Map<InternalDocumentID, [number, number]>()\n\n  const mapsLength = arrays.length\n  for (let i = 0; i < mapsLength; i++) {\n    const arr = arrays[i]\n\n    const entriesLength = arr.length\n    for (let j = 0; j < entriesLength; j++) {\n      const [token, score] = arr[j]\n      const boostScore = score * boost\n      const oldScore = tokenScoresMap.get(token)?.[0]\n\n      if (oldScore !== undefined) {\n        tokenScoresMap.set(token, [oldScore * 1.5 + boostScore, (tokenScoresMap?.get(token)?.[1] || 0) + 1])\n      } else {\n        tokenScoresMap.set(token, [boostScore, 1])\n      }\n    }\n  }\n\n  const tokenScores: TokenScore[] = []\n\n  for (const tokenScoreEntry of tokenScoresMap.entries()) {\n    tokenScores.push([tokenScoreEntry[0], tokenScoreEntry[1][0]])\n  }\n\n  const results = tokenScores.sort((a, b) => b[1] - a[1])\n\n  // If threshold is 1, it means we will return all the results with at least one search term,\n  // prioritizig the ones that contains more search terms (fuzzy match)\n  if (threshold === 1) {\n    return results\n  }\n\n  // Prepare keywords count tracking for threshold handling\n  const allResults = results.length\n  const tokenScoreWithKeywordsCount: [InternalDocumentID, number, number][] = []\n\n  for (const tokenScoreEntry of tokenScoresMap.entries()) {\n    tokenScoreWithKeywordsCount.push([tokenScoreEntry[0], tokenScoreEntry[1][0], tokenScoreEntry[1][1]])\n  }\n\n  // Find the index of the last result with all keywords.\n  // Order the documents by the number of keywords they contain, and then by the score.\n  const keywordsPerToken = tokenScoreWithKeywordsCount.sort((a, b) => {\n    // Compare by the third element, higher numbers first\n    if (a[2] > b[2]) return -1\n    if (a[2] < b[2]) return 1\n\n    // If the third elements are equal, compare by the second element, higher numbers first\n    if (a[1] > b[1]) return -1\n    if (a[1] < b[1]) return 1\n\n    // If both the second and third elements are equal, consider the elements equal\n    return 0\n  })\n\n  let lastTokenWithAllKeywords: number | undefined = undefined\n  for (let i = 0; i < allResults; i++) {\n    if (keywordsPerToken[i][2] === keywordsCount) {\n      lastTokenWithAllKeywords = i\n    } else {\n      break\n    }\n  }\n\n  // If no results had all the keywords, either bail out earlier or normalize\n  if (typeof lastTokenWithAllKeywords === 'undefined') {\n    if (threshold === 0) {\n      return []\n    }\n\n    lastTokenWithAllKeywords = 0\n  }\n\n  const keywordsPerTokenLength = keywordsPerToken.length\n  const resultsWithIdAndScore: [number, number][] = new Array(keywordsPerTokenLength)\n  for (let i = 0; i < keywordsPerTokenLength; i++) {\n    resultsWithIdAndScore[i] = [keywordsPerToken[i][0], keywordsPerToken[i][1]]\n  }\n\n  // If threshold is 0, it means we will only return all the results that contains ALL the search terms (exact match)\n  if (threshold === 0) {\n    return resultsWithIdAndScore.slice(0, lastTokenWithAllKeywords + 1)\n  }\n\n  // If the threshold is between 0 and 1, we will return all the results that contains at least the threshold of search terms\n  // For example, if threshold is 0.5, we will return all the results that contains at least 50% of the search terms\n  // (fuzzy match with a minimum threshold)\n  const thresholdLength =\n    lastTokenWithAllKeywords + Math.ceil((threshold * 100 * (allResults - lastTokenWithAllKeywords)) / 100)\n\n  return resultsWithIdAndScore.slice(0, allResults + thresholdLength)\n}\n\nexport function BM25(\n  tf: number,\n  matchingCount: number,\n  docsCount: number,\n  fieldLength: number,\n  averageFieldLength: number,\n  { k, b, d }: Required<BM25Params>\n) {\n  const idf = Math.log(1 + (docsCount - matchingCount + 0.5) / (matchingCount + 0.5))\n  return (idf * (d + tf * (k + 1))) / (tf + k * (1 - b + (b * fieldLength) / averageFieldLength))\n}\n","import type { Magnitude, VectorType } from '../types.js'\n\nexport type SimilarVector = [string, number]\n\nexport function getMagnitude(vector: Float32Array, vectorLength: number): number {\n  let magnitude = 0\n  for (let i = 0; i < vectorLength; i++) {\n    magnitude += vector[i] * vector[i]\n  }\n  return Math.sqrt(magnitude)\n}\n\n// @todo: Write plugins for Node and Browsers to use parallel computation for this function\nexport function findSimilarVectors(\n  targetVector: Float32Array,\n  vectors: Record<string, [Magnitude, VectorType]>,\n  length: number,\n  threshold = 0.8\n): SimilarVector[] {\n  const targetMagnitude = getMagnitude(targetVector, length)\n\n  const similarVectors: SimilarVector[] = []\n\n  for (const [vectorId, [magnitude, vector]] of Object.entries(vectors)) {\n    let dotProduct = 0\n\n    for (let i = 0; i < length; i++) {\n      dotProduct += targetVector[i] * vector[i]\n    }\n\n    const similarity = dotProduct / (targetMagnitude * magnitude)\n\n    if (similarity >= threshold) {\n      similarVectors.push([vectorId, similarity])\n    }\n  }\n\n  return similarVectors.sort((a, b) => b[1] - a[1])\n}\n","import { createError } from '../errors.js'\nimport {\n  AnyOrama,\n  AnySorterStore,\n  ISorter,\n  SearchableType,\n  SorterConfig,\n  SorterParams,\n  SortType,\n  SortValue\n} from '../types.js'\nimport { isVectorType } from './defaults.js'\nimport {\n  DocumentID,\n  getInternalDocumentId,\n  InternalDocumentID,\n  InternalDocumentIDStore\n} from './internal-document-id-store.js'\nimport { safeArrayPush } from '../utils.js'\nimport { getLocale } from './tokenizer/languages.js'\n\ninterface PropertySort<K> {\n  docs: Map<InternalDocumentID, number>\n  orderedDocs: [InternalDocumentID, K][]\n  orderedDocsToRemove: Map<InternalDocumentID, boolean>\n  type: SortType\n}\n\ntype SerializablePropertySort<K> = Omit<PropertySort<K>, 'orderedDocsToRemove' | 'docs'> & {\n  docs: Record<string, number>\n}\n\nexport interface Sorter extends AnySorterStore {\n  sharedInternalDocumentStore: InternalDocumentIDStore\n  isSorted: boolean\n  language: string\n  enabled: boolean\n  sortableProperties: string[]\n  sortablePropertiesWithTypes: Record<string, SortType>\n  sorts: Record<string, PropertySort<number | string | boolean>>\n}\n\nfunction innerCreate<T extends AnyOrama>(\n  orama: T,\n  sharedInternalDocumentStore: InternalDocumentIDStore,\n  schema: T['schema'],\n  sortableDeniedProperties: string[],\n  prefix: string\n): Sorter {\n  const sorter: Sorter = {\n    language: orama.tokenizer.language,\n    sharedInternalDocumentStore,\n    enabled: true,\n    isSorted: true,\n    sortableProperties: [],\n    sortablePropertiesWithTypes: {},\n    sorts: {}\n  }\n\n  for (const [prop, type] of Object.entries<SearchableType>(schema)) {\n    const path = `${prefix}${prefix ? '.' : ''}${prop}`\n\n    if (sortableDeniedProperties.includes(path)) {\n      continue\n    }\n\n    if (typeof type === 'object' && !Array.isArray(type)) {\n      // Nested\n      const ret = innerCreate(orama, sharedInternalDocumentStore, type, sortableDeniedProperties, path)\n      safeArrayPush(sorter.sortableProperties, ret.sortableProperties)\n      sorter.sorts = {\n        ...sorter.sorts,\n        ...ret.sorts\n      }\n      sorter.sortablePropertiesWithTypes = {\n        ...sorter.sortablePropertiesWithTypes,\n        ...ret.sortablePropertiesWithTypes\n      }\n      continue\n    }\n\n    if (!isVectorType(type)) {\n      switch (type) {\n        case 'boolean':\n        case 'number':\n        case 'string':\n          sorter.sortableProperties.push(path)\n          sorter.sortablePropertiesWithTypes[path] = type\n          sorter.sorts[path] = {\n            docs: new Map(),\n            orderedDocsToRemove: new Map(),\n            orderedDocs: [],\n            type: type\n          }\n          break\n        case 'geopoint':\n        case 'enum':\n          // We don't allow to sort by enums or geopoints\n          continue\n        case 'enum[]':\n        case 'boolean[]':\n        case 'number[]':\n        case 'string[]':\n          // We don't allow to sort by arrays\n          continue\n        default:\n          throw createError('INVALID_SORT_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path)\n      }\n    }\n  }\n\n  return sorter\n}\n\nasync function create<T extends AnyOrama>(\n  orama: T,\n  sharedInternalDocumentStore: InternalDocumentIDStore,\n  schema: T['schema'],\n  config?: SorterConfig\n): Promise<Sorter> {\n  const isSortEnabled = config?.enabled !== false\n  if (!isSortEnabled) {\n    return {\n      disabled: true\n    } as unknown as Sorter\n  }\n  return innerCreate(orama, sharedInternalDocumentStore, schema, (config || {}).unsortableProperties || [], '')\n}\n\nasync function insert(sorter: Sorter, prop: string, id: DocumentID, value: SortValue): Promise<void> {\n  if (!sorter.enabled) {\n    return\n  }\n\n  sorter.isSorted = false\n\n  const internalId = getInternalDocumentId(sorter.sharedInternalDocumentStore, id)\n  const s = sorter.sorts[prop]\n\n  // This happen during a document updating\n  // Because we re-use the same internalId\n  // We need to clean-up the data structure before re-inserting\n  // to avoid duplicates in the orderedDocs array\n  // See: https://github.com/oramasearch/orama/issues/629\n  if (s.orderedDocsToRemove.has(internalId)) {\n    ensureOrderedDocsAreDeletedByProperty(sorter, prop)\n  }\n\n  s.docs.set(internalId, s.orderedDocs.length)\n  s.orderedDocs.push([internalId, value])\n}\n\nfunction ensureIsSorted(sorter: Sorter): void {\n  if (sorter.isSorted || !sorter.enabled) {\n    return\n  }\n\n  const properties = Object.keys(sorter.sorts)\n  for (const prop of properties) {\n    ensurePropertyIsSorted(sorter, prop)\n  }\n\n  sorter.isSorted = true\n}\n\nfunction stringSort(\n  language: string | undefined,\n  value: [InternalDocumentID, SortValue],\n  d: [InternalDocumentID, SortValue]\n): number {\n  return (value[1] as string).localeCompare(d[1] as string, getLocale(language))\n}\n\nfunction numberSort(value: [InternalDocumentID, SortValue], d: [InternalDocumentID, SortValue]): number {\n  return (value[1] as number) - (d[1] as number)\n}\n\nfunction booleanSort(value: [InternalDocumentID, SortValue], d: [InternalDocumentID, SortValue]): number {\n  return (d[1] as boolean) ? -1 : 1\n}\n\nfunction ensurePropertyIsSorted(sorter: Sorter, prop: string): void {\n  const s = sorter.sorts[prop]\n\n  let predicate: (value: [InternalDocumentID, SortValue], d: [InternalDocumentID, SortValue]) => number\n  switch (s.type) {\n    case 'string':\n      predicate = stringSort.bind(null, sorter.language)\n      break\n    case 'number':\n      predicate = numberSort.bind(null)\n      break\n    case 'boolean':\n      predicate = booleanSort.bind(null)\n      break\n  }\n\n  s.orderedDocs.sort(predicate)\n\n  // Increment position for the greather documents\n  const orderedDocsLength = s.orderedDocs.length\n  for (let i = 0; i < orderedDocsLength; i++) {\n    const docId = s.orderedDocs[i][0]\n    s.docs.set(docId, i)\n  }\n}\n\nfunction ensureOrderedDocsAreDeleted(sorter: Sorter): void {\n  const properties = Object.keys(sorter.sorts)\n  for (const prop of properties) {\n    ensureOrderedDocsAreDeletedByProperty(sorter, prop)\n  }\n}\n\nfunction ensureOrderedDocsAreDeletedByProperty(sorter: Sorter, prop: string): void {\n  const s = sorter.sorts[prop]\n\n  if (!s.orderedDocsToRemove.size) return\n\n  s.orderedDocs = s.orderedDocs.filter((doc) => !s.orderedDocsToRemove.has(doc[0]))\n  s.orderedDocsToRemove.clear()\n}\n\nasync function remove(sorter: Sorter, prop: string, id: DocumentID) {\n  if (!sorter.enabled) {\n    return\n  }\n  const s = sorter.sorts[prop] as PropertySort<SortValue>\n  const internalId = getInternalDocumentId(sorter.sharedInternalDocumentStore, id)\n\n  const index = s.docs.get(internalId)\n\n  if (!index) return\n\n  s.docs.delete(internalId)\n  s.orderedDocsToRemove.set(internalId, true)\n}\n\nasync function sortBy<T extends AnyOrama>(\n  sorter: Sorter,\n  docIds: [DocumentID, number][],\n  by: SorterParams<T>\n): Promise<[DocumentID, number][]> {\n  if (!sorter.enabled) {\n    throw createError('SORT_DISABLED')\n  }\n\n  const property = by.property\n  const isDesc = by.order === 'DESC'\n\n  const s = sorter.sorts[property]\n  if (!s) {\n    throw createError('UNABLE_TO_SORT_ON_UNKNOWN_FIELD', property, sorter.sortableProperties.join(', '))\n  }\n\n  ensureOrderedDocsAreDeletedByProperty(sorter, property)\n  ensureIsSorted(sorter)\n\n  docIds.sort((a, b) => {\n    // This sort algorithm works leveraging on\n    // that s.docs is a map of docId -> position\n    // If a document is not indexed, it will be not present in the map\n    const indexOfA = s.docs.get(getInternalDocumentId(sorter.sharedInternalDocumentStore, a[0]))\n    const indexOfB = s.docs.get(getInternalDocumentId(sorter.sharedInternalDocumentStore, b[0]))\n    const isAIndexed = typeof indexOfA !== 'undefined'\n    const isBIndexed = typeof indexOfB !== 'undefined'\n\n    if (!isAIndexed && !isBIndexed) {\n      return 0\n    }\n    // unindexed documents are always at the end\n    if (!isAIndexed) {\n      return 1\n    }\n    if (!isBIndexed) {\n      return -1\n    }\n\n    return isDesc ? indexOfB - indexOfA : indexOfA - indexOfB\n  })\n\n  return docIds\n}\n\nasync function getSortableProperties(sorter: Sorter): Promise<string[]> {\n  if (!sorter.enabled) {\n    return []\n  }\n\n  return sorter.sortableProperties\n}\n\nasync function getSortablePropertiesWithTypes(sorter: Sorter): Promise<Record<string, SortType>> {\n  if (!sorter.enabled) {\n    return {}\n  }\n\n  return sorter.sortablePropertiesWithTypes\n}\n\nexport async function load<R = unknown>(sharedInternalDocumentStore: InternalDocumentIDStore, raw: R): Promise<Sorter> {\n  const rawDocument = raw as Omit<Sorter, 'sorts'> & {\n    sorts: Record<string, SerializablePropertySort<string | number | boolean>>\n  }\n  if (!rawDocument.enabled) {\n    return {\n      enabled: false\n    } as unknown as Sorter\n  }\n\n  const sorts = Object.keys(rawDocument.sorts).reduce(\n    (acc, prop) => {\n      const { docs, orderedDocs, type } = rawDocument.sorts[prop]\n\n      acc[prop] = {\n        docs: new Map(Object.entries(docs).map(([k, v]) => [+k, v])),\n        orderedDocsToRemove: new Map(),\n        orderedDocs,\n        type\n      }\n\n      return acc\n    },\n    {} as Record<string, PropertySort<string | number | boolean>>\n  )\n\n  return {\n    sharedInternalDocumentStore,\n    language: rawDocument.language,\n    sortableProperties: rawDocument.sortableProperties,\n    sortablePropertiesWithTypes: rawDocument.sortablePropertiesWithTypes,\n    sorts,\n    enabled: true,\n    isSorted: rawDocument.isSorted\n  }\n}\n\nexport async function save<R = unknown>(sorter: Sorter): Promise<R> {\n  if (!sorter.enabled) {\n    return {\n      enabled: false\n    } as unknown as R\n  }\n\n  ensureOrderedDocsAreDeleted(sorter)\n  ensureIsSorted(sorter)\n\n  const sorts = Object.keys(sorter.sorts).reduce(\n    (acc, prop) => {\n      const { docs, orderedDocs, type } = sorter.sorts[prop]\n\n      acc[prop] = {\n        docs: Object.fromEntries(docs.entries()),\n        orderedDocs,\n        type\n      }\n\n      return acc\n    },\n    {} as Record<string, SerializablePropertySort<string | number | boolean>>\n  )\n\n  return {\n    language: sorter.language,\n    sortableProperties: sorter.sortableProperties,\n    sortablePropertiesWithTypes: sorter.sortablePropertiesWithTypes,\n    sorts,\n    enabled: sorter.enabled,\n    isSorted: sorter.isSorted\n  } as R\n}\n\nexport async function createSorter(): Promise<ISorter<Sorter>> {\n  return {\n    create,\n    insert,\n    remove,\n    save,\n    load,\n    sortBy,\n    getSortableProperties,\n    getSortablePropertiesWithTypes\n  }\n}\n","import { createError } from '../../errors.js'\nimport { Stemmer, Tokenizer, DefaultTokenizerConfig } from '../../types.js'\nimport { replaceDiacritics } from './diacritics.js'\nimport { Language, SPLITTERS, SUPPORTED_LANGUAGES } from './languages.js'\nimport { stemmer as english } from './english-stemmer.js'\n\nexport interface DefaultTokenizer extends Tokenizer {\n  language: Language\n  stemmer?: Stemmer\n  tokenizeSkipProperties: Set<string>\n  stemmerSkipProperties: Set<string>\n  stopWords?: string[]\n  allowDuplicates: boolean\n  normalizationCache: Map<string, string>\n  normalizeToken(this: DefaultTokenizer, token: string, prop: string | undefined): string\n}\n\nexport function normalizeToken(this: DefaultTokenizer, prop: string, token: string): string {\n  const key = `${this.language}:${prop}:${token}`\n\n  if (this.normalizationCache.has(key)) {\n    return this.normalizationCache.get(key)!\n  }\n\n  // Remove stopwords if enabled\n  if (this.stopWords?.includes(token)) {\n    this.normalizationCache.set(key, '')\n    return ''\n  }\n\n  // Apply stemming if enabled\n  if (this.stemmer && !this.stemmerSkipProperties.has(prop)) {\n    token = this.stemmer(token)\n  }\n\n  token = replaceDiacritics(token)\n  this.normalizationCache.set(key, token)\n  return token\n}\n\n/* c8 ignore next 10 */\nfunction trim(text: string[]): string[] {\n  while (text[text.length - 1] === '') {\n    text.pop()\n  }\n  while (text[0] === '') {\n    text.shift()\n  }\n  return text\n}\n\nfunction tokenize(this: DefaultTokenizer, input: string, language?: string, prop?: string): string[] {\n  if (language && language !== this.language) {\n    throw createError('LANGUAGE_NOT_SUPPORTED', language)\n  }\n\n  /* c8 ignore next 3 */\n  if (typeof input !== 'string') {\n    return [input]\n  }\n\n  let tokens: string[]\n  if (prop && this.tokenizeSkipProperties.has(prop)) {\n    tokens = [this.normalizeToken.bind(this, prop ?? '')(input)]\n  } else {\n    const splitRule = SPLITTERS[this.language]\n    tokens = input\n      .toLowerCase()\n      .split(splitRule)\n      .map(this.normalizeToken.bind(this, prop ?? ''))\n      .filter(Boolean)\n  }\n\n  const trimTokens = trim(tokens)\n\n  if (!this.allowDuplicates) {\n    return Array.from(new Set(trimTokens))\n  }\n\n  return trimTokens\n}\n\nexport async function createTokenizer(config: DefaultTokenizerConfig = {}): Promise<DefaultTokenizer> {\n  if (!config.language) {\n    config.language = 'english'\n  } else if (!SUPPORTED_LANGUAGES.includes(config.language)) {\n    throw createError('LANGUAGE_NOT_SUPPORTED', config.language)\n  }\n\n  // Handle stemming - It is disabled by default\n  let stemmer: Stemmer | undefined\n\n  if (config.stemming || (config.stemmer && !('stemming' in config))) {\n    if (config.stemmer) {\n      if (typeof config.stemmer !== 'function') {\n        throw createError('INVALID_STEMMER_FUNCTION_TYPE')\n      }\n\n      stemmer = config.stemmer\n    } else {\n      if (config.language === 'english') {\n        stemmer = english\n      } else {\n        throw createError('MISSING_STEMMER', config.language)\n      }\n    }\n  }\n\n  // Handle stopwords\n  let stopWords: string[] | undefined\n\n  if (config.stopWords !== false) {\n    stopWords = []\n\n    if (Array.isArray(config.stopWords)) {\n      stopWords = config.stopWords\n    } else if (typeof config.stopWords === 'function') {\n      stopWords = await config.stopWords(stopWords)\n    } else if (config.stopWords) {\n      throw createError('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY')\n    }\n\n    // Make sure stopWords is just an array of strings\n    if (!Array.isArray(stopWords)) {\n      throw createError('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY')\n    }\n\n    for (const s of stopWords) {\n      if (typeof s !== 'string') {\n        throw createError('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY')\n      }\n    }\n  }\n\n  // Create the tokenizer\n  const tokenizer: DefaultTokenizer = {\n    tokenize,\n    language: config.language,\n    stemmer,\n    stemmerSkipProperties: new Set(config.stemmerSkipProperties ? [config.stemmerSkipProperties].flat() : []),\n    tokenizeSkipProperties: new Set(config.tokenizeSkipProperties ? [config.tokenizeSkipProperties].flat() : []),\n    stopWords,\n    allowDuplicates: Boolean(config.allowDuplicates),\n    normalizeToken,\n    normalizationCache: new Map()\n  }\n\n  tokenizer.tokenize = tokenize.bind(tokenizer)\n  tokenizer.normalizeToken = normalizeToken\n\n  return tokenizer\n}\n","const DIACRITICS_CHARCODE_START = 192\nconst DIACRITICS_CHARCODE_END = 383\n\nconst CHARCODE_REPLACE_MAPPING = [\n  65,\n  65,\n  65,\n  65,\n  65,\n  65,\n  65,\n  67,\n  69,\n  69,\n  69,\n  69,\n  73,\n  73,\n  73,\n  73,\n  69,\n  78,\n  79,\n  79,\n  79,\n  79,\n  79,\n  null,\n  79,\n  85,\n  85,\n  85,\n  85,\n  89,\n  80,\n  115,\n  97,\n  97,\n  97,\n  97,\n  97,\n  97,\n  97,\n  99,\n  101,\n  101,\n  101,\n  101,\n  105,\n  105,\n  105,\n  105,\n  101,\n  110,\n  111,\n  111,\n  111,\n  111,\n  111,\n  null,\n  111,\n  117,\n  117,\n  117,\n  117,\n  121,\n  112,\n  121,\n  65,\n  97,\n  65,\n  97,\n  65,\n  97,\n  67,\n  99,\n  67,\n  99,\n  67,\n  99,\n  67,\n  99,\n  68,\n  100,\n  68,\n  100,\n  69,\n  101,\n  69,\n  101,\n  69,\n  101,\n  69,\n  101,\n  69,\n  101,\n  71,\n  103,\n  71,\n  103,\n  71,\n  103,\n  71,\n  103,\n  72,\n  104,\n  72,\n  104,\n  73,\n  105,\n  73,\n  105,\n  73,\n  105,\n  73,\n  105,\n  73,\n  105,\n  73,\n  105,\n  74,\n  106,\n  75,\n  107,\n  107,\n  76,\n  108,\n  76,\n  108,\n  76,\n  108,\n  76,\n  108,\n  76,\n  108,\n  78,\n  110,\n  78,\n  110,\n  78,\n  110,\n  110,\n  78,\n  110,\n  79,\n  111,\n  79,\n  111,\n  79,\n  111,\n  79,\n  111,\n  82,\n  114,\n  82,\n  114,\n  82,\n  114,\n  83,\n  115,\n  83,\n  115,\n  83,\n  115,\n  83,\n  115,\n  84,\n  116,\n  84,\n  116,\n  84,\n  116,\n  85,\n  117,\n  85,\n  117,\n  85,\n  117,\n  85,\n  117,\n  85,\n  117,\n  85,\n  117,\n  87,\n  119,\n  89,\n  121,\n  89,\n  90,\n  122,\n  90,\n  122,\n  90,\n  122,\n  115\n]\n\nfunction replaceChar(charCode: number): number {\n  if (charCode < DIACRITICS_CHARCODE_START || charCode > DIACRITICS_CHARCODE_END) return charCode\n\n  /* c8 ignore next  */\n  return CHARCODE_REPLACE_MAPPING[charCode - DIACRITICS_CHARCODE_START] || charCode\n}\n\nexport function replaceDiacritics(str: string): string {\n  const stringCharCode: number[] = []\n  for (let idx = 0; idx < str.length; idx++) {\n    stringCharCode[idx] = replaceChar(str.charCodeAt(idx))\n  }\n  return String.fromCharCode(...stringCharCode)\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\nconst step2List = {\n  ational: 'ate',\n  tional: 'tion',\n  enci: 'ence',\n  anci: 'ance',\n  izer: 'ize',\n  bli: 'ble',\n  alli: 'al',\n  entli: 'ent',\n  eli: 'e',\n  ousli: 'ous',\n  ization: 'ize',\n  ation: 'ate',\n  ator: 'ate',\n  alism: 'al',\n  iveness: 'ive',\n  fulness: 'ful',\n  ousness: 'ous',\n  aliti: 'al',\n  iviti: 'ive',\n  biliti: 'ble',\n  logi: 'log'\n}\n\nconst step3List = {\n  icate: 'ic',\n  ative: '',\n  alize: 'al',\n  iciti: 'ic',\n  ical: 'ic',\n  ful: '',\n  ness: ''\n}\n\n// Consonant\nconst c = '[^aeiou]'\n// Vowel\nconst v = '[aeiouy]'\n// Consonant sequence\nconst C = c + '[^aeiouy]*'\n// Vowel sequence\nconst V = v + '[aeiou]*'\n\n// [C]VC... is m>0\nconst mgr0 = '^(' + C + ')?' + V + C\n// [C]VC[V] is m=1\nconst meq1 = '^(' + C + ')?' + V + C + '(' + V + ')?$'\n// [C]VCVC... is m>1\nconst mgr1 = '^(' + C + ')?' + V + C + V + C\n// vowel in stem\nconst s_v = '^(' + C + ')?' + v\n\nexport function stemmer(w) {\n  let stem\n  let suffix\n  let re\n  let re2\n  let re3\n  let re4\n\n  if (w.length < 3) {\n    return w\n  }\n\n  const firstch = w.substring(0, 1)\n  if (firstch == 'y') {\n    w = firstch.toUpperCase() + w.substring(1)\n  }\n\n  re = /^(.+?)(ss|i)es$/\n  re2 = /^(.+?)([^s])s$/\n\n  if (re.test(w)) {\n    w = w.replace(re, '$1$2')\n  } else if (re2.test(w)) {\n    w = w.replace(re2, '$1$2')\n  }\n\n  re = /^(.+?)eed$/\n  re2 = /^(.+?)(ed|ing)$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    re = new RegExp(mgr0)\n    if (re.test(fp[1])) {\n      re = /.$/\n      w = w.replace(re, '')\n    }\n  } else if (re2.test(w)) {\n    const fp = re2.exec(w)\n    stem = fp[1]\n    re2 = new RegExp(s_v)\n    if (re2.test(stem)) {\n      w = stem\n      re2 = /(at|bl|iz)$/\n      re3 = new RegExp('([^aeiouylsz])\\\\1$')\n      re4 = new RegExp('^' + C + v + '[^aeiouwxy]$')\n      if (re2.test(w)) {\n        w = w + 'e'\n      } else if (re3.test(w)) {\n        re = /.$/\n        w = w.replace(re, '')\n      } else if (re4.test(w)) {\n        w = w + 'e'\n      }\n    }\n  }\n\n  re = /^(.+?)y$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    stem = fp?.[1]\n    re = new RegExp(s_v)\n    if (stem && re.test(stem)) {\n      w = stem + 'i'\n    }\n  }\n\n  re =\n    /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    stem = fp?.[1]\n    suffix = fp?.[2]\n    re = new RegExp(mgr0)\n    if (stem && re.test(stem)) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      w = stem + step2List[suffix]\n    }\n  }\n\n  re = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    stem = fp?.[1]\n    suffix = fp?.[2]\n    re = new RegExp(mgr0)\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (stem && re.test(stem)) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      w = stem + step3List[suffix]\n    }\n  }\n\n  re = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/\n  re2 = /^(.+?)(s|t)(ion)$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    stem = fp?.[1]\n    re = new RegExp(mgr1)\n    if (stem && re.test(stem)) {\n      w = stem\n    }\n  } else if (re2.test(w)) {\n    const fp = re2.exec(w)\n    stem = fp?.[1] ?? '' + fp?.[2] ?? ''\n    re2 = new RegExp(mgr1)\n    if (re2.test(stem)) {\n      w = stem\n    }\n  }\n\n  re = /^(.+?)e$/\n  if (re.test(w)) {\n    const fp = re.exec(w)\n    stem = fp?.[1]\n    re = new RegExp(mgr1)\n    re2 = new RegExp(meq1)\n    re3 = new RegExp('^' + C + v + '[^aeiouwxy]$')\n    if (stem && (re.test(stem) || (re2.test(stem) && !re3.test(stem)))) {\n      w = stem\n    }\n  }\n\n  re = /ll$/\n  re2 = new RegExp(mgr1)\n  if (re.test(w) && re2.test(w)) {\n    re = /.$/\n    w = w.replace(re, '')\n  }\n\n  if (firstch == 'y') {\n    w = firstch.toLowerCase() + w.substring(1)\n  }\n\n  return w\n}\n","import { AnyOrama, TypedDocument } from '../types.js'\n\nexport function getByID<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  db: T,\n  id: string\n): Promise<ResultDocument | undefined> {\n  return db.documentsStore.get(db.data.docs, id) as Promise<ResultDocument | undefined>\n}\n\nexport function count<T extends AnyOrama>(db: T): Promise<number> {\n  return db.documentsStore.count(db.data.docs) as Promise<number>\n}\n","import { isArrayType, isGeoPointType, isVectorType } from '../components.js'\nimport { runMultipleHook, runSingleHook } from '../components/hooks.js'\nimport { trackInsertion } from '../components/sync-blocking-checker.js'\nimport { createError } from '../errors.js'\nimport { Point } from '../trees/bkd.js'\nimport { AnyOrama, PartialSchemaDeep, SortValue, TypedDocument } from '../types.js'\n\nexport async function insert<T extends AnyOrama>(\n  orama: T,\n  doc: PartialSchemaDeep<TypedDocument<T>>,\n  language?: string,\n  skipHooks?: boolean\n): Promise<string> {\n  const errorProperty = await orama.validateSchema(doc, orama.schema)\n  if (errorProperty) {\n    throw createError('SCHEMA_VALIDATION_FAILURE', errorProperty)\n  }\n\n  return innerInsert(orama, doc, language, skipHooks)\n}\n\nconst ENUM_TYPE = new Set(['enum', 'enum[]'])\nconst STRING_NUMBER_TYPE = new Set(['string', 'number'])\n\nasync function innerInsert<T extends AnyOrama>(\n  orama: T,\n  doc: PartialSchemaDeep<TypedDocument<T>>,\n  language?: string,\n  skipHooks?: boolean\n): Promise<string> {\n  const { index, docs } = orama.data\n\n  const id = await orama.getDocumentIndexId(doc)\n\n  if (typeof id !== 'string') {\n    throw createError('DOCUMENT_ID_MUST_BE_STRING', typeof id)\n  }\n\n  if (!(await orama.documentsStore.store(docs, id, doc))) {\n    throw createError('DOCUMENT_ALREADY_EXISTS', id)\n  }\n\n  const docsCount = await orama.documentsStore.count(docs)\n\n  if (!skipHooks) {\n    await runSingleHook(orama.beforeInsert, orama, id, doc as TypedDocument<T>)\n  }\n\n  const indexableProperties = await orama.index.getSearchableProperties(index)\n  const indexablePropertiesWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n  const indexableValues = await orama.getDocumentProperties(doc, indexableProperties)\n\n  for (const [key, value] of Object.entries(indexableValues)) {\n    if (typeof value === 'undefined') {\n      continue\n    }\n\n    const actualType = typeof value\n    const expectedType = indexablePropertiesWithTypes[key]\n\n    if (\n      isGeoPointType(expectedType) &&\n      typeof value === 'object' &&\n      typeof (value as Point).lon === 'number' &&\n      typeof (value as Point).lat === 'number'\n    ) {\n      continue\n    }\n\n    if (isVectorType(expectedType) && Array.isArray(value)) {\n      // @todo: Validate vector type. It should be of a given length and contain only floats.\n      continue\n    }\n\n    if (isArrayType(expectedType) && Array.isArray(value)) {\n      continue\n    }\n\n    if (ENUM_TYPE.has(expectedType) && STRING_NUMBER_TYPE.has(actualType)) {\n      continue\n    }\n\n    if (actualType !== expectedType) {\n      throw createError('INVALID_DOCUMENT_PROPERTY', key, expectedType, actualType)\n    }\n  }\n\n  for (const prop of indexableProperties) {\n    const value = indexableValues[prop]\n    if (typeof value === 'undefined') {\n      continue\n    }\n\n    const expectedType = indexablePropertiesWithTypes[prop]\n    await orama.index.beforeInsert?.(\n      orama.data.index,\n      prop,\n      id,\n      value,\n      expectedType,\n      language,\n      orama.tokenizer,\n      docsCount\n    )\n    await orama.index.insert(\n      orama.index,\n      orama.data.index,\n      prop,\n      id,\n      value,\n      expectedType,\n      language,\n      orama.tokenizer,\n      docsCount\n    )\n    await orama.index.afterInsert?.(\n      orama.data.index,\n      prop,\n      id,\n      value,\n      expectedType,\n      language,\n      orama.tokenizer,\n      docsCount\n    )\n  }\n\n  const sortableProperties = await orama.sorter.getSortableProperties(orama.data.sorting)\n  const sortablePropertiesWithTypes = await orama.sorter.getSortablePropertiesWithTypes(orama.data.sorting)\n  const sortableValues = await orama.getDocumentProperties(doc, sortableProperties)\n  for (const prop of sortableProperties) {\n    const value = sortableValues[prop] as SortValue\n    if (typeof value === 'undefined') {\n      continue\n    }\n\n    const expectedType = sortablePropertiesWithTypes[prop]\n\n    await orama.sorter.insert(orama.data.sorting, prop, id, value, expectedType, language)\n  }\n\n  if (!skipHooks) {\n    await runSingleHook(orama.afterInsert, orama, id, doc as TypedDocument<T>)\n  }\n\n  trackInsertion(orama)\n\n  return id\n}\n\nexport async function insertMultiple<T extends AnyOrama>(\n  orama: T,\n  docs: PartialSchemaDeep<TypedDocument<T>>[],\n  batchSize?: number,\n  language?: string,\n  skipHooks?: boolean,\n  timeout?: number\n): Promise<string[]> {\n  if (!skipHooks) {\n    await runMultipleHook(orama.beforeInsertMultiple, orama, docs as TypedDocument<T>[])\n  }\n\n  // Validate all documents before the insertion\n  const docsLength = docs.length\n  const oramaSchema = orama.schema\n  for (let i = 0; i < docsLength; i++) {\n    const errorProperty = await orama.validateSchema(docs[i], oramaSchema)\n    if (errorProperty) {\n      throw createError('SCHEMA_VALIDATION_FAILURE', errorProperty)\n    }\n  }\n\n  return innerInsertMultiple(orama, docs, batchSize, language, skipHooks, timeout)\n}\n\nexport async function innerInsertMultiple<T extends AnyOrama>(\n  orama: T,\n  docs: PartialSchemaDeep<TypedDocument<T>>[],\n  batchSize?: number,\n  language?: string,\n  skipHooks?: boolean,\n  timeout?: number\n): Promise<string[]> {\n  if (!batchSize) {\n    batchSize = 1000\n  }\n\n  timeout ??= 0\n\n  const ids: string[] = []\n  await new Promise<void>((resolve, reject) => {\n    let i = 0\n    async function _insertMultiple() {\n      const batch = docs.slice(i * batchSize!, ++i * batchSize!)\n\n      if (!batch.length) {\n        return resolve()\n      }\n\n      for (const doc of batch) {\n        try {\n          const id = await insert(orama, doc, language, skipHooks)\n          ids.push(id)\n        } catch (err) {\n          reject(err)\n        }\n      }\n\n      setTimeout(_insertMultiple, timeout)\n    }\n\n    setTimeout(_insertMultiple, timeout)\n  })\n\n  if (!skipHooks) {\n    await runMultipleHook(orama.afterInsertMultiple, orama, docs as TypedDocument<T>[])\n  }\n\n  return ids\n}\n","import { MODE_FULLTEXT_SEARCH, MODE_HYBRID_SEARCH, MODE_VECTOR_SEARCH } from './constants.js'\nimport { DocumentsStore } from './components/documents-store.js'\nimport { Index } from './components/index.js'\nimport { DocumentID, InternalDocumentID, InternalDocumentIDStore } from './components/internal-document-id-store.js'\nimport { Sorter } from './components/sorter.js'\nimport { Language } from './components/tokenizer/languages.js'\nimport { Point } from './trees/bkd.js'\n\nexport type { DefaultTokenizer } from './components/tokenizer/index.js'\n\nexport type Nullable<T> = T | null\n\nexport type SingleOrArray<T> = T | T[]\n\nexport type SyncOrAsyncValue<T = void> = T | PromiseLike<T>\n\nexport type HybridWeights = {\n  text: number\n  vector: number\n}\n\n// Given a type T, return a new type with:\n// - the concatenation of nested properties as key\n// - the type of the nested property as value\ntype Flatten<T extends object> = object extends T\n  ? object\n  : {\n        [K in keyof T]-?: (\n          // Create a function as argument:\n          // - Pick<T, K> if the value is not an object (not run recursion)\n          // - { [key concatenation]: function calculated by recursion }\n          // - never is the value is an array\n          x: NonNullable<T[K]> extends infer V\n            ? V extends object\n              ? V extends readonly any[]\n                ? never // Orama schema doens't allow array as value\n                : Flatten<V> extends infer FV\n                  ? {\n                      [P in keyof FV as `${Extract<K, string>}.${Extract<P, string>}`]: FV[P]\n                    }\n                  : never // Never happen: it is needed due to `extends` typescript syntax\n              : Pick<T, K>\n            : never // Never happen: it is needed due to typescript syntax\n        ) => void\n      } extends Record<keyof T, (y: infer O) => void>\n    ? O // Return the type of the function argument\n    : never // Never happen: it is needed due to typescript syntax\n\nexport type SchemaTypes<Value> = Value extends 'string'\n  ? string\n  : Value extends 'string[]'\n    ? string[]\n    : Value extends 'boolean'\n      ? boolean\n      : Value extends 'boolean[]'\n        ? boolean[]\n        : Value extends 'number'\n          ? number\n          : Value extends 'number[]'\n            ? number[]\n            : Value extends 'enum'\n              ? string | number\n              : Value extends 'enum[]'\n                ? (string | number)[]\n                : Value extends 'geopoint'\n                  ? Point\n                  : // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    Value extends `vector[${number}]`\n                    ? number[]\n                    : Value extends object\n                      ? { [Key in keyof Value]: SchemaTypes<Value[Key]> } & {\n                          [otherKeys: PropertyKey]: any\n                        }\n                      : never\n\nexport type Schema<TSchema> = TSchema extends AnySchema\n  ? InternalTypedDocument<{\n      -readonly [Key in keyof TSchema]: SchemaTypes<TSchema[Key]>\n    }>\n  : never\n\nexport type AnyDocument = InternalTypedDocument<any>\n\nexport type InternalTypedDocument<TSchema extends object> = { id: DocumentID } & TSchema & {\n    [otherKeys: PropertyKey]: any\n  }\nexport type TypedDocument<T extends AnyOrama> = T['typeSchema']\n\nexport type AnySchema = {\n  [key: PropertyKey]: SearchableType | AnySchema\n}\n\nexport type PartialSchemaDeepObject<T> = T extends object\n  ? {\n      [K in keyof T]?: T[K]\n    }\n  : T\n\nexport type PartialSchemaDeep<T> = {\n  [K in keyof T]?: PartialSchemaDeepObject<T[K]>\n}\n\n/**\n * @deprecated\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface Document extends Record<string, SearchableValue | Document | unknown> {}\n\nexport type Magnitude = number\nexport type Vector = `vector[${number}]`\nexport type VectorType = Float32Array\n\nexport type ScalarSearchableType = 'string' | 'number' | 'boolean' | 'enum' | 'geopoint'\nexport type ArraySearchableType = 'string[]' | 'number[]' | 'boolean[]' | 'enum[]' | Vector\n\nexport type SearchableType = ScalarSearchableType | ArraySearchableType\n\nexport type ScalarSearchableValue = string | number | boolean | Point\nexport type ArraySearchableValue = string[] | number[] | boolean[] | VectorType\nexport type SearchableValue = ScalarSearchableValue | ArraySearchableValue\n\nexport type SortType = 'string' | 'number' | 'boolean'\nexport type SortValue = string | number | boolean\n\nexport type VectorIndex = {\n  size: number\n  vectors: {\n    [docID: string]: [Magnitude, VectorType]\n  }\n}\n\nexport type BM25Params = {\n  k?: number\n  b?: number\n  d?: number\n}\n\nexport type GenericSorting = 'asc' | 'desc' | 'ASC' | 'DESC'\n\nexport type FacetSorting = GenericSorting\n\nexport interface StringFacetDefinition {\n  limit?: number\n  offset?: number\n  sort?: FacetSorting\n}\n\nexport interface NumberFacetDefinition {\n  ranges: { from: number; to: number }[]\n}\n\nexport interface BooleanFacetDefinition {\n  true?: boolean\n  false?: boolean\n}\n\nexport type FacetsParams<T extends AnyOrama> = Partial<Record<LiteralUnion<T['schema']>, FacetDefinition>>\n\nexport type FacetDefinition = StringFacetDefinition | NumberFacetDefinition | BooleanFacetDefinition\n\nexport type ReduceFunction<T, R> = (values: ScalarSearchableValue[], acc: T, value: R, index: number) => T\nexport type Reduce<T, R = AnyDocument> = {\n  reducer: ReduceFunction<T, R>\n  getInitialValue: (elementCount: number) => T\n}\n\nexport type GroupByParams<T extends AnyOrama, ResultDocument> = {\n  properties: LiteralUnion<T['schema']>[]\n  maxResult?: number\n  reduce?: Reduce<ResultDocument>\n}\n\nexport type ComparisonOperator = {\n  gt?: number\n  gte?: number\n  lt?: number\n  lte?: number\n  eq?: number\n  between?: [number, number]\n}\n\nexport type EnumComparisonOperator = {\n  eq?: string | number | boolean\n  in?: (string | number | boolean)[]\n  nin?: (string | number | boolean)[]\n}\n\nexport type EnumArrComparisonOperator = {\n  containsAll?: (string | number | boolean)[]\n}\n\nexport type GeosearchDistanceUnit = 'cm' | 'm' | 'km' | 'ft' | 'yd' | 'mi'\n\nexport type GeosearchRadiusOperator = {\n  radius: {\n    coordinates: Point\n    value: number\n    unit?: GeosearchDistanceUnit\n    inside?: boolean\n    highPrecision?: boolean\n  }\n}\n\nexport type GeosearchPolygonOperator = {\n  polygon: {\n    coordinates: Point[]\n    inside?: boolean\n    highPrecision?: boolean\n  }\n}\n\nexport type GeosearchOperation = GeosearchRadiusOperator | GeosearchPolygonOperator\n\nexport type Operator<Value> = Value extends 'string'\n  ? string | string[]\n  : Value extends 'string[]'\n    ? string | string[]\n    : Value extends 'boolean'\n      ? boolean\n      : Value extends 'boolean[]'\n        ? boolean\n        : Value extends 'number'\n          ? ComparisonOperator\n          : Value extends 'number[]'\n            ? ComparisonOperator\n            : Value extends 'enum'\n              ? EnumComparisonOperator\n              : Value extends 'enum[]'\n                ? EnumArrComparisonOperator\n                : Value extends 'geopoint'\n                  ? GeosearchOperation\n                  : never\nexport type WhereCondition<TSchema> = {\n  [key in keyof TSchema]?: Operator<TSchema[key]>\n}\n\n/**\n * A custom sorter function item as [id, score, document].\n */\nexport type CustomSorterFunctionItem<ResultDocument> = [InternalDocumentID, number, ResultDocument]\n\nexport type CustomSorterFunction<ResultDocument> = (\n  a: CustomSorterFunctionItem<ResultDocument>,\n  b: CustomSorterFunctionItem<ResultDocument>\n) => number\n// thanks to https://github.com/sindresorhus/type-fest/blob/main/source/literal-union.d.ts\nexport type LiteralUnion<T> = (keyof T extends string ? keyof T : never) | (string & Record<never, never>)\n/**\n * Define which properties to sort for.\n */\nexport type SorterParams<T extends AnyOrama> = {\n  /**\n   * The key of the document used to sort the result.\n   */\n  property: LiteralUnion<T['schema']>\n  /**\n   * Whether to sort the result in ascending or descending order.\n   */\n  order?: 'ASC' | 'DESC'\n}\n\nexport type FlattenSchema<T extends AnyOrama> = Flatten<T['schema']>\nexport type FlattenSchemaProperty<T extends AnyOrama> = T['schema'] extends object ? keyof FlattenSchema<T> : string\nexport type OnlyStrings<T extends any[]> = T[number] extends infer V ? (V extends string ? V : never) : never\n\nexport type SortByParams<T extends AnyOrama, ResultDocument> = SorterParams<T> | CustomSorterFunction<ResultDocument>\n\nexport type SearchMode = typeof MODE_FULLTEXT_SEARCH | typeof MODE_HYBRID_SEARCH | typeof MODE_VECTOR_SEARCH\n\n// eslint-disable-next-line\nexport interface SearchParamsBase<T extends AnyOrama, ResultDocument = TypedDocument<T>> {}\n\nexport interface SearchParamsFullText<T extends AnyOrama, ResultDocument = TypedDocument<T>>\n  extends SearchParamsBase<T, ResultDocument> {\n  /**\n   * The term, sentence, or word to search.\n   */\n  term?: string\n\n  /**\n   * Search mode. Tell Orama to perform either a fulltext search, a vector search or a hybrid search.\n   * By default, Orama will perform a full-text search.\n   */\n  mode?: typeof MODE_FULLTEXT_SEARCH\n\n  /**\n   * The properties of the document to search in.\n   */\n  properties?: '*' | FlattenSchemaProperty<T>[]\n\n  /**\n   * The number of matched documents to return.\n   */\n  limit?: number\n\n  /**\n   * The number of matched documents to skip.\n   */\n  offset?: number\n\n  /**\n   * The key of the document used to sort the result.\n   */\n  sortBy?: SortByParams<T, ResultDocument>\n\n  /**\n   * Whether to match the term exactly.\n   */\n  exact?: boolean\n\n  /**\n   * The maximum [levenshtein distance](https://en.wikipedia.org/wiki/Levenshtein_distance)\n   * between the term and the searchable property.\n   */\n  tolerance?: number\n\n  /**\n   * The BM25 parameters to use.\n   *\n   * k: Term frequency saturation parameter.\n   * The higher the value, the more important the term frequency becomes.\n   * The default value is 1.2. It should be set to a value between 1.2 and 2.0.\n   *\n   * b: Document length saturation impact. The higher the value, the more\n   * important the document length becomes. The default value is 0.75.\n   *\n   * d: Frequency normalization lower bound. Default value is 0.5.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/BM25-algorithm\n   *\n   * @see https://en.wikipedia.org/wiki/Okapi_BM25\n   */\n  relevance?: BM25Params\n\n  /**\n   * The boost to apply to the properties.\n   *\n   * The boost is a number that is multiplied to the score of the property.\n   * It can be used to give more importance to some properties.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/fields-boosting\n   *\n   * @example\n   * // Give more importance to the 'title' property.\n   * const result = await search(db, {\n   *  term: 'Michael',\n   *  properties: ['title', 'author'],\n   *  boost: {\n   *   title: 2\n   *  }\n   * });\n   *\n   * // In that case, the score of the 'title' property will be multiplied by 2.\n   */\n  boost?: Partial<Record<OnlyStrings<FlattenSchemaProperty<T>[]>, number>>\n\n  /**\n   * Facets configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/facets\n   *\n   * A facet is a feature that allows users to narrow down their search results by specific\n   * attributes or characteristics, such as category, price, or location.\n   * This can help users find more relevant and specific results for their search query.\n   *\n   * @example\n   *\n   * const results = await search(db, {\n   *  term: 'Personal Computer',\n   *  properties: ['title', 'description', 'category.primary', 'category.secondary'],\n   *  facets: {\n   *    'category.primary': {\n   *      limit: 10,\n   *      sort: 'ASC',\n   *    }\n   *  }\n   * });\n   */\n  facets?: FacetsParams<T>\n\n  /**\n   * Distinct configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/introduction#distinct\n   *\n   * @example\n   * const results = await search(db, {\n   *  term: 'Headphones',\n   *  distinctOn: 'category.primary',\n   * })\n   */\n  distinctOn?: LiteralUnion<T['schema']>\n\n  /**\n   * Groups configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/grouping\n   *\n   * @example\n   * const results = await search(db, {\n   *  term: 'Headphones',\n   *  groupBy: {\n   *   properties: ['category.primary'],\n   *   maxResult: 10,\n   *  }\n   * })\n   */\n  groupBy?: GroupByParams<T, ResultDocument>\n\n  /**\n   * Filter the search results.\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/filters\n   *\n   * @example\n   * // Search for documents that contain 'Headphones' in the 'description' and 'title' fields and\n   * // have a price less than 100.\n   *\n   * const result = await search(db, {\n   *  term: 'Headphones',\n   *  properties: ['description', 'title'],\n   *  where: {\n   *    price: {\n   *      lt: 100\n   *    }\n   *  }\n   * });\n   */\n  where?: Partial<WhereCondition<T['schema']>>\n\n  /**\n   * Threshold to use for refining the search results.\n   * The threshold is a number between 0 and 1 that represents the minimum score of the documents to return.\n   * By default, the threshold is 1.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/threshold\n   *\n   * @example\n   *\n   * const result = await search(db, {\n   *  term: 'Red Headphones'\n   *  threshold: 0\n   * });\n   *\n   * // The result will contain all the documents that contain both 'Red' and 'Headphones' in their properties.\n   *\n   * const result2 = await search(db, {\n   *  term: 'Red Headphones'\n   *  threshold: 1\n   * });\n   *\n   * // The result will contain all the documents that contain either 'Red' and 'Headphones' in their properties.\n   */\n  threshold?: number\n\n  /**\n   * Preflight query.\n   * Will return just the facets (if needed) and the number of matched documents for the given query.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/preflight\n   *\n   * @example\n   *\n   * const result = await search(db, {\n   *  term: 'Red Headphones',\n   *  preflight: true\n   * });\n   *\n   * console.log(result);\n   *\n   * // {\n   * //   elapsed: {\n   * //     raw: 181208,\n   * //     formatted: '181μs'\n   * //   },\n   * //   count: 100,\n   * // }\n   */\n  preflight?: boolean\n\n  /**\n   * Whether to include the vectors in the result.\n   * By default, Orama will not include the vectors, as they can be quite large.\n   * If set to \"false\" (default), vectors will be presented as \"null\".\n   */\n  includeVectors?: boolean\n}\n\nexport interface SearchParamsHybrid<T extends AnyOrama, ResultDocument = TypedDocument<T>>\n  extends SearchParamsBase<T, ResultDocument> {\n  /**\n   * The vector used to perform vector similarity search.\n   * Since \"mode\" is set to \"hybrid\", Orama will perform a full-text search and a vector search,\n   * therefore, you have to provide a \"term\" property as well when setting the \"vector\" property.\n   *\n   * @example\n   * const result = await search(db, {\n   *  term: 'Noise cancelling headphones',\n   *  vector: {\n   *    value: [0.1, 0.2, 0.3],\n   *    property: 'embedding'\n   *  }\n   * })\n   */\n  vector?: {\n    value: Array<number> | VectorType\n    property: string\n  }\n\n  /**\n   * The term, sentence, or word to search.\n   * @example\n   * const result = await search(db, {\n   *   term: 'Noise cancelling headphones',\n   *   mode: 'hybrid',\n   * })\n   */\n  term: string\n\n  /**\n   * Search mode. Tell Orama to perform either a fulltext search, a vector search or a hybrid search.\n   * By default, Orama will perform a full-text search.\n   */\n  mode: typeof MODE_HYBRID_SEARCH\n\n  /**\n   * The properties of the document to search in (for the full-text search part).\n   */\n  properties?: '*' | FlattenSchemaProperty<T>[]\n\n  /**\n   * The BM25 parameters to use.\n   *\n   * k: Term frequency saturation parameter.\n   * The higher the value, the more important the term frequency becomes.\n   * The default value is 1.2. It should be set to a value between 1.2 and 2.0.\n   *\n   * b: Document length saturation impact. The higher the value, the more\n   * important the document length becomes. The default value is 0.75.\n   *\n   * d: Frequency normalization lower bound. Default value is 0.5.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/BM25-algorithm\n   *\n   * @see https://en.wikipedia.org/wiki/Okapi_BM25\n   */\n  relevance?: BM25Params\n\n  /**\n   * The number of matched documents to return.\n   * By default, Orama will return 10 of each (10 for full-text search, and 10 for vector search).\n   */\n  limit?: number\n\n  /**\n   * The number of matched documents to skip.\n   * By default, Orama will skip 0 of each (0 for full-text search, and 0 for vector search).\n   */\n  offset?: number\n\n  /**\n   * Similarity threshold for the vector search.\n   * By default, Orama will use 0.8.\n   */\n  similarity?: number\n\n  /**\n   * Whether to include the vectors in the result.\n   * By default, Orama will not include the vectors, as they can be quite large.\n   * If set to \"false\" (default), vectors will be presented as \"null\".\n   */\n  includeVectors?: boolean\n\n  /**\n   * Groups configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/grouping\n   */\n  groupBy?: GroupByParams<T, ResultDocument>\n\n  /**\n   * Filter the search results.\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/filters\n   */\n  where?: Partial<WhereCondition<T['schema']>>\n\n  /**\n   * Threshold to use for refining the search results.\n   * The threshold is a number between 0 and 1 that represents the minimum score of the documents to return.\n   * By default, the threshold is 1. Only applies to the full-text search.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/threshold\n   */\n  threshold?: number\n\n  /**\n   * The boost to apply to the properties.\n   *\n   * The boost is a number that is multiplied to the score of the property.\n   * It can be used to give more importance to some properties. Only applies to the full-text search.\n   *\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/fields-boosting\n   */\n  boost?: Partial<Record<OnlyStrings<FlattenSchemaProperty<T>[]>, number>>\n\n  /**\n   * Facets configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/facets\n   *\n   * A facet is a feature that allows users to narrow down their search results by specific\n   * attributes or characteristics, such as category, price, or location.\n   * This can help users find more relevant and specific results for their search query.\n   */\n  facets?: FacetsParams<T>\n\n  /**\n   * Hybrid search weights.\n   * By default, Orama will use 0.5 for the full-text search and 0.5 for the vector search, which means that both will have the same importance.\n   * You can change the weights to give more importance to the full-text search or the vector search.\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/hybrid-search\n   */\n  hybridWeights?: HybridWeights\n}\n\nexport interface SearchParamsVector<T extends AnyOrama, ResultDocument = TypedDocument<T>>\n  extends SearchParamsBase<T, ResultDocument> {\n  /**\n   * Search mode. Tell Orama to perform either a fulltext search, a vector search or a hybrid search.\n   * By default, Orama will perform a full-text search.\n   */\n  mode: typeof MODE_VECTOR_SEARCH\n\n  /**\n   * The search term. If used with the Orama Secure Proxy, this will be converted into a vector automatically for you.\n   *\n   * @example\n   * import { pluginSecureProxy } from '@orama/plugin-secure-proxy'\n   *\n   * const db = await create({\n   *   schema: {\n   *     title: 'string',\n   *     description: 'string',\n   *     embedding: 'vector[3]',\n   *   },\n   *   plugins: [\n   *     await pluginSecureProxy({ apiKey: '', defaultProperty: 'embedding' })\n   *   ]\n   * });\n   *\n   * const result = await search(db, {\n   *   mode: 'vector',\n   *   term: 'Noise cancelling headphones',\n   * });\n   */\n  term?: string\n\n  /**\n   * The vector used to perform vector similarity search.\n   *\n   * @example\n   * const db = await create({\n   *   schema: {\n   *     embeddings: 'vector[3]'\n   *   }\n   * })\n   *\n   * const result = await search(db, {\n   *   mode: 'vector',\n   *   vector {\n   *     value: [0.1, 0.2, 0.3],\n   *     property: 'embedding',\n   *   }\n   * })\n   */\n  vector?: {\n    value: Array<number> | VectorType\n    property: string\n  }\n\n  /**\n   * The minimum similarity score between the vector and the document.\n   * By default, Orama will use 0.8.\n   */\n  similarity?: number\n\n  /**\n   * Filter the search results.\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/filters\n   */\n  where?: Partial<WhereCondition<T['schema']>>\n\n  /**\n   * Facets configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/facets\n   */\n  facets?: FacetsParams<T>\n\n  /**\n   * Groups configuration\n   * Full documentation: https://docs.oramasearch.com/open-source/usage/search/grouping\n   */\n  groupBy?: GroupByParams<T, ResultDocument>\n\n  /**\n   * The number of matched documents to return.\n   * By default, Orama will return 10.\n   */\n  limit?: number\n\n  /**\n   * The number of matched documents to skip.\n   * By default, Orama will skip 0.\n   */\n  offset?: number\n\n  /**\n   * Whether to include the vectors in the result.\n   * By default, Orama will not include the vectors, as they can be quite large.\n   * If set to \"false\" (default), vectors will be presented as \"null\".\n   */\n  includeVectors?: boolean\n}\n\nexport type SearchParams<T extends AnyOrama, ResultDocument = TypedDocument<T>> =\n  | SearchParamsFullText<T, ResultDocument>\n  | SearchParamsHybrid<T, ResultDocument>\n  | SearchParamsVector<T, ResultDocument>\n\nexport type Result<Document> = {\n  /**\n   * The id of the document.\n   */\n  id: string\n  /**\n   * The score of the document in the search.\n   */\n  score: number\n  /**\n   * The document\n   */\n  document: Document\n}\n\nexport type FacetResult = Record<\n  string,\n  {\n    count: number\n    values: Record<string, number>\n  }\n>\n\nexport type GroupResult<Document> = {\n  values: ScalarSearchableValue[]\n  result: Result<Document>[]\n}[]\n\nexport type TokenScore = [id: InternalDocumentID, score: number]\n\nexport type TokenMap = Record<string, TokenScore[]>\n\nexport type IndexMap = Record<string, TokenMap>\n\nexport type SearchContext<\n  T extends AnyOrama,\n  ResultDocument = TypedDocument<T>,\n  P = SearchParams<T, ResultDocument>\n> = {\n  timeStart: bigint\n  tokenizer: Tokenizer\n  index: T['index']\n  documentsStore: T['documentsStore']\n  language: string | undefined\n  params: P\n  docsCount: number\n  uniqueDocsIDs: Record<number, number>\n  indexMap: IndexMap\n  docsIntersection: TokenMap\n}\n\nexport type ElapsedTime = {\n  raw: number\n  formatted: string\n}\n\nexport interface HybridResultsBase<Document> {\n  /**\n   * The number of all the matched documents, combining vector and full-text search. Will contain duplicated results between vector and full-text search.\n   */\n  count: number\n\n  /**\n   * All the matched elements from the full-text search.\n   */\n  hits: Result<Document>[]\n\n  /**\n   * The time taken to search.\n   */\n  elapsed: ElapsedTime\n\n  /**\n   * The facets results. Includes full-text search facets only.\n   */\n  facets?: FacetResult\n\n  /**\n   * The groups results. Includes full-text search groups only.\n   */\n  groups?: GroupResult<Document>\n}\n\nexport interface HybridResultsCombine<Document> extends HybridResultsBase<Document> {\n  /**\n   * All the matched elements from the vector search.\n   */\n  hitsVector: Result<Document>[]\n}\n\nexport type Results<Document> = {\n  /**\n   * The number of all the matched documents.\n   */\n  count: number\n\n  /**\n   * An array of matched documents taking `limit` and `offset` into account.\n   */\n  hits: Result<Document>[]\n\n  /**\n   * The time taken to search.\n   */\n  elapsed: ElapsedTime\n\n  /**\n   * The facets results.\n   */\n  facets?: FacetResult\n\n  /**\n   * The groups results.\n   */\n  groups?: GroupResult<Document>\n}\n\n/**\n * Sometimes {@link doc} will not have the correct type; in these cases,\n * you can simply create a new variable and convert it to the correct type like:\n *\n * @example```ts\n * const fixedType = doc as MyType;\n * ```\n */\nexport type SingleCallbackComponent<T extends AnyOrama> = (\n  orama: T,\n  id: string,\n  doc?: TypedDocument<T>\n) => SyncOrAsyncValue\n\n/**\n * Sometimes {@link doc} will not have the correct type; in these cases,\n * you can simply create a new variable and convert it to the correct type like:\n *\n * @example```ts\n * const fixedType = doc as MyType;\n * ```\n */\nexport type MultipleCallbackComponent<T extends AnyOrama> = (\n  orama: T,\n  doc: TypedDocument<T>[] | string[]\n) => SyncOrAsyncValue\n\n/**\n * Sometimes {@link results} will not have the correct type; in these cases,\n * you can simply create a new variable and convert it to the correct type like:\n *\n * @example```ts\n * const fixedType = results as Results<MyType>;\n * ```\n */\nexport type AfterSearch<T extends AnyOrama, ResultDocument extends TypedDocument<T> = TypedDocument<T>> = (\n  db: T,\n  params: SearchParams<T, ResultDocument>,\n  language: string | undefined,\n  results: Results<ResultDocument>\n) => SyncOrAsyncValue\n\nexport type BeforeSearch<T extends AnyOrama> = (\n  db: T,\n  params: SearchParams<T>,\n  language: string | undefined\n) => SyncOrAsyncValue\n\nexport type AfterCreate<T extends AnyOrama> = (db: T) => SyncOrAsyncValue\n\nexport type IIndexInsertOrRemoveHookFunction = <R = void>(\n  index: AnyIndexStore,\n  prop: string,\n  id: string,\n  value: SearchableValue,\n  type: SearchableType,\n  language: string | undefined,\n  tokenizer: Tokenizer,\n  docsCount: number\n) => SyncOrAsyncValue<R>\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface AnyIndexStore {\n  vectorIndexes: Record<string, VectorIndex>\n}\nexport type AnyIndex = IIndex<AnyIndexStore>\n\nexport interface IIndex<I extends AnyIndexStore> {\n  create<T extends AnyOrama>(\n    orama: T,\n    sharedInternalDocumentStore: T['internalDocumentIDStore'],\n    schema: T['schema']\n  ): SyncOrAsyncValue<I>\n\n  beforeInsert?: IIndexInsertOrRemoveHookFunction\n  insert: <T extends I>(\n    implementation: IIndex<T>,\n    index: T,\n    prop: string,\n    id: DocumentID,\n    value: SearchableValue,\n    schemaType: SearchableType,\n    language: string | undefined,\n    tokenizer: Tokenizer,\n    docsCount: number\n  ) => SyncOrAsyncValue\n  afterInsert?: IIndexInsertOrRemoveHookFunction\n\n  beforeRemove?: IIndexInsertOrRemoveHookFunction\n  remove: <T extends I>(\n    implementation: IIndex<T>,\n    index: T,\n    prop: string,\n    id: DocumentID,\n    value: SearchableValue,\n    schemaType: SearchableType,\n    language: string | undefined,\n    tokenizer: Tokenizer,\n    docsCount: number\n  ) => SyncOrAsyncValue<boolean>\n  afterRemove?: IIndexInsertOrRemoveHookFunction\n\n  insertDocumentScoreParameters(\n    index: I,\n    prop: string,\n    id: DocumentID,\n    tokens: string[],\n    docsCount: number\n  ): SyncOrAsyncValue\n  insertTokenScoreParameters(index: I, prop: string, id: DocumentID, tokens: string[], token: string): SyncOrAsyncValue\n  removeDocumentScoreParameters(index: I, prop: string, id: DocumentID, docsCount: number): SyncOrAsyncValue\n  removeTokenScoreParameters(index: I, prop: string, token: string): SyncOrAsyncValue\n  calculateResultScores<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n    context: SearchContext<T, ResultDocument>,\n    index: I,\n    prop: string,\n    term: string,\n    ids: DocumentID[]\n  ): SyncOrAsyncValue<TokenScore[]>\n\n  search<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n    context: SearchContext<T, ResultDocument>,\n    index: I,\n    prop: string,\n    term: string\n  ): SyncOrAsyncValue<TokenScore[]>\n  searchByWhereClause<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n    context: SearchContext<T, ResultDocument>,\n    index: I,\n    filters: Partial<WhereCondition<T['schema']>>\n  ): SyncOrAsyncValue<InternalDocumentID[]>\n\n  getSearchableProperties(index: I): SyncOrAsyncValue<string[]>\n  getSearchablePropertiesWithTypes(index: I): SyncOrAsyncValue<Record<string, SearchableType>>\n\n  load<R = unknown>(sharedInternalDocumentStore: InternalDocumentIDStore, raw: R): SyncOrAsyncValue<I>\n  save<R = unknown>(index: I): SyncOrAsyncValue<R>\n}\n\nexport interface AnyDocumentStore {\n  docs: Record<InternalDocumentID, AnyDocument>\n}\n\nexport interface IDocumentsStore<D extends AnyDocumentStore = AnyDocumentStore> {\n  create<T extends AnyOrama>(orama: T, sharedInternalDocumentStore: InternalDocumentIDStore): SyncOrAsyncValue<D>\n  get(store: D, id: DocumentID): SyncOrAsyncValue<AnyDocument | undefined>\n  getMultiple(store: D, ids: DocumentID[]): SyncOrAsyncValue<(AnyDocument | undefined)[]>\n  getAll(store: D): SyncOrAsyncValue<Record<InternalDocumentID, AnyDocument>>\n  store(store: D, id: DocumentID, doc: AnyDocument): SyncOrAsyncValue<boolean>\n  remove(store: D, id: DocumentID): SyncOrAsyncValue<boolean>\n  count(store: D): SyncOrAsyncValue<number>\n\n  load<R = unknown>(sharedInternalDocumentStore: InternalDocumentIDStore, raw: R): SyncOrAsyncValue<D>\n  save<R = unknown>(store: D): SyncOrAsyncValue<R>\n}\n\nexport interface SorterConfig {\n  enabled?: boolean\n  unsortableProperties?: string[]\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface AnySorterStore {}\nexport type AnySorter = ISorter<AnySorterStore>\n\nexport interface ISorter<So extends AnySorterStore> {\n  create<T extends AnyOrama>(\n    orama: T,\n    sharedInternalDocumentStore: InternalDocumentIDStore,\n    schema: T['schema'],\n    sorterConfig?: SorterConfig\n  ): SyncOrAsyncValue<So>\n  insert: <T extends So>(\n    sorter: T,\n    prop: string,\n    id: DocumentID,\n    value: SortValue,\n    schemaType: SortType,\n    language: string | undefined\n  ) => SyncOrAsyncValue\n  remove: <T extends So>(sorter: T, prop: string, id: DocumentID) => SyncOrAsyncValue\n\n  load<R = unknown>(sharedInternalDocumentStore: InternalDocumentIDStore, raw: R): SyncOrAsyncValue<So>\n  save<R = unknown>(sorter: So): SyncOrAsyncValue<R>\n\n  sortBy<T extends AnyOrama>(\n    sorter: So,\n    docIds: [DocumentID, number][],\n    by: SorterParams<T>\n  ): Promise<[DocumentID, number][]>\n\n  getSortableProperties(sorter: So): SyncOrAsyncValue<string[]>\n  getSortablePropertiesWithTypes(sorter: So): SyncOrAsyncValue<Record<string, SortType>>\n}\n\nexport type Stemmer = (word: string) => string\n\nexport type DefaultTokenizerConfig = {\n  language?: Language\n  stemming?: boolean\n  stemmer?: Stemmer\n  stemmerSkipProperties?: string | string[]\n  tokenizeSkipProperties?: string | string[]\n  stopWords?: boolean | string[] | ((stopWords: string[]) => string[] | Promise<string[]>)\n  allowDuplicates?: boolean\n}\n\nexport interface Tokenizer {\n  language: string\n  normalizationCache: Map<string, string>\n  tokenize: (raw: string, language?: string, prop?: string) => SyncOrAsyncValue<string[]>\n}\n\nexport interface ObjectComponents<I, D, So> {\n  tokenizer: Tokenizer | DefaultTokenizerConfig\n  index: I\n  documentsStore: D\n  sorter: So\n}\n\nexport interface FunctionComponents<S> {\n  validateSchema(doc: AnyDocument, schema: S): SyncOrAsyncValue<string | undefined>\n  getDocumentIndexId(doc: AnyDocument): SyncOrAsyncValue<string>\n  getDocumentProperties(doc: AnyDocument, paths: string[]): SyncOrAsyncValue<Record<string, string | number | boolean>>\n  formatElapsedTime(number: bigint): SyncOrAsyncValue<number | string | object | ElapsedTime>\n}\n\nexport interface SingleOrArrayCallbackComponents<T extends AnyOrama> {\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeInsert: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterInsert: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeRemove: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterRemove: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeUpdate: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterUpdate: SingleOrArray<SingleCallbackComponent<T>>\n  /**\n   * More details {@link BeforeSearch}\n   */\n  beforeSearch: SingleOrArray<BeforeSearch<T>>\n  /**\n   * More details {@link AfterSearch}\n   */\n  afterSearch: SingleOrArray<AfterSearch<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeInsertMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterInsertMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeRemoveMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterRemoveMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeUpdateMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterUpdateMultiple: SingleOrArray<MultipleCallbackComponent<T>>\n  /**\n   * More details {@link AfterCreate}\n   */\n  afterCreate: SingleOrArray<AfterCreate<T>>\n}\n\nexport interface ArrayCallbackComponents<T extends AnyOrama> {\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeInsert: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterInsert: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeRemove: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterRemove: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  beforeUpdate: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link SingleCallbackComponent}\n   */\n  afterUpdate: SingleCallbackComponent<T>[]\n  /**\n   * More details {@link BeforeSearch}\n   */\n  beforeSearch: BeforeSearch<T>[]\n  /**\n   * More details {@link AfterSearch}\n   */\n  afterSearch: AfterSearch<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeInsertMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterInsertMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeRemoveMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterRemoveMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  beforeUpdateMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link MultipleCallbackComponent}\n   */\n  afterUpdateMultiple: MultipleCallbackComponent<T>[]\n  /**\n   * More details {@link AfterCreate}\n   */\n  afterCreate: AfterCreate<T>[]\n}\n\nexport type Components<T extends AnyOrama, TSchema, TIndex, TDocumentStore, TSorter> = Partial<\n  ObjectComponents<TIndex, TDocumentStore, TSorter> & FunctionComponents<TSchema> & SingleOrArrayCallbackComponents<T>\n>\n\nexport const kInsertions = Symbol('orama.insertions')\nexport const kRemovals = Symbol('orama.removals')\n\nexport type PickIfExtends<T, TExtends, TDefault> = T extends TExtends ? T : TDefault\n\ntype Internals<\n  TSchema,\n  TIndex extends AnyIndexStore,\n  TDocumentStore extends AnyDocumentStore,\n  TSorter extends AnySorterStore\n> = {\n  version: string\n  schema: TSchema\n  typeSchema: Schema<TSchema>\n  tokenizer: Tokenizer\n  index: IIndex<TIndex>\n  documentsStore: IDocumentsStore<TDocumentStore>\n  sorter: ISorter<TSorter>\n  data: {\n    index: TIndex\n    docs: TDocumentStore\n    sorting: TSorter\n  }\n  internalDocumentIDStore: InternalDocumentIDStore\n  caches: Record<string, unknown>\n  [kInsertions]: number | undefined\n  [kRemovals]: number | undefined\n}\n\ntype OramaID = {\n  id: string\n}\n\nexport type ExtractSchema<T> = T extends { schema: infer RawSchema } ? Schema<RawSchema> : never\n\nexport type AnyGeneric<T> = T[]\nexport type AnyGenericIndex<T> = T extends IIndex<infer TStore>\n  ? TStore extends AnyIndexStore\n    ? TStore\n    : never\n  : AnyIndexStore\nexport type AnyGenericDocumentStore<T> = T extends IDocumentsStore<infer TStore>\n  ? TStore extends AnyDocumentStore\n    ? TStore\n    : never\n  : AnyDocumentStore\nexport type AnyGenericSorter<T> = T extends ISorter<infer TSorter>\n  ? TSorter extends AnySorterStore\n    ? TSorter\n    : never\n  : AnySorterStore\n\nexport type PickInferGeneric<T, Default> = T extends AnyGeneric<infer Generic>\n  ? Generic extends Default\n    ? Generic\n    : never\n  : never\n\nexport type Orama<\n  TSchema,\n  TIndex = IIndex<Index>,\n  TDocumentStore = IDocumentsStore<DocumentsStore>,\n  TSorter = ISorter<Sorter>\n> = FunctionComponents<TSchema> &\n  Internals<TSchema, AnyGenericIndex<TIndex>, AnyGenericDocumentStore<TDocumentStore>, AnyGenericSorter<TSorter>> &\n  ArrayCallbackComponents<any> &\n  OramaID & { plugins: OramaPlugin[] }\n\nexport type AnyOrama<TSchema = any> = FunctionComponents<TSchema> &\n  Internals<TSchema, AnyIndexStore, AnyDocumentStore, AnySorterStore> &\n  ArrayCallbackComponents<any> &\n  OramaID & { plugins: OramaPlugin[] }\n\nexport type OramaPluginSync = {\n  name: string\n  beforeInsert?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  afterInsert?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  beforeRemove?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  afterRemove?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  beforeUpdate?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  afterUpdate?: <T extends AnyOrama>(orama: T, id: string, doc: AnyDocument) => SyncOrAsyncValue\n  beforeSearch?: <T extends AnyOrama>(\n    orama: T,\n    params: SearchParams<T>,\n    language: string | undefined\n  ) => SyncOrAsyncValue\n  afterSearch?: <T extends AnyOrama>(\n    orama: T,\n    params: SearchParams<T>,\n    language: string | undefined,\n    results: Results<TypedDocument<T>>\n  ) => SyncOrAsyncValue\n  beforeInsertMultiple?: <T extends AnyOrama>(orama: T, docs: AnyDocument[]) => SyncOrAsyncValue\n  afterInsertMultiple?: <T extends AnyOrama>(orama: T, docs: AnyDocument[]) => SyncOrAsyncValue\n  beforeRemoveMultiple?: <T extends AnyOrama>(orama: T, ids: string[]) => SyncOrAsyncValue\n  afterRemoveMultiple?: <T extends AnyOrama>(orama: T, ids: string[]) => SyncOrAsyncValue\n  beforeUpdateMultiple?: <T extends AnyOrama>(orama: T, docs: AnyDocument[]) => SyncOrAsyncValue\n  afterUpdateMultiple?: <T extends AnyOrama>(orama: T, docs: AnyDocument[]) => SyncOrAsyncValue\n  afterCreate?: <T extends AnyOrama>(orama: T) => SyncOrAsyncValue\n}\n\nexport type OramaPluginAsync = Promise<OramaPluginSync>\n\nexport type OramaPlugin = OramaPluginSync | OramaPluginAsync\n","import { AnyOrama, kInsertions, kRemovals } from '../types.js'\n\n// Web platforms don't have process. React-Native doesn't have process.emitWarning.\nconst warn =\n  globalThis.process?.emitWarning ??\n  function emitWarning(message: string, options: { code: string }) {\n    console.warn(`[WARNING] [${options.code}] ${message}`)\n  }\n\nexport function trackInsertion<T extends AnyOrama>(orama: T): void {\n  if (typeof orama[kInsertions] !== 'number') {\n    queueMicrotask(() => {\n      orama[kInsertions] = undefined\n    })\n\n    orama[kInsertions] = 0\n  }\n\n  if (orama[kInsertions]! > 1000) {\n    warn(\n      \"Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.\",\n      { code: 'ORAMA0001' }\n    )\n\n    orama[kInsertions] = -1\n  } else if (orama[kInsertions] >= 0) {\n    orama[kInsertions]++\n  }\n}\n\nexport function trackRemoval<T extends AnyOrama>(orama: T): void {\n  if (typeof orama[kRemovals] !== 'number') {\n    queueMicrotask(() => {\n      orama[kRemovals] = undefined\n    })\n\n    orama[kRemovals] = 0\n  }\n\n  if (orama[kRemovals]! > 1000) {\n    warn(\n      \"Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.\",\n      { code: 'ORAMA0002' }\n    )\n\n    orama[kRemovals] = -1\n  } else if (orama[kRemovals] >= 0) {\n    orama[kRemovals]++\n  }\n}\n","import { runMultipleHook, runSingleHook } from '../components/hooks.js'\nimport {\n  DocumentID,\n  getDocumentIdFromInternalId,\n  getInternalDocumentId\n} from '../components/internal-document-id-store.js'\nimport { trackRemoval } from '../components/sync-blocking-checker.js'\nimport { AnyOrama } from '../types.js'\n\nexport async function remove<T extends AnyOrama>(\n  orama: T,\n  id: DocumentID,\n  language?: string,\n  skipHooks?: boolean\n): Promise<boolean> {\n  let result = true\n  const { index, docs } = orama.data\n\n  const doc = await orama.documentsStore.get(docs, id)\n  if (!doc) {\n    return false\n  }\n\n  const docId = getDocumentIdFromInternalId(\n    orama.internalDocumentIDStore,\n    getInternalDocumentId(orama.internalDocumentIDStore, id)\n  )\n  const docsCount = await orama.documentsStore.count(docs)\n\n  if (!skipHooks) {\n    await runSingleHook(orama.beforeRemove, orama, docId)\n  }\n\n  const indexableProperties = await orama.index.getSearchableProperties(index)\n  const indexablePropertiesWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n  const values = await orama.getDocumentProperties(doc, indexableProperties)\n\n  for (const prop of indexableProperties) {\n    const value = values[prop]\n    // The document doesn't contain the key\n    if (typeof value === 'undefined') {\n      continue\n    }\n\n    const schemaType = indexablePropertiesWithTypes[prop]\n\n    await orama.index.beforeRemove?.(\n      orama.data.index,\n      prop,\n      docId,\n      value,\n      schemaType,\n      language,\n      orama.tokenizer,\n      docsCount\n    )\n    if (\n      !(await orama.index.remove(\n        orama.index,\n        orama.data.index,\n        prop,\n        id,\n        value,\n        schemaType,\n        language,\n        orama.tokenizer,\n        docsCount\n      ))\n    ) {\n      result = false\n    }\n    await orama.index.afterRemove?.(\n      orama.data.index,\n      prop,\n      docId,\n      value,\n      schemaType,\n      language,\n      orama.tokenizer,\n      docsCount\n    )\n  }\n\n  const sortableProperties = await orama.sorter.getSortableProperties(orama.data.sorting)\n  const sortableValues = await orama.getDocumentProperties(doc, sortableProperties)\n  for (const prop of sortableProperties) {\n    // The document doesn't contain the key\n    if (typeof sortableValues[prop] === 'undefined') {\n      continue\n    }\n\n    await orama.sorter.remove(orama.data.sorting, prop, id)\n  }\n\n  if (!skipHooks) {\n    await runSingleHook(orama.afterRemove, orama, docId)\n  }\n\n  await orama.documentsStore.remove(orama.data.docs, id)\n\n  trackRemoval(orama)\n  return result\n}\n\nexport async function removeMultiple<T extends AnyOrama>(\n  orama: T,\n  ids: DocumentID[],\n  batchSize?: number,\n  language?: string,\n  skipHooks?: boolean\n): Promise<number> {\n  let result = 0\n\n  if (!batchSize) {\n    batchSize = 1000\n  }\n\n  const docIdsForHooks = skipHooks\n    ? []\n    : ids.map((id) =>\n        getDocumentIdFromInternalId(\n          orama.internalDocumentIDStore,\n          getInternalDocumentId(orama.internalDocumentIDStore, id)\n        )\n      )\n\n  if (!skipHooks) {\n    await runMultipleHook(orama.beforeRemoveMultiple, orama, docIdsForHooks)\n  }\n\n  await new Promise<void>((resolve, reject) => {\n    let i = 0\n    async function _insertMultiple() {\n      const batch = ids.slice(i * batchSize!, ++i * batchSize!)\n\n      if (!batch.length) {\n        return resolve()\n      }\n\n      for (const doc of batch) {\n        try {\n          if (await remove(orama, doc, language, skipHooks)) {\n            result++\n          }\n        } catch (err) {\n          reject(err)\n        }\n      }\n\n      setTimeout(_insertMultiple, 0)\n    }\n\n    setTimeout(_insertMultiple, 0)\n  })\n\n  if (!skipHooks) {\n    await runMultipleHook(orama.afterRemoveMultiple, orama, docIdsForHooks)\n  }\n\n  return result\n}\n","import { InternalDocumentID, getDocumentIdFromInternalId } from '../components/internal-document-id-store.js'\nimport { createError } from '../errors.js'\nimport { getNested } from '../utils.js'\nimport type {\n  AnyOrama,\n  BM25Params,\n  IndexMap,\n  LiteralUnion,\n  Result,\n  Results,\n  SearchContext,\n  SearchParams,\n  SearchParamsFullText,\n  SearchParamsHybrid,\n  SearchParamsVector,\n  SearchableValue,\n  TokenMap,\n  Tokenizer,\n  TypedDocument\n} from '../types.js'\nimport { MODE_FULLTEXT_SEARCH, MODE_HYBRID_SEARCH, MODE_VECTOR_SEARCH } from '../constants.js'\nimport { fullTextSearch } from './search-fulltext.js'\nimport { searchVector } from './search-vector.js'\nimport { hybridSearch } from './search-hybrid.js'\n\nexport const defaultBM25Params: BM25Params = {\n  k: 1.2,\n  b: 0.75,\n  d: 0.5\n}\n\nexport async function createSearchContext<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  tokenizer: Tokenizer,\n  index: T['index'],\n  documentsStore: T['documentsStore'],\n  language: string | undefined,\n  params: SearchParams<T, ResultDocument>,\n  properties: string[],\n  tokens: string[],\n  docsCount: number,\n  timeStart: bigint\n): Promise<SearchContext<T, ResultDocument>> {\n  // If filters are enabled, we need to get the IDs of the documents that match the filters.\n  // const hasFilters = Object.keys(params.where ?? {}).length > 0;\n  // let whereFiltersIDs: string[] = [];\n\n  // if (hasFilters) {\n  //   whereFiltersIDs = getWhereFiltersIDs(params.where!, orama);\n  // }\n\n  // indexMap is an object containing all the indexes considered for the current search,\n  // and an array of doc IDs for each token in all the indices.\n  //\n  // Given the search term \"quick brown fox\" on the \"description\" index,\n  // indexMap will look like this:\n  //\n  // {\n  //   description: {\n  //     quick: [doc1, doc2, doc3],\n  //     brown: [doc2, doc4],\n  //     fox:   [doc2]\n  //   }\n  // }\n  const indexMap: IndexMap = {}\n\n  // After we create the indexMap, we need to calculate the intersection\n  // between all the postings lists for each token.\n  // Given the example above, docsIntersection will look like this:\n  //\n  // {\n  //   description: [doc2]\n  // }\n  //\n  // as doc2 is the only document present in all the postings lists for the \"description\" index.\n  const docsIntersection: TokenMap = {}\n\n  for (const prop of properties) {\n    const tokensMap: TokenMap = {}\n    for (const token of tokens) {\n      tokensMap[token] = []\n    }\n    indexMap[prop] = tokensMap\n    docsIntersection[prop] = []\n  }\n\n  return {\n    timeStart,\n    tokenizer,\n    index,\n    documentsStore,\n    language,\n    params,\n    docsCount,\n    uniqueDocsIDs: {},\n    indexMap,\n    docsIntersection\n  }\n}\n\nexport async function search<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParams<T, ResultDocument>,\n  language?: string\n): Promise<Results<ResultDocument>> {\n  const mode = params.mode ?? MODE_FULLTEXT_SEARCH\n\n  if (mode === MODE_FULLTEXT_SEARCH) {\n    return fullTextSearch(orama, params as SearchParamsFullText<T, ResultDocument>, language)\n  }\n\n  if (mode === MODE_VECTOR_SEARCH) {\n    return searchVector(orama, params as SearchParamsVector<T, ResultDocument>)\n  }\n\n  if (mode === MODE_HYBRID_SEARCH) {\n    return hybridSearch(orama, params as SearchParamsHybrid<T, ResultDocument>)\n  }\n\n  throw createError('INVALID_SEARCH_MODE', mode)\n}\n\nexport async function fetchDocumentsWithDistinct<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  orama: T,\n  uniqueDocsArray: [InternalDocumentID, number][],\n  offset: number,\n  limit: number,\n  distinctOn: LiteralUnion<T['schema']>\n): Promise<Result<ResultDocument>[]> {\n  const docs = orama.data.docs\n\n  // Keep track which values we already seen\n  const values = new Map<SearchableValue, true>()\n\n  // We cannot know how many results we will have in the end,\n  // so we need cannot pre-allocate the array.\n  const results: Result<ResultDocument>[] = []\n\n  const resultIDs: Set<InternalDocumentID> = new Set()\n  const uniqueDocsArrayLength = uniqueDocsArray.length\n  let count = 0\n  for (let i = 0; i < uniqueDocsArrayLength; i++) {\n    const idAndScore = uniqueDocsArray[i]\n\n    // If there are no more results, just break the loop\n    if (typeof idAndScore === 'undefined') {\n      continue\n    }\n\n    const [id, score] = idAndScore\n\n    if (resultIDs.has(id)) {\n      continue\n    }\n\n    const doc = await orama.documentsStore.get(docs, id)\n    const value = await getNested(doc as object, distinctOn)\n    if (typeof value === 'undefined' || values.has(value)) {\n      continue\n    }\n    values.set(value, true)\n\n    count++\n    // We shouldn't consider the document if it's not in the offset range\n    if (count <= offset) {\n      continue\n    }\n\n    results.push({ id: getDocumentIdFromInternalId(orama.internalDocumentIDStore, id), score, document: doc! })\n    resultIDs.add(id)\n\n    // reached the limit, break the loop\n    if (count >= offset + limit) {\n      break\n    }\n  }\n\n  return results\n}\n\nexport async function fetchDocuments<T extends AnyOrama, ResultDocument extends TypedDocument<T>>(\n  orama: T,\n  uniqueDocsArray: [InternalDocumentID, number][],\n  offset: number,\n  limit: number\n): Promise<Result<ResultDocument>[]> {\n  const docs = orama.data.docs\n\n  const results: Result<ResultDocument>[] = Array.from({\n    length: limit\n  })\n\n  const resultIDs: Set<InternalDocumentID> = new Set()\n\n  // We already have the list of ALL the document IDs containing the search terms.\n  // We loop over them starting from a positional value \"offset\" and ending at \"offset + limit\"\n  // to provide pagination capabilities to the search.\n  for (let i = offset; i < limit + offset; i++) {\n    const idAndScore = uniqueDocsArray[i]\n\n    // If there are no more results, just break the loop\n    if (typeof idAndScore === 'undefined') {\n      break\n    }\n\n    const [id, score] = idAndScore\n\n    if (!resultIDs.has(id)) {\n      // We retrieve the full document only AFTER making sure that we really want it.\n      // We never retrieve the full document preventively.\n      const fullDoc = await orama.documentsStore.get(docs, id)\n      results[i] = { id: getDocumentIdFromInternalId(orama.internalDocumentIDStore, id), score, document: fullDoc! }\n      resultIDs.add(id)\n    }\n  }\n  return results\n}\n","export const MODE_FULLTEXT_SEARCH = 'fulltext'\nexport const MODE_HYBRID_SEARCH = 'hybrid'\nexport const MODE_VECTOR_SEARCH = 'vector'\n","import type {\n  AnyOrama,\n  TypedDocument,\n  SearchParamsFullText,\n  Results,\n  CustomSorterFunctionItem,\n  TokenScore,\n  ElapsedTime\n} from '../types.js'\nimport type { InternalDocumentID } from '../components/internal-document-id-store.js'\nimport { getInternalDocumentId } from '../components/internal-document-id-store.js'\nimport { getNanosecondsTime, removeVectorsFromHits, safeArrayPush, sortTokenScorePredicate } from '../utils.js'\nimport { intersectFilteredIDs } from '../components/filters.js'\nimport { prioritizeTokenScores } from '../components/algorithms.js'\nimport { createError } from '../errors.js'\nimport { createSearchContext, defaultBM25Params, fetchDocumentsWithDistinct, fetchDocuments } from './search.js'\nimport { getFacets } from '../components/facets.js'\nimport { getGroups } from '../components/groups.js'\nimport { runBeforeSearch, runAfterSearch } from '../components/hooks.js'\n\nexport async function fullTextSearch<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParamsFullText<T, ResultDocument>,\n  language?: string\n): Promise<Results<ResultDocument>> {\n  const timeStart = await getNanosecondsTime()\n\n  if (orama.beforeSearch) {\n    await runBeforeSearch(orama.beforeSearch, orama, params, language)\n  }\n\n  params.relevance = Object.assign(defaultBM25Params, params.relevance ?? {})\n\n  const vectorProperties = Object.keys(orama.data.index.vectorIndexes)\n\n  const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0\n  const { limit = 10, offset = 0, term, properties, threshold = 1, distinctOn, includeVectors = false } = params\n  const isPreflight = params.preflight === true\n\n  const { index, docs } = orama.data\n  const tokens = await orama.tokenizer.tokenize(term ?? '', language)\n\n  // Get searchable string properties\n  let propertiesToSearch = orama.caches['propertiesToSearch'] as string[]\n  if (!propertiesToSearch) {\n    const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n\n    propertiesToSearch = await orama.index.getSearchableProperties(index)\n    propertiesToSearch = propertiesToSearch.filter((prop: string) =>\n      propertiesToSearchWithTypes[prop].startsWith('string')\n    )\n\n    orama.caches['propertiesToSearch'] = propertiesToSearch\n  }\n\n  if (properties && properties !== '*') {\n    for (const prop of properties) {\n      if (!propertiesToSearch.includes(prop as string)) {\n        throw createError('UNKNOWN_INDEX', prop as string, propertiesToSearch.join(', '))\n      }\n    }\n\n    propertiesToSearch = propertiesToSearch.filter((prop: string) => (properties as string[]).includes(prop))\n  }\n\n  // Create the search context and the results\n  const context = await createSearchContext(\n    orama.tokenizer,\n    orama.index,\n    orama.documentsStore,\n    language,\n    params,\n    propertiesToSearch,\n    tokens,\n    await orama.documentsStore.count(docs),\n    timeStart\n  )\n\n  // If filters are enabled, we need to get the IDs of the documents that match the filters.\n  const hasFilters = Object.keys(params.where ?? {}).length > 0\n  let whereFiltersIDs: InternalDocumentID[] = []\n\n  if (hasFilters) {\n    whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where!)\n  }\n\n  const tokensLength = tokens.length\n\n  if (tokensLength || (properties && properties.length > 0)) {\n    // Now it's time to loop over all the indices and get the documents IDs for every single term\n    const indexesLength = propertiesToSearch.length\n    for (let i = 0; i < indexesLength; i++) {\n      const prop = propertiesToSearch[i]\n\n      if (tokensLength !== 0) {\n        for (let j = 0; j < tokensLength; j++) {\n          const term = tokens[j]\n\n          // Lookup\n          const scoreList = await orama.index.search(context, index, prop, term)\n\n          safeArrayPush(context.indexMap[prop][term], scoreList)\n        }\n      } else {\n        context.indexMap[prop][''] = []\n        const scoreList = await orama.index.search(context, index, prop, '')\n        safeArrayPush(context.indexMap[prop][''], scoreList)\n      }\n\n      const docIds = context.indexMap[prop]\n      const vals = Object.values(docIds)\n      context.docsIntersection[prop] = prioritizeTokenScores(vals, params?.boost?.[prop] ?? 1, threshold, tokensLength)\n      const uniqueDocs = context.docsIntersection[prop]\n\n      const uniqueDocsLength = uniqueDocs.length\n      for (let i = 0; i < uniqueDocsLength; i++) {\n        const [id, score] = uniqueDocs[i]\n        const prevScore = context.uniqueDocsIDs[id]\n        if (prevScore) {\n          context.uniqueDocsIDs[id] = prevScore + score + 0.5\n        } else {\n          context.uniqueDocsIDs[id] = score\n        }\n      }\n    }\n  } else if (tokens.length === 0 && term) {\n    // This case is hard to handle correctly.\n    // For the time being, if tokenizer returns empty array but the term is not empty,\n    // we returns an empty result set\n    context.uniqueDocsIDs = {}\n  } else {\n    context.uniqueDocsIDs = Object.fromEntries(\n      Object.keys(await orama.documentsStore.getAll(orama.data.docs)).map((k) => [k, 0])\n    )\n  }\n\n  // Get unique doc IDs from uniqueDocsIDs map\n  let uniqueDocsArray = Object.entries(context.uniqueDocsIDs).map(([id, score]) => [+id, score] as TokenScore)\n\n  // If filters are enabled, we need to remove the IDs of the documents that don't match the filters.\n  if (hasFilters) {\n    uniqueDocsArray = intersectFilteredIDs(whereFiltersIDs, uniqueDocsArray)\n  }\n\n  if (params.sortBy) {\n    if (typeof params.sortBy === 'function') {\n      const ids = uniqueDocsArray.map(([id]) => id)\n      const docs = await orama.documentsStore.getMultiple(orama.data.docs, ids)\n      const docsWithIdAndScore: CustomSorterFunctionItem<ResultDocument>[] = docs.map((d, i) => [\n        uniqueDocsArray[i][0],\n        uniqueDocsArray[i][1],\n        d!\n      ])\n      docsWithIdAndScore.sort(params.sortBy)\n      uniqueDocsArray = docsWithIdAndScore.map(([id, score]) => [id, score])\n    } else {\n      uniqueDocsArray = await orama.sorter\n        .sortBy(orama.data.sorting, uniqueDocsArray, params.sortBy)\n        .then((results) =>\n          results.map(([id, score]) => [getInternalDocumentId(orama.internalDocumentIDStore, id), score])\n        )\n    }\n  } else {\n    uniqueDocsArray = uniqueDocsArray.sort(sortTokenScorePredicate)\n  }\n\n  let results\n  if (!isPreflight) {\n    results = await (distinctOn\n      ? fetchDocumentsWithDistinct(orama, uniqueDocsArray, offset, limit, distinctOn)\n      : fetchDocuments(orama, uniqueDocsArray, offset, limit))\n  }\n\n  const searchResult: Results<ResultDocument> = {\n    elapsed: {\n      formatted: '',\n      raw: 0\n    },\n    // We keep the hits array empty if it's a preflight request.\n    hits: [],\n    count: uniqueDocsArray.length\n  }\n\n  if (typeof results !== 'undefined') {\n    searchResult.hits = results.filter(Boolean)\n\n    // Vectors can be very large, so we remove them from the result if not needed\n    if (!includeVectors) {\n      removeVectorsFromHits(searchResult, vectorProperties)\n    }\n  }\n\n  if (shouldCalculateFacets) {\n    // Populate facets if needed\n    const facets = await getFacets(orama, uniqueDocsArray, params.facets!)\n    searchResult.facets = facets\n  }\n\n  if (params.groupBy) {\n    searchResult.groups = await getGroups<T, ResultDocument>(orama, uniqueDocsArray, params.groupBy)\n  }\n\n  if (orama.afterSearch) {\n    await runAfterSearch(orama.afterSearch, orama, params, language, searchResult)\n  }\n\n  // Calculate elapsed time only at the end of the function\n  searchResult.elapsed = (await orama.formatElapsedTime(\n    (await getNanosecondsTime()) - context.timeStart\n  )) as ElapsedTime\n\n  return searchResult\n}\n","import { InternalDocumentID } from './internal-document-id-store.js'\n\nexport function intersectFilteredIDs(\n  filtered: InternalDocumentID[],\n  lookedUp: [InternalDocumentID, number][]\n): [InternalDocumentID, number][] {\n  const map = new Map<number, boolean>()\n  const result: [number, number][] = []\n\n  for (const id of filtered) {\n    map.set(id, true)\n  }\n\n  for (const looked of lookedUp) {\n    const [id] = looked\n    if (map.has(id)) {\n      result.push(looked)\n      map.delete(id)\n    }\n  }\n\n  return result\n}\n","import { createError } from '../errors.js'\nimport type {\n  AnyOrama,\n  FacetResult,\n  FacetSorting,\n  FacetsParams,\n  NumberFacetDefinition,\n  SearchableValue,\n  StringFacetDefinition,\n  TokenScore\n} from '../types.js'\nimport { getNested } from '../utils.js'\n\ntype FacetValue = string | boolean | number\n\nfunction sortAsc(a: [string, number], b: [string, number]) {\n  return a[1] - b[1]\n}\n\nfunction sortDesc(a: [string, number], b: [string, number]) {\n  return b[1] - a[1]\n}\n\nfunction sortingPredicateBuilder(order: FacetSorting = 'desc') {\n  return order.toLowerCase() === 'asc' ? sortAsc : sortDesc\n}\n\nexport async function getFacets<T extends AnyOrama>(\n  orama: T,\n  results: TokenScore[],\n  facetsConfig: FacetsParams<T>\n): Promise<FacetResult> {\n  const facets: FacetResult = {}\n  const allIDs = results.map(([id]) => id)\n  const allDocs = await orama.documentsStore.getMultiple(orama.data.docs, allIDs)\n  const facetKeys = Object.keys(facetsConfig!)\n\n  const properties = await orama.index.getSearchablePropertiesWithTypes(orama.data.index)\n\n  for (const facet of facetKeys) {\n    let values\n\n    // Hack to guarantee the same order of ranges as specified by the user\n    // TODO: Revisit this once components land\n    if (properties[facet] === 'number') {\n      const { ranges } = facetsConfig[facet] as NumberFacetDefinition\n      const rangesLength = ranges.length\n      const tmp: [string, number][] = Array.from({ length: rangesLength })\n      for (let i = 0; i < rangesLength; i++) {\n        const range = ranges[i]\n        tmp[i] = [`${range.from}-${range.to}`, 0]\n      }\n      values = Object.fromEntries(tmp)\n    }\n\n    facets[facet] = {\n      count: 0,\n      values: values ?? {}\n    }\n  }\n\n  const allDocsLength = allDocs.length\n  for (let i = 0; i < allDocsLength; i++) {\n    const doc = allDocs[i]\n\n    for (const facet of facetKeys) {\n      const facetValue = facet.includes('.')\n        ? (await getNested<string>(doc!, facet))!\n        : (doc![facet] as SearchableValue)\n\n      const propertyType = properties[facet]\n      const facetValues = facets[facet].values\n      switch (propertyType) {\n        case 'number': {\n          const ranges = (facetsConfig[facet] as NumberFacetDefinition).ranges\n          calculateNumberFacetBuilder(ranges, facetValues)(facetValue as number)\n          break\n        }\n        case 'number[]': {\n          const alreadyInsertedValues = new Set<string>()\n          const ranges = (facetsConfig[facet] as NumberFacetDefinition).ranges\n          const calculateNumberFacet = calculateNumberFacetBuilder(ranges, facetValues, alreadyInsertedValues)\n          for (const v of facetValue as Array<number>) {\n            calculateNumberFacet(v)\n          }\n          break\n        }\n        case 'boolean':\n        case 'enum':\n        case 'string': {\n          calculateBooleanStringOrEnumFacetBuilder(facetValues, propertyType)(facetValue as FacetValue)\n          break\n        }\n        case 'boolean[]':\n        case 'enum[]':\n        case 'string[]': {\n          const alreadyInsertedValues = new Set<string>()\n          const innerType = propertyType === 'boolean[]' ? 'boolean' : 'string'\n          const calculateBooleanStringOrEnumFacet = calculateBooleanStringOrEnumFacetBuilder(facetValues, innerType, alreadyInsertedValues)\n          for (const v of facetValue as Array<FacetValue>) {\n            calculateBooleanStringOrEnumFacet(v)\n          }\n          break\n        }\n        default:\n          throw createError('FACET_NOT_SUPPORTED', propertyType)\n      }\n    }\n  }\n\n  // TODO: We are looping again with the same previous keys, should we creat a single loop instead?\n  for (const facet of facetKeys) {\n    const currentFacet = facets[facet]\n    // Count the number of values for each facet\n    currentFacet.count = Object.keys(currentFacet.values).length\n    // Sort only string-based facets\n    if (properties[facet] === 'string') {\n      const stringFacetDefinition = facetsConfig[facet] as StringFacetDefinition\n      const sortingPredicate = sortingPredicateBuilder(stringFacetDefinition.sort)\n\n      currentFacet.values = Object.fromEntries(\n        Object.entries(currentFacet.values)\n          .sort(sortingPredicate)\n          .slice(stringFacetDefinition.offset ?? 0, stringFacetDefinition.limit ?? 10)\n      )\n    }\n  }\n\n  return facets\n}\n\nfunction calculateNumberFacetBuilder(\n  ranges: NumberFacetDefinition['ranges'],\n  values: Record<string, number>,\n  alreadyInsertedValues?: Set<string>\n) {\n  return (facetValue: number) => {\n    for (const range of ranges) {\n      const value = `${range.from}-${range.to}`\n      if (alreadyInsertedValues?.has(value)) {\n        continue\n      }\n  \n      if (facetValue >= range.from && facetValue <= range.to) {\n        if (values[value] === undefined) {\n          values[value] = 1\n        } else {\n          values[value]++\n  \n          alreadyInsertedValues?.add(value)\n        }\n      }\n    }\n  }\n}\n\nfunction calculateBooleanStringOrEnumFacetBuilder(\n  values: Record<string, number>,\n  propertyType: 'string' | 'boolean' | 'enum',\n  alreadyInsertedValues?: Set<string>\n) {\n  const defaultValue = (propertyType === 'boolean' ? 'false' : '')\n  return (facetValue: FacetValue) => {\n    // String or boolean based facets\n    const value = facetValue?.toString() ?? defaultValue\n    if (alreadyInsertedValues?.has(value)) {\n      return\n    }\n    values[value] = (values[value] ?? 0) + 1\n    alreadyInsertedValues?.add(value)\n  }\n}\n","import { createError } from '../errors.js'\nimport { getNested, intersect, safeArrayPush } from '../utils.js'\nimport type {\n  AnyDocument,\n  AnyOrama,\n  GroupByParams,\n  GroupResult,\n  Reduce,\n  Result,\n  ScalarSearchableValue,\n  SearchableType,\n  TokenScore,\n  TypedDocument\n} from '../types.js'\nimport { getDocumentIdFromInternalId } from './internal-document-id-store.js'\nimport { Point } from '../trees/bkd.js'\n\ninterface PropertyGroup {\n  property: string\n  perValue: Record<\n    string,\n    {\n      indexes: number[]\n      count: number\n    }\n  >\n}\n\ninterface Group {\n  values: ScalarSearchableValue[]\n  indexes: number[]\n}\n\ntype GroupableType = Exclude<SearchableType, Point>\n\nconst DEFAULT_REDUCE: Reduce<Result<AnyDocument>[]> = {\n  reducer: (_, acc, res, index) => {\n    acc[index] = res\n    return acc\n  },\n  getInitialValue: (length) => Array.from({ length })\n}\n\nconst ALLOWED_TYPES = ['string', 'number', 'boolean']\n\nexport async function getGroups<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  results: TokenScore[],\n  groupBy: GroupByParams<T, ResultDocument>\n): Promise<GroupResult<ResultDocument>> {\n  const properties = groupBy.properties\n  const propertiesLength = properties.length\n\n  const schemaProperties = await orama.index.getSearchablePropertiesWithTypes(orama.data.index)\n  for (let i = 0; i < propertiesLength; i++) {\n    const property = properties[i]\n    if (typeof schemaProperties[property] === 'undefined') {\n      throw createError('UNKNOWN_GROUP_BY_PROPERTY', property)\n    }\n    if (!ALLOWED_TYPES.includes(schemaProperties[property])) {\n      throw createError('INVALID_GROUP_BY_PROPERTY', property, ALLOWED_TYPES.join(', '), schemaProperties[property])\n    }\n  }\n\n  const allIDs = results.map(([id]) => getDocumentIdFromInternalId(orama.internalDocumentIDStore, id))\n\n  // allDocs is already sorted by the sortBy algorithm\n  // We leverage on that to limit the number of documents returned\n  const allDocs = await orama.documentsStore.getMultiple(orama.data.docs, allIDs)\n  const allDocsLength = allDocs.length\n\n  const returnedCount = groupBy.maxResult || Number.MAX_SAFE_INTEGER\n\n  const listOfValues: ScalarSearchableValue[][] = []\n\n  // We want to understand which documents have which values\n  // and group them by the property and values\n  const g: Record<string, PropertyGroup> = {}\n  for (let i = 0; i < propertiesLength; i++) {\n    const groupByKey = properties[i]\n    const group: PropertyGroup = {\n      property: groupByKey,\n      perValue: {}\n    }\n\n    const values: Set<ScalarSearchableValue> = new Set()\n    for (let j = 0; j < allDocsLength; j++) {\n      const doc = allDocs[j]\n\n      const value = await getNested<ScalarSearchableValue>(doc as object, groupByKey)\n      // we don't want to consider undefined values\n      if (typeof value === 'undefined') {\n        continue\n      }\n      const keyValue = typeof value !== 'boolean' ? value : '' + value\n      const perValue = group.perValue[keyValue as GroupableType] ?? {\n        indexes: [],\n        count: 0\n      }\n      if (perValue.count >= returnedCount) {\n        // We stop early because for this value we react the limit\n        continue\n      }\n\n      // We use the index to keep track of the original order\n      perValue.indexes.push(j)\n      perValue.count++\n\n      group.perValue[keyValue as GroupableType] = perValue\n\n      values.add(value)\n    }\n\n    listOfValues.push(Array.from(values))\n\n    g[groupByKey] = group\n  }\n\n  const combinations = calculateCombination(listOfValues)\n  const combinationsLength = combinations.length\n\n  const groups: Group[] = []\n  for (let i = 0; i < combinationsLength; i++) {\n    const combination = combinations[i]\n    const combinationLength = combination.length\n\n    const group: Group = {\n      values: [],\n      indexes: []\n    }\n    const indexes: number[][] = []\n    for (let j = 0; j < combinationLength; j++) {\n      const value = combination[j]\n      const property = properties[j]\n      indexes.push(g[property].perValue[(typeof value !== 'boolean' ? value : '' + value) as GroupableType].indexes)\n      group.values.push(value)\n    }\n    // We leverage on the index to sort the results by the original order\n    group.indexes = intersect(indexes).sort((a, b) => a - b)\n\n    // don't generate empty groups\n    if (group.indexes.length === 0) {\n      continue\n    }\n\n    groups.push(group)\n  }\n\n  const groupsLength = groups.length\n  const res: GroupResult<ResultDocument> = Array.from({ length: groupsLength })\n  for (let i = 0; i < groupsLength; i++) {\n    const group = groups[i]\n\n    const reduce = (groupBy.reduce || DEFAULT_REDUCE) as Reduce<Result<ResultDocument>[]>\n\n    const docs = group.indexes.map((index) => {\n      return {\n        id: allIDs[index],\n        score: results[index][1],\n        document: allDocs[index]!\n      }\n    })\n\n    const func = reduce.reducer.bind(null, group.values)\n    const initialValue = reduce.getInitialValue(group.indexes.length)\n    const aggregationValue = docs.reduce(func, initialValue)\n\n    res[i] = {\n      values: group.values,\n      result: aggregationValue\n    }\n  }\n\n  return res\n}\n\nfunction calculateCombination(arrs: ScalarSearchableValue[][], index = 0): ScalarSearchableValue[][] {\n  if (index + 1 === arrs.length) return arrs[index].map((item) => [item])\n\n  const head = arrs[index]\n  const c = calculateCombination(arrs, index + 1)\n\n  const combinations: ScalarSearchableValue[][] = []\n  for (const value of head) {\n    for (const combination of c) {\n      const result = [value]\n\n      safeArrayPush(result, combination)\n\n      combinations.push(result)\n    }\n  }\n\n  return combinations\n}\n","import type { AnyOrama, Results, SearchParamsVector, TypedDocument, Result } from '../types.js'\nimport type { InternalDocumentID } from '../components/internal-document-id-store.js'\nimport { createSearchContext } from './search.js'\nimport { getNanosecondsTime, formatNanoseconds } from '../utils.js'\nimport { getFacets } from '../components/facets.js'\nimport { createError } from '../errors.js'\nimport { findSimilarVectors } from '../components/cosine-similarity.js'\nimport { intersectFilteredIDs } from '../components/filters.js'\nimport { getGroups } from '../components/groups.js'\nimport { getInternalDocumentId, getDocumentIdFromInternalId } from '../components/internal-document-id-store.js'\nimport { Language } from '../index.js'\nimport { runBeforeSearch, runAfterSearch } from '../components/hooks.js'\n\nexport async function searchVector<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParamsVector<T, ResultDocument>,\n  language: Language = 'english'\n): Promise<Results<ResultDocument>> {\n  const timeStart = await getNanosecondsTime()\n\n  if (orama.beforeSearch) {\n    await runBeforeSearch(orama.beforeSearch, orama, params, language)\n  }\n\n  const { vector } = params\n\n  if (vector && (!('value' in vector) || !('property' in vector))) {\n    throw createError('INVALID_VECTOR_INPUT', Object.keys(vector).join(', '))\n  }\n\n  const { limit = 10, offset = 0, includeVectors = false } = params\n  const vectorIndex = orama.data.index.vectorIndexes[vector!.property]\n  const vectorSize = vectorIndex.size\n  const vectors = vectorIndex.vectors\n  const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0\n  const hasFilters = Object.keys(params.where ?? {}).length > 0\n  const { index, docs: oramaDocs } = orama.data\n\n  if (vector?.value.length !== vectorSize) {\n    // eslint-disable-next-line\n    throw createError('INVALID_INPUT_VECTOR', vector?.property!, vectorSize, vector?.value.length!)\n  }\n\n  if (!(vector instanceof Float32Array)) {\n    vector.value = new Float32Array(vector.value)\n  }\n\n  let results = findSimilarVectors(vector.value as Float32Array, vectors, vectorSize, params.similarity).map(\n    ([id, score]) => [getInternalDocumentId(orama.internalDocumentIDStore, id), score]\n  ) as [number, number][]\n\n  let propertiesToSearch = orama.caches['propertiesToSearch'] as string[]\n\n  if (!propertiesToSearch) {\n    const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n\n    propertiesToSearch = await orama.index.getSearchableProperties(index)\n    propertiesToSearch = propertiesToSearch.filter((prop: string) =>\n      propertiesToSearchWithTypes[prop].startsWith('string')\n    )\n\n    orama.caches['propertiesToSearch'] = propertiesToSearch\n  }\n\n  const tokens = []\n\n  const context = await createSearchContext(\n    orama.tokenizer,\n    orama.index,\n    orama.documentsStore,\n    language,\n    params,\n    propertiesToSearch,\n    tokens,\n    await orama.documentsStore.count(oramaDocs),\n    timeStart\n  )\n\n  let whereFiltersIDs: InternalDocumentID[] = []\n\n  if (hasFilters) {\n    whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where!)\n    results = intersectFilteredIDs(whereFiltersIDs, results)\n  }\n\n  let facetsResults: any = []\n\n  if (shouldCalculateFacets) {\n    // Populate facets if needed\n    const facets = await getFacets(orama, results, params.facets!)\n    facetsResults = facets\n  }\n\n  const docs: Result<ResultDocument>[] = Array.from({ length: limit })\n\n  for (let i = 0; i < limit; i++) {\n    const result = results[i + offset]\n    if (!result) {\n      break\n    }\n\n    const doc = orama.data.docs.docs[result[0]]\n\n    if (doc) {\n      if (!includeVectors) {\n        doc[vector.property] = null\n      }\n\n      const newDoc: Result<ResultDocument> = {\n        id: getDocumentIdFromInternalId(orama.internalDocumentIDStore, result[0]),\n        score: result[1],\n        document: doc\n      }\n      docs[i] = newDoc\n    }\n  }\n\n  let groups: any = []\n\n  if (params.groupBy) {\n    groups = await getGroups<T, ResultDocument>(orama, results, params.groupBy)\n  }\n\n  if (orama.afterSearch) {\n    await runAfterSearch(orama.afterSearch, orama, params, language, results as any)\n  }\n\n  const timeEnd = await getNanosecondsTime()\n  const elapsedTime = timeEnd - timeStart\n\n  return {\n    count: results.length,\n    hits: docs.filter(Boolean),\n    elapsed: {\n      raw: Number(elapsedTime),\n      formatted: await formatNanoseconds(elapsedTime)\n    },\n    ...(facetsResults ? { facets: facetsResults } : {}),\n    ...(groups ? { groups } : {})\n  }\n}\n","import type {\n  AnyOrama,\n  TypedDocument,\n  SearchParamsHybrid,\n  Results,\n  TokenScore,\n  Result,\n  HybridWeights\n} from '../types.js'\nimport type { InternalDocumentID } from '../components/internal-document-id-store.js'\nimport { getNanosecondsTime, safeArrayPush, formatNanoseconds, removeVectorsFromHits } from '../utils.js'\nimport { intersectFilteredIDs } from '../components/filters.js'\nimport { prioritizeTokenScores } from '../components/algorithms.js'\nimport { createError } from '../errors.js'\nimport { createSearchContext, defaultBM25Params } from './search.js'\nimport { getFacets } from '../components/facets.js'\nimport { getGroups } from '../components/groups.js'\nimport { findSimilarVectors } from '../components/cosine-similarity.js'\nimport { getInternalDocumentId } from '../components/internal-document-id-store.js'\nimport { fetchDocuments } from './search.js'\nimport { runBeforeSearch, runAfterSearch } from '../components/hooks.js'\n\nexport async function hybridSearch<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParamsHybrid<T, ResultDocument>,\n  language?: string\n): Promise<Results<ResultDocument>> {\n  const timeStart = await getNanosecondsTime()\n\n  if (orama.beforeSearch) {\n    await runBeforeSearch(orama.beforeSearch, orama, params, language)\n  }\n\n  const { offset = 0, limit = 10, includeVectors = false } = params\n  const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0\n\n  const [fullTextIDs, vectorIDs] = await Promise.all([\n    getFullTextSearchIDs(orama, params, language),\n    getVectorSearchIDs(orama, params)\n  ])\n\n  const { index, docs } = orama.data\n  const hybridWeights = params.hybridWeights\n  let uniqueTokenScores = mergeAndRankResults(fullTextIDs, vectorIDs, params.term ?? '', hybridWeights)\n\n  // @todo avoid tokenize twice\n  const tokens = await orama.tokenizer.tokenize(params.term ?? '', language)\n  let propertiesToSearch = orama.caches['propertiesToSearch'] as string[]\n  if (!propertiesToSearch) {\n    const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n\n    propertiesToSearch = await orama.index.getSearchableProperties(index)\n    propertiesToSearch = propertiesToSearch.filter((prop: string) =>\n      propertiesToSearchWithTypes[prop].startsWith('string')\n    )\n\n    orama.caches['propertiesToSearch'] = propertiesToSearch\n  }\n\n  if (params.properties && params.properties !== '*') {\n    for (const prop of params.properties) {\n      if (!propertiesToSearch.includes(prop as string)) {\n        throw createError('UNKNOWN_INDEX', prop as string, propertiesToSearch.join(', '))\n      }\n    }\n\n    propertiesToSearch = propertiesToSearch.filter((prop: string) => (params.properties as string[]).includes(prop))\n  }\n\n  // @todo avoid create context twice\n  const context = await createSearchContext(\n    orama.tokenizer,\n    orama.index,\n    orama.documentsStore,\n    language,\n    params,\n    propertiesToSearch,\n    tokens,\n    await orama.documentsStore.count(docs),\n    timeStart\n  )\n\n  const hasFilters = Object.keys(params.where ?? {}).length > 0\n  let whereFiltersIDs: InternalDocumentID[] = []\n\n  if (hasFilters) {\n    whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where!)\n    uniqueTokenScores = intersectFilteredIDs(whereFiltersIDs, uniqueTokenScores).slice(offset, offset + limit)\n  }\n\n  let facetsResults: any\n  if (shouldCalculateFacets) {\n    const facets = await getFacets(orama, uniqueTokenScores, params.facets!)\n    facetsResults = facets\n  }\n\n  let groups: any\n  if (params.groupBy) {\n    groups = await getGroups<T, ResultDocument>(orama, uniqueTokenScores, params.groupBy)\n  }\n\n  const results = (await fetchDocuments(orama, uniqueTokenScores, offset, limit)).filter(Boolean)\n\n  if (orama.afterSearch) {\n    await runAfterSearch(orama.afterSearch, orama, params, language, results as any)\n  }\n\n  const timeEnd = await getNanosecondsTime()\n\n  const returningResults = {\n    count: uniqueTokenScores.length,\n    elapsed: {\n      raw: Number(timeEnd - timeStart),\n      formatted: await formatNanoseconds(timeEnd - timeStart)\n    },\n    hits: results as Result<ResultDocument>[],\n    ...(facetsResults ? { facets: facetsResults } : {}),\n    ...(groups ? { groups } : {})\n  }\n\n  if (!includeVectors) {\n    const vectorProperties = Object.keys(orama.data.index.vectorIndexes)\n    removeVectorsFromHits(returningResults, vectorProperties)\n  }\n\n  return returningResults\n}\n\nasync function getFullTextSearchIDs<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParamsHybrid<T, ResultDocument>,\n  language?: string\n): Promise<TokenScore[]> {\n  const timeStart = await getNanosecondsTime()\n  params.relevance = Object.assign(defaultBM25Params, params.relevance ?? {})\n\n  const { term = '', properties, threshold = 1 } = params\n\n  const { index, docs } = orama.data\n  const tokens = await orama.tokenizer.tokenize(term, language)\n\n  // Get searchable string properties\n  let propertiesToSearch = orama.caches['propertiesToSearch'] as string[]\n  if (!propertiesToSearch) {\n    const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index)\n\n    propertiesToSearch = await orama.index.getSearchableProperties(index)\n    propertiesToSearch = propertiesToSearch.filter((prop: string) =>\n      propertiesToSearchWithTypes[prop].startsWith('string')\n    )\n\n    orama.caches['propertiesToSearch'] = propertiesToSearch\n  }\n\n  if (properties && properties !== '*') {\n    const propertiesToSearchSet = new Set(propertiesToSearch)\n    const propertiesSet = new Set(properties as string[])\n    \n    for (const prop of properties) {\n      if (!propertiesToSearchSet.has(prop as string)) {\n        throw createError('UNKNOWN_INDEX', prop as string, propertiesToSearch.join(', '))\n      }\n    }\n\n    propertiesToSearch = propertiesToSearch.filter((prop: string) => propertiesSet.has(prop))\n  }\n\n  // Create the search context and the results\n  const context = await createSearchContext(\n    orama.tokenizer,\n    orama.index,\n    orama.documentsStore,\n    language,\n    params,\n    propertiesToSearch,\n    tokens,\n    await orama.documentsStore.count(docs),\n    timeStart\n  )\n\n  const tokensLength = tokens.length\n\n  if (tokensLength || (properties && properties.length > 0)) {\n    // Now it's time to loop over all the indices and get the documents IDs for every single term\n    const indexesLength = propertiesToSearch.length\n    for (let i = 0; i < indexesLength; i++) {\n      const prop = propertiesToSearch[i]\n\n      if (tokensLength !== 0) {\n        for (let j = 0; j < tokensLength; j++) {\n          const term = tokens[j]\n\n          // Lookup\n          const scoreList = await orama.index.search(context, index, prop, term)\n\n          safeArrayPush(context.indexMap[prop][term], scoreList)\n        }\n      } else {\n        const indexMapContent = []\n        context.indexMap[prop][''] = indexMapContent\n        const scoreList = await orama.index.search(context, index, prop, '')\n        safeArrayPush(indexMapContent, scoreList)\n      }\n\n      const docIds = context.indexMap[prop]\n      const vals = Object.values(docIds)\n      context.docsIntersection[prop] = prioritizeTokenScores(vals, params?.boost?.[prop] ?? 1, threshold, tokensLength)\n      const uniqueDocs = context.docsIntersection[prop]\n\n      const uniqueDocsLength = uniqueDocs.length\n      for (let i = 0; i < uniqueDocsLength; i++) {\n        const [id, score] = uniqueDocs[i]\n        const prevScore = context.uniqueDocsIDs[id]\n        context.uniqueDocsIDs[id] = prevScore ? prevScore + score + 0.5 : score\n      }\n    }\n  } else if (tokens.length === 0 && term) {\n    // This case is hard to handle correctly.\n    // For the time being, if tokenizer returns empty array but the term is not empty,\n    // we returns an empty result set\n    context.uniqueDocsIDs = {}\n  } else {\n    context.uniqueDocsIDs = Object.fromEntries(\n      Object.keys(await orama.documentsStore.getAll(orama.data.docs)).map((k) => [k, 0])\n    )\n  }\n\n  const uniqueIDs = Object.entries(context.uniqueDocsIDs)\n    .map(([id, score]) => [+id, score] as TokenScore)\n    .sort((a, b) => b[1] - a[1])\n\n  return minMaxScoreNormalization(uniqueIDs)\n}\n\nexport async function getVectorSearchIDs<T extends AnyOrama, ResultDocument = TypedDocument<T>>(\n  orama: T,\n  params: SearchParamsHybrid<T, ResultDocument>\n): Promise<TokenScore[]> {\n  const vector = params.vector\n  // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n  const vectorIndex = orama.data.index.vectorIndexes[vector?.property!]\n  const vectorSize = vectorIndex.size\n  const vectors = vectorIndex.vectors\n\n  if (vector && (!vector.value || !vector.property)) {\n    throw createError('INVALID_VECTOR_INPUT', Object.keys(vector).join(', '))\n  }\n\n  if (vector!.value.length !== vectorSize) {\n    throw createError('INVALID_INPUT_VECTOR', vector!.property, vectorSize, vector!.value.length)\n  }\n\n  if (!(vector instanceof Float32Array)) {\n    vector!.value = new Float32Array(vector!.value)\n  }\n\n  const uniqueIDs = findSimilarVectors(vector!.value as Float32Array, vectors, vectorSize, params.similarity).map(\n    ([id, score]) => [getInternalDocumentId(orama.internalDocumentIDStore, id), score]\n  ) as TokenScore[]\n\n  return minMaxScoreNormalization(uniqueIDs)\n}\n\nfunction extractScore([, score]: TokenScore) {\n  return score\n}\n\nfunction minMaxScoreNormalization(results: TokenScore[]): TokenScore[] {\n  // In this case I disabled the `prefer-spread` rule because spread seems to be slower\n  // eslint-disable-next-line prefer-spread\n  const maxScore = Math.max.apply(Math, results.map(extractScore))\n  return results.map(([id, score]) => [id, score / maxScore] as TokenScore)\n}\n\nfunction normalizeScore(score: number, maxScore: number) {\n  return score / maxScore\n}\n\nfunction hybridScoreBuilder(textWeight: number, vectorWeight: number) {\n  return (textScore: number, vectorScore: number) => textScore * textWeight + vectorScore * vectorWeight\n}\n\nfunction mergeAndRankResults(\n  textResults: TokenScore[],\n  vectorResults: TokenScore[],\n  query: string,\n  hybridWeights: HybridWeights | undefined\n) { \n  // eslint-disable-next-line prefer-spread\n  const maxTextScore = Math.max.apply(Math, textResults.map(extractScore))\n  // eslint-disable-next-line prefer-spread\n  const maxVectorScore = Math.max.apply(Math, vectorResults.map(extractScore))\n  const hasHybridWeights = hybridWeights && hybridWeights.text && hybridWeights.vector\n\n  const { text: textWeight, vector: vectorWeight } = hasHybridWeights ? hybridWeights : getQueryWeights(query)\n  const mergedResults = new Map()\n\n  const textResultsLength = textResults.length\n  const hybridScore = hybridScoreBuilder(textWeight, vectorWeight)\n  for (let i = 0; i < textResultsLength; i++) {\n    const [id, score] = textResults[i]\n    const normalizedScore = normalizeScore(score, maxTextScore)\n    const hybridScoreValue = hybridScore(normalizedScore, 0)\n    mergedResults.set(id, hybridScoreValue)\n  }\n\n  const vectorResultsLength = vectorResults.length\n  for (let i = 0; i < vectorResultsLength; i++) {\n    const [resultId, score] = vectorResults[i]\n    const normalizedScore = normalizeScore(score, maxVectorScore)\n    const existingRes = mergedResults.get(resultId) ?? 0\n    mergedResults.set(resultId, existingRes + hybridScore(0, normalizedScore))\n  }\n\n  return [...mergedResults].sort((a, b) => b[1] - a[1])\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction getQueryWeights(query: string): HybridWeights {\n  // In the next versions of Orama, we will ship a plugin containing a ML model to adjust the weights\n  // based on whether the query is keyword-focused, conceptual, etc.\n  // For now, we just return a fixed value.\n  return {\n    text: 0.5,\n    vector: 0.5\n  }\n}\n","// Keywords appear in the code everywhere, but we don't want to use them for\n// matching in code searching.\n// Just filter them out before we start using a syntax parser.\nconst reservedKeywords = [\n  // Typescript: https://github.com/microsoft/TypeScript/issues/2536\n  \"as\",\n  \"any\",\n  \"boolean\",\n  \"break\",\n  \"case\",\n  \"catch\",\n  \"class\",\n  \"const\",\n  \"constructor\",\n  \"continue\",\n  \"debugger\",\n  \"declare\",\n  \"default\",\n  \"delete\",\n  \"do\",\n  \"else\",\n  \"enum\",\n  \"export\",\n  \"extends\",\n  \"false\",\n  \"finally\",\n  \"for\",\n  \"from\",\n  \"function\",\n  \"get\",\n  \"if\",\n  \"implements\",\n  \"import\",\n  \"in\",\n  \"instanceof\",\n  \"interface\",\n  \"let\",\n  \"module\",\n  \"new\",\n  \"null\",\n  \"number\",\n  \"of\",\n  \"package\",\n  \"private\",\n  \"protected\",\n  \"public\",\n  \"require\",\n  \"return\",\n  \"set\",\n  \"static\",\n  \"string\",\n  \"super\",\n  \"switch\",\n  \"symbol\",\n  \"this\",\n  \"throw\",\n  \"true\",\n  \"try\",\n  \"typeof\",\n  \"var\",\n  \"void\",\n  \"while\",\n  \"with\",\n  \"yield\",\n];\nexport function extractNonReservedWordList(text: string): string {\n  const re = /\\w+/g;\n  return [\n    ...new Set(text.match(re)?.filter((symbol) => symbol.length > 2 && !reservedKeywords.includes(symbol))).values(),\n  ].join(\" \");\n}\n","import { Position, Range } from \"vscode-languageserver\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\n\nexport function isPositionEqual(a: Position, b: Position): boolean {\n  return a.line === b.line && a.character === b.character;\n}\nexport function isPositionBefore(a: Position, b: Position): boolean {\n  return a.line < b.line || (a.line === b.line && a.character < b.character);\n}\nexport function isPositionAfter(a: Position, b: Position): boolean {\n  return a.line > b.line || (a.line === b.line && a.character > b.character);\n}\nexport function isPositionBeforeOrEqual(a: Position, b: Position): boolean {\n  return a.line < b.line || (a.line === b.line && a.character <= b.character);\n}\nexport function isPositionAfterOrEqual(a: Position, b: Position): boolean {\n  return a.line > b.line || (a.line === b.line && a.character >= b.character);\n}\nexport function isPositionInRange(a: Position, b: Range): boolean {\n  return isPositionBeforeOrEqual(b.start, a) && isPositionBeforeOrEqual(a, b.end);\n}\nexport function isRangeEqual(a: Range, b: Range): boolean {\n  return isPositionEqual(a.start, b.start) && isPositionEqual(a.end, b.end);\n}\nexport function isEmptyRange(a: Range): boolean {\n  return isPositionAfterOrEqual(a.start, a.end);\n}\nexport function unionRange(a: Range, b: Range): Range {\n  return {\n    start: isPositionBefore(a.start, b.start)\n      ? { line: a.start.line, character: a.start.character }\n      : { line: b.start.line, character: b.start.character },\n    end: isPositionAfter(a.end, b.end)\n      ? { line: a.end.line, character: a.end.character }\n      : { line: b.end.line, character: b.end.character },\n  };\n}\nexport function intersectionRange(a: Range, b: Range): Range | null {\n  const range = {\n    start: isPositionAfter(a.start, b.start)\n      ? { line: a.start.line, character: a.start.character }\n      : { line: b.start.line, character: b.start.character },\n    end: isPositionBefore(a.end, b.end)\n      ? { line: a.end.line, character: a.end.character }\n      : { line: b.end.line, character: b.end.character },\n  };\n  return isEmptyRange(range) ? null : range;\n}\nexport function documentRange(doc: TextDocument): Range {\n  return {\n    start: {\n      line: 0,\n      character: 0,\n    },\n    end: {\n      line: doc.lineCount,\n      character: 0,\n    },\n  };\n}\nexport function rangeInDocument(a: Range, doc: TextDocument): Range | null {\n  return intersectionRange(a, documentRange(doc));\n}\n","import { Range, Location, Connection, CancellationToken } from \"vscode-languageserver\";\nimport {\n  ChatEditToken,\n  ChatEditRequest,\n  ChatEditParams,\n  ChatEditResolveRequest,\n  ChatEditResolveParams,\n  ChatEditCommandRequest,\n  ChatEditCommandParams,\n  ChatEditCommand,\n  ChatFeatureNotAvailableError,\n  ChatEditDocumentTooLongError,\n  ChatEditCommandTooLongError,\n  ChatEditMutexError,\n} from \"./protocol\";\nimport { TextDocuments } from \"./TextDocuments\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport { Readable } from \"readable-stream\";\nimport cryptoRandomString from \"crypto-random-string\";\nimport * as Diff from \"diff\";\nimport { TabbyAgent } from \"../TabbyAgent\";\nimport { isEmptyRange } from \"../utils/range\";\nimport { isBlank } from \"../utils\";\n\nexport type Edit = {\n  id: ChatEditToken;\n  location: Location;\n  languageId: string;\n  originalText: string;\n  editedRange: Range;\n  editedText: string;\n  comments: string;\n  buffer: string;\n  state: \"editing\" | \"stopped\" | \"completed\";\n};\n\nexport class ChatEditProvider {\n  private currentEdit: Edit | null = null;\n  private mutexAbortController: AbortController | null = null;\n\n  constructor(\n    private readonly connection: Connection,\n    private readonly documents: TextDocuments<TextDocument>,\n    private readonly agent: TabbyAgent,\n  ) {\n    this.connection.onRequest(ChatEditCommandRequest.type, async (params) => {\n      return this.provideEditCommands(params);\n    });\n    this.connection.onRequest(ChatEditRequest.type, async (params, token) => {\n      return this.provideEdit(params, token);\n    });\n    this.connection.onRequest(ChatEditResolveRequest.type, async (params) => {\n      return this.resolveEdit(params);\n    });\n  }\n\n  isCurrentEdit(id: ChatEditToken): boolean {\n    return this.currentEdit?.id === id;\n  }\n\n  async provideEditCommands(params: ChatEditCommandParams): Promise<ChatEditCommand[]> {\n    const commands = this.agent.getConfig().chat.edit.presetCommands;\n    const result: ChatEditCommand[] = [];\n    const document = this.documents.get(params.location.uri);\n\n    result.push(\n      ...Object.entries(commands)\n        .filter(([_command, commandConfig]) => {\n          for (const [filterKey, filterValue] of Object.entries(commandConfig.filters)) {\n            if (filterValue) {\n              switch (filterKey) {\n                case \"languageIdIn\":\n                  if (document && !filterValue.split(\",\").includes(document.languageId)) {\n                    return false;\n                  }\n                  break;\n                case \"languageIdNotIn\":\n                  if (document && filterValue.split(\",\").includes(document.languageId)) {\n                    return false;\n                  }\n                  break;\n                default:\n                  break;\n              }\n            }\n          }\n          return true;\n        })\n        .map(([command, commandConfig]) => {\n          return {\n            label: commandConfig.label,\n            command,\n            source: \"preset\",\n          } as ChatEditCommand;\n        }),\n    );\n\n    return result;\n  }\n\n  async provideEdit(params: ChatEditParams, token: CancellationToken): Promise<ChatEditToken | null> {\n    if (params.format !== \"previewChanges\") {\n      return null;\n    }\n    const document = this.documents.get(params.location.uri);\n    if (!document) {\n      return null;\n    }\n    if (!this.agent.getServerHealthState()?.chat_model) {\n      throw {\n        name: \"ChatFeatureNotAvailableError\",\n        message: \"Chat feature not available\",\n      } as ChatFeatureNotAvailableError;\n    }\n    const config = this.agent.getConfig().chat;\n    if (params.command.length > config.edit.commandMaxChars) {\n      throw { name: \"ChatEditCommandTooLongError\", message: \"Command too long\" } as ChatEditCommandTooLongError;\n    }\n\n    let insertMode: boolean = isEmptyRange(params.location.range);\n    const presetCommand = /^\\/\\w+\\b/g.exec(params.command)?.[0];\n    if (presetCommand) {\n      insertMode = config.edit.presetCommands[presetCommand]?.kind === \"insert\";\n    }\n\n    const documentText = document.getText();\n    const selection = {\n      start: document.offsetAt(params.location.range.start),\n      end: document.offsetAt(params.location.range.end),\n    };\n    const selectedDocumentText = documentText.substring(selection.start, selection.end);\n    if (selection.end - selection.start > config.edit.documentMaxChars) {\n      throw { name: \"ChatEditDocumentTooLongError\", message: \"Document too long\" } as ChatEditDocumentTooLongError;\n    }\n    if (this.mutexAbortController) {\n      throw {\n        name: \"ChatEditMutexError\",\n        message: \"Another smart edit is already in progress\",\n      } as ChatEditMutexError;\n    }\n    this.mutexAbortController = new AbortController();\n    token.onCancellationRequested(() => this.mutexAbortController?.abort());\n\n    const readableStream = await this.agent.provideChatEdit(\n      documentText,\n      selection,\n      params.location.uri,\n      insertMode,\n      params.command,\n      document.languageId,\n      {\n        signal: this.mutexAbortController.signal,\n      },\n    );\n\n    const editId = \"tabby-\" + cryptoRandomString({ length: 6, type: \"alphanumeric\" });\n    this.currentEdit = {\n      id: editId,\n      location: params.location,\n      languageId: document.languageId,\n      originalText: selectedDocumentText,\n      editedRange: insertMode\n        ? { start: params.location.range.end, end: params.location.range.end }\n        : params.location.range,\n      editedText: \"\",\n      comments: \"\",\n      buffer: \"\",\n      state: \"editing\",\n    };\n    if (!readableStream) {\n      return null;\n    }\n    await this.readResponseStream(readableStream, config.edit.responseDocumentTag, config.edit.responseCommentTag);\n    return editId;\n  }\n\n  async stopEdit(id: ChatEditToken): Promise<void> {\n    if (this.isCurrentEdit(id)) {\n      this.mutexAbortController?.abort();\n    }\n  }\n\n  async resolveEdit(params: ChatEditResolveParams): Promise<boolean> {\n    const document = this.documents.get(params.location.uri);\n    if (!document) {\n      return false;\n    }\n    const header = document.getText({\n      start: {\n        line: params.location.range.start.line,\n        character: 0,\n      },\n      end: {\n        line: params.location.range.start.line + 1,\n        character: 0,\n      },\n    });\n    const match = /^<<<<<<<.+(<.*>)\\[(tabby-[0-9|a-z|A-Z]{6})\\]/g.exec(header);\n    const markers = match?.[1];\n    if (!match || !markers) {\n      return false;\n    }\n    const previewRange = {\n      start: {\n        line: params.location.range.start.line,\n        character: 0,\n      },\n      end: {\n        line: params.location.range.start.line + markers.length,\n        character: 0,\n      },\n    };\n    const previewText = document.getText(previewRange);\n    const previewLines = previewText.split(\"\\n\");\n    const lines: string[] = [];\n    previewLines.forEach((line, lineIndex) => {\n      const marker = markers[lineIndex];\n      if (!marker) {\n        return;\n      }\n      if (params.action === \"accept\") {\n        if ([\".\", \"|\", \"=\", \"+\"].includes(marker)) {\n          lines.push(line);\n        }\n      }\n      if (params.action === \"discard\") {\n        if ([\".\", \"=\", \"-\"].includes(marker)) {\n          lines.push(line);\n        }\n      }\n    });\n    await this.connection.workspace.applyEdit({\n      edit: {\n        changes: {\n          [params.location.uri]: [\n            {\n              range: previewRange,\n              newText: lines.join(\"\\n\") + \"\\n\",\n            },\n          ],\n        },\n      },\n    });\n    return true;\n  }\n\n  private async readResponseStream(\n    stream: Readable,\n    responseDocumentTag: string[],\n    responseCommentTag?: string[],\n  ): Promise<void> {\n    const finalize = async (state: \"completed\" | \"stopped\") => {\n      if (this.currentEdit) {\n        const edit = this.currentEdit;\n        edit.state = state;\n        const editedLines = this.generateChangesPreview(edit);\n        await this.connection.workspace.applyEdit({\n          edit: {\n            changes: {\n              [edit.location.uri]: [\n                {\n                  range: edit.editedRange,\n                  newText: editedLines.join(\"\\n\") + \"\\n\",\n                },\n              ],\n            },\n          },\n        });\n      }\n      this.currentEdit = null;\n      this.mutexAbortController = null;\n    };\n    try {\n      let inTag: \"document\" | \"comment\" | false = false;\n      for await (const delta of stream) {\n        if (!this.currentEdit || !this.mutexAbortController || this.mutexAbortController.signal.aborted) {\n          break;\n        }\n        let changed = false;\n        const edit = this.currentEdit;\n        edit.buffer += delta;\n        if (!inTag) {\n          const openTags = [responseDocumentTag[0], responseCommentTag?.[0]].filter(Boolean);\n          if (openTags.length < 1) {\n            break;\n          }\n          const reg = new RegExp(openTags.join(\"|\"), \"g\");\n          const match = reg.exec(edit.buffer);\n          if (match && match[0]) {\n            if (match[0] === responseDocumentTag[0]) {\n              inTag = \"document\";\n              edit.buffer = edit.buffer.substring(match.index + match[0].length);\n            } else if (match[0] === responseCommentTag?.[0]) {\n              inTag = \"comment\";\n              edit.buffer = edit.buffer.substring(match.index + match[0].length);\n            }\n          }\n        }\n        if (inTag) {\n          let closeTag: string | undefined = undefined;\n          if (inTag === \"document\") {\n            closeTag = responseDocumentTag[1];\n          } else if (inTag === \"comment\") {\n            closeTag = responseCommentTag?.[1];\n          }\n          if (!closeTag) {\n            break;\n          }\n          const reg = this.createCloseTagMatcher(closeTag);\n          const match = reg.exec(edit.buffer);\n          if (!match) {\n            if (inTag === \"document\") {\n              edit.editedText += edit.buffer;\n            } else if (inTag === \"comment\") {\n              edit.comments += edit.buffer;\n            }\n            edit.buffer = \"\";\n          } else {\n            if (inTag === \"document\") {\n              edit.editedText += edit.buffer.substring(0, match.index);\n            } else if (inTag === \"comment\") {\n              edit.comments += edit.buffer.substring(0, match.index);\n            }\n            edit.buffer = edit.buffer.substring(match.index);\n            if (match[0] === closeTag) {\n              inTag = false;\n            }\n          }\n          changed = true;\n        }\n        if (changed) {\n          const editedLines = this.generateChangesPreview(edit);\n          await this.connection.workspace.applyEdit({\n            edit: {\n              changes: {\n                [edit.location.uri]: [\n                  {\n                    range: edit.editedRange,\n                    newText: editedLines.join(\"\\n\") + \"\\n\",\n                  },\n                ],\n              },\n            },\n          });\n          edit.editedRange = {\n            start: {\n              line: edit.editedRange.start.line,\n              character: 0,\n            },\n            end: {\n              line: edit.editedRange.start.line + editedLines.length,\n              character: 0,\n            },\n          };\n        }\n      }\n    } catch (error) {\n      await finalize(\"stopped\");\n      throw error;\n    }\n    await finalize(\"completed\");\n  }\n\n  // header line\n  // <<<<<<< Editing by Tabby <.#=+->\n  // markers:\n  // [<] header\n  // [#] comments\n  // [.] waiting\n  // [|] in progress\n  // [=] unchanged\n  // [+] inserted\n  // [-] deleted\n  // [>] footer\n  // footer line\n  // >>>>>>> End of changes\n  private generateChangesPreview(edit: Edit): string[] {\n    const lines: string[] = [];\n    let markers = \"\";\n    // header\n    let stateDescription = \"Editing in progress\";\n    if (edit.state === \"stopped\") {\n      stateDescription = \"Editing stopped\";\n    } else if (edit.state == \"completed\") {\n      stateDescription = \"Editing completed\";\n    }\n    lines.push(`<<<<<<< ${stateDescription} {{markers}}[${edit.id}]`);\n    markers += \"<\";\n    // comments: split by new line or 80 chars\n    const commentLines = edit.comments\n      .trim()\n      .split(/\\n|(.{1,80})(?:\\s|$)/g)\n      .filter((input) => !isBlank(input));\n    const commentPrefix = this.getCommentPrefix(edit.languageId);\n    for (const line of commentLines) {\n      lines.push(commentPrefix + line);\n      markers += \"#\";\n    }\n    const pushDiffValue = (diffValue: string, marker: string) => {\n      diffValue\n        .replace(/\\n$/, \"\")\n        .split(\"\\n\")\n        .forEach((line) => {\n          lines.push(line);\n          markers += marker;\n        });\n    };\n    // diffs\n    const diffs = Diff.diffLines(edit.originalText, edit.editedText);\n    if (edit.state === \"completed\") {\n      diffs.forEach((diff) => {\n        if (diff.added) {\n          pushDiffValue(diff.value, \"+\");\n        } else if (diff.removed) {\n          pushDiffValue(diff.value, \"-\");\n        } else {\n          pushDiffValue(diff.value, \"=\");\n        }\n      });\n    } else {\n      let inProgressChunk = 0;\n      const lastDiff = diffs[diffs.length - 1];\n      if (lastDiff && lastDiff.added) {\n        inProgressChunk = 1;\n      }\n      let waitingChunks = 0;\n      for (let i = diffs.length - inProgressChunk - 1; i >= 0; i--) {\n        if (diffs[i]?.removed) {\n          waitingChunks++;\n        } else {\n          break;\n        }\n      }\n      let lineIndex = 0;\n      while (lineIndex < diffs.length - inProgressChunk - waitingChunks) {\n        const diff = diffs[lineIndex];\n        if (!diff) {\n          break;\n        }\n        if (diff.added) {\n          pushDiffValue(diff.value, \"+\");\n        } else if (diff.removed) {\n          pushDiffValue(diff.value, \"-\");\n        } else {\n          pushDiffValue(diff.value, \"=\");\n        }\n        lineIndex++;\n      }\n      if (inProgressChunk && lastDiff) {\n        pushDiffValue(lastDiff.value, \"|\");\n      }\n      while (lineIndex < diffs.length - inProgressChunk) {\n        const diff = diffs[lineIndex];\n        if (!diff) {\n          break;\n        }\n        pushDiffValue(diff.value, \".\");\n        lineIndex++;\n      }\n    }\n    // footer\n    lines.push(`>>>>>>> ${stateDescription} {{markers}}[${edit.id}]`);\n    markers += \">\";\n    // replace markers\n    lines[0] = lines[0]!.replace(\"{{markers}}\", markers);\n    lines[lines.length - 1] = lines[lines.length - 1]!.replace(\"{{markers}}\", markers);\n    return lines;\n  }\n\n  private createCloseTagMatcher(tag: string): RegExp {\n    let reg = `${tag}`;\n    for (let length = tag.length - 1; length > 0; length--) {\n      reg += \"|\" + tag.substring(0, length) + \"$\";\n    }\n    return new RegExp(reg, \"g\");\n  }\n\n  // FIXME: improve this\n  private getCommentPrefix(languageId: string) {\n    if ([\"plaintext\", \"markdown\"].includes(languageId)) {\n      return \"\";\n    }\n    if ([\"python\", \"ruby\"].includes(languageId)) {\n      return \"#\";\n    }\n    if (\n      [\n        \"c\",\n        \"cpp\",\n        \"java\",\n        \"javascript\",\n        \"typescript\",\n        \"javascriptreact\",\n        \"typescriptreact\",\n        \"go\",\n        \"rust\",\n        \"swift\",\n        \"kotlin\",\n      ].includes(languageId)\n    ) {\n      return \"//\";\n    }\n    return \"\";\n  }\n}\n","/* eslint-env browser */\nimport {createStringGenerator, createAsyncStringGenerator} from './core.js';\n\nconst toHex = uInt8Array => [...uInt8Array].map(byte => byte.toString(16).padStart(2, '0')).join('');\nconst toBase64 = uInt8Array => btoa(String.fromCodePoint(...uInt8Array));\n\n// `crypto.getRandomValues` throws an error if too much entropy is requested at once. (https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues#exceptions)\nconst maxEntropy = 65_536;\n\nfunction getRandomValues(byteLength) {\n\tconst generatedBytes = new Uint8Array(byteLength);\n\n\tfor (let totalGeneratedBytes = 0; totalGeneratedBytes < byteLength; totalGeneratedBytes += maxEntropy) {\n\t\tgeneratedBytes.set(\n\t\t\tcrypto.getRandomValues(new Uint8Array(Math.min(maxEntropy, byteLength - totalGeneratedBytes))),\n\t\t\ttotalGeneratedBytes,\n\t\t);\n\t}\n\n\treturn generatedBytes;\n}\n\nfunction specialRandomBytes(byteLength, type, length) {\n\tconst generatedBytes = getRandomValues(byteLength);\n\tconst convert = type === 'hex' ? toHex : toBase64;\n\n\treturn convert(generatedBytes).slice(0, length);\n}\n\nexport default createStringGenerator(specialRandomBytes, getRandomValues);\nexport const cryptoRandomStringAsync = createAsyncStringGenerator(specialRandomBytes, getRandomValues);\n","const urlSafeCharacters = [...'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~'];\nconst numericCharacters = [...'0123456789'];\nconst distinguishableCharacters = [...'CDEHKMPRTUWXY012458'];\nconst asciiPrintableCharacters = [...'!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'];\nconst alphanumericCharacters = [...'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'];\n\nconst readUInt16LE = (uInt8Array, offset) => uInt8Array[offset] + (uInt8Array[offset + 1] << 8); // eslint-disable-line no-bitwise\n\nconst generateForCustomCharacters = (length, characters, randomBytes) => {\n\t// Generating entropy is faster than complex math operations, so we use the simplest way\n\tconst characterCount = characters.length;\n\tconst maxValidSelector = (Math.floor(0x1_00_00 / characterCount) * characterCount) - 1; // Using values above this will ruin distribution when using modular division\n\tconst entropyLength = 2 * Math.ceil(1.1 * length); // Generating a bit more than required so chances we need more than one pass will be really low\n\tlet string = '';\n\tlet stringLength = 0;\n\n\twhile (stringLength < length) { // In case we had many bad values, which may happen for character sets of size above 0x8000 but close to it\n\t\tconst entropy = randomBytes(entropyLength);\n\t\tlet entropyPosition = 0;\n\n\t\twhile (entropyPosition < entropyLength && stringLength < length) {\n\t\t\tconst entropyValue = readUInt16LE(entropy, entropyPosition);\n\t\t\tentropyPosition += 2;\n\t\t\tif (entropyValue > maxValidSelector) { // Skip values which will ruin distribution when using modular division\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tstring += characters[entropyValue % characterCount];\n\t\t\tstringLength++;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst generateForCustomCharactersAsync = async (length, characters, randomBytesAsync) => {\n\t// Generating entropy is faster than complex math operations, so we use the simplest way\n\tconst characterCount = characters.length;\n\tconst maxValidSelector = (Math.floor(0x1_00_00 / characterCount) * characterCount) - 1; // Using values above this will ruin distribution when using modular division\n\tconst entropyLength = 2 * Math.ceil(1.1 * length); // Generating a bit more than required so chances we need more than one pass will be really low\n\tlet string = '';\n\tlet stringLength = 0;\n\n\twhile (stringLength < length) { // In case we had many bad values, which may happen for character sets of size above 0x8000 but close to it\n\t\tconst entropy = await randomBytesAsync(entropyLength); // eslint-disable-line no-await-in-loop\n\t\tlet entropyPosition = 0;\n\n\t\twhile (entropyPosition < entropyLength && stringLength < length) {\n\t\t\tconst entropyValue = readUInt16LE(entropy, entropyPosition);\n\t\t\tentropyPosition += 2;\n\t\t\tif (entropyValue > maxValidSelector) { // Skip values which will ruin distribution when using modular division\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tstring += characters[entropyValue % characterCount];\n\t\t\tstringLength++;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst allowedTypes = new Set([\n\tundefined,\n\t'hex',\n\t'base64',\n\t'url-safe',\n\t'numeric',\n\t'distinguishable',\n\t'ascii-printable',\n\t'alphanumeric',\n]);\n\nconst createGenerator = (generateForCustomCharacters, specialRandomBytes, randomBytes) => ({length, type, characters}) => {\n\tif (!(length >= 0 && Number.isFinite(length))) {\n\t\tthrow new TypeError('Expected a `length` to be a non-negative finite number');\n\t}\n\n\tif (type !== undefined && characters !== undefined) {\n\t\tthrow new TypeError('Expected either `type` or `characters`');\n\t}\n\n\tif (characters !== undefined && typeof characters !== 'string') {\n\t\tthrow new TypeError('Expected `characters` to be string');\n\t}\n\n\tif (!allowedTypes.has(type)) {\n\t\tthrow new TypeError(`Unknown type: ${type}`);\n\t}\n\n\tif (type === undefined && characters === undefined) {\n\t\ttype = 'hex';\n\t}\n\n\tif (type === 'hex' || (type === undefined && characters === undefined)) {\n\t\treturn specialRandomBytes(Math.ceil(length * 0.5), 'hex', length); // Needs 0.5 bytes of entropy per character\n\t}\n\n\tif (type === 'base64') {\n\t\treturn specialRandomBytes(Math.ceil(length * 0.75), 'base64', length); // Needs 0.75 bytes of entropy per character\n\t}\n\n\tif (type === 'url-safe') {\n\t\treturn generateForCustomCharacters(length, urlSafeCharacters, randomBytes);\n\t}\n\n\tif (type === 'numeric') {\n\t\treturn generateForCustomCharacters(length, numericCharacters, randomBytes);\n\t}\n\n\tif (type === 'distinguishable') {\n\t\treturn generateForCustomCharacters(length, distinguishableCharacters, randomBytes);\n\t}\n\n\tif (type === 'ascii-printable') {\n\t\treturn generateForCustomCharacters(length, asciiPrintableCharacters, randomBytes);\n\t}\n\n\tif (type === 'alphanumeric') {\n\t\treturn generateForCustomCharacters(length, alphanumericCharacters, randomBytes);\n\t}\n\n\tif (characters.length === 0) {\n\t\tthrow new TypeError('Expected `characters` string length to be greater than or equal to 1');\n\t}\n\n\tif (characters.length > 0x1_00_00) {\n\t\tthrow new TypeError('Expected `characters` string length to be less or equal to 65536');\n\t}\n\n\treturn generateForCustomCharacters(length, characters, randomBytes);\n};\n\nexport function createStringGenerator(specialRandomBytes, randomBytes) {\n\treturn createGenerator(generateForCustomCharacters, specialRandomBytes, randomBytes);\n}\n\nexport function createAsyncStringGenerator(specialRandomBytesAsync, randomBytesAsync) {\n\treturn createGenerator(generateForCustomCharactersAsync, specialRandomBytesAsync, randomBytesAsync);\n}\n","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var _options$timeout;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n\n    if (options.maxEditLength) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n\n    var maxExecutionTime = (_options$timeout = options.timeout) !== null && _options$timeout !== void 0 ? _options$timeout : Infinity;\n    var abortAfterTimestamp = Date.now() + maxExecutionTime;\n    var bestPath = [{\n      oldPos: -1,\n      lastComponent: undefined\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var newPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Once we hit the right edge of the edit graph on some diagonal k, we can\n    // definitely reach the end of the edit graph in no more than k edits, so\n    // there's no point in considering any moves to diagonal k+1 any more (from\n    // which we're guaranteed to need at least k+1 more edits).\n    // Similarly, once we've reached the bottom of the edit graph, there's no\n    // point considering moves to lower diagonals.\n    // We record this fact by setting minDiagonalToConsider and\n    // maxDiagonalToConsider to some finite value once we've hit the edge of\n    // the edit graph.\n    // This optimization is not faithful to the original algorithm presented in\n    // Myers's paper, which instead pointlessly extends D-paths off the end of\n    // the edit graph - see page 7 of Myers's paper which notes this point\n    // explicitly and illustrates it with a diagram. This has major performance\n    // implications for some common scenarios. For instance, to compute a diff\n    // where the new text simply appends d characters on the end of the\n    // original text of length n, the true Myers algorithm will take O(n+d^2)\n    // time while this optimization needs only O(n+d) time.\n\n\n    var minDiagonalToConsider = -Infinity,\n        maxDiagonalToConsider = Infinity; // Main worker method. checks all permutations of a given edit length for acceptance.\n\n    function execEditLength() {\n      for (var diagonalPath = Math.max(minDiagonalToConsider, -editLength); diagonalPath <= Math.min(maxDiagonalToConsider, editLength); diagonalPath += 2) {\n        var basePath = void 0;\n        var removePath = bestPath[diagonalPath - 1],\n            addPath = bestPath[diagonalPath + 1];\n\n        if (removePath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = false;\n\n        if (addPath) {\n          // what newPos will be after we do an insertion:\n          var addPathNewPos = addPath.oldPos - diagonalPath;\n          canAdd = addPath && 0 <= addPathNewPos && addPathNewPos < newLen;\n        }\n\n        var canRemove = removePath && removePath.oldPos + 1 < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the old string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        // TODO: Remove the `+ 1` here to make behavior match Myers algorithm\n        //       and prefer to order removals before insertions.\n\n\n        if (!canRemove || canAdd && removePath.oldPos + 1 < addPath.oldPos) {\n          basePath = self.addToPath(addPath, true, undefined, 0);\n        } else {\n          basePath = self.addToPath(removePath, undefined, true, 1);\n        }\n\n        newPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n        if (basePath.oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n          // If we have hit the end of both strings, then we are done\n          return done(buildValues(self, basePath.lastComponent, newString, oldString, self.useLongestToken));\n        } else {\n          bestPath[diagonalPath] = basePath;\n\n          if (basePath.oldPos + 1 >= oldLen) {\n            maxDiagonalToConsider = Math.min(maxDiagonalToConsider, diagonalPath - 1);\n          }\n\n          if (newPos + 1 >= newLen) {\n            minDiagonalToConsider = Math.max(minDiagonalToConsider, diagonalPath + 1);\n          }\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          if (editLength > maxEditLength || Date.now() > abortAfterTimestamp) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength && Date.now() <= abortAfterTimestamp) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  addToPath: function addToPath(path, added, removed, oldPosInc) {\n    var last = path.lastComponent;\n\n    if (last && last.added === added && last.removed === removed) {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: last.count + 1,\n          added: added,\n          removed: removed,\n          previousComponent: last.previousComponent\n        }\n      };\n    } else {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: 1,\n          added: added,\n          removed: removed,\n          previousComponent: last\n        }\n      };\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        oldPos = basePath.oldPos,\n        newPos = oldPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.lastComponent = {\n        count: commonCount,\n        previousComponent: basePath.lastComponent\n      };\n    }\n\n    basePath.oldPos = oldPos;\n    return newPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, lastComponent, newString, oldString, useLongestToken) {\n  // First we convert our linked list of components in reverse order to an\n  // array in the right order:\n  var components = [];\n  var nextComponent;\n\n  while (lastComponent) {\n    components.push(lastComponent);\n    nextComponent = lastComponent.previousComponent;\n    delete lastComponent.previousComponent;\n    lastComponent = nextComponent;\n  }\n\n  components.reverse();\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var finalComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof finalComponent.value === 'string' && (finalComponent.added || finalComponent.removed) && diff.equals('', finalComponent.value)) {\n    components[componentLen - 2].value += finalComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 0080–00FF\n//  - U+00D7  × Multiplication sign\n//  - U+00F7  ÷ Division sign\n// Latin Extended-A, 0100–017F\n// Latin Extended-B, 0180–024F\n// IPA Extensions, 0250–02AF\n// Spacing Modifier Letters, 02B0–02FF\n//  - U+02C7  ˇ &#711;  Caron\n//  - U+02D8  ˘ &#728;  Breve\n//  - U+02D9  ˙ &#729;  Dot Above\n//  - U+02DA  ˚ &#730;  Ring Above\n//  - U+02DB  ˛ &#731;  Ogonek\n//  - U+02DC  ˜ &#732;  Small Tilde\n//  - U+02DD  ˝ &#733;  Double Acute Accent\n// Latin Extended Additional, 1E00–1EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  var tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  if (this.options.stripTrailingCr) {\n    // remove one \\r before \\n to match GNU diff's --strip-trailing-cr behavior\n    value = value.replace(/\\r\\n/g, '\\n');\n  }\n\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    }; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters && _hunk.linedelimiters[j] || '\\n';\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n\n  if (!diff) {\n    return;\n  }\n\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction formatPatch(diff) {\n  if (Array.isArray(diff)) {\n    return diff.map(formatPatch).join('\\n');\n  }\n\n  var ret = [];\n\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i]; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\nfunction reversePatch(structuredPatch) {\n  if (Array.isArray(structuredPatch)) {\n    return structuredPatch.map(reversePatch).reverse();\n  }\n\n  return _objectSpread2(_objectSpread2({}, structuredPatch), {}, {\n    oldFileName: structuredPatch.newFileName,\n    oldHeader: structuredPatch.newHeader,\n    newFileName: structuredPatch.oldFileName,\n    newHeader: structuredPatch.oldHeader,\n    hunks: structuredPatch.hunks.map(function (hunk) {\n      return {\n        oldLines: hunk.newLines,\n        oldStart: hunk.newStart,\n        newLines: hunk.oldLines,\n        newStart: hunk.oldStart,\n        linedelimiters: hunk.linedelimiters,\n        lines: hunk.lines.map(function (l) {\n          if (l.startsWith('-')) {\n            return \"+\".concat(l.slice(1));\n          }\n\n          if (l.startsWith('+')) {\n            return \"-\".concat(l.slice(1));\n          }\n\n          return l;\n        })\n      };\n    })\n  });\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\nexport { Diff, applyPatch, applyPatches, canonicalize, convertChangesToDMP, convertChangesToXML, createPatch, createTwoFilesPatch, diffArrays, diffChars, diffCss, diffJson, diffLines, diffSentences, diffTrimmedLines, diffWords, diffWordsWithSpace, formatPatch, merge, parsePatch, reversePatch, structuredPatch };\n","import {\n  Range,\n  Location,\n  Connection,\n  CancellationToken,\n  WorkDoneProgressReporter,\n  ResultProgressReporter,\n  CodeLensParams,\n} from \"vscode-languageserver\";\nimport { ServerCapabilities, CodeLens, CodeLensType, ChangesPreviewLineType } from \"./protocol\";\nimport { TextDocuments } from \"./TextDocuments\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\n\nconst codeLensType: CodeLensType = \"previewChanges\";\nconst changesPreviewLineType = {\n  header: \"header\" as ChangesPreviewLineType,\n  footer: \"footer\" as ChangesPreviewLineType,\n  commentsFirstLine: \"commentsFirstLine\" as ChangesPreviewLineType,\n  comments: \"comments\" as ChangesPreviewLineType,\n  waiting: \"waiting\" as ChangesPreviewLineType,\n  inProgress: \"inProgress\" as ChangesPreviewLineType,\n  unchanged: \"unchanged\" as ChangesPreviewLineType,\n  inserted: \"inserted\" as ChangesPreviewLineType,\n  deleted: \"deleted\" as ChangesPreviewLineType,\n};\n\nexport class CodeLensProvider {\n  constructor(\n    private readonly connection: Connection,\n    private readonly documents: TextDocuments<TextDocument>,\n  ) {\n    this.connection.onCodeLens(async (params, token, workDoneProgress, resultProgress) => {\n      return this.provideCodeLens(params, token, workDoneProgress, resultProgress);\n    });\n  }\n\n  fillServerCapabilities(capabilities: ServerCapabilities): void {\n    capabilities.codeLensProvider = {\n      resolveProvider: false,\n    };\n  }\n\n  async provideCodeLens(\n    params: CodeLensParams,\n    token: CancellationToken,\n    workDoneProgress?: WorkDoneProgressReporter | undefined,\n    resultProgress?: ResultProgressReporter<CodeLens[]> | undefined,\n  ): Promise<CodeLens[] | null> {\n    const uri = params.textDocument.uri;\n    const textDocument = this.documents.get(uri);\n    if (!textDocument) {\n      return null;\n    }\n    const codeLenses: CodeLens[] = [];\n    let lineInPreviewBlock = -1;\n    let previewBlockMarkers = \"\";\n    for (let line = 0; line < textDocument.lineCount; line++) {\n      if (token.isCancellationRequested) {\n        return null;\n      }\n      const lineRange = { start: { line: line, character: 0 }, end: { line: line + 1, character: 0 } };\n      const text = textDocument.getText(lineRange);\n      const codeLensRange: Range = {\n        start: { line: line, character: 0 },\n        end: { line: line, character: text.length - 1 },\n      };\n      const codeLensLocation: Location = { uri: uri, range: codeLensRange };\n      const lineCodeLenses: CodeLens[] = [];\n      if (lineInPreviewBlock < 0) {\n        const match = /^<<<<<<<.+(<.*>)\\[(tabby-[0-9|a-z|A-Z]{6})\\]/g.exec(text);\n        const markers = match?.[1];\n        const editId = match?.[2];\n        if (match && markers && editId) {\n          lineInPreviewBlock = 0;\n          previewBlockMarkers = markers;\n\n          lineCodeLenses.push({\n            range: codeLensRange,\n            command: {\n              title: \"Accept\",\n              command: \"tabby/chat/edit/resolve\",\n              arguments: [{ location: codeLensLocation, action: \"accept\" }],\n            },\n            data: {\n              type: codeLensType,\n              line: changesPreviewLineType.header,\n            },\n          });\n          lineCodeLenses.push({\n            range: codeLensRange,\n            command: {\n              title: \"Discard\",\n              command: \"tabby/chat/edit/resolve\",\n              arguments: [{ location: codeLensLocation, action: \"discard\" }],\n            },\n            data: {\n              type: codeLensType,\n              line: changesPreviewLineType.header,\n            },\n          });\n        }\n      } else {\n        const match = /^>>>>>>>.+(<.*>)\\[(tabby-[0-9|a-z|A-Z]{6})\\]/g.exec(text);\n        const editId = match?.[2];\n        if (match && editId) {\n          lineInPreviewBlock = -1;\n          lineCodeLenses.push({\n            range: codeLensRange,\n            data: {\n              type: codeLensType,\n              line: changesPreviewLineType.footer,\n            },\n          });\n        } else {\n          lineInPreviewBlock++;\n          const marker = previewBlockMarkers[lineInPreviewBlock];\n          let codeLens: CodeLens | undefined = undefined;\n          switch (marker) {\n            case \"#\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line:\n                    previewBlockMarkers.indexOf(\"#\") === lineInPreviewBlock\n                      ? changesPreviewLineType.commentsFirstLine\n                      : changesPreviewLineType.comments,\n                },\n              };\n              break;\n            case \".\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line: changesPreviewLineType.waiting,\n                },\n              };\n              break;\n            case \"|\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line: changesPreviewLineType.inProgress,\n                },\n              };\n              break;\n            case \"=\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line: changesPreviewLineType.unchanged,\n                },\n              };\n              break;\n            case \"+\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line: changesPreviewLineType.inserted,\n                },\n              };\n              break;\n            case \"-\":\n              codeLens = {\n                range: codeLensRange,\n                data: {\n                  type: codeLensType,\n                  line: changesPreviewLineType.deleted,\n                },\n              };\n              break;\n            default:\n              break;\n          }\n          if (codeLens) {\n            codeLenses.push(codeLens);\n          }\n        }\n      }\n      if (lineCodeLenses.length > 0) {\n        if (resultProgress) {\n          resultProgress.report(lineCodeLenses);\n        } else {\n          codeLenses.push(...lineCodeLenses);\n        }\n      }\n    }\n    workDoneProgress?.done();\n    if (resultProgress) {\n      return null;\n    } else {\n      return codeLenses;\n    }\n  }\n}\n","import { Connection, ExecuteCommandParams } from \"vscode-languageserver\";\nimport { ServerCapabilities, ChatEditResolveParams } from \"./protocol\";\nimport { ChatEditProvider } from \"./ChatEditProvider\";\n\nexport class CommandProvider {\n  constructor(\n    private readonly connection: Connection,\n    private readonly chatEditProvider: ChatEditProvider,\n  ) {\n    this.connection.onExecuteCommand(async (params) => {\n      return this.executeCommand(params);\n    });\n  }\n\n  fillServerCapabilities(capabilities: ServerCapabilities): void {\n    capabilities.executeCommandProvider = {\n      commands: [\"tabby/chat/edit/resolve\"],\n    };\n  }\n\n  async executeCommand(params: ExecuteCommandParams): Promise<void> {\n    if (params.command === \"tabby/chat/edit/resolve\") {\n      const resolveParams = params.arguments?.[0] as ChatEditResolveParams;\n      if (resolveParams) {\n        await this.chatEditProvider.resolveEdit(resolveParams);\n      }\n    }\n  }\n}\n","import { spawn } from \"child_process\";\nimport * as path from \"path\";\nimport * as fs from \"fs-extra\";\nimport { parse as uriParse, serialize as uriSerialize } from \"uri-js\";\nimport { CancellationToken } from \"vscode-languageserver-protocol\";\nimport { GitRepositoryParams, GitRepository, GitDiffParams, GitDiffResult } from \"./protocol\";\nimport { isBrowser } from \"../env\";\nimport { getLogger } from \"../logger\";\nimport \"../ArrayExt\";\n\nexport interface GitContextProvider {\n  getRepository(params: GitRepositoryParams, token?: CancellationToken): Promise<GitRepository | null>;\n  diff(params: GitDiffParams, token?: CancellationToken): Promise<GitDiffResult | null>;\n}\n\nconst logger = getLogger(\"GitContextProvider\");\n\nasync function executeGitCommand(cwd?: string, args: string[] = [], token?: CancellationToken): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const git = spawn(\"git\", args, {\n      cwd,\n    });\n    let result = \"\";\n\n    git.stdout.on(\"data\", (data) => {\n      result += data.toString();\n    });\n\n    git.on(\"error\", (error) => {\n      reject(`Git command error: ${error}, cwd: ${cwd}, args: ${args.join(\" \")}`);\n    });\n\n    const exitHandler = (code: number | null) => {\n      if (code === 0) {\n        resolve(result.trim());\n      } else {\n        reject(`Git command failed, code: ${code}, cwd: ${cwd}, args: ${args.join(\" \")}`);\n      }\n    };\n    git.on(\"exit\", exitHandler);\n    git.on(\"close\", exitHandler);\n\n    if (token?.isCancellationRequested) {\n      reject(\"The request is canceled.\");\n    }\n    token?.onCancellationRequested(() => {\n      reject(\"The request is canceled.\");\n    });\n  });\n}\n\nasync function ensureCwd(filepath: string): Promise<string> {\n  const stats = await fs.stat(filepath);\n  if (stats.isDirectory()) {\n    return filepath;\n  }\n  return path.dirname(filepath);\n}\n\nfunction replaceUriPath(uri: string, path: string): string {\n  const uriComponents = uriParse(uri);\n  uriComponents.path = path;\n  return uriSerialize(uriComponents);\n}\n\nasync function isGitCommandAvailable(): Promise<boolean> {\n  try {\n    const version = await executeGitCommand(undefined, [\"--version\"]);\n    logger.debug(`Git command is available, ${version}.`);\n    return true;\n  } catch (e) {\n    logger.debug(`Git command is not available. ${e}`);\n    return false;\n  }\n}\n\nasync function getRepository(params: GitRepositoryParams, token?: CancellationToken): Promise<GitRepository | null> {\n  try {\n    logger.trace(\"Get repository: \", { params });\n    const { scheme, path: filepath } = uriParse(params.uri);\n    if (scheme !== \"file\" || !filepath) {\n      return null;\n    }\n    const cwd = await ensureCwd(filepath);\n    const rootPath = await executeGitCommand(cwd, [\"rev-parse\", \"--show-toplevel\"], token);\n    const root = replaceUriPath(params.uri, rootPath);\n    const remoteOutput = await executeGitCommand(rootPath, [\"remote\", \"-v\"], token);\n    const remotes = remoteOutput\n      .split(\"\\n\")\n      .map((remoteLine) => {\n        const [name, url] = remoteLine.trim().split(/\\s+/);\n        return { name, url };\n      })\n      .filter<{ name: string; url: string }>((remote): remote is { name: string; url: string } => {\n        return !!remote.name && !!remote.url;\n      })\n      .distinct((item) => item.name);\n    const result = { root, remotes };\n    logger.trace(\"Get repository result: \", { result });\n    return result;\n  } catch (e) {\n    logger.debug(`Failed to get repository for ${params.uri}. ${e}`);\n    return null;\n  }\n}\n\nasync function diff(params: GitDiffParams, token?: CancellationToken): Promise<GitDiffResult | null> {\n  try {\n    logger.trace(\"Get diff: \", { params });\n    const { repository, cached } = params;\n    const { scheme, path: rootPath } = uriParse(repository);\n    if (scheme !== \"file\" || !rootPath) {\n      return null;\n    }\n    const args = [\"diff\"];\n    if (cached) {\n      args.push(\"--cached\");\n    }\n    const diff = await executeGitCommand(rootPath, args, token);\n    const result = { diff };\n    logger.trace(\"Get diff result: \", { result });\n    return result;\n  } catch (e) {\n    logger.debug(`Failed to get diff for ${params.repository}. ${e}`);\n    return null;\n  }\n}\n\nlet gitContextProvider: GitContextProvider | null | undefined = undefined;\n\nexport async function getGitContextProvider(): Promise<GitContextProvider | null> {\n  if (isBrowser) {\n    return null;\n  }\n  if (gitContextProvider == undefined) {\n    if (await isGitCommandAvailable()) {\n      gitContextProvider = {\n        getRepository,\n        diff,\n      };\n    } else {\n      gitContextProvider = null;\n    }\n  }\n  return gitContextProvider;\n}\n","function unimplemented () {\r\n  throw new Error('Node.js child_process is not supported by JSPM core in the browser');\r\n}\r\n\r\nvar child_process = {\r\n  _forkChild: unimplemented,\r\n  ChildProcess: unimplemented,\r\n  exec: unimplemented,\r\n  execFile: unimplemented,\r\n  execFileSync: unimplemented,\r\n  execSync: unimplemented,\r\n  fork: unimplemented,\r\n  spawn: unimplemented,\r\n  spawnSync: unimplemented\r\n};\n\nexport { unimplemented as ChildProcess, unimplemented as _forkChild, child_process as default, unimplemented as exec, unimplemented as execFile, unimplemented as execFileSync, unimplemented as execSync, unimplemented as fork, unimplemented as spawn, unimplemented as spawnSync };\n"]}