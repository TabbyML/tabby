(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9906],{11978:function(e,t,r){e.exports=r(77280)},24426:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(3546);t.default=function(e,t,r){var a=(0,i.useMemo)(function(){return n({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},r)},[r]),o=a.serializer,s=a.parser,l=a.logger,u=a.syncData,d=(0,i.useRef)(null),p=(0,i.useState)(function(){if("undefined"==typeof window)return t;try{return d.current=window.localStorage.getItem(e),d.current?s(d.current):t}catch(e){return l(e),t}}),c=p[0],f=p[1];return(0,i.useEffect)(function(){if("undefined"!=typeof window)try{!function(){if(void 0!==c){var t=o(c),r=d.current;d.current=t,window.localStorage.setItem(e,t),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:e,newValue:t,oldValue:r}))}else window.localStorage.removeItem(e),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:e}))}()}catch(e){l(e)}},[c]),(0,i.useEffect)(function(){if(u){var t=function(t){if(t.key===e&&t.storageArea===window.localStorage)try{t.newValue!==d.current&&(d.current=t.newValue,f(t.newValue?s(t.newValue):void 0))}catch(e){l(e)}};if("undefined"!=typeof window)return window.addEventListener("storage",t),function(){return window.removeEventListener("storage",t)}}},[e,u]),[c,f]}},44745:function(e,t,r){"use strict";r.d(t,{Dk:function(){return h},Ek:function(){return y},KU:function(){return m},nZ:function(){return l},pV:function(){return f},vx:function(){return p}});var n=r(23118),i=r(57778),a=r(58354),o=e=>{if("definitions"in e){var t=[];for(var r of e.definitions){var i=o(r);t.push(i)}return{...e,definitions:t}}if("directives"in e&&e.directives&&e.directives.length){var a=[],s={};for(var l of e.directives){var u=l.name.value;"_"!==u[0]?a.push(l):u=u.slice(1),s[u]=l}e={...e,directives:a,_directives:s}}if("selectionSet"in e){var d=[],p=e.kind===n.hY.OPERATION_DEFINITION;if(e.selectionSet){for(var c of e.selectionSet.selections||[]){p=p||c.kind===n.hY.FIELD&&"__typename"===c.name.value&&!c.alias;var f=o(c);d.push(f)}return p||d.push({kind:n.hY.FIELD,name:{kind:n.hY.NAME,value:"__typename"},_generated:!0}),{...e,selectionSet:{...e.selectionSet,selections:d}}}}return e},s=new Map,l=e=>{var t=(0,i.k)(e),r=s.get(t.__key);return r||(s.set(t.__key,r=o(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},u=(e,t)=>{if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(e=>u(e));if(!e||"object"!=typeof e||!t&&!("__typename"in e))return e;var r={};for(var n in e)"__typename"===n?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=u(e[n]);return r};function d(e){var t=t=>e(t);return t.toPromise=()=>(0,a.Vi)((0,a.qn)(1)((0,a.hX)(e=>!e.stale&&!e.hasNext)(t))),t.then=(e,r)=>t.toPromise().then(e,r),t.subscribe=e=>(0,a.Ld)(e)(t),t}function p(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var c=()=>{},f=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:o})=>{var s=r||(e=>"subscription"===e.kind||!!t&&("query"===e.kind||"mutation"===e.kind));return t=>{var r=(0,a.zg)(r=>{var o,{key:s}=r,l=(0,a.hX)(e=>"teardown"===e.kind&&e.key===s)(t);return(0,a.Rs)(l)((o=e((0,i.a)(r),r),(0,a.Sy)(e=>{var t,a,s=!1;function l(t){e.next(a=a?(0,i.c)(a,t):(0,i.m)(r,t))}return Promise.resolve().then(()=>{s||(t=o.subscribe({next:l,error(t){Array.isArray(t)?l({errors:t}):e.next((0,i.b)(r,t)),e.complete()},complete(){s||(s=!0,"subscription"===r.kind&&n.reexecuteOperation(p("teardown",r,r.context)),a&&a.hasNext&&l({hasNext:!1}),e.complete())}}))}),()=>{s=!0,t&&t.unsubscribe()}})))})((0,a.hX)(e=>"teardown"!==e.kind&&s(e))(t)),l=o((0,a.hX)(e=>"teardown"===e.kind||!s(e))(t));return(0,a.TS)([r,l])}},y=({forward:e,dispatchDebug:t})=>t=>{var r=(0,a.zg)(e=>{var r=(0,i.a)(e),n=(0,i.d)(e,r),o=(0,i.e)(e,r);return(0,a.Rs)((0,a.hX)(t=>"teardown"===t.kind&&t.key===e.key)(t))((0,i.f)(e,n,o))})((0,a.hX)(e=>"teardown"!==e.kind&&("subscription"!==e.kind||!!e.context.fetchSubscriptions))(t)),n=e((0,a.hX)(e=>"teardown"===e.kind||"subscription"===e.kind&&!e.context.fetchSubscriptions)(t));return(0,a.TS)([r,n])},v=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((e,r)=>r({client:t,forward:t=>(0,a.BN)(e((0,a.BN)(t))),dispatchDebug(e){}}),r),h=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>(0,a.zg)(e=>{r&&e.error&&r(e.error,e.operation);var n=t&&t(e)||e;return"then"in n?(0,a.p4)(n):(0,a._A)(n)})(n((0,a.zg)(t=>{var r=e&&e(t)||t;return"then"in r?(0,a.p4)(r):(0,a._A)(r)})(i))),g=({dispatchDebug:e})=>e=>(0,a.hX)(e=>!1)(e),m=function e(t){var r=0,n=new Map,o=new Map,s=new Set,l=[],f={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},y=(0,a.nN)();function h(e){"mutation"!==e.kind&&"teardown"!==e.kind&&s.has(e.key)||("teardown"===e.kind?s.delete(e.key):"mutation"!==e.kind&&s.add(e.key),y.next(e))}var m=!1;function k(e){if(e&&h(e),!m){for(m=!0;m&&(e=l.shift());)h(e);m=!1}}var w=e=>{var r=(0,a.Rs)((0,a.hX)(t=>"teardown"===t.kind&&t.key===e.key)(y.source))((0,a.hX)(t=>t.operation.kind===e.kind&&t.operation.key===e.key&&(!t.operation.context._instance||t.operation.context._instance===e.context._instance))(x));return t.maskTypename&&(r=(0,a.UI)(e=>({...e,data:u(e.data,!0)}))(r)),r="query"!==e.kind?(0,a.oE)(e=>!!e.hasNext,!0)(r):(0,a.wt)(t=>{var r=(0,a._A)(t);return t.stale||t.hasNext?r:(0,a.TS)([r,(0,a.UI)(()=>(t.stale=!0,t))((0,a.qn)(1)((0,a.hX)(t=>t.key===e.key)(y.source)))])})(r),r="mutation"!==e.kind?(0,a.ok)(()=>{s.delete(e.key),n.delete(e.key),o.delete(e.key),m=!1;for(var t=l.length-1;t>=0;t--)l[t].key===e.key&&l.splice(t,1);h(p("teardown",e,e.context))})((0,a.Mq)(t=>{if(t.stale){for(var r of l)if(r.key===t.operation.key){s.delete(r.key);break}}else t.hasNext||s.delete(e.key);n.set(e.key,t)})(r)):(0,a.Hr)(()=>{h(e)})(r),(0,a.BN)(r)},b=Object.assign(this instanceof e?this:Object.create(e.prototype),{suspense:!!t.suspense,operations$:y.source,reexecuteOperation(e){if("teardown"===e.kind)k(e);else if("mutation"===e.kind||o.has(e.key)){for(var t=!1,r=0;r<l.length;r++)t=t||l[r].key===e.key;t||s.delete(e.key),l.push(e),Promise.resolve().then(k)}},createRequestOperation:(e,t,n)=>(n||(n={}),p(e,t,{_instance:"mutation"===e?r=r+1|0:void 0,...f,...n,requestPolicy:n.requestPolicy||f.requestPolicy,suspense:n.suspense||!1!==n.suspense&&b.suspense})),executeRequestOperation:e=>"mutation"===e.kind?d(w(e)):d((0,a.Vo)(()=>{var t=o.get(e.key);t||o.set(e.key,t=w(e)),t=(0,a.Hr)(()=>{k(e)})(t);var r=n.get(e.key);return"query"===e.kind&&r&&(r.stale||r.hasNext)?(0,a.wt)(a._A)((0,a.TS)([t,(0,a.hX)(t=>t===n.get(e.key))((0,a._A)(r))])):t})),executeQuery(e,t){var r=b.createRequestOperation("query",e,t);return b.executeRequestOperation(r)},executeSubscription(e,t){var r=b.createRequestOperation("subscription",e,t);return b.executeRequestOperation(r)},executeMutation(e,t){var r=b.createRequestOperation("mutation",e,t);return b.executeRequestOperation(r)},readQuery(e,t,r){var n=null;return(0,a.Ld)(e=>{n=e})(b.query(e,t,r)).unsubscribe(),n},query:(e,t,r)=>b.executeQuery((0,i.h)(e,t),r),subscription:(e,t,r)=>b.executeSubscription((0,i.h)(e,t),r),mutation:(e,t,r)=>b.executeMutation((0,i.h)(e,t),r)}),_=v(t.exchanges),x=(0,a.BN)(_({client:b,dispatchDebug:c,forward:g({dispatchDebug:c})})(y.source));return(0,a.nY)(x),b}},22365:function(e,t,r){"use strict";r.d(t,{M:function(){return s}});var n=r(58354),i=r(44745),a=r(57778),o=(e,t)=>(0,i.vx)(e.kind,e,{...e.context,authAttempt:t});function s(e){return({client:t,forward:r})=>{var s,l=new Set,u=(0,n.nN)(),d=(0,n.nN)(),p=new Map;function c(){s=void 0;var e=p;p=new Map,e.forEach(u.next)}function f(e){s=void 0;var t=p;p=new Map,t.forEach(t=>{d.next((0,a.b)(t,e))})}var y=null;return v=>{function h(){s=Promise.resolve().then(()=>e({mutate(e,r,i){var o=t.createRequestOperation("mutation",(0,a.h)(e,r),i);return(0,n.Vi)((0,n.qn)(1)((0,n.hX)(e=>e.operation.key===o.key&&o.context._instance===e.operation.context._instance)((0,n.Hr)(()=>{var e=m(o);l.add(e.context._instance),u.next(e)})(k))))},appendHeaders(e,t){var r="function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions||{};return(0,i.vx)(e.kind,e,{...e.context,fetchOptions:{...r,headers:{...r.headers,...t}}})}})).then(e=>{e&&(y=e),c()}).catch(e=>{f(e)})}function g(e){p.set(e.key,o(e,!0)),y&&!s&&(s=y.refreshAuth().then(c).catch(f))}function m(e){return y?y.addAuthToOperation(e):e}h();var k=r((0,n.hX)(Boolean)((0,n.UI)(e=>"teardown"===e.kind?(p.delete(e.key),e):e.context._instance&&l.has(e.context._instance)?e:e.context.authAttempt?m(e):s||!y?(s||h(),p.has(e.key)||p.set(e.key,o(e,!1)),null):!e.context.authAttempt&&y&&y.willAuthError&&y.willAuthError(e)?(g(e),null):m(o(e,!1)))((0,n.TS)([u.source,v]))));return(0,n.TS)([d.source,(0,n.hX)(e=>!l.has(e.operation.context._instance)&&e.error&&y&&y.didAuthError&&y.didAuthError(e.error,e.operation)&&!e.operation.context.authAttempt?(g(e.operation),!1):(l.has(e.operation.context._instance)&&l.delete(e.operation.context._instance),!0))(k)])}}}},81013:function(e,t,r){"use strict";r.d(t,{N:function(){return d}});var n=r(57778),i={__typename:"PageInfo",endCursor:null,startCursor:null,hasNextPage:!1,hasPreviousPage:!1},a=e=>"string"==typeof e?e:null,o=(e,t,r)=>{for(var n=new Set,i=0,a=t.length;i<a;i++){var o=e.resolve(t[i],"node");"string"==typeof o&&n.add(o)}for(var s=t.slice(),l=0,u=r.length;l<u;l++){var d=r[l],p=e.resolve(d,"node");"string"!=typeof p||n.has(p)||(n.add(p),s.push(d))}return s},s=(e,t)=>{for(var r=new Set,n=0,i=e.length;n<i;n++){var a=e[n];"string"==typeof a&&r.add(a)}for(var o=e.slice(),s=0,l=t.length;s<l;s++){var u=t[s];"string"!=typeof u||r.has(u)||(r.add(u),o.push(u))}return o},l=(e,t)=>{for(var r in t)if("first"!==r&&"last"!==r&&"after"!==r&&"before"!==r){if(!(r in e))return!1;var i=e[r],a=t[r];if(typeof i!=typeof a||"object"!=typeof i?i!==a:(0,n.i)(i)!==(0,n.i)(a))return!1}for(var o in e)if("first"!==o&&"last"!==o&&"after"!==o&&"before"!==o&&!(o in t))return!1;return!0},u=(e,t,r)=>{var n=a(e.resolve(t,r));if(!n)return null;var o=e.resolve(n,"__typename"),s=e.resolve(n,"edges")||[],l=e.resolve(n,"nodes")||[];if("string"!=typeof o)return null;var u={__typename:o,edges:s,nodes:l,pageInfo:i},d=e.resolve(n,"pageInfo");if("string"==typeof d){var p=a(e.resolve(d,"__typename")),c=a(e.resolve(d,"endCursor")),f=a(e.resolve(d,"startCursor")),y=e.resolve(d,"hasNextPage"),v=e.resolve(d,"hasPreviousPage"),h=u.pageInfo={__typename:"string"==typeof p?p:"PageInfo",hasNextPage:"boolean"==typeof y?y:!!c,hasPreviousPage:"boolean"==typeof v?v:!!f,endCursor:c,startCursor:f};if(null===h.endCursor){var g=s[s.length-1];if(g){var m=e.resolve(g,"cursor");h.endCursor=a(m)}}if(null===h.startCursor){var k=s[0];if(k){var w=e.resolve(k,"cursor");h.startCursor=a(w)}}}return u},d=(e={})=>{var t=e.mergeMode||"inwards";return(e,r,n,d)=>{var{parentKey:p,fieldName:c}=d,f=n.inspectFields(p).filter(e=>e.fieldName===c),y=f.length;if(0!==y){for(var v=null,h=[],g=[],m=[],k=[],w={...i},b=0;b<y;b++){var{fieldKey:_,arguments:x}=f[b];if(null!==x&&l(r,x)){var O=u(n,p,_);if(null!==O&&(0!==O.nodes.length||0!==O.edges.length||!v)){if("inwards"===t&&"number"==typeof x.last&&"number"==typeof x.first){var N=O.edges.slice(0,x.first+1),E=O.edges.slice(-x.last),S=O.nodes.slice(0,x.first+1),I=O.nodes.slice(-x.last);h=o(n,h,N),g=o(n,E,g),m=s(m,S),k=s(I,k),w=O.pageInfo}else x.after?(h=o(n,h,O.edges),m=s(m,O.nodes),w.endCursor=O.pageInfo.endCursor,w.hasNextPage=O.pageInfo.hasNextPage):x.before?(g=o(n,O.edges,g),k=s(O.nodes,k),w.startCursor=O.pageInfo.startCursor,w.hasPreviousPage=O.pageInfo.hasPreviousPage):("number"==typeof x.last?(g=o(n,O.edges,g),k=s(O.nodes,k)):(h=o(n,h,O.edges),m=s(m,O.nodes)),w=O.pageInfo);O.pageInfo.__typename!==w.__typename&&(w.__typename=O.pageInfo.__typename),v!==O.__typename&&(v=O.__typename)}}}if("string"==typeof v){if(!a(n.resolve(p,c,r))){if(!d.store.schema)return;d.partial=!0}return{__typename:v,edges:"inwards"===t?o(n,h,g):o(n,g,h),nodes:"inwards"===t?s(m,k):s(k,m),pageInfo:{__typename:w.__typename,endCursor:w.endCursor,startCursor:w.startCursor,hasNextPage:w.hasNextPage,hasPreviousPage:w.hasPreviousPage}}}}}}},28552:function(e,t,r){"use strict";r.d(t,{HG:function(){return eP}});var n=r(57778),i=r(44745),a=r(23118),o=r(58354);function s(e,t,r){if(!e){var n=Error((t||"Minfied Error #"+r+"\n")+"\nhttps://bit.ly/2XbVrpR#"+r);throw n.name="Graphcache Error",n}}var l={},u=e=>e._directives||l,d=e=>e.name.value,p=e=>e.typeCondition.name.value,c=e=>e.alias?e.alias.value:e.name.value,f=[],y=e=>e.selectionSet?e.selectionSet.selections:f,v=e=>e.typeCondition?e.typeCondition.name.value:null,h=(e,t)=>{var r=null;if(e.arguments)for(var n=0,i=e.arguments.length;n<i;n++){var o=e.arguments[n],s=(0,a.Mq)(o.value,t);null!=s&&(r||(r={}),r[d(o)]=s)}return r},g=(e,t)=>{if(t&&e.variableDefinitions){for(var r={},n=0,i=e.variableDefinitions.length;n<i;n++){var a=d(e.variableDefinitions[n].variable);r[a]=t[a]}return r}},m=(e,t)=>{var r={};if(!t)return r;if(e.variableDefinitions)for(var n=0,i=e.variableDefinitions.length;n<i;n++){var o=e.variableDefinitions[n],s=d(o.variable);r[s]=void 0===t[s]&&o.defaultValue?(0,a.Mq)(o.defaultValue,t):t[s]}for(var l in t)l in r||(r[l]=t[l]);return r};function k(e){for(var t=0;t<e.definitions.length;t++)if(e.definitions[t].kind===a.hY.OPERATION_DEFINITION)return e.definitions[t];s(!1,"",1)}var w=e=>{for(var t={},r=0;r<e.definitions.length;r++){var n=e.definitions[r];n.kind===a.hY.FRAGMENT_DEFINITION&&(t[d(n)]=n)}return t},b=(e,t)=>{var r=u(e);if(r.include||r.skip)for(var n in r){var i=r[n];if(i&&("include"===n||"skip"===n)&&i.arguments&&i.arguments[0]&&"if"===d(i.arguments[0])){var o=(0,a.Mq)(i.arguments[0].value,t);return"include"===n?!!o:!o}}return!0},_=(e,t)=>{var{defer:r}=u(e);if(r){for(var n of r.arguments||[])if("if"===d(n))return!!(0,a.Mq)(n.value,t);return!0}return!1},x=(e,t,r,n)=>{var i=E(e,t,r,n);return!!i&&"NON_NULL"!==i.type.kind},O=(e,t,r,n)=>{var i=E(e,t,r,n);if(!i)return!1;var a="NON_NULL"===i.type.kind?i.type.ofType:i.type;return"LIST"===a.kind&&"NON_NULL"!==a.ofType.kind},N=(e,t,r)=>{if(!r)return!1;var n=v(t);return!n||r===n||(e.types.has(n)&&"OBJECT"===e.types.get(n).kind?n===r:(s(e.types.has(n)&&("INTERFACE"===e.types.get(n).kind||"UNION"===e.types.get(n).kind),"",5),S(e,r),e.isSubType(n,r)))},E=(e,t,r,n)=>{if(0!==r.indexOf("__")&&0!==t.indexOf("__"))return S(e,t),e.types.get(t).fields()[r]};function S(e,t){s(e.types.has(t)&&"OBJECT"===e.types.get(t).kind,"",3)}var I=(e,t)=>t?`${e}(${(0,n.i)(t)})`:e,q=(e,t)=>`${e}.${t}`,C=e=>{var t=e.indexOf("(");return t>-1?{fieldKey:e,fieldName:e.slice(0,t),arguments:JSON.parse(e.slice(t+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}},A=e=>{var t=e.indexOf(".");return{entityKey:e.slice(0,t).replace(/%2e/g,"."),fieldKey:e.slice(t+1)}},P=null,T=null,M=null,$=null,K=null,R=null,D=!1,F=!1;function j(e,t){var r;if(e){if(P.has(e))return e;r=T.get(e)}return null==r&&(r=t?[]:{}),e&&T.set(e,r),P.add(r),r}var L=e=>!!e&&P.has(e),X=(e,t,r,n,i)=>{P=new WeakSet,T=new WeakMap,K=e,M=t,R=new Set,F=!!n,D=!!i,r?"read"===K?$=r:n||t.hydrating||t.optimisticOrder.length>1?(n||t.commutativeKeys.has(r)?n&&(-1===t.optimisticOrder.indexOf(r)||t.commutativeKeys.has(r)||t.optimisticOrder.splice(t.optimisticOrder.indexOf(r),1),t.commutativeKeys.delete(r)):ei(t,r),$=r,ea(t,r)):($=null,es(t,r)):$=null},B=()=>{var e=M,t=$;if(F=!1,$=null,!e.hydrating&&t&&e.optimisticOrder.indexOf(t)>-1)for(var r=e.optimisticOrder.length;--r>=0&&e.dirtyKeys.has(e.optimisticOrder[r])&&e.commutativeKeys.has(e.optimisticOrder[r]);)el(e.optimisticOrder[r]);P=null,T=null,K=null,M=null,R=null,e.defer||!e.storage&&e.optimisticOrder.length||(e.defer=!0,setTimeout(()=>{X("read",e,null),Q(),ed(),B(),e.defer=!1}))},U=(e,t,r)=>{t&&!r&&e.deferredKeys.delete(t),X("write",e,t,r),B()},z=(e,t,r,n)=>{var i=$?e.optimistic.get($):e.base,a=i.get(t);void 0===a&&i.set(t,a=Object.create(null)),void 0!==n||$?a[r]=n:delete a[r]},J=(e,t,r)=>{for(var n,i=!F&&"read"===K&&$&&M.commutativeKeys.has($),a=0,o=M.optimisticOrder.length;a<o;a++){var s=M.optimisticOrder[a],l=e.optimistic.get(s);if(i=i&&s!==$,l&&(!i||!M.commutativeKeys.has(s))&&(!F||"write"===K||M.commutativeKeys.has(s))&&void 0!==(n=l.get(t))&&r in n)return n[r]}return void 0!==(n=e.base.get(t))?n[r]:void 0},V=(e,t)=>{if(Array.isArray(e))for(var r,n,i=0,a=e.length;i<a;i++)V(e[i],t);else"string"==typeof e&&(n=(r=M.refCount.get(e)||0)+t>0?r+t:0,M.refCount.set(e,n),n?!r&&n&&M.gc.delete(e):M.gc.add(e))},W=(e,t,r)=>{if(void 0!==r)for(var n in r)t.has(n)||(e.push(C(n)),t.add(n))},G=(e,t,r,n)=>{W(e,t,n.base.get(r));for(var i=0,a=M.optimisticOrder.length;i<a;i++){var o=n.optimistic.get(M.optimisticOrder[i]);void 0!==o&&W(e,t,o.get(r))}},Q=()=>{if(!M.optimisticOrder.length){for(var e of M.gc.keys())if(M.gc.delete(e),!((M.refCount.get(e)||0)>0)){M.refCount.delete(e),M.records.base.delete(e);var t=M.links.base.get(e);if(t)for(var r in M.links.base.delete(e),t)V(t[r],-1)}}},Y=(e,t)=>{e!==M.queryRootKey?R.add(e):void 0!==t&&"__typename"!==t&&R.add(q(e,t))},H=(e,t)=>{!F&&M.storage&&M.persist.add(`${e.replace(/\./g,"%2e")}.${t}`)},Z=(e,t)=>(Y(e,t),J(M.records,e,t)),ee=(e,t)=>(Y(e,t),J(M.links,e,t)),et=(e,t,r)=>{Y(e,t),H(e,t),z(M.records,e,t,r)},er=(e,t)=>void 0!==Z(e,t)||void 0!==ee(e,t),en=(e,t,r)=>{var n=$?M.links.optimistic.get($):M.links.base;if(!$){var i=n&&n.get(e);V(i&&i[t],-1),V(r,1)}Y(e,t),H(e,t),z(M.links,e,t,r)},ei=(e,t,r)=>{var n=e.optimisticOrder.indexOf(t);if(n>-1&&e.optimisticOrder.splice(n,1),r)for(e.deferredKeys.add(t),n=n>-1?n:0;n<e.optimisticOrder.length&&!e.deferredKeys.has(e.optimisticOrder[n])&&(!e.dirtyKeys.has(e.optimisticOrder[n])||!e.commutativeKeys.has(e.optimisticOrder[n]));n++);else e.deferredKeys.delete(t),n>-1&&!e.commutativeKeys.has(t)&&eo(e,t),n=0;e.optimisticOrder.splice(n,0,t),e.commutativeKeys.add(t)},ea=(e,t)=>{-1===e.optimisticOrder.indexOf(t)&&e.optimisticOrder.unshift(t),e.dirtyKeys.has(t)||(e.dirtyKeys.add(t),e.links.optimistic.set(t,new Map),e.records.optimistic.set(t,new Map))},eo=(e,t)=>{e.dirtyKeys.has(t)&&(e.dirtyKeys.delete(t),e.records.optimistic.delete(t),e.links.optimistic.delete(t),e.deferredKeys.delete(t))},es=(e,t)=>{var r=e.optimisticOrder.indexOf(t);r>-1&&(e.optimisticOrder.splice(r,1),e.commutativeKeys.delete(t)),eo(e,t)},el=e=>{var t=R;R=new Set,K="write";var r=M.links.optimistic.get(e);if(r)for(var n of r.entries()){var i=n[0],a=n[1];for(var o in a)en(i,o,a[o])}var s=M.records.optimistic.get(e);if(s)for(var l of s.entries()){var u=l[0],d=l[1];for(var p in d)et(u,p,d[p])}R=t,es(M,e)},eu=e=>{var{links:t,records:r}=M,n=[],i=new Set;return Y(e),G(n,i,e,t),G(n,i,e,r),n},ed=()=>{if(M.storage){F=!0,K="read";var e={};for(var t of M.persist.keys()){var{entityKey:r,fieldKey:i}=A(t),a=void 0;void 0!==(a=ee(r,i))?e[t]=`:${(0,n.i)(a)}`:void 0!==(a=Z(r,i))?e[t]=(0,n.i)(a):e[t]=void 0}F=!1,M.storage.writeData(e),M.persist.clear()}},ep=null,ec=!1,ef=e=>e.__internal.path.length>0&&e.__internal.errorMap?e.__internal.errorMap[e.__internal.path.join(".")]:void 0,ey=(e,t,r,n,i,a)=>{var o={store:e,variables:t,fragments:r,parent:{__typename:n},parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",error:void 0,partial:!1,hasNext:!1,optimistic:F,__internal:{path:[],errorMap:void 0}};if(a&&a.graphQLErrors)for(var s=0;s<a.graphQLErrors.length;s++){var l=a.graphQLErrors[s];l.path&&l.path.length&&(o.__internal.errorMap||(o.__internal.errorMap=Object.create(null)),o.__internal.errorMap[l.path.join(".")]=l)}return o},ev=(e,t,r,n,i,a)=>{ep=e,e.parent=t,e.parentTypeName=r,e.parentKey=n,e.parentFieldKey=i,e.fieldName=a,e.error=ef(e)},eh=(e,t,r,n,i)=>{if(!t)return!1;var o=v(e);return!o||t===o||"write"===K||!y(e).some(e=>e.kind===a.hY.FIELD&&!er(r,I(d(e),h(e,n))))},eg=(e,t,r,n,i)=>{var o,s=0;return function(){for(var l;o||s<n.length;)if(l=void 0,ec=r,o){if(l=o())return l;o=void 0}else{var u=n[s++];if(b(u,i.variables)){if(u.kind!==a.hY.FIELD){var p=u.kind!==a.hY.INLINE_FRAGMENT?i.fragments[d(u)]:u;p&&(!p.typeCondition||(i.store.schema?N(i.store.schema,p,e):eh(p,e,t,i.variables,i.store.logger)))&&(o=eg(e,t,r||_(u,i.variables),y(p),i))}else if("write"===K||!u._generated)return u}}}},em=e=>null==e?null:e,ek=(e,t)=>{if(!t)return t||null;if(Array.isArray(t)){for(var r=Array(t.length),n=0,i=r.length;n<i;n++)r[n]=ek(e,t[n]);return r}return e.keyOfEntity(t)},ew=(e,t,r,n)=>{var a=(0,i.nZ)(t.query),o=k(a),s=e.rootFields[o.operation],l=y(o),u=ey(e,m(o,t.variables),w(a),s,s,n),d=s!==u.store.rootFields.query?eb(u,s,l,r||j()):ex(u,s,l,r||j());return{dependencies:R,partial:u.partial||!d,hasNext:u.hasNext,data:d||null}},eb=(e,t,r,n)=>{if("string"!=typeof(e.store.rootNames[t]?t:n.__typename))return n;for(var i,a=eg(t,t,ec,r,e),o=D,s=j(n);i=a();){var l=c(i),u=n[l];e.__internal.path.push(l);var d=void 0;d=i.selectionSet&&null!==u?e_(e,y(i),em(u)):u,o=o||d!==u,void 0!==d&&(s[l]=d),e.__internal.path.pop()}return o?s:n},e_=(e,t,r)=>{if(Array.isArray(r)){for(var n=Array(r.length),i=D,a=0,o=r.length;a<o;a++)e.__internal.path.push(a),n[a]=e_(e,t,r[a]),i=i||n[a]!==r[a],e.__internal.path.pop();return i?n:r}if(null===r)return null;var s=e.store.keyOfEntity(r);return null!==s?ex(e,s,t,r)||null:eb(e,r.__typename,t,r)},ex=(e,t,r,n,i)=>{var a,{store:o}=e,s=t===o.rootFields.query,l=i&&o.keyOfEntity(i)||t,p=s?t:Z(l,"__typename")||i&&i.__typename;if("string"==typeof p&&(!i||p===i.__typename)){for(var f=eg(p,l,ec,r,e),v=!1,g=!1,m=D,k=e.partial,w=j(n);void 0!==(a=f());){var b=d(a),_=h(a,e.variables),O=c(a),N=u(a),E=function(e,t,r,n){var i,a=n.store.resolvers[t],o=a&&a[r];for(var s in e){var l=e[s];if(l&&"include"!==s&&"skip"!==s&&n.store.directives[s])return n.store.directives[s](h(l,n.variables))}return i||o}(N,p,b,e),S=I(b,_),C=q(l,S),A=Z(l,S),P=i?i[b]:void 0;e.__internal.path.push(O);var T=void 0;if("__typename"===b)T=p;else if(void 0!==P&&void 0===a.selectionSet)T=P;else if("read"===K&&E){var M=w;if(void 0===a.selectionSet&&void 0!==A&&(M={...w,[O]:A,[b]:A}),ev(e,M,p,l,S,b),T=E(M,_||{},o,e),a.selectionSet&&(T=eO(e,p,b,C,y(a),void 0!==w[O]?w[O]:n[O],T,L(n))),o.schema&&null===T&&!x(o.schema,p,b,e.store.logger))return}else if(a.selectionSet){if(void 0!==P)T=eO(e,p,b,C,y(a),void 0!==w[O]?w[O]:n[O],P,L(n));else{var $=ee(l,S);void 0!==$?T=eN(e,$,p,b,y(a),void 0!==w[O]?w[O]:n[O],L(n)):"object"==typeof A&&null!==A&&(T=A)}}else T=A;if(!ec&&void 0===T&&(N.optional||ef(e)||o.schema&&x(o.schema,p,b,e.store.logger))?(e.partial=!0,T=null):null===T&&N.required?(e.store.logger,T=void 0):v=v||"__typename"!==b,e.__internal.path.pop(),m=m||T!==n[O],void 0!==T)w[O]=T;else if(ec)g=!0;else{e.store.logger,e.partial=k;return}}return e.partial=e.partial||k,e.hasNext=e.hasNext||g,s&&e.partial&&!v?void 0:m?w:n}},eO=(e,t,r,n,i,a,o,s)=>{if(Array.isArray(o)){for(var{store:l}=e,u=!!l.schema&&O(l.schema,t,r,e.store.logger),d=e.partial,p=j(a,!0),c=D||!Array.isArray(a)||o.length!==a.length,f=0,y=o.length;f<y;f++){e.__internal.path.push(f);var v=eO(e,t,r,q(n,`${f}`),i,null!=a?a[f]:void 0,o[f],s);if(e.__internal.path.pop(),void 0!==v||u)e.partial=e.partial||void 0===v&&u,p[f]=null!=v?v:null,c=c||p[f]!==a[f];else{e.partial=d;return}}return c?p:a}if(null==o)return o;if(s&&null===a)return null;if(eE(o)){var h=a||j(a);return"string"==typeof o?ex(e,o,i,h):ex(e,n,i,h,o)}},eN=(e,t,r,n,i,a,o)=>{if(Array.isArray(t)){for(var{store:s}=e,l=!!s.schema&&O(s.schema,r,n,e.store.logger),u=j(a,!0),d=e.partial,p=D||!Array.isArray(a)||t.length!==a.length,c=0,f=t.length;c<f;c++){e.__internal.path.push(c);var y=eN(e,t[c],r,n,i,null!=a?a[c]:void 0,o);if(e.__internal.path.pop(),void 0!==y||l)e.partial=e.partial||void 0===y&&l,u[c]=y||null,p=p||u[c]!==a[c];else{e.partial=d;return}}return p?u:a}return null===t||null===a&&o?null:ex(e,t,i,a||j(a))},eE=e=>"string"==typeof e||"object"==typeof e&&"string"==typeof e.__typename,eS=(e,t,r,n)=>{var a=(0,i.nZ)(t.query),o=k(a),s={data:r||j(),dependencies:R},l=e.rootFields[o.operation];return eI(ey(e,m(o,t.variables),w(a),l,l,n),l,y(o),s.data),s},eI=(e,t,r,n)=>{var i,a=e.store.rootNames[t]||"query",o=!!e.store.rootNames[t],s=o?t:n.__typename;if(!s&&t&&e.optimistic&&(s=Z(t,"__typename")),s){!o&&t&&et(t,"__typename",s);for(var l=e.store.updates[s],u=eg(s,t||s,ec,r,e);i=u();){var p=d(i),f=h(i,e.variables),v=I(p,f),g=c(i),m=n[e.optimistic?p:g];if("__typename"!==p&&(void 0!==m||!ec&&(!e.optimistic||"query"!==a))){e.__internal.path.push(g);var k=void 0;if(e.optimistic&&"mutation"===a){if(!(k=e.store.optimisticMutations[p]))continue}else e.optimistic&&"function"==typeof m&&(k=m);if(k&&(ev(e,n,s,t||s,v,p),m=em(k(f||{},e.store,e))),void 0!==m){if(i.selectionSet){if(t&&"query"===a){var w=q(t,v),b=eq(e,y(i),em(m),w,e.optimistic?ee(t||s,v):void 0);en(t||s,v,b)}else eq(e,y(i),em(m))}else t&&"query"===a&&et(t||s,v,null===m&&ef(e)?void 0:m);var _=l&&l[p];_&&(ev(e,n,s,t||s,v,p),n[p]=m,_(n,f||{},e.store,e)),e.__internal.path.pop()}}}}},eq=(e,t,r,n,i)=>{if(Array.isArray(r)){for(var a=Array(r.length),o=0,s=r.length;o<s;o++){e.__internal.path.push(o);var l=n?q(n,`${o}`):void 0,u=eq(e,t,r[o],l,null!=i?i[o]:void 0);a[o]=u,e.__internal.path.pop()}return a}if(null===r)return ef(e)?void 0:null;var d=e.store.keyOfEntity(r)||("string"==typeof i?i:null);r.__typename;var p=d||n;return eI(e,p,t,r),p||null};class eC{constructor(e){e||(e={}),this.logger=e.logger,this.resolvers=e.resolvers||{},this.directives=e.directives||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{},this.globalIDs=Array.isArray(e.globalIDs)?new Set(e.globalIDs):!!e.globalIDs;var t,r="Query",n="Mutation",i="Subscription";if(e.schema){var a=(({__schema:e})=>{var t=new Map,r=e=>{var t;return()=>{if(!t){t={};for(var r=0;r<e.length;r++)t[e[r].name]=e[r]}return t}},n=e=>{switch(e.kind){case"OBJECT":case"INTERFACE":return{name:e.name,kind:e.kind,interfaces:r(e.interfaces||[]),fields:r(e.fields.map(e=>({name:e.name,type:e.type,args:r(e.args)})))};case"UNION":return{name:e.name,kind:e.kind,types:r(e.possibleTypes||[])}}},i={query:e.queryType?e.queryType.name:null,mutation:e.mutationType?e.mutationType.name:null,subscription:e.subscriptionType?e.subscriptionType.name:null,types:void 0,isSubType(e,r){var n=t.get(e),i=t.get(r);return!!n&&!!i&&("UNION"===n.kind?!!n.types()[r]:"OBJECT"!==n.kind&&"OBJECT"===i.kind?!!i.interfaces()[e]:e===r)}};if(e.types){i.types=t;for(var a=0;a<e.types.length;a++){var o=e.types[a];if(o&&o.name){var s=n(o);s&&t.set(o.name,s)}}}return i})(e.schema);r=a.query||r,n=a.mutation||n,i=a.subscription||i,a.types&&(this.schema=a)}this.updates=e.updates||{},this.rootFields={query:r,mutation:n,subscription:i},this.rootNames={[r]:"query",[n]:"mutation",[i]:"subscription"},this.data=(t=r,{hydrating:!1,defer:!1,gc:new Set,persist:new Set,queryRootKey:t,refCount:new Map,links:{optimistic:new Map,base:new Map},records:{optimistic:new Map,base:new Map},deferredKeys:new Set,commutativeKeys:new Set,dirtyKeys:new Set,optimisticOrder:[],storage:null}),this.schema}keyOfField(e,t){return I(e,t)}keyOfEntity(e){if(ep&&e===ep.parent)return ep.parentKey;if(null==e||"string"==typeof e)return e||null;if(!e.__typename)return null;if(this.rootNames[e.__typename])return e.__typename;var t=null;this.keys[e.__typename]?t=this.keys[e.__typename](e)||null:null!=e.id?t=`${e.id}`:null!=e._id&&(t=`${e._id}`);var r=e.__typename;return!0===this.globalIDs||this.globalIDs&&this.globalIDs.has(r)||!t?t:`${r}:${t}`}resolve(e,t,r){var n=null,i=this.keyOfEntity(e);if(i){var a=I(t,r);void 0===(n=Z(i,a))&&(n=ee(i,a))}return n}resolveFieldByKey(e,t,r){return this.resolve(e,t,r)}invalidate(e,t,r){var n=this.keyOfEntity(e);s(n,"",19),((e,t,r)=>{for(var n=t?[{fieldKey:I(t,r)}]:eu(e),i=0,a=n.length;i<a;i++){var{fieldKey:o}=n[i];void 0!==ee(e,o)?en(e,o,void 0):et(e,o,void 0)}})(n,t,r)}inspectFields(e){var t=this.keyOfEntity(e);return t?eu(t):[]}updateQuery(e,t){var r=(0,n.h)(e.query,e.variables),i=t(this.readQuery(r));null!==i&&eS(this,r,i,void 0)}readQuery(e){return ew(this,(0,n.h)(e.query,e.variables),void 0,void 0).data}readFragment(e,t,r,n){return((e,t,r,n,i)=>{var a,o=w(t);if(i){if(!(a=o[i]))return null}else if(!(a=o[Object.keys(o)[0]]))return null;var s=p(a);"string"==typeof r||r.__typename||(r.__typename=s);var l=e.keyOfEntity(r);return l&&ex(ey(e,n||{},o,s,l,void 0),l,y(a),j())||null})(this,(0,i.nZ)(e),t,r,n)}writeFragment(e,t,r,n){((e,t,r,n,i)=>{var a,o=w(t);if(i){if(!(a=o[i]))return}else if(!(a=o[Object.keys(o)[0]]))return;var s=p(a),l={__typename:s,...r},u=e.keyOfEntity(l);u&&eI(ey(e,n||{},o,s,u,void 0),u,y(a),l)})(this,(0,i.nZ)(e),t,r,n)}link(e,t,...r){var n=2===r.length?r[0]:null,i=2===r.length?r[1]:r[0],a=this.keyOfEntity(e);a&&en(a,I(t,n),ek(this,i))}}var eA=(e,t)=>(0,i.vx)(e.kind,e,{...e.context,requestPolicy:t}),eP=e=>({forward:t,client:r,dispatchDebug:n})=>{var a=new eC(e);e&&e.storage&&(a.data.hydrating=!0,e.storage.readData().then(t=>{((e,t,r)=>{for(var n in X("write",e,null),r){var i=r[n];if(void 0!==i){var{entityKey:a,fieldKey:o}=A(n);":"===i[0]?void 0===ee(a,o)&&en(a,o,JSON.parse(i.slice(1))):void 0===Z(a,o)&&et(a,o,JSON.parse(i))}}e.storage=t,e.hydrating=!1,B()})(a.data,e.storage,t),e.storage.onCacheHydrated&&e.storage.onCacheHydrated()}));var s=new Map,l=[],u=new Map,d=new Map,p=new Set,c=new Set,f=new Map,y=new Set,v=new Set,h=e=>{for(var t of e.values())if(p.has(t))return!0;return!1},m=(e,t)=>{if(t)for(var r of t.values()){var n=f.get(r);if(n)for(var i of n.values())e.add(i)}},w=(e,t,n)=>{for(var i of t.values())if(i!==e.key){var a=u.get(i);if(a){"query"===e.kind&&v.add(i);var o="cache-first";c.has(i)&&(c.delete(i),o="cache-and-network"),r.reexecuteOperation(eA(a,o))}}if(!n){var s=y;"query"===e.kind&&(y=v).add(e.key),(v=s).clear()}},b=e=>{var t=!1;if("query"===e.kind)ei(a.data,e.key),u.set(e.key,e);else if("teardown"===e.kind)return u.delete(e.key),d.delete(e.key),y.delete(e.key),U(a.data,e.key),e;else if("mutation"===e.kind&&"network-only"!==e.context.requestPolicy){u.set(e.key,e),X("write",a.data,e.key,!0,!1);var{dependencies:r}=eS(a,e,void 0,void 0);if(B(),r.size){for(var n of r.values())p.add(n);s.set(e.key,r);var o=new Set;m(o,r),w(e,o,!0),t=!0}}return(0,i.vx)(e.kind,{key:e.key,query:(0,i.nZ)(e.query),variables:e.variables?g(k(e.query),e.variables):e.variables},{...e.context,optimistic:t})},_=(e,t)=>{for(var r of t.values()){var n=f.get(r);n||f.set(r,n=new Set),n.add(e.key)}},x=e=>{X("read",a.data,void 0,!1,!1);var t=ew(a,e,d.get(e.key),void 0);B();var r=t.data?t.partial||t.hasNext?"partial":"hit":"miss";return d.set(e.key,t.data),u.set(e.key,e),_(e,t.dependencies),{outcome:r,operation:e,data:t.data,dependencies:t.dependencies,hasNext:t.hasNext}},O=(e,t)=>{var r,n=u.get(e.operation.key)||e.operation;"mutation"===n.kind&&(m(t,s.get(n.key)),s.delete(n.key)),("subscription"===n.kind||e.hasNext)&&ei(a.data,n.key,!0);var i=e.data;if(i){X("write",a.data,n.key,!1,!1);var o=eS(a,n,i,e.error).dependencies;B(),m(t,o);var l="query"===n.kind?d.get(n.key):null;X("read",a.data,n.key,!1,l!==i);var p=ew(a,n,l||i,e.error);B(),i=p.data,"query"===n.kind&&(m(t,r=p.dependencies),d.set(n.key,i))}else U(a.data,n.key);return r&&_(e.operation,r),{operation:n,data:i,error:e.error,extensions:e.extensions,hasNext:e.hasNext,stale:e.stale}};return e=>{var n=(0,o.BN)((0,o.UI)(x)((0,o.hX)(e=>"query"===e.kind&&"network-only"!==e.context.requestPolicy)(e))),i=(0,o.hX)(e=>"query"!==e.kind||"network-only"===e.context.requestPolicy)(e),d=(0,o.UI)(e=>e.operation)((0,o.hX)(e=>"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!h(e.dependencies)&&!y.has(e.operation.key))(n)),f=(0,o.UI)(e=>{var{requestPolicy:t}=e.operation.context,n="cache-only"!==t&&(e.hasNext||"cache-and-network"===t||"cache-first"===t&&"partial"===e.outcome&&!y.has(e.operation.key)),i={operation:e.operation,data:e.data,error:e.error,extensions:e.extensions,stale:n&&!e.hasNext,hasNext:n&&e.hasNext};return n&&(h(e.dependencies)?"cache-and-network"===t&&c.add(e.operation.key):r.reexecuteOperation(eA(u.get(e.operation.key)||e.operation,"network-only"))),i})((0,o.hX)(e=>"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy)(n)),v=t((0,o.UI)(b)((0,o.TS)([i,d]))),g=(0,o.UI)(e=>{var t=new Set,r=O(e,t);return w(e.operation,t,!1),r})((0,o.hX)(e=>!s.has(e.operation.key))(v)),m=(0,o.zg)(e=>{if(l.push(e)<s.size)return o.cS;for(var t,r=0;r<l.length;r++)ei(a.data,l[r].operation.key);p.clear();for(var n=[],i=new Set;t=l.shift();)n.push(O(t,i));return w(e.operation,i,!1),(0,o.nI)(n)})((0,o.hX)(e=>s.has(e.operation.key))(v));return(0,o.TS)([g,m,f])}}},17522:function(e,t,r){"use strict";function n(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function i(e){return"object"===n(e)}function a(e,t){return e.length<124?e:t}function o(e){if(!i(e))throw Error(`Message is expected to be an object, but got ${n(e)}`);if(!e.type)throw Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw Error(`Message is expects the 'type' property to be a string, but got ${n(e.type)}`);switch(e.type){case p.ConnectionInit:case p.ConnectionAck:case p.Ping:case p.Pong:if(null!=e.payload&&!i(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break;case p.Subscribe:if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${n(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!i(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${n(e.payload)}`);if("string"!=typeof e.payload.query)throw Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${n(e.payload.query)}`);if(null!=e.payload.variables&&!i(e.payload.variables))throw Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${n(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==n(e.payload.operationName))throw Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${n(e.payload.operationName)}`);if(null!=e.payload.extensions&&!i(e.payload.extensions))throw Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${n(e.payload.extensions)}`);break;case p.Next:if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${n(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!i(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${n(e.payload)}`);break;case p.Error:var t;if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${n(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!(Array.isArray(t=e.payload)&&t.length>0&&t.every(e=>"message"in e)))throw Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case p.Complete:if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${n(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw Error(`Invalid message 'type' property "${e.type}"`)}return e}function s(e,t){return o(e),JSON.stringify(e,t)}r.d(t,{eI:function(){return y}}),(l=d||(d={}))[l.InternalServerError=4500]="InternalServerError",l[l.InternalClientError=4005]="InternalClientError",l[l.BadRequest=4400]="BadRequest",l[l.BadResponse=4004]="BadResponse",l[l.Unauthorized=4401]="Unauthorized",l[l.Forbidden=4403]="Forbidden",l[l.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",l[l.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",l[l.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",l[l.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",l[l.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests",(u=p||(p={})).ConnectionInit="connection_init",u.ConnectionAck="connection_ack",u.Ping="ping",u.Pong="pong",u.Subscribe="subscribe",u.Next="next",u.Error="error",u.Complete="complete";var l,u,d,p,c=function(e){return this instanceof c?(this.v=e,this):new c(e)},f=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{var r;(r=i[e](t)).value instanceof c?Promise.resolve(r.value.v).then(l,u):d(a[0][2],r)}catch(e){d(a[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}};function y(e){let t;let{url:r,connectionParams:n,lazy:i=!0,onNonLazyError:l=console.error,lazyCloseTimeout:u=0,keepAlive:y=0,disablePong:g,connectionAckWaitTimeout:m=0,retryAttempts:k=5,retryWait:w=async function(e){let t=1e3;for(let r=0;r<e;r++)t*=2;await new Promise(e=>setTimeout(e,t+Math.floor(2700*Math.random()+300)))},shouldRetry:b=h,isFatalConnectionProblem:_,on:x,webSocketImpl:O,generateID:N=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},jsonMessageReplacer:E,jsonMessageReviver:S}=e;if(O){if(!("function"==typeof O&&"constructor"in O&&"CLOSED"in O&&"CLOSING"in O&&"CONNECTING"in O&&"OPEN"in O))throw Error("Invalid WebSocket implementation provided");t=O}else"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof global?t=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(t=window.WebSocket||window.MozWebSocket);if(!t)throw Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");let I=t,q=(()=>{let e=(()=>{let e={};return{on:(t,r)=>(e[t]=r,()=>{delete e[t]}),emit(t){var r;"id"in t&&(null===(r=e[t.id])||void 0===r||r.call(e,t))}}})(),t={connecting:(null==x?void 0:x.connecting)?[x.connecting]:[],opened:(null==x?void 0:x.opened)?[x.opened]:[],connected:(null==x?void 0:x.connected)?[x.connected]:[],ping:(null==x?void 0:x.ping)?[x.ping]:[],pong:(null==x?void 0:x.pong)?[x.pong]:[],message:(null==x?void 0:x.message)?[e.emit,x.message]:[e.emit],closed:(null==x?void 0:x.closed)?[x.closed]:[],error:(null==x?void 0:x.error)?[x.error]:[]};return{onMessage:e.on,on(e,r){let n=t[e];return n.push(r),()=>{n.splice(n.indexOf(r),1)}},emit(e,...r){for(let n of[...t[e]])n(...r)}}})();function C(e){let t=[q.on("error",r=>{t.forEach(e=>e()),e(r)}),q.on("closed",r=>{t.forEach(e=>e()),e(r)})]}let A,P=0,T,M=!1,$=0,K=!1;async function R(){clearTimeout(T);let[e,t]=await (null!=A?A:A=new Promise((e,t)=>(async()=>{let i,l;if(M){if(await w($),!P)return A=void 0,t({code:1e3,reason:"All Subscriptions Gone"});$++}q.emit("connecting",M);let u=new I("function"==typeof r?await r():r,"graphql-transport-ws");function c(){isFinite(y)&&y>0&&(clearTimeout(l),l=setTimeout(()=>{u.readyState===I.OPEN&&(u.send(s({type:p.Ping})),q.emit("ping",!1,void 0))},y))}C(e=>{A=void 0,clearTimeout(i),clearTimeout(l),t(e),e instanceof v&&(u.close(4499,"Terminated"),u.onerror=null,u.onclose=null)}),u.onerror=e=>q.emit("error",e),u.onclose=e=>q.emit("closed",e),u.onopen=async()=>{try{q.emit("opened",u);let e="function"==typeof n?await n():n;if(u.readyState!==I.OPEN)return;u.send(s(e?{type:p.ConnectionInit,payload:e}:{type:p.ConnectionInit},E)),isFinite(m)&&m>0&&(i=setTimeout(()=>{u.close(d.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},m)),c()}catch(e){q.emit("error",e),u.close(d.InternalClientError,a(e instanceof Error?e.message:Error(e).message,"Internal client error"))}};let f=!1;u.onmessage=({data:t})=>{try{let r=o("string"==typeof t?JSON.parse(t,S):t);if(q.emit("message",r),"ping"===r.type||"pong"===r.type){q.emit(r.type,!0,r.payload),"pong"===r.type?c():g||(u.send(s(r.payload?{type:p.Pong,payload:r.payload}:{type:p.Pong})),q.emit("pong",!1,r.payload));return}if(f)return;if(r.type!==p.ConnectionAck)throw Error(`First message cannot be of type ${r.type}`);clearTimeout(i),f=!0,q.emit("connected",u,r.payload,M),M=!1,$=0,e([u,new Promise((e,t)=>C(t))])}catch(e){u.onmessage=null,q.emit("error",e),u.close(d.BadResponse,a(e instanceof Error?e.message:Error(e).message,"Bad response"))}}})()));e.readyState===I.CLOSING&&await t;let i=()=>{},l=new Promise(e=>i=e);return[e,i,Promise.race([l.then(()=>{if(!P){let t=()=>e.close(1e3,"Normal Closure");isFinite(u)&&u>0?T=setTimeout(()=>{e.readyState===I.OPEN&&t()},u):t()}}),t])]}function D(e){var t;if(h(e)&&(![1e3,1001,1006,1005,1012,1013,1014].includes(t=e.code)&&t>=1e3&&t<=1999||[d.InternalServerError,d.InternalClientError,d.BadRequest,d.BadResponse,d.Unauthorized,d.SubprotocolNotAcceptable,d.SubscriberAlreadyExists,d.TooManyInitialisationRequests].includes(e.code)))throw e;if(K)return!1;if(h(e)&&1e3===e.code)return P>0;if(!k||$>=k||!b(e)||(null==_?void 0:_(e)))throw e;return M=!0}function F(e,t){let r=N(e),n=!1,i=!1,a=()=>{P--,n=!0};return(async()=>{for(P++;;)try{let[o,l,u]=await R();if(n)return l();let d=q.onMessage(r,e=>{switch(e.type){case p.Next:t.next(e.payload);return;case p.Error:i=!0,n=!0,t.error(e.payload),a();return;case p.Complete:n=!0,a();return}});o.send(s({id:r,type:p.Subscribe,payload:e},E)),a=()=>{n||o.readyState!==I.OPEN||o.send(s({id:r,type:p.Complete},E)),P--,n=!0,l()},await u.finally(d);return}catch(e){if(!D(e))return}})().then(()=>{i||t.complete()}).catch(e=>{t.error(e)}),()=>{n||a()}}return i||(async()=>{for(P++;;)try{let[,,e]=await R();await e}catch(e){try{if(!D(e))return}catch(e){return null==l?void 0:l(e)}}})(),{on:q.on,subscribe:F,iterate(e){let t=[],r={done:!1,error:null,resolve:()=>{}},n=F(e,{next(e){t.push(e),r.resolve()},error(e){r.done=!0,r.error=e,r.resolve()},complete(){r.done=!0,r.resolve()}}),i=function(){return f(this,arguments,function*(){for(;;){for(t.length||(yield c(new Promise(e=>r.resolve=e)));t.length;)yield yield c(t.shift());if(r.error)throw r.error;if(r.done)return yield c(void 0)}})}();return i.throw=async e=>(r.done||(r.done=!0,r.error=e,r.resolve()),{done:!0,value:void 0}),i.return=async()=>(n(),{done:!0,value:void 0}),i},async dispose(){if(K=!0,A){let[e]=await A;e.close(1e3,"Normal Closure")}},terminate(){A&&q.emit("closed",new v)}}}class v extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function h(e){return i(e)&&"code"in e&&"reason"in e}},79716:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});class n extends Error{}function i(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let i=!0===t.header?0:1,a=e.split(".")[i];if("string"!=typeof a)throw new n(`Invalid token specified: missing part #${i+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(a)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"}}]);