(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5608],{97895:function(){},52781:function(e,t,a){Promise.resolve().then(a.bind(a,55745))},55745:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eL}});var n=a(36164),s=a(3546),r=a(11978),l=a(83332),i=a(1853),o=a(40055),c=a(27257),d=a(98454),u=a(31159),m=a(4951),f=a(80605),h=a(17451),x=a(37266),p=a(70410),v=a(73492),g=a(57830),y=a(10603),j=a(68172),b=a(30601),N=a(61249),w=a(91302),M=a(31458),k=a(30220),I=a(81565);let Y="community-dialog-shown";function S(){let{status:e}=(0,w.kP)(),[t,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{"authenticated"!==e||localStorage.getItem(Y)||(a(!0),localStorage.setItem(Y,"true"))},[e]),(0,n.jsx)(k.Vq,{open:t,onOpenChange:a,children:(0,n.jsxs)(k.cZ,{children:[(0,n.jsxs)(k.fK,{className:"gap-3",children:[(0,n.jsx)(k.$N,{children:"Join the Tabby community"}),(0,n.jsx)(k.Be,{children:"Connect with other contributors building Tabby. Share knowledge, get help, and contribute to the open-source project."})]}),(0,n.jsx)(k.cN,{className:"sm:justify-start",children:(0,n.jsxs)("a",{target:"_blank",href:"https://links.tabbyml.com/join-slack-webserver",className:(0,M.d)(),children:[(0,n.jsx)(I.IconSlack,{className:"-ml-2 h-8 w-8"}),"Join us on Slack"]})})]})})}var D=a(30087),C=a(63743),P=a(52569),R=a(7449),T=a(84837);let Z={ease:"easeOut",duration:.1};function E(e){let{viewport:t,children:a,className:s,style:r,delay:l}=e;return(0,n.jsx)(T.E.div,{initial:"initial",whileInView:"onscreen",viewport:t,style:r,className:s,children:(0,n.jsx)(T.E.div,{variants:{initial:{opacity:0,y:30,transition:Z},onscreen:{opacity:1,y:0,transition:{...Z,delay:.2+(l||0)}}},children:a})})}var z=a(51044),O=a(28445),$=a(43240),_=a(97610);let q=s.createContext(null);function A(){let e=s.useContext(q);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let G=s.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:r,setApi:l,plugins:i,className:o,children:c,...d}=e,[u,m]=(0,_.Z)({...r,axis:"horizontal"===a?"x":"y"},i),[f,h]=s.useState(!1),[x,p]=s.useState(!1),g=s.useCallback(e=>{e&&(h(e.canScrollPrev()),p(e.canScrollNext()))},[]),y=s.useCallback(()=>{null==m||m.scrollPrev()},[m]),j=s.useCallback(()=>{null==m||m.scrollNext()},[m]),b=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),j())},[y,j]);return s.useEffect(()=>{m&&l&&l(m)},[m,l]),s.useEffect(()=>{if(m)return g(m),m.on("reInit",g),m.on("select",g),()=>{null==m||m.off("select",g)}},[m,g]),(0,n.jsx)(q.Provider,{value:{carouselRef:u,api:m,opts:r,orientation:a||((null==r?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:j,canScrollPrev:f,canScrollNext:x},children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:b,className:(0,v.cn)("relative",o),role:"region","aria-roledescription":"carousel",...d,children:c})})});G.displayName="Carousel";let U=s.forwardRef((e,t)=>{let{className:a,...s}=e,{carouselRef:r,orientation:l}=A();return(0,n.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,n.jsx)("div",{ref:t,className:(0,v.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",a),...s})})});U.displayName="CarouselContent";let L=s.forwardRef((e,t)=>{let{className:a,...s}=e,{orientation:r}=A();return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,v.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",a),...s})});L.displayName="CarouselItem";let V=s.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:r="icon",...l}=e,{orientation:i,scrollPrev:o,canScrollPrev:c}=A();return(0,n.jsxs)(M.z,{ref:t,variant:s,size:r,className:(0,v.cn)("absolute h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!c,onClick:o,...l,children:[(0,n.jsx)(I.IconChevronLeft,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});V.displayName="CarouselPrevious";let F=s.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:r="icon",...l}=e,{orientation:i,scrollNext:o,canScrollNext:c}=A();return(0,n.jsxs)(M.z,{ref:t,variant:s,size:r,className:(0,v.cn)("absolute h-8 w-8 rounded-full","horizontal"===i?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!c,onClick:o,...l,children:[(0,n.jsx)(I.IconChevronRight,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})});F.displayName="CarouselNext";let J=(0,$.BX)("\n  query readRepositoryRelatedQuestions($sourceId: String!) {\n    readRepositoryRelatedQuestions(sourceId: $sourceId)\n  }\n");function B(e){var t;let{sourceId:a,onClickQuestion:s}=e,[{data:r,operation:l}]=(0,o.aM)({query:J,variables:{sourceId:a},pause:!a}),i=null==l?void 0:null===(t=l.variables)||void 0===t?void 0:t.sourceId,c=null==r?void 0:r.readRepositoryRelatedQuestions,d=e=>{s(e,i)},u=!!c&&!!i&&i===a;return(0,n.jsx)(O.M,{children:u?(0,n.jsx)(T.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeOut",delay:.1},children:(0,n.jsxs)(G,{orientation:"vertical",opts:{align:"start",loop:!0},plugins:[(0,z.Z)({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"group mt-3 w-full",children:[(0,n.jsx)(U,{className:"h-14 pt-1.5",children:c.map((e,t)=>(0,n.jsx)(L,{children:(0,n.jsx)("div",{className:"mx-auto flex max-w-[80%] justify-center overflow-hidden p-1 text-sm",children:(0,n.jsx)("span",{className:"cursor-pointer truncate rounded-lg bg-muted px-4 py-1 transition-opacity hover:bg-muted/70",onClick:t=>d(e),children:e})})},"".concat(e,"_").concat(t)))}),(0,n.jsx)(V,{className:"absolute left-auto right-10 top-1 z-10 h-6 w-6 opacity-0 group-hover:opacity-100"}),(0,n.jsx)(F,{className:"absolute left-auto right-2 top-1 z-10 h-6 w-6 opacity-0 group-hover:opacity-100"})]})}):null})}var H=a(94755),K=a(99092),Q=a.n(K),X=a(72223),W=a(9010),ee=a(83692),et=a(36619),ea=a(35814),en=a(39018),es=a.n(en),er=a(60079),el=a(994),ei=a(37568),eo=a(16294),ec=a(82382),ed=a(85948),eu=a(79972);function em(e){let{active:t,payload:a}=e;if(t&&a&&a.length){let{value:e,views:t,name:s}=a[0].payload;return t?(0,n.jsx)(eu.Zb,{children:(0,n.jsxs)(eu.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,n.jsxs)("p",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-3 inline-block w-20",children:"Rate:"}),(0,n.jsxs)("b",{children:[e,"%"]})]}),(0,n.jsx)("p",{className:"text-muted-foreground",children:s})]})}):null}return null}function ef(e){let{active:t,payload:a,type:s}=e;if(t&&a&&a.length){let{views:e,selects:t,name:r}=a[0].payload;return e?(0,n.jsx)(eu.Zb,{children:(0,n.jsxs)(eu.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[("view"===s||"all"===s)&&(0,n.jsxs)("p",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-3 inline-block w-20",children:"Completions:"}),(0,n.jsx)("b",{children:e})]}),("accept"===s||"all"===s)&&(0,n.jsxs)("p",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-3 inline-block w-20",children:"Acceptances:"}),(0,n.jsx)("b",{children:t})]}),(0,n.jsx)("p",{className:"text-muted-foreground",children:r})]})}):null}return null}function eh(e){let{active:t,payload:a}=e;if(t&&a&&a.length){let{chats:e,name:t}=a[0].payload;return e?(0,n.jsx)(eu.Zb,{children:(0,n.jsxs)(eu.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,n.jsxs)("p",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-3 inline-block w-20",children:"Chats:"}),(0,n.jsx)("b",{children:e})]}),(0,n.jsx)("p",{className:"text-muted-foreground",children:t})]})}):null}return null}function ex(e){let{from:t,to:a,sample:s,userId:r}=e,{theme:l}=(0,W.X)(),{completionDailyStats:i,completionChartData:o}=(0,ee.z1)({dateRange:{from:t,to:a},sample:s,selectedMember:r}),{chatChartData:c,totalCount:d}=(0,ee.Jn)({dateRange:{from:t,to:a},sample:s,selectedMember:r}),u=(0,ea.Z)(null==o?void 0:o.map(e=>e.views)),m=(0,ea.Z)(null==i?void 0:i.map(e=>e.selects)),f=(0,et.Z)({start:t,end:a}),h={},x={};null==i||i.forEach(e=>{let t=Q()(e.start).format("YYYY-MM-DD");h[t]=h[t]||0,x[t]=x[t]||0,h[t]+=e.views,x[t]+=e.selects},{});let p=0===u?0:(m/u*100).toFixed(2),v=f.map(e=>{let t=Q()(e).format("YYYY-MM-DD"),a=h[t]||0,n=x[t]||0;return{name:Q()(e).format("MMMM D"),value:0===a?0:parseFloat((n/a*100).toFixed(2)),selects:n,views:a}}),g=f.map(e=>{let t=Q()(e).format("YYYY-MM-DD"),a=h[t]||0,n=x[t]||0,s=a-n;return{name:Q()(e).format("MMMM D"),views:a,selects:n,pending:0===a?.5:s,realPending:0===a?0:s,viewPlaceholder:0===a?.5:0,selectPlaceholder:0===n?.5:0}}),y=null==c?void 0:c.map(e=>({...e,chatsPlaceholder:0===e.chats?.5:0}));return(0,n.jsxs)("div",{className:"flex w-full flex-col items-center justify-center space-y-5 md:flex-row md:space-x-4 md:space-y-0 xl:justify-start",children:[(0,n.jsx)(E,{viewport:{amount:.1},delay:.15,className:"flex-1 self-stretch",children:(0,n.jsxs)(eu.Zb,{className:"flex flex-col justify-between self-stretch rounded-2xl bg-transparent pb-4",children:[(0,n.jsx)(eu.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,n.jsx)(eu.ll,{className:"text-base font-medium tracking-normal",children:"Acceptance Rate"})}),(0,n.jsx)(eu.aY,{className:"mb-1 px-4 py-0",children:(0,n.jsxs)("div",{className:"text-xl font-semibold",style:{fontFamily:"var(--font-montserrat)"},children:[p,"%"]})}),(0,n.jsx)(er.h,{width:"100%",height:68,children:(0,n.jsxs)(el.w,{data:v,margin:{top:10,right:20,left:15,bottom:5},children:[(0,n.jsx)(ei.x,{type:"monotone",dataKey:"value",stroke:"dark"===l?"#e8e1d3":"#54452c",strokeWidth:1.5}),(0,n.jsx)(eo.u,{cursor:{fill:"transparent"},content:(0,n.jsx)(em,{})})]})})]})}),(0,n.jsx)(E,{viewport:{amount:.1},delay:.2,className:"flex-1 self-stretch",children:(0,n.jsxs)(eu.Zb,{className:"flex flex-col justify-between self-stretch bg-transparent pb-4",children:[(0,n.jsx)(eu.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,n.jsx)(eu.ll,{className:"text-base font-medium tracking-normal",children:"Completions"})}),(0,n.jsx)(eu.aY,{className:"mb-1 px-4 py-0",children:(0,n.jsx)("div",{className:"text-xl font-semibold",style:{fontFamily:"var(--font-montserrat)"},children:es()(u).format("0,0")})}),(0,n.jsx)(er.h,{width:"100%",height:68,children:(0,n.jsxs)(ec.v,{data:g,margin:{top:0===u?30:5,right:15,left:15,bottom:0},children:[(0,n.jsx)(ed.$,{dataKey:"views",stackId:"stats",fill:"dark"===l?"#e8e1d3":"#54452c",radius:3}),(0,n.jsx)(ed.$,{dataKey:"viewPlaceholder",stackId:"stats",fill:"dark"===l?"#423929":"#e8e1d3",radius:3}),(0,n.jsx)(eo.u,{cursor:{fill:"transparent"},content:(0,n.jsx)(ef,{type:"view"})})]})})]})}),(0,n.jsx)(E,{viewport:{amount:.1},delay:.25,className:"flex-1 self-stretch",children:(0,n.jsxs)(eu.Zb,{className:"flex flex-col justify-between self-stretch bg-transparent pb-4",children:[(0,n.jsx)(eu.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,n.jsx)(eu.ll,{className:"text-base font-medium tracking-normal",children:"Chats"})}),(0,n.jsx)(eu.aY,{className:"mb-1 px-4 py-0",children:(0,n.jsx)("div",{className:"text-xl font-semibold",style:{fontFamily:"var(--font-montserrat)"},children:es()(d).format("0,0")})}),(0,n.jsx)(er.h,{width:"100%",height:68,children:(0,n.jsxs)(ec.v,{data:y,margin:{top:0===u?30:5,right:15,left:15,bottom:0},children:[(0,n.jsx)(ed.$,{dataKey:"chats",stackId:"stats",fill:"dark"===l?"#e8e1d3":"#54452c",radius:3}),(0,n.jsx)(ed.$,{dataKey:"chatsPlaceholder",stackId:"stats",fill:"dark"===l?"#423929":"#e8e1d3",radius:3}),(0,n.jsx)(eo.u,{cursor:{fill:"transparent"},content:(0,n.jsx)(eh,{})})]})})]})})]})}function ep(e){let{data:t}=e,{theme:a}=(0,W.X)(),s=(0,H.iP)(),r=s.width||0;return(0,n.jsx)("div",{className:"h-[152px]",children:(0,n.jsx)(X.ZP,{data:t,colorScheme:"dark"===a?"dark":"light",theme:{light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["rgb(45, 51, 59)","#0e4429","#006d32","#26a641","#39d353"]},blockSize:r>=968?12:11,hideTotalCount:!0,fontSize:12})})}function ev(){var e,t;let[{data:a}]=(0,d.P)(),s=(0,r.useSearchParams)(),l=(0,f.UA)(),i=l||"true"===s.get("sample"),{dailyData:o,totalCount:c}=(0,ee.hr)({selectedMember:null==a?void 0:null===(e=a.me)||void 0===e?void 0:e.id,sample:i});return(null==a?void 0:null===(t=a.me)||void 0===t?void 0:t.id)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{viewport:{amount:.1},style:{width:"100%"},delay:.1,children:(0,n.jsxs)("div",{className:"rounded-2xl border px-[1.125rem] py-4",children:[(0,n.jsxs)("div",{className:"mb-3 text-base",children:[(0,n.jsx)("span",{className:"mr-1 font-semibold",children:c}),"activities in the past year"]}),(0,n.jsx)(ep,{data:o})]})}),(0,n.jsx)(ex,{sample:i,from:Q()().subtract(6,"day").toDate(),to:Q()().toDate(),userId:null==a?void 0:a.me.id})]}):(0,n.jsx)(n.Fragment,{})}var eg=a(36758);let ey={threadsPageNo:1,myThreadsPageNo:1,threadsTab:"all"},ej=(0,c.Ue)()(()=>({...ey})),eb=ej.setState,eN=()=>eb(()=>({threadsPageNo:ey.threadsPageNo})),ew=e=>eb(()=>({threadsPageNo:e})),eM=e=>eb(()=>({myThreadsPageNo:e})),ek=()=>eb(()=>({myThreadsPageNo:ey.threadsPageNo})),eI=e=>eb(()=>({threadsTab:e}));var eY=a(50538),eS=a(6230),eD=a(79876),eC=a(49506),eP=a(70652),eR=a.n(eP),eT=a(54767),eZ=a(21808),eE=a(3448),ez=a(74787),eO=a(83171);let e$=(0,s.createContext)({});function e_(e){var t,a,r;let{data:l,onNavigateToThread:i}=e,c=l.node.userId,d=l.node.id,{sources:u,allUsers:m,fetchingSources:f}=(0,s.useContext)(e$),[{data:h,fetching:x}]=(0,o.aM)({query:p.r4,variables:{first:1,threadId:l.node.id}}),g=null==h?void 0:null===(t=h.threadMessages)||void 0===t?void 0:t.edges,y=(0,s.useMemo)(()=>(null==g?void 0:g.length)?(0,v.i8)(u||[],g[0].node.content):"",[g,u]),j=(0,s.useMemo)(()=>{let e=y.slice(0,eZ.$I);return(0,eT.Z)(e)},[y]),b=(0,s.useMemo)(()=>null==m?void 0:m.find(e=>e.id===l.node.userId),[m,c]);return(0,n.jsx)(eR(),{href:y?"/search/".concat(j,"-").concat(d):"/search/".concat(d),onClick:i,children:(0,n.jsxs)("div",{className:"transform-bg group flex-1 overflow-hidden rounded-lg px-3 py-2 hover:bg-accent",children:[(0,n.jsxs)("div",{className:"mb-1.5 flex items-center gap-2",children:[(0,n.jsx)(I.IconFiles,{className:"shrink-0"}),(0,n.jsx)(eS.Z,{loading:x||f,fallback:(0,n.jsx)("div",{className:"w-full py-1.5",children:(0,n.jsx)(eE.O,{className:"w-[60%]"})}),children:(0,n.jsx)(eO.fh,{className:"break-anywhere truncate text-lg font-medium",sources:u,message:(0,ez.HV)(null!==(r=null==g?void 0:null===(a=g[0])||void 0===a?void 0:a.node.content)&&void 0!==r?r:"")})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(P.Yt,{user:b,className:"mr-0.5 h-4 w-4 shrink-0"}),(0,n.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,n.jsx)("div",{className:"text-sm",children:(null==b?void 0:b.name)||(null==b?void 0:b.email)}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"\xb7"}),(0,n.jsx)("div",{className:"whitespace-nowrap text-xs text-muted-foreground",children:(0,v.sx)(l.node.createdAt,"Asked")})]})]})]})})}function eq(){var e,t,a;let{fetchingUsers:r,onNavigateToThread:l}=(0,s.useContext)(e$),i=ej(e=>e.threadsPageNo),[c,d]=(0,s.useState)(),[u,m]=(0,s.useState)(i),[{data:f,fetching:h}]=(0,o.aM)({query:p.XL,variables:{last:25,before:c,isEphemeral:!1}}),x=null==f?void 0:f.threads.pageInfo,g=null==f?void 0:null===(t=f.threads)||void 0===t?void 0:null===(e=t.edges)||void 0===e?void 0:e.length,y=Math.ceil((g||0)/25),j=y>1||1===y&&(null==x?void 0:x.hasPreviousPage),b=(0,eD.S)(g||0,u,25),N=(0,s.useMemo)(()=>{var e;let t=null==f?void 0:null===(e=f.threads)||void 0===e?void 0:e.edges;if(!(null==t?void 0:t.length))return[];if(h&&u>=2){let e=t.slice().reverse().slice((u-2)*25,(u-1)*25);return e||[]}return t.slice().reverse().slice((u-1)*25,25*u)},[null==f?void 0:null===(a=f.threads)||void 0===a?void 0:a.edges,u,h]),w=()=>{let e=null==x?void 0:x.startCursor;if(e&&(null==f?void 0:f.threads.edges.length)&&f.threads.edges.findIndex(t=>t.cursor===e)>-1)d(e);else{var t;d(null==f?void 0:null===(t=f.threads.edges[0])||void 0===t?void 0:t.cursor)}},M=!!(null==x?void 0:x.hasPreviousPage),k=h||!N.length||u>=y&&!(null==x?void 0:x.hasPreviousPage),Y=()=>{ew(u),l()};return(0,s.useEffect)(()=>{eN()},[]),(0,n.jsx)("div",{className:(0,v.cn)("w-full"),children:(0,n.jsx)(T.E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{ease:"easeOut",delay:.3},children:(0,n.jsx)(eS.Z,{loading:h||r,fallback:(0,n.jsx)("div",{className:"my-12 flex justify-center",children:(0,n.jsx)(I.IconSpinner,{className:"h-8 w-8"})}),delay:600,children:(0,n.jsxs)("div",{className:"relative flex flex-col gap-3 text-sm",children:[N.map(e=>(0,n.jsx)(e_,{data:e,onNavigateToThread:Y},e.node.id)),h&&(0,n.jsx)("div",{className:"absolute inset-0 bottom-10 z-10 flex items-center justify-center backdrop-blur-sm"}),j&&(0,n.jsx)(eC.tl,{className:(0,v.cn)("flex items-center justify-end"),children:(0,n.jsxs)(eC.ng,{children:[(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.dN,{disabled:1===u,onClick:()=>{if(1===u)return;let e=u-1;m(e)}})}),b.map((e,t)=>(0,n.jsx)(eC.nt,{onClick:()=>{"number"==typeof e&&m(e)},children:"number"==typeof e?(0,n.jsx)(eC.kN,{className:"cursor-pointer",isActive:e===u,children:e}):(0,n.jsx)(eC.Dj,{})},"".concat(e,"-").concat(t))),M&&(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.Dj,{})}),(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.$0,{disabled:k,onClick:()=>{if(k)return;let e=u+1;m(e),e>y&&w()}})})]})})]})})})})}function eA(){var e,t,a;let{fetchingUsers:r,onNavigateToThread:l}=(0,s.useContext)(e$),i=ej(e=>e.myThreadsPageNo),[c,d]=(0,s.useState)(),[u,m]=(0,s.useState)(i),[{data:f,fetching:h}]=(0,o.aM)({query:p.rm,variables:{last:25,before:c}}),x=null==f?void 0:f.myThreads.pageInfo,g=null==f?void 0:null===(t=f.myThreads)||void 0===t?void 0:null===(e=t.edges)||void 0===e?void 0:e.length,y=Math.ceil((g||0)/25),j=y>1||1===y&&(null==x?void 0:x.hasPreviousPage),b=(0,eD.S)(g||0,u,25),N=(0,s.useMemo)(()=>{var e;let t=null==f?void 0:null===(e=f.myThreads)||void 0===e?void 0:e.edges;if(!(null==t?void 0:t.length))return[];if(h&&u>=2){let e=t.slice().reverse().slice((u-2)*25,(u-1)*25);return e||[]}return t.slice().reverse().slice((u-1)*25,25*u)},[null==f?void 0:null===(a=f.myThreads)||void 0===a?void 0:a.edges,u,h]),w=()=>{let e=null==x?void 0:x.startCursor;if(e&&(null==f?void 0:f.myThreads.edges.length)&&f.myThreads.edges.findIndex(t=>t.cursor===e)>-1)d(e);else{var t;d(null==f?void 0:null===(t=f.myThreads.edges[0])||void 0===t?void 0:t.cursor)}},M=!!(null==x?void 0:x.hasPreviousPage),k=h||!N.length||u>=y&&!(null==x?void 0:x.hasPreviousPage),Y=()=>{eM(u),l()};return(0,s.useEffect)(()=>{ek()},[]),(0,n.jsx)("div",{className:(0,v.cn)("w-full"),children:(0,n.jsx)(T.E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{ease:"easeOut",delay:.3},children:(0,n.jsx)(eS.Z,{loading:h||r,fallback:(0,n.jsx)("div",{className:"my-12 flex justify-center",children:(0,n.jsx)(I.IconSpinner,{className:"h-8 w-8"})}),delay:600,children:(0,n.jsxs)("div",{className:"relative flex flex-col gap-3 text-sm",children:[N.map(e=>(0,n.jsx)(e_,{data:e,onNavigateToThread:Y},e.node.id)),h&&(0,n.jsx)("div",{className:"absolute inset-0 bottom-10 z-10 flex items-center justify-center backdrop-blur-sm"}),j&&(0,n.jsx)(eC.tl,{className:(0,v.cn)("flex items-center justify-end"),children:(0,n.jsxs)(eC.ng,{children:[(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.dN,{disabled:1===u,onClick:()=>{if(1===u)return;let e=u-1;m(e)}})}),b.map((e,t)=>(0,n.jsx)(eC.nt,{onClick:()=>{"number"==typeof e&&m(e)},children:"number"==typeof e?(0,n.jsx)(eC.kN,{className:"cursor-pointer",isActive:e===u,children:e}):(0,n.jsx)(eC.Dj,{})},"".concat(e,"-").concat(t))),M&&(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.Dj,{})}),(0,n.jsx)(eC.nt,{children:(0,n.jsx)(eC.$0,{disabled:k,onClick:()=>{if(k)return;let e=u+1;m(e),e>y&&w()}})})]})})]})})})})}function eG(e){var t,a;let{className:r,onNavigateToThread:l}=e,i=ej(e=>e.threadsTab),[c,d]=(0,eg.d)(),[{data:u,fetching:m}]=(0,o.aM)({query:p.Gx}),[{data:f,fetching:h}]=(0,o.aM)({query:p.XL,variables:{last:25,isEphemeral:!1,before:void 0}}),[{data:x,fetching:g}]=(0,o.aM)({query:p.rm,variables:{last:25,before:void 0}}),y=h||g||m||d,j=!!(null==f?void 0:null===(a=f.threads)||void 0===a?void 0:null===(t=a.edges)||void 0===t?void 0:t.length),b=!!(null==x?void 0:x.myThreads.edges.length);return((0,s.useEffect)(()=>{!y&&(j||b)&&(j||"all"!==i?b||"mine"!==i||eI("all"):eI("mine"))},[y,j,b,i]),j||b)?(0,n.jsx)(e$.Provider,{value:{allUsers:c,fetchingUsers:d,sources:null==u?void 0:u.contextInfo.sources,fetchingSources:m,onNavigateToThread:l},children:(0,n.jsx)("div",{className:(0,v.cn)("w-full",r),children:(0,n.jsx)(T.E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{ease:"easeOut",delay:.3},children:(0,n.jsx)(eS.Z,{loading:y,fallback:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(I.IconSpinner,{className:"h-8 w-8"})}),delay:600,children:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(eY.mQ,{value:i,onValueChange:e=>eI(e),children:[(0,n.jsx)("div",{className:"flex items-center justify-between pb-3",children:(0,n.jsxs)(eY.dr,{className:"w-full justify-start border-b bg-transparent p-0",children:[!!j&&(0,n.jsx)(eY.SP,{value:"all",className:"rounded-none border-b-2 border-b-transparent bg-transparent px-3 py-2 text-base font-medium shadow-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none",children:"Recent Activities"}),!!b&&(0,n.jsx)(eY.SP,{value:"mine",className:"rounded-none border-b-2 border-b-transparent bg-transparent px-3 py-2 text-base font-medium shadow-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none",children:"My Activities"})]})}),(0,n.jsx)(eY.nU,{value:"all",children:(0,n.jsx)(eq,{})}),(0,n.jsx)(eY.nU,{value:"mine",children:(0,n.jsx)(eA,{})})]})})})})})}):null}function eU(){let e=(0,s.useRef)(!1),t=(0,s.useRef)(null),[{data:a}]=(0,d.P)(),w=(0,f.vN)(),M=(0,f.xG)(),[k]=(0,b.Hb)(),I=(0,s.useRef)(null),Y=(0,r.useRouter)(),[S,T]=(0,s.useState)(!1),[{data:Z,fetching:z}]=(0,o.aM)({query:p.Gx}),O=(0,c.oR)(x.CR,e=>e.homePage),{selectedModel:$,isFetchingModels:_,models:q}=(0,u.Vq)(),{selectedRepository:A,isFetchingRepositories:G,onSelectRepository:U}=(0,m.Q)(),L=!!(null==a?void 0:a.me)||!w;(0,s.useEffect)(()=>{Y.prefetch("/search")},[Y]),(0,s.useLayoutEffect)(()=>{e.current||(O&&setTimeout(()=>{var e;null===(e=t.current)||void 0===e||e.scrollTo({top:Number(O)}),(0,x.wh)()}),e.current=!0)},[]);let V=k?{height:"calc(100vh - ".concat(b.wt,")")}:{height:"100vh"};return(0,n.jsxs)(g.ScrollArea,{style:V,ref:t,children:[(0,n.jsx)("header",{className:"transition-top fixed right-0 z-10 flex h-16 items-center justify-end px-4 lg:px-10",style:{top:k?b.wt:0},children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(j.q,{children:(0,n.jsx)(C.T,{})}),(0,n.jsx)(N.L,{className:"mr-4"}),(0,n.jsx)(R.Z,{showHome:!1,showSetting:!0,children:(0,n.jsx)(P.SQ,{className:"h-10 w-10 border"})})]})}),L&&(0,n.jsx)("main",{className:"flex-col items-center justify-center pb-4 pt-16 lg:flex",ref:I,children:(0,n.jsxs)("div",{className:"mx-auto flex w-full flex-col items-center gap-6 px-10 lg:-mt-[2vh] lg:max-w-4xl lg:px-0",children:[(0,n.jsx)(E,{viewport:{amount:.1},children:(0,n.jsx)(y.Q,{width:192,defaultLogoUrl:l.Z.src,className:(0,v.cn)("mt-4",{"mb-4":M,"mb-2":!M}),classNames:{defaultLogo:"invert dark:invert-0"}})}),M&&(0,n.jsxs)(E,{viewport:{amount:.1},style:{width:"100%"},delay:.05,children:[(0,n.jsx)(D.Z,{onSearch:(e,t)=>{var a;T(!0),(0,h.UP)({content:e,context:{...t,codeSourceId:null==A?void 0:A.id,docSourceIds:(0,i.Z)([null==A?void 0:A.id,...null!==(a=null==t?void 0:t.docSourceIds)&&void 0!==a?a:[]])}}),Y.push("/search")},showBetaBadge:!0,autoFocus:!0,loadingWithSpinning:!0,isLoading:S,cleanAfterSearch:!1,contextInfo:null==Z?void 0:Z.contextInfo,fetchingContextInfo:z,modelName:$,onSelectModel:e=>{(0,h.Eg)(e)},repoSourceId:null==A?void 0:A.sourceId,onSelectRepo:U,isInitializingResources:_||G,models:q}),(0,n.jsx)(B,{sourceId:null==A?void 0:A.sourceId,onClickQuestion:(e,t)=>{(0,h.xt)(t),(0,h.UP)({content:e,context:{docSourceIds:[t],codeSourceId:t,modelName:$}}),Y.push("/search")}})]}),(0,n.jsx)(ev,{}),(0,n.jsx)(eG,{className:"lg:mt-6",onNavigateToThread:()=>{t.current&&(0,x.F0)(t.current.scrollTop)}})]})})]})}function eL(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(eU,{}),(0,n.jsx)(S,{})]})}},74787:function(e,t,a){"use strict";a.d(t,{GV:function(){return p},Gn:function(){return c},HV:function(){return u},K:function(){return x},U7:function(){return h},_t:function(){return f},db:function(){return m},xe:function(){return d}});var n=a(36164),s=a(31745),r=a(89502),l=a(74038),i=a(73492),o=a(81565);function c(e){let t=(0,i.eo)(e.filepath).filepath,a={fileItem:e,name:(0,i.UA)(t),filepath:t,category:"file",icon:(0,n.jsx)(o.IconFile,{})};try{return{id:JSON.stringify(e.filepath),...a}}catch(e){return{id:(0,i.x0)(),...a}}}function d(e){let t=(0,i.eo)(e.filepath).filepath;return{category:"symbol",id:e.label,name:e.label,filepath:t,fileItem:e,icon:(0,n.jsx)(s.Z,{className:"h-4 w-4"})}}function u(e){let t,a=e;for(;null!==(t=l.My.exec(e));)try{let e=t[1],n=JSON.parse(e),s=m(n),r=(0,i.UA)(s);a=a.replace(t[0],"@".concat(r))}catch(e){continue}for(;null!==(t=l.nk.exec(e));)try{let e=t[1],n=JSON.parse(e),s=n.label||"";a=a.replace(t[0],"@".concat(s))}catch(e){continue}return a}function m(e){return"filepath"in e?e.filepath:e.uri}function f(e,t){let a;let n=[],s=0,r=/\[\[(file|contextCommand|symbol|source):(.+?)\]\]/g;for(;null!==(a=r.exec(e));){let[r,l,o]=a,c=a.index;c>s&&n.push({type:"text",text:e.slice(s,c)});try{switch(l){case"file":{let e=JSON.parse(o),t=(0,i.UA)("uri"in e?e.uri:e.filepath);n.push({type:"mention",attrs:{category:"file",fileItem:{filepath:e},label:t}});break}case"symbol":{let e=JSON.parse(o),t=e.label||"";n.push({type:"mention",attrs:{category:"symbol",fileItem:e,label:t}});break}case"contextCommand":o&&o.trim()&&n.push({type:"mention",attrs:{category:"command",command:o.trim(),label:o.trim()}});break;case"source":{let e=t.find(e=>e.sourceId===o);e&&n.push({type:"text",text:e.sourceName})}}}catch(e){}s=c+r.length}return s<e.length&&n.push({type:"text",text:e.slice(s)}),n}function h(e){let t=[];return e.state.doc.descendants(e=>{"mention"===e.type.name&&t.push(e.attrs)}),t}function x(e){return{id:e.id,name:e.name,category:"command",command:e.command,description:e.description,icon:(0,n.jsx)(r.Z,{className:"h-4 w-4"})}}function p(){return{id:"changes",name:"changes",command:"changes",description:"Adding git diff changes into context"}}},83171:function(e,t,a){"use strict";a.d(t,{fh:function(){return x},pf:function(){return m},t:function(){return f}});var n=a(36164),s=a(3546),r=a(2435),l=a(74038),i=a(18500),o=a(73492),c=a(66790),d=a(81565),u=a(74787);function m(e){let{kind:t,label:a,className:s}=e;return(0,n.jsxs)(r.T5,{as:"span",className:(0,o.cn)("source-mention rounded-sm px-1",s),children:[(0,n.jsx)(h,{kind:t,className:"self-center"}),(0,n.jsx)("span",{className:"whitespace-nowrap",children:a})]})}function f(e){let{kind:t,label:a,id:s}=e.node.attrs;return(0,n.jsx)(m,{kind:t,label:a,id:s})}function h(e){let{kind:t,...a}=e;switch(t){case i.ri.Doc:return(0,n.jsx)(d.IconEmojiBook,{...a});case i.ri.Web:return(0,n.jsx)(d.IconEmojiGlobe,{...a});case i.ri.Git:return(0,n.jsx)(d.IconCode,{...a});case i.ri.Github:return(0,n.jsx)(d.IconGitHub,{...a});case i.ri.Gitlab:return(0,n.jsx)(d.IconGitLab,{...a});case i.ri.Ingested:return(0,n.jsx)(d.IconFolderUp,{...a});default:return null}}function x(e){let{message:t,sources:a,className:r}=e,i=(0,s.useMemo)(()=>{if(!t)return null;let e=(0,c.Tu)(t),r=e.split(l.zf).map((e,t)=>{if(t%2==1){let s=e.replace(/\\/g,""),r=null==a?void 0:a.find(e=>e.sourceId===s);return r?(0,n.jsx)(m,{id:r.sourceId,kind:r.sourceKind,label:r.sourceName,className:"rounded-md border border-[#b3ada0] border-opacity-30 bg-[#e8e1d3] py-[1px] text-sm dark:bg-[#333333]"},"source-".concat(t)):null}return e}),i=r.map((e,t)=>{if(!e||s.isValidElement(e))return e;let a=e;return(a=(a=a.replace(l.Bt,(e,t)=>{try{if(t.startsWith("{")&&t.endsWith("}")){let e=JSON.parse(t),a=(0,u.db)(e),n=(0,o.UA)(a);return"@".concat(n)}return t}catch(t){return e}})).replace(l.vY,(e,t)=>{try{if(t.startsWith("{")&&t.endsWith("}")){let e=JSON.parse(t);if(e.label)return"@".concat(e.label);let a=(0,u.db)(e.filepath),n=(0,o.UA)(a),s=e.range?":".concat(e.range.start,"-").concat(e.range.end):"";return"@".concat(n).concat(s)}return t}catch(t){return e}})).replace(l.qv,(e,t)=>"@".concat(t.replace(/"/g,"")))});return i},[a,t]);return(0,n.jsx)("div",{className:(0,o.cn)(r),children:i})}},37034:function(e,t,a){"use strict";a.d(t,{k:function(){return l}});var n=a(36164),s=a(18500),r=a(81565);function l(e){let{kind:t,gitIcon:a,...l}=e;switch(t){case s.ri.Doc:return(0,n.jsx)(r.IconEmojiBook,{...l});case s.ri.Web:return(0,n.jsx)(r.IconEmojiGlobe,{...l});case s.ri.Github:return(0,n.jsx)(r.IconGitHub,{...l});case s.ri.Gitlab:return(0,n.jsx)(r.IconGitLab,{...l});case s.ri.Git:return a||(0,n.jsx)(r.IconCode,{...l});default:return null}}},36065:function(e,t,a){"use strict";a.d(t,{di:function(){return h},e8:function(){return d},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return c},zz:function(){return f}});var n=a(36164),s=a(3546),r=a(53241),l=a(93170),i=a(73492);a(30220);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.mY,{ref:t,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...s})});o.displayName=r.mY.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(l.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(r.mY.Input,{ref:t,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...s})]})});c.displayName=r.mY.Input.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.mY.List,{ref:t,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...s})});d.displayName=r.mY.List.displayName;let u=s.forwardRef((e,t)=>(0,n.jsx)(r.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=r.mY.Empty.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.mY.Group,{ref:t,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...s})});m.displayName=r.mY.Group.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.mY.Separator,{ref:t,className:(0,i.cn)("-mx-1 h-px bg-border",a),...s})});f.displayName=r.mY.Separator.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.mY.Item,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",a),...s})});h.displayName=r.mY.Item.displayName},30220:function(e,t,a){"use strict";a.d(t,{$N:function(){return x},Be:function(){return p},Vq:function(){return o},cN:function(){return h},cZ:function(){return m},fK:function(){return f},hg:function(){return c}});var n=a(36164),s=a(3546),r=a(4318),l=a(1663),i=a(73492);let o=r.fC,c=r.xz,d=r.h_;r.x8;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=r.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,n.jsxs)(d,{children:[(0,n.jsx)(u,{}),(0,n.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,n.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(l.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});x.displayName=r.Dx.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});p.displayName=r.dk.displayName},49506:function(e,t,a){"use strict";a.d(t,{$0:function(){return f},Dj:function(){return h},dN:function(){return m},kN:function(){return u},ng:function(){return c},nt:function(){return d},tl:function(){return o}});var n=a(36164),s=a(3546),r=a(73492),l=a(31458),i=a(81565);let o=e=>{let{className:t,...a}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,r.cn)("mx-auto flex w-full justify-center",t),...a})};o.displayName="Pagination";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("ul",{ref:t,className:(0,r.cn)("flex flex-row items-center gap-1",a),...s})});c.displayName="PaginationContent";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("li",{ref:t,className:(0,r.cn)("",a),...s})});d.displayName="PaginationItem";let u=e=>{let{className:t,isActive:a,size:s="icon",...i}=e;return(0,n.jsx)("a",{"aria-current":a?"page":void 0,className:(0,r.cn)("select-none",(0,l.d)({variant:a?"outline":"ghost",size:s}),t),...i})};u.displayName="PaginationLink";let m=e=>{let{className:t,disabled:a,...s}=e;return(0,n.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,r.cn)("cursor-pointer select-none gap-1 pl-2.5",a&&"cursor-not-allowed text-muted-foreground",t),...s,children:[(0,n.jsx)(i.IconChevronLeft,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Previous"})]})};m.displayName="PaginationPrevious";let f=e=>{let{className:t,disabled:a,...s}=e;return(0,n.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,r.cn)("cursor-pointer select-none gap-1 pr-2.5",a&&"cursor-not-allowed text-muted-foreground",t),...s,children:[(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(i.IconChevronRight,{className:"h-4 w-4"})]})};f.displayName="PaginationNext";let h=e=>{let{className:t,...a}=e;return(0,n.jsxs)("span",{"aria-hidden":!0,className:(0,r.cn)("flex h-9 w-9 items-center justify-center",t),...a,children:[(0,n.jsx)(i.IconMore,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"More pages"})]})};h.displayName="PaginationEllipsis"},84942:function(e,t,a){"use strict";a.d(t,{J2:function(){return i},xo:function(){return o},yk:function(){return c}});var n=a(36164),s=a(3546),r=a(83299),l=a(73492);let i=r.fC,o=r.xz;r.x8,r.h_,r.ee;let c=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,n.jsx)(r.VY,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});c.displayName=r.VY.displayName},21808:function(e,t,a){"use strict";a.d(t,{$6:function(){return r},$I:function(){return l},GI:function(){return d},L8:function(){return s},ir:function(){return i},ki:function(){return c},o0:function(){return n},rZ:function(){return o}});let n="name@yourcompany.com",s=20,r={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},l=48,i="NOT_FOUND",o="\n",c=["think"],d=[]},36758:function(e,t,a){"use strict";a.d(t,{d:function(){return l}});var n=a(3546),s=a(40055),r=a(70410);function l(){let[{data:e,fetching:t,error:a}]=(0,s.aM)({query:r.TH}),l=(0,n.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.users.edges.map(e=>e.node))&&void 0!==t?t:[]},[null==e?void 0:e.users]);return[l,t,a]}},83692:function(e,t,a){"use strict";a.d(t,{Jn:function(){return g},hr:function(){return j},z1:function(){return y}});var n=a(3546),s=a(36619),r=a(1853),l=a(35814),i=a(99092),o=a.n(i),c=a(42390),d=a.n(c),u=a(40055),m=a(43240),f=a(18500);let h=(0,m.BX)("\n  query DailyStatsInPastYear($users: [ID!]) {\n    dailyStatsInPastYear(users: $users) {\n      __typename\n      start\n      end\n      completions\n      selects\n      views\n    }\n  }\n"),x=(0,m.BX)("\n  query ChatDailyStats($start: DateTime!, $end: DateTime!, $users: [ID!]) {\n    chatDailyStats(start: $start, end: $end, users: $users) {\n      start\n      end\n      chats\n    }\n  }\n"),p=(0,m.BX)("\n  query chatDailyStatsInPastYear($users: [ID!]) {\n    chatDailyStatsInPastYear(users: $users) {\n      __typename\n      start\n      end\n      chats\n    }\n  }\n"),v=(0,m.BX)("\n  query DailyStats(\n    $start: DateTime!\n    $end: DateTime!\n    $users: [ID!]\n    $languages: [Language!]\n  ) {\n    dailyStats(start: $start, end: $end, users: $users, languages: $languages) {\n      start\n      end\n      completions\n      selects\n      views\n      language\n    }\n  }\n");function g(e){let{dateRange:t,selectedMember:a,sample:i}=e,c=t.from||new Date,m=t.to||c,[{data:f,fetching:h}]=(0,u.aM)({query:x,variables:{start:o()(t.from).startOf("day").utc().format(),end:o()(t.to).endOf("day").utc().format(),users:"all"===a?void 0:(0,r.Z)([a])},pause:!a}),p=(0,n.useMemo)(()=>{if(!i)return null==f?void 0:f.chatDailyStats;{let e=(0,s.Z)({start:c,end:m});return e.map(e=>{let t=d()(o()(e).format("YYYY-MM-DD")+a+"chats"),n=Math.ceil(Math.ceil(50*t()));return{start:o()(e).utc().format(),end:o()(e).add(1,"day").utc().format(),chats:n}})}},[f,i]),v=(0,l.Z)(null==p?void 0:p.map(e=>e.chats)),g={};null==p||p.forEach(e=>{let t=o()(e.start).format("YYYY-MM-DD");g[t]=g[t]||0,g[t]+=e.chats},{});let y=(0,s.Z)({start:t.from,end:t.to}),j=y.map(e=>{let t=o()(e).format("YYYY-MM-DD"),a=g[t]||0;return{name:o()(e).format("MMMM D"),chats:a}});return{chatDailyStats:p,totalCount:v,chatChartData:j,fetchingChatDailyStats:h}}function y(e){let{dateRange:t,selectedMember:a,sample:l,languages:i}=e,[{data:c,fetching:m}]=(0,u.aM)({query:v,variables:{start:o()(t.from).startOf("day").utc().format(),end:o()(t.to).endOf("day").utc().format(),users:"all"===a?void 0:(0,r.Z)([a]),languages:i}}),h=(0,n.useMemo)(()=>{let e;if(l){let n=(0,s.Z)({start:t.from,end:t.to||t.from});e=n.map(e=>{let t=[f.SQ.Typescript,f.SQ.Python,f.SQ.Rust],n=d()(o()(e).format("YYYY-MM-DD")+a+t),s=Math.ceil(20*n()),r=Math.ceil(s/.35);return{start:o()(e).utc().format(),end:o()(e).add(1,"day").utc().format(),completions:r,selects:s,views:r,language:t[s%t.length]}})}else e=null==c?void 0:c.dailyStats;return null==e?void 0:e.filter(e=>null==i||!i.length||i.includes(e.language))},[l,i,c]),x=t.from||new Date,p=t.to||x,g={},y={};null==h||h.forEach(e=>{let t=o()(e.start).format("YYYY-MM-DD");g[t]=g[t]||0,y[t]=y[t]||0,g[t]+=e.views,y[t]+=e.selects},{});let j=(0,s.Z)({start:x,end:p}),b=j.map(e=>{let t=o()(e).format("YYYY-MM-DD"),a=g[t]||0,n=y[t]||0;return{name:o()(e).format("MMMM D"),views:a,selects:n,pendings:a-n}});return{completionChartData:b,completionDailyStats:h,fetchingCompletionDailyStats:m}}function j(e){let t,{selectedMember:a,sample:n}=e,[{data:r,fetching:l}]=(0,u.aM)({query:p,variables:{users:"all"===a?void 0:a},pause:!a}),[{data:i,fetching:c}]=(0,u.aM)({query:h,variables:{users:"all"===a?void 0:a},pause:!a});if(n){let e=(0,s.Z)({start:o()().toDate(),end:o()().subtract(365,"days").toDate()});t=e.map(e=>{let t=d()(o()(e).format("YYYY-MM-DD")+a),n=Math.ceil(20*t()),s=n+Math.floor(10*t());return{__typename:"CompletionStats",start:o()(e).format("YYYY-MM-DD[T]HH:mm:ss[Z]"),end:o()(e).add(1,"day").format("YYYY-MM-DD[T]HH:mm:ss[Z]"),completions:s,selects:n,views:s}})}else t=[...(null==i?void 0:i.dailyStatsInPastYear)||[],...(null==r?void 0:r.chatDailyStatsInPastYear)||[]];let m=0,f=(null==t?void 0:t.reduce((e,t)=>{var a,n;let s=o().utc(t.start).format("YYYY-MM-DD");return"CompletionStats"===t.__typename?(m+=t.views+t.selects,{...e,[s]:(null!==(a=e[s])&&void 0!==a?a:0)+t.views}):"ChatCompletionStats"===t.__typename?(m+=t.chats,{...e,[s]:(null!==(n=e[s])&&void 0!==n?n:0)+t.chats}):e},{}))||{},x=Array(365).fill("").map((e,t)=>{let a=o()().subtract(t,"days").format("YYYY-MM-DD"),n=f[a]||0;return{date:a,count:n,level:Math.min(4,Math.ceil(n/5))}}).reverse();return{yearlyStats:t,dailyData:x,totalCount:m,fetching:l||c}}},17451:function(e,t,a){"use strict";a.d(t,{Eg:function(){return d},UP:function(){return f},aK:function(){return o},qs:function(){return m},xt:function(){return u}});var n=a(27257),s=a(85654),r=a(73492);let l=["activeChatId","pendingUserMessage"],i={activeChatId:(0,r.x0)(),selectedModel:void 0,selectedRepoSourceId:void 0,enableActiveSelection:!0,pendingUserMessage:void 0},o=(0,n.Ue)()((0,s.tJ)(()=>({...i}),{name:"tabby-chat-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!l.includes(t)})),version:1})),c=o.setState,d=e=>{c(()=>({selectedModel:e}))},u=e=>{c(()=>({selectedRepoSourceId:e}))},m=e=>{c(()=>({enableActiveSelection:e}))},f=e=>{c(()=>({pendingUserMessage:e}))}},79876:function(e,t,a){"use strict";a.d(t,{S:function(){return s}});let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Array.from({length:e},(e,a)=>a+t)},s=(e,t,a)=>{let s=Math.ceil(e/a);return s<=5?n(s):t<=3?[1,2,3,4,"...",s]:t<s-2?[1,"...",t-1,t,t+1,"...",s]:[1,"...",...n(4,s-3)]}}},function(e){e.O(0,[7565,8415,4648,6527,4691,55,436,340,9906,4007,1283,3087,2429,8511,1454,4421,1002,6805,4546,6065,9275,5605,7003,6962,5723,9860,9604,265,3492,1565,410,6978,7043,8708,3375,5289,1744],function(){return e(e.s=52781)}),_N_E=e.O()}]);