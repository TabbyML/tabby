(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{53298:function(e,n,a){Promise.resolve().then(a.bind(a,93079))},93079:function(e,n,a){"use strict";a.r(n),a.d(n,{Header:function(){return j}});var t=a(57437),r=a(2265),s=a(61396),i=a.n(s),l=a(73737),c=a(91067),o=a(70349),d=a(13287),u=a(1589),h=a(8724),m=a(88809),p=a(39311),f=a(93023),v=a(84168),b=a(6435);function x(){let{setTheme:e,theme:n}=(0,b.F)(),[a,s]=r.useTransition();return(0,t.jsxs)(f.z,{variant:"ghost",size:"icon",onClick:()=>{s(()=>{e("light"===n?"dark":"light")})},children:["dark"===n?(0,t.jsx)(v.C9,{className:"transition-all"}):(0,t.jsx)(v.O3,{className:"transition-all"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function j(){var e;(0,m.av)();let{data:n}=(0,d.Q)(),a=(0,h.s)(),r=(0,c.Z)(a,o.xj.Chat),s=null==n?void 0:null===(e=n.version)||void 0===e?void 0:e.git_describe,{data:b}=(0,u.Z)("https://api.github.com/repos/TabbyML/tabby/releases/latest",e=>fetch(e).then(e=>e.json())),j=function(e,n){try{return e&&n&&(0,l.q)(n.name,e,">")}catch(e){return console.warn(e),!0}}(s,b);return(0,t.jsxs)("header",{className:"sticky top-0 z-50 flex h-16 w-full shrink-0 items-center justify-between border-b bg-gradient-to-b from-background/10 via-background/50 to-background/80 px-4 backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x,{}),(0,t.jsx)(i(),{href:"/",className:(0,p.cn)((0,f.d)({variant:"link"})),children:"Dashboard"}),(0,t.jsx)(i(),{href:"/api",className:(0,p.cn)((0,f.d)({variant:"link"})),children:"API"}),r&&(0,t.jsx)(i(),{href:"/playground",className:(0,p.cn)((0,f.d)({variant:"link"})),children:"Playground"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[j&&(0,t.jsxs)("a",{target:"_blank",href:"https://github.com/TabbyML/tabby/releases/latest",rel:"noopener noreferrer",className:(0,f.d)({variant:"ghost"}),children:[(0,t.jsx)(v.Qs,{className:"text-yellow-600 dark:text-yellow-400"}),(0,t.jsxs)("span",{className:"ml-2 hidden md:flex",children:["New version (",null==b?void 0:b.name,") available"]})]}),(0,t.jsxs)("a",{target:"_blank",href:"https://github.com/TabbyML/tabby",rel:"noopener noreferrer",className:(0,p.cn)((0,f.d)({variant:"outline"})),children:[(0,t.jsx)(v.Mr,{}),(0,t.jsx)("span",{className:"ml-2 hidden md:flex",children:"GitHub"})]})]})]})}},13287:function(e,n,a){"use strict";a.d(n,{Q:function(){return i}});var t=a(30713),r=a(1592),s=a(88809);function i(){return(0,t.ZP)((0,s.X0)("/v1/health"),r.Z)}},8724:function(e,n,a){"use strict";a.d(n,{s:function(){return f}});var t=a(2265),r=a(16630),s=a(91317),i=a(35512),l=a(58835),c=a(70349),o=a(7820),d=a(13287),u=a(39311);let h={[c.xj.Chat]:"chat_model",[c.xj.Completion]:"model"};function m(e,n){var a;return{kind:n,device:e.device,addr:"localhost",arch:"",cpuInfo:e.cpu_info,name:null!==(a=null==e?void 0:e[h[n]])&&void 0!==a?a:"",cpuCount:e.cpu_count,accelerators:e.accelerators.map(e=>({uuid:e.uuid,chipName:e.chip_name,displayName:e.display_name,deviceType:u.uY[e.device_type]}))}}let p=(0,l.BX)("\n  query GetWorkers {\n    workers {\n      kind\n      name\n      addr\n      device\n      arch\n      cpuInfo\n      cpuCount\n      accelerators {\n          uuid\n          chipName\n          displayName\n          deviceType\n      }\n    }\n  }\n");function f(){let{data:e}=(0,d.Q)(),{data:n}=(0,o.J9)(p),a=null==n?void 0:n.workers,l=t.useMemo(()=>{let n=(0,i.Z)(a),t=(0,r.Z)(n,{kind:c.xj.Completion})>-1,l=(0,r.Z)(n,{kind:c.xj.Chat})>-1;return!t&&(null==e?void 0:e.model)&&n.push(m(e,c.xj.Completion)),!l&&(null==e?void 0:e.chat_model)&&n.push(m(e,c.xj.Chat)),(0,s.Z)(n,"kind")},[e,a]);return l}},1592:function(e,n,a){"use strict";function t(e){let[n,a]=e,t=new Headers;return t.append("authorization","Bearer ".concat(a)),fetch(n,{headers:t}).then(e=>e.json())}a.d(n,{Z:function(){return t}})}},function(e){e.O(0,[320,948,505,787,894,971,864,744],function(){return e(e.s=53298)}),_N_E=e.O()}]);