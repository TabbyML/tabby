(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1908],{25350:function(e,n,r){Promise.resolve().then(r.bind(r,99304))},99304:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return b}});var t=r(57437),s=r(2265),a=r(24033),i=r(86806),l=r(99109),o=r(57166),d=r(39311),c=r(84168),u=r(34522);let f=u.fC,x=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(u.aV,{ref:n,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});x.displayName=u.aV.displayName;let m=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(u.xz,{ref:n,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});m.displayName=u.xz.displayName;let v=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(u.VY,{ref:n,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});v.displayName=u.VY.displayName;var g=r(93111),h=r(1576);function b(){var e,n,r,i,d;let u=(0,a.useSearchParams)(),b=u.get("id"),[{data:p,error:N,fetching:y},w]=(0,l.aM)({query:o.GG,variables:{ids:[b]},pause:!b}),C=null==p?void 0:null===(n=p.jobRuns)||void 0===n?void 0:null===(e=n.edges)||void 0===e?void 0:e.slice(0,1),$=null==p?void 0:null===(d=p.jobRuns)||void 0===d?void 0:null===(i=d.edges)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.node;return s.useEffect(()=>{let e;return(null==$?void 0:$.createdAt)&&!(null==$?void 0:$.finishedAt)&&(e=window.setTimeout(()=>{w()},5e3)),()=>{e&&clearInterval(e)}},[$]),(0,t.jsx)(t.Fragment,{children:y?(0,t.jsx)(g.c,{}):(0,t.jsxs)("div",{className:"flex flex-1 flex-col items-stretch gap-2",children:[(0,t.jsx)(h.B,{jobs:null==C?void 0:C.slice(0,1),shouldRedirect:!1}),(0,t.jsxs)(f,{defaultValue:"stdout",className:"flex flex-1 flex-col",children:[(0,t.jsxs)(x,{className:"grid w-[400px] grid-cols-2",children:[(0,t.jsxs)(m,{value:"stdout",children:[(0,t.jsx)(c.IconTerminalSquare,{className:"mr-1"}),"stdout"]}),(0,t.jsxs)(m,{value:"stderr",children:[(0,t.jsx)(c.IconAlertTriangle,{className:"mr-1"}),"stderr"]})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsx)(v,{value:"stdout",children:(0,t.jsx)(j,{value:null==$?void 0:$.stdout})}),(0,t.jsx)(v,{value:"stderr",children:(0,t.jsx)(j,{value:null==$?void 0:$.stderr})})]})]})]})})}function j(e){let{children:n,className:r,value:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("mt-2 h-[66vh] w-full overflow-y-auto overflow-x-hidden rounded-lg border bg-gray-50 font-mono text-[0.9rem] dark:bg-gray-800",r),...a,children:s?(0,t.jsx)("pre",{className:"whitespace-pre-wrap p-4",children:(0,t.jsx)(i.Z,{children:s})}):(0,t.jsx)("div",{className:"p-4",children:"No Data"})})}},1576:function(e,n,r){"use strict";r.d(n,{B:function(){return f}});var t=r(57437);r(2265);var s=r(24033),a=r(24144),i=r(62067),l=r.n(i),o=r(39311),d=r(29155),c=r(84168),u=r(32553);let f=e=>{let{jobs:n,shouldRedirect:r=!0}=e,i=(0,s.useRouter)();return(0,t.jsxs)(u.iA,{children:[(0,t.jsx)(u.xD,{children:(0,t.jsxs)(u.SC,{children:[(0,t.jsx)(u.ss,{className:"w-[200px]",children:"Start Time"}),(0,t.jsx)(u.ss,{className:"w-[100px]",children:"Duration"}),(0,t.jsx)(u.ss,{className:"w-[100px]",children:"Job"}),(0,t.jsx)(u.ss,{className:"w-[100px] text-center",children:"Status"})]})}),(0,t.jsx)(u.RM,{children:(null==n?void 0:n.length)?(0,t.jsx)(t.Fragment,{children:null==n?void 0:n.map(e=>{var n;return(0,t.jsxs)(u.SC,{className:(0,o.cn)(r&&"cursor-pointer"),onClick:n=>{r&&i.push("/jobs/detail?id=".concat(e.node.id))},children:[(0,t.jsx)(u.pj,{children:l()(e.node.createdAt).format("MMMM D, YYYY h:mm a")}),(0,t.jsx)(u.pj,{children:(0,a.Z)(null===(n=e.node)||void 0===n?void 0:n.exitCode)?"Running":function(e){let{createdAt:n,finishedAt:r}=e;if(n&&r)return function(e){let n=e.hours(),r=e.minutes(),t=e.seconds(),s="";return n>0&&(s+="".concat(n,"h")),r>0&&(s.length>0&&(s+=" "),s+="".concat(r,"min")),t>0&&(s.length>0&&(s+=" "),s+="".concat(t,"s")),s}(l().duration(l()(r).diff(n)))}(e.node)}),(0,t.jsx)(u.pj,{children:(0,t.jsx)(d.C,{variant:"secondary",children:e.node.job})}),(0,t.jsx)(u.pj,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(x,{node:e})})})]},e.node.id)})}):(0,t.jsx)(u.SC,{children:(0,t.jsx)(u.pj,{colSpan:r?4:3,className:"h-[100px] text-center",children:"No Data"})})})]})};function x(e){var n;let{node:r}=e;if(!r)return null;let s=null==r?void 0:null===(n=r.node)||void 0===n?void 0:n.exitCode;return(0,a.Z)(s)?(0,t.jsx)(c.IconInfoCircled,{}):0===s?(0,t.jsx)(c.IconCheckCircled,{}):(0,t.jsx)(c.IconCrossCircled,{})}},93111:function(e,n,r){"use strict";r.d(n,{c:function(){return a}});var t=r(57437),s=r(25645);let a=()=>(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(s.O,{className:"h-4 w-full"}),(0,t.jsx)(s.O,{className:"h-4 w-full"}),(0,t.jsx)(s.O,{className:"h-4 w-full"}),(0,t.jsx)(s.O,{className:"h-4 w-full"})]})},29155:function(e,n,r){"use strict";r.d(n,{C:function(){return l}});var t=r(57437);r(2265);var s=r(7404),a=r(39311);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:n,variant:r,...s}=e;return(0,t.jsx)("div",{className:(0,a.cn)(i({variant:r}),n),...s})}},25645:function(e,n,r){"use strict";r.d(n,{O:function(){return a}});var t=r(57437),s=r(39311);function a(e){let{className:n,...r}=e;return(0,t.jsx)("div",{className:(0,s.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...r})}},32553:function(e,n,r){"use strict";r.d(n,{RM:function(){return o},SC:function(){return c},iA:function(){return i},pj:function(){return f},ss:function(){return u},xD:function(){return l}});var t=r(57437),s=r(2265),a=r(39311);let i=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("table",{ref:n,className:(0,a.cn)("w-full caption-bottom text-sm",r),...s})});i.displayName="Table";let l=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("thead",{ref:n,className:(0,a.cn)("[&_tr]:border-b",r),...s})});l.displayName="TableHeader";let o=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tbody",{ref:n,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody";let d=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tfoot",{ref:n,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})});d.displayName="TableFooter";let c=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tr",{ref:n,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});c.displayName="TableRow";let u=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("th",{ref:n,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableHead";let f=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("td",{ref:n,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});f.displayName="TableCell";let x=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("caption",{ref:n,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...s})});x.displayName="TableCaption"},57166:function(e,n,r){"use strict";r.d(n,{GG:function(){return i},S1:function(){return a},lE:function(){return s}});var t=r(58835);let s=(0,t.BX)("\n  query ListInvitations(\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    invitations(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          email\n          code\n          createdAt\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),a=(0,t.BX)("\n  query repositories($after: String, $before: String, $first: Int, $last: Int) {\n    repositories(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          name\n          gitUrl\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),i=(0,t.BX)("\n  query ListJobRuns(\n    $ids: [ID!]\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    jobRuns(\n      ids: $ids\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          job\n          createdAt\n          finishedAt\n          exitCode\n          stdout\n          stderr\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n")}},function(e){e.O(0,[6990,1091,3072,6557,4402,4168,2971,7864,1744],function(){return e(e.s=25350)}),_N_E=e.O()}]);