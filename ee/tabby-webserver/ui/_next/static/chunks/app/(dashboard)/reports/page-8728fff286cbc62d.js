(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{75042:function(){},1736:function(e,t,s){Promise.resolve().then(s.bind(s,77923))},77923:function(e,t,s){"use strict";s.r(t),s.d(t,{Report:function(){return F}});var a=s(57437),l=s(2265),r=s(24033),n=s(42232),i=s(61958),d=s(62067),o=s.n(d),c=s(55194),m=s.n(c),f=s(40711),u=s.n(f),x=s(99109),p=s(70349),h=s(48723),g=s(19567),j=s(67887),y=s(57166),b=s(39311),N=s(86110),v=s(36523),w=s(84168),Y=s(25831),k=s(58094),D=s(25645),M=s(59039),S=s(70825),I=s(52373),Z=s(50439),C=s(6435),R=s(76586);function z(e){let{data:t}=e,{theme:s}=(0,C.F)(),l=(0,Z.iP)(),r=l.width||0;return(0,a.jsx)(R.ZP,{data:t,colorScheme:"dark"===s?"dark":"light",theme:{light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["rgb(45, 51, 59)","#0e4429","#006d32","#26a641","#39d353"]},blockSize:r>=1300?13:r>=1100?9:r>=900?6:5,hideTotalCount:!0,showWeekdayLabels:!0})}function O(e){let{yearlyStats:t}=e,s=0,l=(null==t?void 0:t.reduce((e,t)=>{let a=o().utc(t.start).format("YYYY-MM-DD");return s+=t.views+t.selects,{...e,[a]:t.views}},{}))||{},r=Array(365).fill("").map((e,t)=>{let s=o()().subtract(t,"days").format("YYYY-MM-DD"),a=l[s]||0;return{date:s,count:a,level:Math.min(4,Math.ceil(a/5))}}).reverse();return(0,a.jsxs)("div",{className:"flex h-full flex-col rounded-lg border bg-primary-foreground/30 px-6 py-4",children:[(0,a.jsxs)("h3",{className:"mb-5 text-sm font-medium tracking-tight",children:[(0,a.jsx)("b",{children:s})," activities in the last year"]}),(0,a.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,a.jsx)(z,{data:r})})]})}var _=s(45253),E=s(44909),A=s(31346),V=s(24235),L=s(50039),T=s(86812);function P(e){let{active:t,payload:s,label:l}=e;if(t&&s&&s.length){let{views:e,selects:t}=s[0].payload;return e?(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-3 inline-block w-20",children:"Completion:"}),(0,a.jsx)("b",{children:e})]}),(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-3 inline-block w-20",children:"Acceptance:"}),(0,a.jsx)("b",{children:t})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:l})]})}):null}return null}function Q(e){let{dailyStats:t,dateRange:s}=e,{theme:l}=(0,C.F)(),r=s.from||new Date,i=s.to||r,d={},c={};null==t||t.forEach(e=>{let t=o()(e.start).format("YYYY-MM-DD");d[t]=d[t]||0,c[t]=c[t]||0,d[t]+=e.views,c[t]+=e.selects},{});let m=(0,n.Z)({start:r,end:i}),f=m.map(e=>{let t=o()(e).format("YYYY-MM-DD"),s=d[t]||0,a=c[t]||0;return{name:o()(e).format("MMMM D"),views:s,selects:a,pendings:s-a}});return(0,a.jsxs)("div",{className:"rounded-lg border bg-primary-foreground/30 px-6 py-4",children:[(0,a.jsx)("h3",{className:"mb-5 text-sm font-medium tracking-tight",children:"Daily Statistics"}),(0,a.jsx)(_.h,{width:"100%",height:300,children:(0,a.jsxs)(E.v,{data:f,margin:{top:5,right:20,left:20,bottom:5},children:[(0,a.jsx)(A.$,{dataKey:"selects",stackId:"stats",fill:"dark"===l?"#e8e1d3":"#54452c",radius:3}),(0,a.jsx)(A.$,{dataKey:"pendings",stackId:"stats",fill:"dark"===l?"#423929":"#e8e1d3",radius:3}),(0,a.jsx)(V.K,{dataKey:"name",fontSize:12}),(0,a.jsx)(L.B,{fontSize:12,width:20,allowDecimals:!1}),(0,a.jsx)(T.u,{cursor:{fill:"transparent"},content:(0,a.jsx)(P,{})})]})})]})}let U="-14d";function q(e){let{dailyStats:t}=e,s=(0,i.Z)(null==t?void 0:t.map(e=>e.views)),l=(0,i.Z)(null==t?void 0:t.map(e=>e.selects)),r=0===l?0:(l/s*100).toFixed(2);return(0,a.jsxs)("div",{className:"flex w-full flex-col items-start justify-center space-y-3 md:flex-row md:items-center md:space-x-6 md:space-y-0 xl:justify-start",children:[(0,a.jsxs)(N.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-primary-foreground/30 lg:block",children:[(0,a.jsxs)(N.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(N.ll,{className:"text-sm font-medium",children:"Acceptance Rate"}),(0,a.jsx)(w.IconActivity,{className:"text-muted-foreground"})]}),(0,a.jsx)(N.aY,{children:(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[r,"%"]})})]}),(0,a.jsxs)(N.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-primary-foreground/30 lg:block",children:[(0,a.jsxs)(N.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(N.ll,{className:"text-sm font-medium",children:"Total Completions"}),(0,a.jsx)(w.IconCode,{className:"text-muted-foreground"})]}),(0,a.jsx)(N.aY,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:m()(s).format("0,0")})})]}),(0,a.jsxs)(N.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-primary-foreground/30 lg:block",children:[(0,a.jsxs)(N.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(N.ll,{className:"text-sm font-medium",children:"Total Acceptances"}),(0,a.jsx)(w.IconCheck,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(N.aY,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:l})})]})]})}function F(){let e,t;let s=(0,r.useSearchParams)(),[i]=(0,h.d)(),d=(0,g.UA)(),[c,m]=(0,l.useState)({from:o()().add(parseInt(U,10),"day").toDate(),to:o()().toDate()}),[f,N]=(0,l.useState)("all"),[Z,C]=(0,l.useState)([]),R=d||"true"===s.get("sample"),[{data:z,fetching:_}]=(0,x.aM)({query:y.Cl,variables:{start:o()(c.from).startOf("day").utc().format(),end:o()(c.to).endOf("day").utc().format(),users:"all"===f?void 0:[f]}});if(R){let t=(0,n.Z)({start:c.from,end:c.to||c.from});e=t.map(e=>{let t=[p.SQ.Typescript,p.SQ.Python,p.SQ.Rust],s=u()(o()(e).format("YYYY-MM-DD")+f+Z),a=Math.ceil(20*s()),l=Math.ceil(a/.35);return{start:o()(e).utc().format(),end:o()(e).add(1,"day").utc().format(),completions:l,selects:a,views:l,language:t[a%t.length]}})}else e=null==z?void 0:z.dailyStats.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views,language:e.language}));e=null==e?void 0:e.filter(e=>0===Z.length||Z.includes(e.language));let[{data:E,fetching:A}]=(0,x.aM)({query:y.Y6,variables:{users:"all"===f?void 0:f}});if(R){let e=(0,n.Z)({start:o()().toDate(),end:o()().subtract(365,"days").toDate()});t=e.map(e=>{let t=u()(o()(e).format("YYYY-MM-DD")+f+Z),s=Math.ceil(20*t()),a=s+Math.floor(10*t());return{start:o()(e).format("YYYY-MM-DD[T]HH:mm:ss[Z]"),end:o()(e).add(1,"day").format("YYYY-MM-DD[T]HH:mm:ss[Z]"),completions:a,selects:s,views:a}})}else t=null==E?void 0:E.dailyStatsInPastYear.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views}));return(0,a.jsxs)("div",{className:"mx-auto w-[calc(100vw-2rem)] max-w-5xl md:w-auto",children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-col items-center justify-between gap-y-2 lg:flex-row lg:items-end lg:gap-y-0",children:[(0,a.jsx)(I.b,{className:"mb-0",children:"Statistics around Tabby IDE / Extensions"}),(0,a.jsx)(S.Z,{loading:_,fallback:(0,a.jsx)(D.O,{className:"h-8 w-32"}),children:(0,a.jsxs)(k.Ph,{defaultValue:"all",onValueChange:N,children:[(0,a.jsx)(k.i4,{className:"h-auto w-auto border-none py-0 shadow-none",children:(0,a.jsxs)("div",{className:"flex h-6 items-center",children:[(0,a.jsx)(w.IconUsers,{className:"mr-[0.45rem]"}),(0,a.jsx)("div",{className:"w-[190px] overflow-hidden text-ellipsis text-left",children:(0,a.jsx)(k.ki,{})})]})}),(0,a.jsx)(k.Bw,{align:"end",children:(0,a.jsxs)(k.DI,{children:[(0,a.jsx)(k.Ql,{value:"all",children:"All members"}),i.map(e=>(0,a.jsx)(k.Ql,{value:e.id,children:e.email},e.id))]})})]})})]}),(0,a.jsx)(S.Z,{loading:A,fallback:(0,a.jsx)(D.O,{className:"mb-8 h-48"}),children:(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"mb-2 text-center text-xl font-semibold md:text-start",children:"Activity"}),(0,a.jsx)(O,{yearlyStats:t})]})}),(0,a.jsx)(S.Z,{loading:_,fallback:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)(D.O,{className:"h-32 flex-1"}),(0,a.jsx)(D.O,{className:"h-32 flex-1"}),(0,a.jsx)(D.O,{className:"h-32 flex-1"})]}),(0,a.jsx)(D.O,{className:"h-56"})]}),children:(0,a.jsxs)("div",{className:"mb-10 flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{className:"-mb-2 flex flex-col items-center justify-between gap-y-1 md:flex-row md:gap-y-0",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Usage"}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-y-0",children:[(0,a.jsxs)(Y.J2,{children:[(0,a.jsx)(Y.xo,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex h-9 w-[240px] items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed md:w-[150px]",children:[(0,a.jsxs)("div",{className:"w-full",children:[0===Z.length&&(0,a.jsx)("p",{className:"w-full overflow-hidden text-ellipsis",children:"All languages"}),1===Z.length&&(0,a.jsx)("p",{className:"w-full overflow-hidden text-ellipsis",children:(0,j.t)(Z[0])}),Z.length>1&&(0,a.jsxs)("span",{className:"px-1",children:[Z.length," selected"]})]}),(0,a.jsx)(w.IconChevronUpDown,{className:"h-3 w-3"})]})}),(0,a.jsx)(Y.yk,{className:"w-[240px] p-0 md:w-[180px]",align:"end",children:(0,a.jsxs)(v.mY,{children:[(0,a.jsx)(v.sZ,{placeholder:"Language"}),(0,a.jsxs)(v.e8,{children:[(0,a.jsx)(v.rb,{children:"No results found."}),(0,a.jsx)(v.fu,{children:Object.entries(p.SQ).sort((e,t)=>t[1]===p.SQ.Other?-1:0).map(e=>{let[t,s]=e,l=Z.includes(s);return(0,a.jsxs)(v.di,{onSelect:()=>{let e=[...Z];if(l){let t=e.findIndex(e=>e===s);-1!==t&&e.splice(t,1)}else e.push(s);C(e)},className:"!pointer-events-auto cursor-pointer !opacity-100",children:[(0,a.jsx)("div",{className:(0,b.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",l?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,a.jsx)(w.IconCheck,{className:(0,b.cn)("h-4 w-4")})}),(0,a.jsx)("span",{children:(0,j.t)(s)})]},s)})}),Z.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.zz,{}),(0,a.jsx)(v.fu,{children:(0,a.jsx)(v.di,{onSelect:()=>C([]),className:"!pointer-events-auto cursor-pointer justify-center text-center !opacity-100",children:"Clear filters"})})]})]})]})})]}),(0,a.jsx)(M.Z,{options:[{label:"Last 7 days",value:"-7d"},{label:"Last 14 days",value:"-14d"},{label:"Last 30 days",value:"-30d"}],defaultValue:U,onSelect:m,hasToday:!0,hasYesterday:!0})]})]}),(0,a.jsx)(q,{dailyStats:e}),(0,a.jsx)(Q,{dailyStats:e,dateRange:c})]})})]})}},52373:function(e,t,s){"use strict";s.d(t,{b:function(){return d}});var a=s(57437);s(2265);var l=s(61396),r=s.n(l),n=s(39311),i=s(84168);let d=e=>{let{className:t,externalLink:s,externalLinkText:l="Learn more",children:d}=e;return(0,a.jsx)("div",{className:(0,n.cn)("mb-4 flex items-center gap-4",t),children:(0,a.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[d,!!s&&(0,a.jsxs)(r(),{className:"ml-2 inline-flex cursor-pointer flex-row items-center text-primary hover:underline",href:s,target:"_blank",children:[l,(0,a.jsx)(i.IconExternalLink,{className:"ml-1"})]})]})})}},36523:function(e,t,s){"use strict";s.d(t,{di:function(){return x},e8:function(){return c},fu:function(){return f},mY:function(){return d},rb:function(){return m},sZ:function(){return o},zz:function(){return u}});var a=s(57437),l=s(2265),r=s(83126),n=s(41827),i=s(39311);s(12609);let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.mY,{ref:t,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...l})});d.displayName=r.mY.displayName;let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(n.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(r.mY.Input,{ref:t,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...l})]})});o.displayName=r.mY.Input.displayName;let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.mY.List,{ref:t,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...l})});c.displayName=r.mY.List.displayName;let m=l.forwardRef((e,t)=>(0,a.jsx)(r.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));m.displayName=r.mY.Empty.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.mY.Group,{ref:t,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...l})});f.displayName=r.mY.Group.displayName;let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.mY.Separator,{ref:t,className:(0,i.cn)("-mx-1 h-px bg-border",s),...l})});u.displayName=r.mY.Separator.displayName;let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.mY.Item,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",s),...l})});x.displayName=r.mY.Item.displayName},12609:function(e,t,s){"use strict";s.d(t,{$N:function(){return p},Be:function(){return h},Vq:function(){return d},cN:function(){return x},cZ:function(){return f},fK:function(){return u},hg:function(){return o}});var a=s(57437),l=s(2265),r=s(43452),n=s(39311),i=s(84168);let d=r.fC,o=r.xz,c=e=>{let{className:t,children:s,...l}=e;return(0,a.jsx)(r.h_,{className:(0,n.cn)(t),...l,children:(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center sm:items-center",children:s})})};c.displayName=r.h_.displayName;let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",s),...l})});m.displayName=r.aV.displayName;let f=l.forwardRef((e,t)=>{let{className:s,children:l,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,n.cn)("fixed z-50 grid w-full gap-4 rounded-b-lg border bg-background p-6 shadow-sm animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",s),...d,children:[l,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.IconClose,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=r.VY.displayName;let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};u.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let p=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});p.displayName=r.Dx.displayName;let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})});h.displayName=r.dk.displayName},25831:function(e,t,s){"use strict";s.d(t,{J2:function(){return i},i9:function(){return c},tW:function(){return m},xo:function(){return d},xp:function(){return o},yk:function(){return f}});var a=s(57437),l=s(2265),r=s(65050),n=s(39311);let i=r.fC,d=r.xz,o=r.x8,c=r.h_,m=r.ee,f=l.forwardRef((e,t)=>{let{className:s,sideOffset:l=4,...i}=e;return(0,a.jsx)(r.VY,{ref:t,sideOffset:l,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});f.displayName=r.VY.displayName},19567:function(e,t,s){"use strict";s.d(t,{UA:function(){return m},Uw:function(){return o},c7:function(){return d},jJ:function(){return c},xG:function(){return i}});var a=s(99109),l=s(60106);let r=(0,l.BX)("\n  query GetServerInfo {\n    serverInfo {\n      isAdminInitialized\n      isEmailConfigured\n      isChatEnabled\n      allowSelfSignup\n      isDemoMode\n    }\n  }\n"),n=()=>{let[{data:e}]=(0,a.aM)({query:r});return null==e?void 0:e.serverInfo},i=()=>{var e;return null===(e=n())||void 0===e?void 0:e.isChatEnabled},d=()=>{var e;return null===(e=n())||void 0===e?void 0:e.isAdminInitialized},o=()=>{var e;return null===(e=n())||void 0===e?void 0:e.isEmailConfigured},c=()=>{var e;return null===(e=n())||void 0===e?void 0:e.allowSelfSignup},m=()=>{var e;return null===(e=n())||void 0===e?void 0:e.isDemoMode}},24033:function(e,t,s){e.exports=s(20290)},8281:function(e,t,s){"use strict";s.d(t,{T:function(){return n},f:function(){return i}});var a=s(13428),l=s(2265),r=s(9381);let n=(0,l.forwardRef)((e,t)=>(0,l.createElement)(r.WV.span,(0,a.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),i=n},24144:function(e,t){"use strict";t.Z=function(e){return null==e}}},function(e){e.O(0,[6990,768,9109,7166,1396,2699,7070,3714,7463,3452,3815,6155,5050,1408,9079,9081,7753,4168,2235,7957,2971,7864,1744],function(){return e(e.s=1736)}),_N_E=e.O()}]);