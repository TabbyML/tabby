(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{88722:function(e,n,r){Promise.resolve().then(r.bind(r,71901))},71901:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return I}});var t=r(36164),i=r(70652),s=r.n(i),l=r(31458),o=r(3546),a=r(2578),c=r(40055),u=r(21808),d=r(43240),f=r(11634),v=r(70410),x=r(81565),h=r(49506),j=r(57830),m=r(99047),p=r(6230),g=r(40030),N=r(55137),b=r(14522);let y=(0,d.BX)("\n  mutation deleteGitRepository($id: ID!) {\n    deleteGitRepository(id: $id)\n  }\n"),w=u.L8;function k(){var e,n;let[r,i]=o.useState(),[{data:s,fetching:u},d]=(0,c.aM)({query:v.S1,variables:{last:w,before:r}}),[{data:k,fetching:I}]=(0,c.aM)({query:v.gI}),[Z,C]=o.useState(1),_=o.useMemo(()=>{var e,n;return null==s?void 0:null===(n=s.gitRepositories)||void 0===n?void 0:null===(e=n.edges)||void 0===e?void 0:e.slice().reverse()},[null==s?void 0:null===(e=s.gitRepositories)||void 0===e?void 0:e.edges]),P=null==s?void 0:null===(n=s.gitRepositories)||void 0===n?void 0:n.pageInfo,R=Math.ceil(((null==_?void 0:_.length)||0)/w),G=e=>{var n,r;return null==_?void 0:null===(r=_.slice(0,(e-1)*w))||void 0===r?void 0:null===(n=r.pop())||void 0===n?void 0:n.cursor},S=e=>{i(G(e))},M=o.useMemo(()=>{var e;return null==_?void 0:null===(e=_.slice)||void 0===e?void 0:e.call(_,(Z-1)*w,Z*w)},[Z,_]),O=(null==P?void 0:P.hasPreviousPage)||Z<R,$=Z>1,A=!!(null==M?void 0:M.length)&&(O||$),D=(0,f.Db)(y),E=(0,f.Db)(b.C),F=(e,n)=>{D({id:e}).then(e=>{var r,t;(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.deleteGitRepository)?S(n?Z-1:Z):a.A.error((null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to delete repository")})},L=e=>E({command:e}).then(e=>{var n,r;(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.triggerJobRun)?(a.A.success("The job has been triggered successfully, it may take a few minutes to process."),d()):a.A.error((null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to trigger job")});return o.useEffect(()=>{!u&&R<Z&&Z>1&&C(R)},[R,Z]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(p.Z,{loading:u,children:[(0,t.jsxs)(j.ScrollArea,{children:[(0,t.jsxs)(m.iA,{className:"min-w-[400px] border-t",children:[(0,t.jsx)(m.xD,{children:(0,t.jsxs)(m.SC,{children:[(0,t.jsx)(m.ss,{className:"w-[25%]",children:"Name"}),(0,t.jsx)(m.ss,{className:"w-[45%]",children:"Git URL"}),(0,t.jsx)(m.ss,{className:"w-[140px]",children:"Access"}),(0,t.jsx)(m.ss,{children:"Job"}),(0,t.jsx)(m.ss,{className:"w-[60px]"})]})}),(0,t.jsx)(m.RM,{children:(null==M?void 0:M.length)||1!==Z?(0,t.jsx)(t.Fragment,{children:null==M?void 0:M.map(e=>(0,t.jsxs)(m.SC,{children:[(0,t.jsx)(m.pj,{className:"break-all lg:break-words",title:e.node.name,children:e.node.name}),(0,t.jsx)(m.pj,{className:"break-all lg:break-words",title:e.node.gitUrl,children:e.node.gitUrl}),(0,t.jsx)(m.pj,{className:"break-all lg:break-words",children:(0,t.jsx)(g.r,{sourceId:e.node.sourceId,sourceName:e.node.name,fetchingUserGroups:I,userGroups:null==k?void 0:k.userGroups,editable:!0})}),(0,t.jsx)(m.pj,{children:(0,t.jsx)(N._,{jobInfo:e.node.jobInfo,onTrigger:()=>L(e.node.jobInfo.command)})}),(0,t.jsx)(m.pj,{className:"text-right",children:(0,t.jsx)(l.z,{size:"icon",variant:"hover-destructive",onClick:()=>F(e.node.id,1===M.length),children:(0,t.jsx)(x.IconTrash,{})})})]},e.node.id))}):(0,t.jsx)(m.SC,{children:(0,t.jsx)(m.pj,{colSpan:5,className:"h-[100px] text-center",children:"No Data"})})})]}),(0,t.jsx)(j.ScrollBar,{orientation:"horizontal"})]}),A&&(0,t.jsx)(h.tl,{className:"my-4",children:(0,t.jsxs)(h.ng,{children:[(0,t.jsx)(h.nt,{children:(0,t.jsx)(h.dN,{disabled:!$,onClick:()=>{if(Z<=1||u)return;let e=Z-1;S(e),C(e)}})}),(0,t.jsx)(h.nt,{children:(0,t.jsx)(h.$0,{disabled:!O,onClick:()=>{if(!O||u)return;let e=Z+1;S(e),C(e)}})})]})})]})})}function I(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"my-4 flex justify-end",children:(0,t.jsx)(s(),{href:"./git/new",className:(0,l.d)(),children:"Create"})}),(0,t.jsx)(k,{})]})}},49506:function(e,n,r){"use strict";r.d(n,{$0:function(){return v},Dj:function(){return x},dN:function(){return f},kN:function(){return d},ng:function(){return c},nt:function(){return u},tl:function(){return a}});var t=r(36164),i=r(3546),s=r(57288),l=r(31458),o=r(81565);let a=e=>{let{className:n,...r}=e;return(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,s.cn)("mx-auto flex w-full justify-center",n),...r})};a.displayName="Pagination";let c=i.forwardRef((e,n)=>{let{className:r,...i}=e;return(0,t.jsx)("ul",{ref:n,className:(0,s.cn)("flex flex-row items-center gap-1",r),...i})});c.displayName="PaginationContent";let u=i.forwardRef((e,n)=>{let{className:r,...i}=e;return(0,t.jsx)("li",{ref:n,className:(0,s.cn)("",r),...i})});u.displayName="PaginationItem";let d=e=>{let{className:n,isActive:r,size:i="icon",...o}=e;return(0,t.jsx)("a",{"aria-current":r?"page":void 0,className:(0,s.cn)("select-none",(0,l.d)({variant:r?"outline":"ghost",size:i}),n),...o})};d.displayName="PaginationLink";let f=e=>{let{className:n,disabled:r,...i}=e;return(0,t.jsxs)(d,{"aria-label":"Go to previous page",size:"default",className:(0,s.cn)("cursor-pointer select-none gap-1 pl-2.5",r&&"cursor-not-allowed text-muted-foreground",n),...i,children:[(0,t.jsx)(o.IconChevronLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Previous"})]})};f.displayName="PaginationPrevious";let v=e=>{let{className:n,disabled:r,...i}=e;return(0,t.jsxs)(d,{"aria-label":"Go to next page",size:"default",className:(0,s.cn)("cursor-pointer select-none gap-1 pr-2.5",r&&"cursor-not-allowed text-muted-foreground",n),...i,children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(o.IconChevronRight,{className:"h-4 w-4"})]})};v.displayName="PaginationNext";let x=e=>{let{className:n,...r}=e;return(0,t.jsxs)("span",{"aria-hidden":!0,className:(0,s.cn)("flex h-9 w-9 items-center justify-center",n),...r,children:[(0,t.jsx)(o.IconMore,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"More pages"})]})};x.displayName="PaginationEllipsis"},21808:function(e,n,r){"use strict";r.d(n,{$6:function(){return s},$I:function(){return l},L8:function(){return i},ir:function(){return o},o0:function(){return t},rZ:function(){return a}});let t="name@yourcompany.com",i=20,s={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},l=48,o="NOT_FOUND",a="\n"},18216:function(e,n,r){"use strict";var t=r(6670),i=/^\s+/;n.Z=function(e){return e?e.slice(0,(0,t.Z)(e)+1).replace(i,""):e}},6670:function(e,n){"use strict";var r=/\s/;n.Z=function(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}},96786:function(e,n){"use strict";n.Z=function(e){return null!=e&&"object"==typeof e}},55357:function(e,n,r){"use strict";var t=r(17996),i=r(96786);n.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,t.Z)(e)}},26165:function(e,n,r){"use strict";var t=r(18216),i=r(84639),s=r(55357),l=0/0,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;n.Z=function(e){if("number"==typeof e)return e;if((0,s.Z)(e))return l;if((0,i.Z)(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=(0,i.Z)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(0,t.Z)(e);var r=a.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):o.test(e)?l:+e}}},function(e){e.O(0,[8415,7565,7430,55,641,340,4007,2546,1283,3449,2578,8511,4421,1002,4553,6805,7288,1565,3240,4656,4731,3375,5289,1744],function(){return e(e.s=88722)}),_N_E=e.O()}]);