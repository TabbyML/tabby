(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{81102:function(e,r,t){Promise.resolve().then(t.bind(t,71901))},40030:function(e,r,t){"use strict";t.d(r,{r:function(){return b}});var n=t(36164),s=t(3546),a=t(37671),o=t(2578),i=t(40055),l=t(43240),d=t(11634),c=t(70410),u=t(73492),f=t(31458),m=t(36065),x=t(81565),p=t(84942),h=t(3448),g=t(6230);let v=(0,l.BX)("\n  mutation grantSourceIdReadAccess($sourceId: String!, $userGroupId: ID!) {\n    grantSourceIdReadAccess(sourceId: $sourceId, userGroupId: $userGroupId)\n  }\n"),j=(0,l.BX)("\n  mutation revokeSourceIdReadAccess($sourceId: String!, $userGroupId: ID!) {\n    revokeSourceIdReadAccess(sourceId: $sourceId, userGroupId: $userGroupId)\n  }\n");function b(e){var r;let{sourceId:t,sourceName:l,className:b,editable:N,userGroups:y,fetchingUserGroups:w,...R}=e,[I,k]=(0,s.useState)(!1),[{data:C,fetching:S}]=(0,i.aM)({query:c.hA,variables:{sourceId:t}}),z=(0,d.Db)(v),_=(0,d.Db)(j),G=null==C?void 0:null===(r=C.sourceIdAccessPolicies)||void 0===r?void 0:r.read,O=(null==G?void 0:G.length)||0,Z=(0,s.useMemo)(()=>(null==G?void 0:G.length)?new Set(G.map(e=>e.id)):new Set,[G]),A=(e,r,t)=>{t?Y(e,r):D(e,r)},Y=(e,r)=>{let n="Failed to grant ".concat(r);return z({sourceId:t,userGroupId:e},{extraParams:{userGroupName:r}}).then(e=>{var r,t;if(!(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.grantSourceIdReadAccess)){let r=(null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)||n;o.A.error(r);return}}).catch(e=>{let r=(null==e?void 0:e.message)||n;o.A.error(r)})},D=(e,r)=>_({sourceId:t,userGroupId:e},{extraParams:{userGroupName:r}}).then(e=>{var t,n;if(!(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.revokeSourceIdReadAccess)){let t=(null==e?void 0:null===(n=e.error)||void 0===n?void 0:n.message)||"Failed to revoke '".concat(r,"'");o.A.error(t);return}}).catch(e=>{let t=(null==e?void 0:e.message)||"Failed to revoke '".concat(r,"'");o.A.error(t)}),$=0===O?"Everyone":"".concat(O," ").concat(O<=1?"group":"groups");return(0,n.jsx)(g.Z,{loading:S,fallback:(0,n.jsx)(h.O,{className:(0,u.cn)(b)}),children:(0,n.jsxs)("div",{className:(0,u.cn)("flex items-center gap-0.5",b),children:[(0,n.jsx)("span",{className:"w-[68px]",children:$}),N&&(0,n.jsxs)(p.J2,{open:I,onOpenChange:k,children:[(0,n.jsx)(p.xo,{asChild:!0,children:(0,n.jsx)(f.z,{variant:"ghost",role:"combobox",size:"icon",children:(0,n.jsx)(x.IconEdit,{})})}),(0,n.jsx)(p.yk,{align:"end",side:"top",children:(0,n.jsxs)(m.mY,{children:[(0,n.jsx)(m.sZ,{placeholder:"Search groups..."}),(0,n.jsxs)(m.e8,{className:"max-h-[30vh]",children:[(0,n.jsx)(m.rb,{children:w?(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(x.IconSpinner,{className:"h-6 w-6"})}):(null==y?void 0:y.length)?"No matches results":"No groups found"}),(0,n.jsx)(m.fu,{children:null==y?void 0:y.map(e=>{let r=Z.has(e.id),t=e.members.length;return(0,n.jsxs)(m.di,{value:e.name,onSelect:()=>A(e.id,e.name,!r),children:[(0,n.jsx)("div",{className:(0,u.cn)("mr-2 flex h-4 w-4 cursor-pointer items-center justify-center rounded-sm border border-primary",r?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,n.jsx)(a.nQG,{className:(0,u.cn)("h-4 w-4")})}),(0,n.jsxs)("span",{children:[e.name,(0,n.jsx)("span",{className:"ml-1 text-muted-foreground",children:"(".concat(t," member").concat(t>1?"s":"",")")})]})]},e.id)})})]})]})})]})]})})}},55137:function(e,r,t){"use strict";t.d(r,{_:function(){return h}});var n=t(36164),s=t(3546),a=t(70652),o=t.n(a),i=t(11978),l=t(99092),d=t.n(l),c=t(73492),u=t(31458),f=t(81565),m=t(29);function x(e){let{onTrigger:r,isPending:t,jobLink:a}=e,o=(0,i.useRouter)(),[l,d]=s.useState(!1);return(0,n.jsxs)(m.u,{children:[(0,n.jsx)(m.aJ,{asChild:!0,children:(0,n.jsx)(u.z,{size:"icon",variant:"ghost",onClick:()=>{if(t){a&&o.push(a);return}let e=r();return e&&e instanceof Promise&&(d(!0),e.finally(()=>d(!1))),e},disabled:l,children:l||t?(0,n.jsx)(f.IconSpinner,{}):(0,n.jsx)(f.IconCirclePlay,{strokeWidth:1,className:"h-5 w-5"})})}),(0,n.jsx)(m._v,{children:(0,n.jsx)("p",{children:"Run"})})]})}function p(e){let{jobInfo:r,className:t}=e;return(null==r?void 0:r.lastJobRun)?(0,n.jsx)(o(),{href:"/jobs/detail?id=".concat(r.lastJobRun.id),className:(0,c.cn)("flex items-center gap-1 underline hover:text-foreground/50",t),children:d()(r.lastJobRun.createdAt).format("YYYY-MM-DD HH:mm")}):null}function h(e){var r;let{jobInfo:t,onTrigger:s,className:a}=e,o=!!(null==t?void 0:t.lastJobRun)&&null===t.lastJobRun.exitCode,i=(null==t?void 0:null===(r=t.lastJobRun)||void 0===r?void 0:r.id)?"/jobs/detail?id=".concat(t.lastJobRun.id):void 0;return(0,n.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1",a),children:[(0,n.jsx)(p,{jobInfo:t,className:"hidden lg:block lg:w-32"}),(0,n.jsx)(x,{onTrigger:s,isPending:o,jobLink:i})]})}},71901:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return D}});var n=t(36164),s=t(70652),a=t.n(s),o=t(31458),i=t(3546),l=t(84381),d=t(5493),c=t(2578),u=t(21454),f=t(40055),m=t(23782),x=t(21808),p=t(43240),h=t(11634),g=t(70410),v=t(30220),j=t(98150),b=t(81565),N=t(82394),y=t(49506),w=t(57830),R=t(99047),I=t(83721),k=t(6230),C=t(40030),S=t(55137),z=t(14522);let _=(0,p.BX)("\n  mutation deleteGitRepository($id: ID!) {\n    deleteGitRepository(id: $id)\n  }\n"),G=(0,p.BX)("\n  mutation updateGitRepository($id: ID!, $refs: [String!]) {\n    updateGitRepository(id: $id, refs: $refs)\n  }\n"),O=m.Ry({name:m.Z_(),gitUrl:m.Z_(),refs:m.IX(m.Z_()).optional()}),Z=x.L8;function A(){var e,r;let[t,s]=i.useState(),[{data:a,fetching:l},d]=(0,f.aM)({query:g.S1,variables:{last:Z,before:t}});(0,u.ZP)(["refresh_repos",t],()=>{d()},{revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateOnMount:!1,refreshInterval:1e4});let[{data:m,fetching:x}]=(0,f.aM)({query:g.gI}),[p,v]=i.useState(1),j=i.useMemo(()=>{var e,r;return null==a?void 0:null===(r=a.gitRepositories)||void 0===r?void 0:null===(e=r.edges)||void 0===e?void 0:e.slice().reverse()},[null==a?void 0:null===(e=a.gitRepositories)||void 0===e?void 0:e.edges]),N=null==a?void 0:null===(r=a.gitRepositories)||void 0===r?void 0:r.pageInfo,I=Math.ceil(((null==j?void 0:j.length)||0)/Z),O=e=>{var r,t;return null==j?void 0:null===(t=j.slice(0,(e-1)*Z))||void 0===t?void 0:null===(r=t.pop())||void 0===r?void 0:r.cursor},A=e=>{s(O(e))},D=i.useMemo(()=>{var e;return null==j?void 0:null===(e=j.slice)||void 0===e?void 0:e.call(j,(p-1)*Z,p*Z)},[p,j]),$=(null==N?void 0:N.hasPreviousPage)||p<I,F=p>1,P=!!(null==D?void 0:D.length)&&($||F),M=(0,h.Db)(_),E=(0,h.Db)(G),J=(0,h.Db)(z.C),[U,T]=i.useState(null),B=(e,r)=>{M({id:e}).then(e=>{var t,n;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.deleteGitRepository)?A(r?p-1:p):c.A.error((null==e?void 0:null===(n=e.error)||void 0===n?void 0:n.message)||"Failed to delete repository")})},L=e=>J({command:e}).then(e=>{var r,t;(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.triggerJobRun)?(c.A.success("The job has been triggered successfully, it may take a few minutes to process."),d()):c.A.error((null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to trigger job")}),V=e=>{T({id:e.id,name:e.name,gitUrl:e.gitUrl,refs:e.refs.map(e=>e.name.startsWith("refs/heads/")?e.name.substring(11):e.name.startsWith("refs/tags/")?e.name.substring(10):e.name)})};return i.useEffect(()=>{!l&&I<p&&p>1&&v(I)},[I,p]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(k.Z,{loading:l,children:[(0,n.jsxs)(w.ScrollArea,{children:[(0,n.jsxs)(R.iA,{className:"min-w-[400px] border-t",children:[(0,n.jsx)(R.xD,{children:(0,n.jsxs)(R.SC,{children:[(0,n.jsx)(R.ss,{className:"w-[25%]",children:"Name"}),(0,n.jsx)(R.ss,{className:"w-[45%]",children:"Git URL"}),(0,n.jsx)(R.ss,{className:"w-[140px]",children:"Access"}),(0,n.jsx)(R.ss,{children:"Job"}),(0,n.jsx)(R.ss,{className:"w-[100px]"})]})}),(0,n.jsx)(R.RM,{children:(null==D?void 0:D.length)||1!==p?(0,n.jsx)(n.Fragment,{children:null==D?void 0:D.map(e=>(0,n.jsxs)(R.SC,{children:[(0,n.jsx)(R.pj,{className:"break-all lg:break-words",title:e.node.name,children:e.node.name}),(0,n.jsx)(R.pj,{className:"break-all lg:break-words",title:e.node.gitUrl,children:e.node.gitUrl}),(0,n.jsx)(R.pj,{className:"break-all lg:break-words",children:(0,n.jsx)(C.r,{sourceId:e.node.sourceId,sourceName:e.node.name,fetchingUserGroups:x,userGroups:null==m?void 0:m.userGroups,editable:!0})}),(0,n.jsx)(R.pj,{children:(0,n.jsx)(S._,{jobInfo:e.node.jobInfo,onTrigger:()=>L(e.node.jobInfo.command)})}),(0,n.jsx)(R.pj,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(o.z,{size:"icon",variant:"ghost",onClick:()=>V({id:e.node.id,name:e.node.name,gitUrl:e.node.gitUrl,refs:e.node.refs}),children:(0,n.jsx)(b.IconPencil,{})}),(0,n.jsx)(o.z,{size:"icon",variant:"hover-destructive",onClick:()=>B(e.node.id,1===D.length),children:(0,n.jsx)(b.IconTrash,{})})]})})," "]},e.node.id))}):(0,n.jsx)(R.SC,{children:(0,n.jsx)(R.pj,{colSpan:5,className:"h-[100px] text-center",children:"No Data"})})})]}),(0,n.jsx)(w.ScrollBar,{orientation:"horizontal"})]}),P&&(0,n.jsx)(y.tl,{className:"my-4",children:(0,n.jsxs)(y.ng,{children:[(0,n.jsx)(y.nt,{children:(0,n.jsx)(y.dN,{disabled:!F,onClick:()=>{if(p<=1||l)return;let e=p-1;A(e),v(e)}})}),(0,n.jsx)(y.nt,{children:(0,n.jsx)(y.$0,{disabled:!$,onClick:()=>{if(!$||l)return;let e=p+1;A(e),v(e)}})})]})})]}),(0,n.jsx)(Y,{repo:U,open:!!U,onOpenChange:e=>{e||T(null)},onSubmit:e=>{U&&E({id:U.id,refs:e.refs&&e.refs.length>0?e.refs:void 0}).then(e=>{var r,t;(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.updateGitRepository)?(c.A.success("Repository updated successfully"),T(null),d()):c.A.error((null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to update repository")})}})]})}function Y(e){let{repo:r,open:t,onOpenChange:s,onSubmit:a}=e,c=(0,d.cI)({resolver:(0,l.F)(O)});i.useEffect(()=>{r&&c.reset({name:r.name,gitUrl:r.gitUrl,refs:r.refs})},[r,c]);let{isSubmitting:u}=c.formState;return(0,n.jsx)(v.Vq,{open:t,onOpenChange:s,children:(0,n.jsxs)(v.cZ,{className:"max-w-xl",children:[(0,n.jsxs)(v.fK,{children:[(0,n.jsx)(v.$N,{children:"Edit Repository"}),(0,n.jsx)(v.Be,{children:"Update the repository branches to index"})]}),(0,n.jsx)(j.l0,{...c,children:(0,n.jsxs)("form",{onSubmit:c.handleSubmit(a),className:"space-y-4",children:[(0,n.jsx)(j.Wi,{control:c.control,name:"name",render:e=>{let{field:r}=e;return(0,n.jsxs)(j.xJ,{children:[(0,n.jsx)(j.lX,{children:"Name"}),(0,n.jsx)(j.NI,{children:(0,n.jsx)(N.I,{placeholder:"e.g. tabby",autoCapitalize:"none",autoCorrect:"off",...r,disabled:!0})}),(0,n.jsx)(j.zG,{})]})}}),(0,n.jsx)(j.Wi,{control:c.control,name:"gitUrl",render:e=>{let{field:r}=e;return(0,n.jsxs)(j.xJ,{children:[(0,n.jsx)(j.lX,{children:"Git URL"}),(0,n.jsx)(j.pf,{children:"Remote or local Git URL"}),(0,n.jsx)(j.NI,{children:(0,n.jsx)(N.I,{placeholder:"e.g. https://github.com/TabbyML/tabby",autoCapitalize:"none",autoCorrect:"off",...r,disabled:!0})}),(0,n.jsx)(j.zG,{})]})}}),(0,n.jsx)(j.Wi,{control:c.control,name:"refs",render:e=>{let{field:r}=e;return(0,n.jsxs)(j.xJ,{children:[(0,n.jsx)(j.lX,{children:"Branches"}),(0,n.jsx)(j.pf,{children:"Branches to index (press Enter to select, leave empty for default branch)"}),(0,n.jsx)(j.NI,{children:(0,n.jsx)(I.E,{placeholder:"e.g. main",autoCapitalize:"none",autoCorrect:"off",...r})}),(0,n.jsx)(j.zG,{})]})}}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)(o.z,{type:"button",variant:"ghost",disabled:u,onClick:()=>s(!1),children:"Cancel"}),(0,n.jsx)(o.z,{type:"submit",disabled:u,children:"Update"})]})]})})]})})}function D(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-4 flex justify-end",children:(0,n.jsx)(a(),{href:"./git/new",className:(0,o.d)(),children:"Create"})}),(0,n.jsx)(A,{})]})}},14522:function(e,r,t){"use strict";t.d(r,{C:function(){return s}});var n=t(43240);let s=(0,n.BX)("\n  mutation triggerJobRun($command: String!) {\n    triggerJobRun(command: $command)\n  }\n")},6230:function(e,r,t){"use strict";var n=t(36164),s=t(3546),a=t(24449),o=t(90379);r.Z=e=>{let{triggerOnce:r=!0,loading:t,fallback:i,delay:l,children:d}=e,[c,u]=s.useState(!t),[f]=(0,a.n)(c,null!=l?l:200);return(s.useEffect(()=>{r?t||c||u(!0):u(!t)},[t]),f)?d:i||(0,n.jsx)(o.cg,{})}},90379:function(e,r,t){"use strict";t.d(r,{PF:function(){return l},cg:function(){return o},tB:function(){return i}});var n=t(36164),s=t(73492),a=t(3448);let o=e=>{let{className:r,...t}=e;return(0,n.jsxs)("div",{className:(0,s.cn)("space-y-3",r),...t,children:[(0,n.jsx)(a.O,{className:"h-4 w-full"}),(0,n.jsx)(a.O,{className:"h-4 w-full"}),(0,n.jsx)(a.O,{className:"h-4 w-full"}),(0,n.jsx)(a.O,{className:"h-4 w-full"})]})},i=e=>{let{className:r,...t}=e;return(0,n.jsx)(a.O,{className:(0,s.cn)("h-4 w-full",r),...t})},l=e=>{let{className:r,...t}=e;return(0,n.jsxs)("div",{className:(0,s.cn)("flex flex-col gap-3",r),...t,children:[(0,n.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(a.O,{className:"h-4 w-full"}),(0,n.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(a.O,{className:"h-4 w-full"})]})}},63795:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var n=t(36164);t(3546);var s=t(98641),a=t(73492);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(o({variant:t}),r),...s})}},31458:function(e,r,t){"use strict";t.d(r,{d:function(){return l},z:function(){return d}});var n=t(36164),s=t(3546),a=t(74047),o=t(98641),i=t(73492);let l=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:o,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:t})),ref:r,...c})});d.displayName="Button"},36065:function(e,r,t){"use strict";t.d(r,{di:function(){return x},e8:function(){return c},fu:function(){return f},mY:function(){return l},rb:function(){return u},sZ:function(){return d},zz:function(){return m}});var n=t(36164),s=t(3546),a=t(53241),o=t(93170),i=t(73492);t(30220);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.mY,{ref:r,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s})});l.displayName=a.mY.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(a.mY.Input,{ref:r,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})});d.displayName=a.mY.Input.displayName;let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.mY.List,{ref:r,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s})});c.displayName=a.mY.List.displayName;let u=s.forwardRef((e,r)=>(0,n.jsx)(a.mY.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));u.displayName=a.mY.Empty.displayName;let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.mY.Group,{ref:r,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s})});f.displayName=a.mY.Group.displayName;let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.mY.Separator,{ref:r,className:(0,i.cn)("-mx-1 h-px bg-border",t),...s})});m.displayName=a.mY.Separator.displayName;let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.mY.Item,{ref:r,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",t),...s})});x.displayName=a.mY.Item.displayName},30220:function(e,r,t){"use strict";t.d(r,{$N:function(){return p},Be:function(){return h},Vq:function(){return l},cN:function(){return x},cZ:function(){return f},fK:function(){return m},hg:function(){return d}});var n=t(36164),s=t(3546),a=t(4318),o=t(1663),i=t(73492);let l=a.fC,d=a.xz,c=a.h_;a.x8;let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.aV,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=a.aV.displayName;let f=s.forwardRef((e,r)=>{let{className:t,children:s,...l}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{}),(0,n.jsxs)(a.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[s,(0,n.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=a.VY.displayName;let m=e=>{let{className:r,...t}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};m.displayName="DialogHeader";let x=e=>{let{className:r,...t}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};x.displayName="DialogFooter";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});p.displayName=a.Dx.displayName;let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});h.displayName=a.dk.displayName},98150:function(e,r,t){"use strict";t.d(r,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return p},pf:function(){return g},xJ:function(){return x},zG:function(){return v}});var n=t(36164),s=t(3546),a=t(74047),o=t(5493),i=t(73492),l=t(5266);let d=o.RV,c=s.createContext({}),u=e=>{let{...r}=e;return(0,n.jsx)(c.Provider,{value:{name:r.name},children:(0,n.jsx)(o.Qr,{...r})})},f=()=>{let e=s.useContext(c),r=s.useContext(m),{getFieldState:t,formState:n}=(0,o.Gc)(),a=e.name||"root",i=t(a,n);if(!n)throw Error("useFormField should be used within <Form>");let{id:l}=r;return{id:l,name:a,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...i}},m=s.createContext({}),x=s.forwardRef((e,r)=>{let{className:t,...a}=e,o=s.useId();return(0,n.jsx)(m.Provider,{value:{id:o},children:(0,n.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...a})})});x.displayName="FormItem";let p=s.forwardRef((e,r)=>{let{className:t,required:s,...a}=e,{error:o,formItemId:d}=f();return(0,n.jsx)(l._,{ref:r,className:(0,i.cn)(o&&"text-destructive",s&&'after:ml-0.5 after:text-destructive after:content-["*"]',t),htmlFor:d,...a})});p.displayName="FormLabel";let h=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:o,formDescriptionId:i,formMessageId:l}=f();return(0,n.jsx)(a.g7,{ref:r,id:o,"aria-describedby":s?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!s,...t})});h.displayName="FormControl";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:a}=f();return(0,n.jsx)("div",{ref:r,id:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});g.displayName="FormDescription";let v=s.forwardRef((e,r)=>{let{className:t,children:s,...a}=e,{error:o,formMessageId:l}=f(),d=o?String(null==o?void 0:o.message):s;return d?(0,n.jsx)("p",{ref:r,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",t),...a,children:d}):null});v.displayName="FormMessage"},82394:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var n=t(36164),s=t(3546),a=t(73492);let o=s.forwardRef((e,r)=>{let{className:t,type:s,...o}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},5266:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var n=t(36164),s=t(3546),a=t(90893),o=t(98641),i=t(73492);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.f,{ref:r,className:(0,i.cn)(l(),t),...s})});d.displayName=a.f.displayName},49506:function(e,r,t){"use strict";t.d(r,{$0:function(){return m},Dj:function(){return x},dN:function(){return f},kN:function(){return u},ng:function(){return d},nt:function(){return c},tl:function(){return l}});var n=t(36164),s=t(3546),a=t(73492),o=t(31458),i=t(81565);let l=e=>{let{className:r,...t}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,a.cn)("mx-auto flex w-full justify-center",r),...t})};l.displayName="Pagination";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("ul",{ref:r,className:(0,a.cn)("flex flex-row items-center gap-1",t),...s})});d.displayName="PaginationContent";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("li",{ref:r,className:(0,a.cn)("",t),...s})});c.displayName="PaginationItem";let u=e=>{let{className:r,isActive:t,size:s="icon",...i}=e;return(0,n.jsx)("a",{"aria-current":t?"page":void 0,className:(0,a.cn)("select-none",(0,o.d)({variant:t?"outline":"ghost",size:s}),r),...i})};u.displayName="PaginationLink";let f=e=>{let{className:r,disabled:t,...s}=e;return(0,n.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,a.cn)("cursor-pointer select-none gap-1 pl-2.5",t&&"cursor-not-allowed text-muted-foreground",r),...s,children:[(0,n.jsx)(i.IconChevronLeft,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Previous"})]})};f.displayName="PaginationPrevious";let m=e=>{let{className:r,disabled:t,...s}=e;return(0,n.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,a.cn)("cursor-pointer select-none gap-1 pr-2.5",t&&"cursor-not-allowed text-muted-foreground",r),...s,children:[(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(i.IconChevronRight,{className:"h-4 w-4"})]})};m.displayName="PaginationNext";let x=e=>{let{className:r,...t}=e;return(0,n.jsxs)("span",{"aria-hidden":!0,className:(0,a.cn)("flex h-9 w-9 items-center justify-center",r),...t,children:[(0,n.jsx)(i.IconMore,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"More pages"})]})};x.displayName="PaginationEllipsis"},84942:function(e,r,t){"use strict";t.d(r,{J2:function(){return i},xo:function(){return l},yk:function(){return d}});var n=t(36164),s=t(3546),a=t(83299),o=t(73492);let i=a.fC,l=a.xz;a.x8,a.h_,a.ee;let d=s.forwardRef((e,r)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,n.jsx)(a.VY,{ref:r,sideOffset:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});d.displayName=a.VY.displayName},57830:function(e,r,t){"use strict";t.r(r),t.d(r,{ScrollArea:function(){return i},ScrollBar:function(){return l}});var n=t(36164),s=t(3546),a=t(86102),o=t(73492);let i=s.forwardRef((e,r)=>{let{className:t,children:s,...i}=e;return(0,n.jsxs)(a.fC,{className:(0,o.cn)("relative overflow-hidden",t),...i,children:[(0,n.jsx)(a.l_,{ref:r,className:"h-full w-full rounded-[inherit] [&>div]:!block",children:s}),(0,n.jsx)(l,{}),(0,n.jsx)(a.Ns,{})]})});i.displayName=a.fC.displayName;let l=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...i}=e;return(0,n.jsx)(a.gb,{ref:r,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,n.jsx)(a.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=a.gb.displayName},3448:function(e,r,t){"use strict";t.d(r,{O:function(){return a}});var n=t(36164),s=t(73492);function a(e){let{className:r,...t}=e;return(0,n.jsx)("div",{className:(0,s.cn)("h-4 animate-pulse rounded-md bg-border",r),...t})}},99047:function(e,r,t){"use strict";t.d(r,{RM:function(){return l},SC:function(){return c},iA:function(){return o},pj:function(){return f},ss:function(){return u},xD:function(){return i}});var n=t(36164),s=t(3546),a=t(73492);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("table",{ref:r,className:(0,a.cn)("w-full caption-bottom text-sm",t),...s})});o.displayName="Table";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("thead",{ref:r,className:(0,a.cn)("[&_tr]:border-b",t),...s})});i.displayName="TableHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("tbody",{ref:r,className:(0,a.cn)("[&_tr:last-child]:border-0",t),...s})});l.displayName="TableBody";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("tfoot",{ref:r,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})});d.displayName="TableFooter";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("tr",{ref:r,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});c.displayName="TableRow";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("th",{ref:r,className:(0,a.cn)("h-12 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});u.displayName="TableHead";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("td",{ref:r,className:(0,a.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});f.displayName="TableCell";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("caption",{ref:r,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",t),...s})});m.displayName="TableCaption"},83721:function(e,r,t){"use strict";t.d(r,{E:function(){return d}});var n=t(36164),s=t(3546),a=t(1663),o=t(73492),i=t(63795),l=t(31458);let d=s.forwardRef((e,r)=>{let{className:t,value:d=[],onChange:c,...u}=e,[f,m]=s.useState(""),x=e=>{null==c||c(d.filter(r=>r!==e))};return(0,n.jsxs)("div",{className:(0,o.cn)("flex min-h-[2.25rem] w-full flex-wrap items-center gap-2 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),children:[d.map(e=>(0,n.jsxs)(i.C,{variant:"secondary",className:"gap-1 pr-1",children:[e,(0,n.jsxs)(l.z,{type:"button",variant:"ghost",size:"icon",className:"h-3 w-3 hover:bg-transparent",onClick:()=>x(e),children:[(0,n.jsx)(a.Z,{className:"h-3 w-3"}),(0,n.jsxs)("span",{className:"sr-only",children:["Remove ",e]})]})]},e)),(0,n.jsx)("input",{ref:r,type:"text",className:"flex-1 bg-transparent outline-none placeholder:text-muted-foreground",value:f,onChange:e=>m(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let r=f.trim();r&&!d.includes(r)&&(null==c||c([...d,r]),m(""))}else"Backspace"===e.key&&!f&&d.length>0&&(null==c||c(d.slice(0,-1)))},...u})]})});d.displayName="TagInput"},29:function(e,r,t){"use strict";t.d(r,{_v:function(){return c},aJ:function(){return d},pn:function(){return i},u:function(){return l}});var n=t(36164),s=t(3546),a=t(44421),o=t(73492);let i=a.zt,l=a.fC,d=a.xz;a.h_;let c=s.forwardRef((e,r)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,n.jsx)(a.VY,{ref:r,sideOffset:s,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs font-medium text-popover-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",t),...i})});c.displayName=a.VY.displayName},21808:function(e,r,t){"use strict";t.d(r,{$6:function(){return a},$I:function(){return o},GI:function(){return c},L8:function(){return s},ir:function(){return i},ki:function(){return d},o0:function(){return n},rZ:function(){return l}});let n="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},o=48,i="NOT_FOUND",l="\n",d=["think"],c=[]},24449:function(e,r,t){"use strict";t.d(r,{S:function(){return i},n:function(){return l}});var n=t(3546),s=t(45391),a=t(16784);let o=e=>{let r=(0,a.d)(e);n.useEffect(()=>()=>{r.current()},[])};function i(e,r,t){let i=(0,a.d)(e),l=n.useMemo(()=>(0,s.Z)(function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return i.current(...r)},r,t),[]);return o(()=>{var e;null==t||null===(e=t.onUnmount)||void 0===e||e.call(t,l),l.cancel()}),{run:l,cancel:l.cancel,flush:l.flush}}function l(e,r,t){let[s,a]=n.useState(e),{run:o}=i(()=>{a(e)},r,t);return n.useEffect(()=>{o()},[e]),[s,a]}},16784:function(e,r,t){"use strict";t.d(r,{d:function(){return s}});var n=t(3546);function s(e){let r=n.useRef(e);return r.current=e,r}},54491:function(e,r,t){"use strict";function n(e,[r,t]){return Math.min(t,Math.max(r,e))}t.d(r,{u:function(){return n}})},18216:function(e,r,t){"use strict";var n=t(6670),s=/^\s+/;r.Z=function(e){return e?e.slice(0,(0,n.Z)(e)+1).replace(s,""):e}},6670:function(e,r){"use strict";var t=/\s/;r.Z=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},96786:function(e,r){"use strict";r.Z=function(e){return null!=e&&"object"==typeof e}},55357:function(e,r,t){"use strict";var n=t(17996),s=t(96786);r.Z=function(e){return"symbol"==typeof e||(0,s.Z)(e)&&"[object Symbol]"==(0,n.Z)(e)}},26165:function(e,r,t){"use strict";var n=t(18216),s=t(84639),a=t(55357),o=0/0,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;r.Z=function(e){if("number"==typeof e)return e;if((0,a.Z)(e))return o;if((0,s.Z)(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=(0,s.Z)(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=(0,n.Z)(e);var t=l.test(e);return t||d.test(e)?c(e.slice(2),t?2:8):i.test(e)?o:+e}}},function(e){e.O(0,[7565,8415,4691,55,436,340,9906,4007,1283,3087,2429,8511,240,1454,4421,1002,6805,6065,3492,1565,410,3396,3375,5289,1744],function(){return e(e.s=81102)}),_N_E=e.O()}]);