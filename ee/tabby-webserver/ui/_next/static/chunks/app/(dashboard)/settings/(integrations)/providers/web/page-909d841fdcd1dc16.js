(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1102],{14375:function(e,n,r){"use strict";r.d(n,{j:function(){return i}});let l=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,t=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.flat(1/0).filter(Boolean).join(" ")},i=(e,n)=>r=>{var i;if((null==n?void 0:n.variants)==null)return t(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:a}=n,o=Object.keys(s).map(e=>{let n=null==r?void 0:r[e],t=null==a?void 0:a[e];if(null===n)return null;let i=l(n)||l(t);return s[e][i]}),u=r&&Object.entries(r).reduce((e,n)=>{let[r,l]=n;return void 0===l||(e[r]=l),e},{}),c=null==n?void 0:null===(i=n.compoundVariants)||void 0===i?void 0:i.reduce((e,n)=>{let{class:r,className:l,...t}=n;return Object.entries(t).every(e=>{let[n,r]=e;return Array.isArray(r)?r.includes({...a,...u}[n]):({...a,...u})[n]===r})?[...e,r,l]:e},[]);return t(e,o,c,null==r?void 0:r.class,null==r?void 0:r.className)}},10881:function(e,n,r){Promise.resolve().then(r.bind(r,4841))},4841:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return y}});var l=r(36164),t=r(70652),i=r.n(t),s=r(31458),a=r(3546),o=r(2578),u=r(40055),c=r(21808),d=r(43240),v=r(11634),f=r(70410),x=r(81565),j=r(49506),h=r(99047),m=r(6230),g=r(55137),p=r(14522);let b=(0,d.BX)("\n  mutation DeleteWebCrawlerUrl($id: ID!) {\n    deleteWebCrawlerUrl(id: $id)\n  }\n"),N=c.L8;function w(){var e,n;let[r,t]=a.useState(),[{data:i,fetching:c},d]=(0,u.aM)({query:f.XP,variables:{last:N,before:r}}),[w,y]=a.useState(1),C=a.useMemo(()=>{var e,n;return null==i?void 0:null===(n=i.webCrawlerUrls)||void 0===n?void 0:null===(e=n.edges)||void 0===e?void 0:e.slice().reverse()},[null==i?void 0:null===(e=i.webCrawlerUrls)||void 0===e?void 0:e.edges]),k=null==i?void 0:null===(n=i.webCrawlerUrls)||void 0===n?void 0:n.pageInfo,P=Math.ceil(((null==C?void 0:C.length)||0)/N),I=a.useMemo(()=>{var e;return null==C?void 0:null===(e=C.slice)||void 0===e?void 0:e.call(C,(w-1)*N,w*N)},[w,C]),Z=(null==k?void 0:k.hasPreviousPage)||w<P,S=w>1,A=!!(null==I?void 0:I.length)&&(Z||S),$=e=>{var n,r;return null==C?void 0:null===(r=C.slice(0,(e-1)*N))||void 0===r?void 0:null===(n=r.pop())||void 0===n?void 0:n.cursor},O=e=>{t($(e))},U=(0,v.D)(p.C),_=e=>U({command:e}).then(e=>{var n,r;(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.triggerJobRun)?(o.A.success("The job has been triggered successfully, it may take a few minutes to process."),d()):o.A.error((null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to trigger job")}),D=(0,v.D)(b),M=(e,n)=>{D({id:e}).then(e=>{var r,l;(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.deleteWebCrawlerUrl)?O(n?w-1:w):o.A.error((null==e?void 0:null===(l=e.error)||void 0===l?void 0:l.message)||"Failed to delete")})};return a.useEffect(()=>{!c&&P<w&&w>1&&y(P)},[P,w]),(0,l.jsxs)(m.Z,{loading:c,children:[(0,l.jsxs)(h.iA,{className:"table-fixed border-b",children:[(0,l.jsx)(h.xD,{children:(0,l.jsxs)(h.SC,{children:[(0,l.jsx)(h.ss,{className:"w-[70%]",children:"URL"}),(0,l.jsx)(h.ss,{children:"Job"}),(0,l.jsx)(h.ss,{className:"w-[100px]"})]})}),(0,l.jsx)(h.RM,{children:(null==I?void 0:I.length)||1!==w?(0,l.jsx)(l.Fragment,{children:null==I?void 0:I.map(e=>(0,l.jsxs)(h.SC,{children:[(0,l.jsx)(h.pj,{className:"break-all lg:break-words",children:e.node.url}),(0,l.jsx)(h.pj,{children:(0,l.jsx)(g._,{jobInfo:e.node.jobInfo,onTrigger:()=>_(e.node.jobInfo.command)})}),(0,l.jsx)(h.pj,{className:"text-right",children:(0,l.jsx)(s.z,{size:"icon",variant:"hover-destructive",onClick:()=>M(e.node.id,1===I.length),children:(0,l.jsx)(x.IconTrash,{})})})]},e.node.id))}):(0,l.jsx)(h.SC,{children:(0,l.jsx)(h.pj,{colSpan:4,className:"h-[100px] text-center",children:"No Data"})})})]}),A&&(0,l.jsx)(j.tl,{className:"my-4",children:(0,l.jsxs)(j.ng,{children:[(0,l.jsx)(j.nt,{children:(0,l.jsx)(j.dN,{disabled:!S,onClick:()=>{if(w<=1||c)return;let e=w-1;O(e),y(e)}})}),(0,l.jsx)(j.nt,{children:(0,l.jsx)(j.$0,{disabled:!Z,onClick:()=>{if(!Z||c)return;let e=w+1;O(e),y(e)}})})]})})]})}function y(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsx)(i(),{href:"./web/new",className:(0,s.d)(),children:"Create"})}),(0,l.jsx)(w,{})]})}},49506:function(e,n,r){"use strict";r.d(n,{$0:function(){return f},dN:function(){return v},ng:function(){return u},nt:function(){return c},tl:function(){return o}});var l=r(36164),t=r(3546),i=r(74248),s=r(31458),a=r(81565);let o=e=>{let{className:n,...r}=e;return(0,l.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",n),...r})};o.displayName="Pagination";let u=t.forwardRef((e,n)=>{let{className:r,...t}=e;return(0,l.jsx)("ul",{ref:n,className:(0,i.cn)("flex flex-row items-center gap-1",r),...t})});u.displayName="PaginationContent";let c=t.forwardRef((e,n)=>{let{className:r,...t}=e;return(0,l.jsx)("li",{ref:n,className:(0,i.cn)("",r),...t})});c.displayName="PaginationItem";let d=e=>{let{className:n,isActive:r,size:t="icon",...a}=e;return(0,l.jsx)("a",{"aria-current":r?"page":void 0,className:(0,i.cn)((0,s.d)({variant:r?"outline":"ghost",size:t}),n),...a})};d.displayName="PaginationLink";let v=e=>{let{className:n,disabled:r,...t}=e;return(0,l.jsxs)(d,{"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("cursor-pointer gap-1 pl-2.5",r&&"cursor-not-allowed text-muted-foreground",n),...t,children:[(0,l.jsx)(a.IconChevronLeft,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Previous"})]})};v.displayName="PaginationPrevious";let f=e=>{let{className:n,disabled:r,...t}=e;return(0,l.jsxs)(d,{"aria-label":"Go to next page",size:"default",className:(0,i.cn)("cursor-pointer gap-1 pr-2.5",r&&"cursor-not-allowed text-muted-foreground",n),...t,children:[(0,l.jsx)("span",{children:"Next"}),(0,l.jsx)(a.IconChevronRight,{className:"h-4 w-4"})]})};f.displayName="PaginationNext"},70652:function(e,n,r){e.exports=r(54007)},29434:function(e,n,r){"use strict";r.d(n,{M:function(){return o}});var l,t=r(3546),i=r(65292);let s=(l||(l=r.t(t,2)))["useId".toString()]||(()=>void 0),a=0;function o(e){let[n,r]=t.useState(s());return(0,i.b)(()=>{e||r(e=>null!=e?e:String(a++))},[e]),e||(n?`radix-${n}`:"")}},18216:function(e,n,r){"use strict";var l=r(6670),t=/^\s+/;n.Z=function(e){return e?e.slice(0,(0,l.Z)(e)+1).replace(t,""):e}},6670:function(e,n){"use strict";var r=/\s/;n.Z=function(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}},84639:function(e,n){"use strict";n.Z=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},26165:function(e,n,r){"use strict";var l=r(18216),t=r(84639),i=r(55357),s=0/0,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;n.Z=function(e){if("number"==typeof e)return e;if((0,i.Z)(e))return s;if((0,t.Z)(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=(0,t.Z)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(0,l.Z)(e);var r=o.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?s:+e}}},function(e){e.O(0,[7565,7998,5498,4007,1058,530,7980,259,2578,4421,9736,1565,3396,1666,3375,5289,1744],function(){return e(e.s=10881)}),_N_E=e.O()}]);