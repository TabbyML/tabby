(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{75045:function(e,t,n){Promise.resolve().then(n.bind(n,60901))},60901:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var s=n(57437),a=n(93023),r=n(12609),i=n(84168),o=n(16775),l=n(13287),d=n(2265),c=n(39311);let u=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});u.displayName="Card";let x=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",n),...a})});x.displayName="CardHeader";let h=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});h.displayName="CardTitle";let m=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",n),...a})});m.displayName="CardDescription";let p=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",n),...a})});p.displayName="CardContent";let f=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",n),...a})});f.displayName="CardFooter";var j=n(70349);function v(e){let{addr:t,name:n,kind:a,device:r,cudaDevices:i,cpuCount:o,cpuInfo:l}=e,d=(0,c.cn)("ml-2","whitespace-nowrap","overflow-hidden","overflow-ellipsis"),m="".concat(l," (").concat(o," cores)");return(0,s.jsxs)(u,{className:"rounded-xl p-2 shadow-md lg:w-[260px]",children:[(0,s.jsx)(x,{className:"p-0 px-4 pb-2 pt-4",children:(0,s.jsxs)(h,{className:"text-md flex items-center font-normal",children:[(0,s.jsx)(k,{type:a}),(0,s.jsx)("p",{title:n,className:d,children:n})]})}),(0,s.jsxs)(p,{className:"flex flex-col gap-2 p-0 px-4 pb-4 pt-2",children:[(0,s.jsxs)(g,{children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:" h-5 w-5 text-gray-400",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}),(0,s.jsx)("rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}),(0,s.jsx)("rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}),(0,s.jsx)("path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}),(0,s.jsx)("path",{d:"M12 12V8"})]}),(0,s.jsx)("p",{title:t,className:d,children:t})]}),(0,s.jsxs)(g,{children:[(0,s.jsxs)("svg",{className:" h-5 w-5 text-gray-400",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{height:"16",rx:"2",width:"16",x:"4",y:"4"}),(0,s.jsx)("rect",{height:"6",width:"6",x:"9",y:"9"}),(0,s.jsx)("path",{d:"M15 2v2"}),(0,s.jsx)("path",{d:"M15 20v2"}),(0,s.jsx)("path",{d:"M2 15h2"}),(0,s.jsx)("path",{d:"M2 9h2"}),(0,s.jsx)("path",{d:"M20 15h2"}),(0,s.jsx)("path",{d:"M20 9h2"}),(0,s.jsx)("path",{d:"M9 2v2"}),(0,s.jsx)("path",{d:"M9 20v2"})]}),(0,s.jsx)("p",{title:m,className:d,children:m})]}),"cuda"==r&&(null==i?void 0:i.length)&&i.map((e,t)=>(0,s.jsxs)(g,{children:[(0,s.jsxs)("svg",{className:" h-5 w-5 text-gray-400",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M6 19v-3"}),(0,s.jsx)("path",{d:"M10 19v-3"}),(0,s.jsx)("path",{d:"M14 19v-3"}),(0,s.jsx)("path",{d:"M18 19v-3"}),(0,s.jsx)("path",{d:"M8 11V9"}),(0,s.jsx)("path",{d:"M16 11V9"}),(0,s.jsx)("path",{d:"M12 11V9"}),(0,s.jsx)("path",{d:"M2 15h20"}),(0,s.jsx)("path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z"})]}),(0,s.jsx)("p",{title:e,className:d,children:e})]},t))]})]})}function g(e){let{children:t}=e;return(0,s.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:t})}function k(e){let{type:t}=e,n="h-5 w-5";return t==j.xj.Completion?(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,s.jsx)("path",{d:"m10 13-2 2 2 2"}),(0,s.jsx)("path",{d:"m14 17 2-2-2-2"})]}):t==j.xj.Chat?(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),(0,s.jsx)("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}):"INDEX"==t?(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"m9 9-2 2 2 2"}),(0,s.jsx)("path",{d:"m13 13 2-2-2-2"}),(0,s.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.jsx)("path",{d:"m21 21-4.3-4.3"})]}):void 0}var N=n(8724),w=n(71427),y=n(10144),b=n(33555);let C="community-dialog-shown";function M(){let[e,t]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{localStorage.getItem(C)||(t(!0),localStorage.setItem(C,"true"))},[]),(0,s.jsxs)("div",{className:"p-4 lg:p-16",children:[(0,s.jsx)(_,{}),(0,s.jsx)(r.Vq,{open:e,onOpenChange:t,children:(0,s.jsxs)(r.cZ,{children:[(0,s.jsxs)(r.fK,{className:"gap-3",children:[(0,s.jsx)(r.$N,{children:"Join the Tabby community"}),(0,s.jsx)(r.Be,{children:"Connect with other contributors building Tabby. Share knowledge, get help, and contribute to the open-source project."})]}),(0,s.jsx)(r.cN,{className:"sm:justify-start",children:(0,s.jsxs)("a",{target:"_blank",href:"https://join.slack.com/t/tabbycommunity/shared_invite/zt-1xeiddizp-bciR2RtFTaJ37RBxr8VxpA",className:(0,a.d)(),children:[(0,s.jsx)(i.gx,{className:"-ml-2 h-8 w-8"}),"Join us on Slack"]})})]})})]})}function _(){let{data:e}=(0,l.Q)(),t=(0,N.s)(e),{data:n}=(0,w.a)(y.$);if(e)return(0,s.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,s.jsxs)("h1",{children:[(0,s.jsx)("span",{className:"font-bold",children:"Congratulations"}),", your tabby instance is up!"]}),(0,s.jsx)("span",{className:"flex flex-wrap gap-1",children:(0,s.jsx)("a",{target:"_blank",href:"https://github.com/TabbyML/tabby/releases/tag/".concat(e.version.git_describe),children:(0,s.jsx)("img",{src:"https://img.shields.io/badge/version-".concat(encodeURIComponent(e.version.git_describe.replaceAll("-","--")),"-green")})})}),(0,s.jsx)(o.Z,{}),(0,s.jsxs)("div",{className:"mt-4 rounded-lg bg-zinc-100 p-4 dark:bg-zinc-800",children:[(0,s.jsx)("span",{className:"font-bold",children:"Workers"}),!!(null==n?void 0:n.registrationToken)&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:["Registeration token: ",(0,s.jsx)("span",{className:"text-sm rounded-lg text-red-600",children:n.registrationToken}),(0,s.jsx)(b.q,{value:n.registrationToken})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-col gap-4 lg:flex-row lg:flex-wrap",children:[!!(null==t?void 0:t[j.xj.Completion])&&(0,s.jsx)(s.Fragment,{children:t[j.xj.Completion].map((e,t)=>(0,s.jsx)(v,{...e},t))}),!!(null==t?void 0:t[j.xj.Chat])&&(0,s.jsx)(s.Fragment,{children:t[j.xj.Chat].map((e,t)=>(0,s.jsx)(v,{...e},t))}),(0,s.jsx)(v,{addr:"localhost",name:"Code Search Index",kind:"INDEX",arch:"",device:e.device,cudaDevices:e.cuda_devices,cpuCount:e.cpu_count,cpuInfo:e.cpu_info})]})]})]})}},33555:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var s=n(57437);n(2265);var a=n(93023),r=n(84168),i=n(77723);function o(e){let{className:t,value:n,...o}=e,{isCopied:l,copyToClipboard:d}=(0,i.m)({timeout:2e3});return n?(0,s.jsxs)(a.z,{variant:"ghost",size:"icon",className:t,onClick:()=>{l||d(n)},...o,children:[l?(0,s.jsx)(r.NO,{}):(0,s.jsx)(r.vU,{}),(0,s.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},12609:function(e,t,n){"use strict";n.d(t,{$N:function(){return m},Be:function(){return p},Vq:function(){return l},cN:function(){return h},cZ:function(){return u},fK:function(){return x}});var s=n(57437),a=n(2265),r=n(25555),i=n(39311),o=n(84168);let l=r.fC;r.xz;let d=e=>{let{className:t,children:n,...a}=e;return(0,s.jsx)(r.h_,{className:(0,i.cn)(t),...a,children:(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center sm:items-center",children:n})})};d.displayName=r.h_.displayName;let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",n),...a})});c.displayName=r.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed z-50 grid w-full gap-4 rounded-b-lg border bg-background p-6 shadow-sm animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",n),...l,children:[a,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.bM,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let x=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};x.displayName="DialogHeader";let h=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};h.displayName="DialogFooter";let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});m.displayName=r.Dx.displayName;let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});p.displayName=r.dk.displayName},16775:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(57437),a=n(2265),r=n(26823),i=n(39311);let o=a.forwardRef((e,t)=>{let{className:n,orientation:a="horizontal",decorative:o=!0,...l}=e;return(0,s.jsx)(r.f,{ref:t,decorative:o,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",n),...l})});o.displayName=r.f.displayName},70349:function(e,t,n){"use strict";var s,a;n.d(t,{bh:function(){return i},d3:function(){return r},xj:function(){return s}}),(a=s||(s={})).Chat="CHAT",a.Completion="COMPLETION";let r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetWorkers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"addr"}},{kind:"Field",name:{kind:"Name",value:"device"}},{kind:"Field",name:{kind:"Name",value:"arch"}},{kind:"Field",name:{kind:"Name",value:"cpuInfo"}},{kind:"Field",name:{kind:"Name",value:"cpuCount"}},{kind:"Field",name:{kind:"Name",value:"cudaDevices"}}]}}]}}]},i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRegistrationToken"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"registrationToken"}}]}}]}},10144:function(e,t,n){"use strict";n.d(t,{G:function(){return i},$:function(){return o}});var s=n(70349);let a={"\n  query GetWorkers {\n    workers {\n      kind\n      name\n      addr\n      device\n      arch\n      cpuInfo\n      cpuCount\n      cudaDevices\n    }\n  }\n":s.d3,"\n  query GetRegistrationToken {\n    registrationToken\n  }\n":s.bh};function r(e){var t;return null!==(t=a[e])&&void 0!==t?t:{}}let i=r("\n  query GetWorkers {\n    workers {\n      kind\n      name\n      addr\n      device\n      arch\n      cpuInfo\n      cpuCount\n      cudaDevices\n    }\n  }\n"),o=r("\n  query GetRegistrationToken {\n    registrationToken\n  }\n")},77723:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var s=n(2265);function a(e){let{timeout:t=2e3}=e,[n,a]=s.useState(!1);return{isCopied:n,copyToClipboard:e=>{var n;(null===(n=navigator.clipboard)||void 0===n?void 0:n.writeText)&&e&&navigator.clipboard.writeText(e).then(()=>{a(!0),setTimeout(()=>{a(!1)},t)})}}}},71427:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var s,a=n(30713),r=n(95054),i=n(62601);let o=new r.g6("".concat(null!==(s=i.env.NEXT_PUBLIC_TABBY_SERVER_URL)&&void 0!==s?s:"","/graphql"));function l(e,t,n){return(0,a.ZP)([e,t],e=>{let[t,n]=e;return o.request(t,n)},n)}},13287:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var s=n(1589),a=n(97605);function r(){return(0,s.Z)("/v1/health",a.Z)}},8724:function(e,t,n){"use strict";n.d(t,{s:function(){return x}});var s=n(2265),a=n(91317),r=n(16630),i=n(35512),o=n(70349),l=n(10144),d=n(71427);let c={[o.xj.Chat]:"chat_model",[o.xj.Completion]:"model"};function u(e,t){var n;return{kind:t,device:e.device,addr:"localhost",arch:"",cpuInfo:e.cpu_info,name:null!==(n=null==e?void 0:e[c[t]])&&void 0!==n?n:"",cpuCount:e.cpu_count,cudaDevices:e.cuda_devices}}function x(e){let{data:t}=(0,d.a)(l.G),n=null==t?void 0:t.workers,c=s.useMemo(()=>{let t=(0,i.Z)(n),s=(0,r.Z)(t,{kind:o.xj.Completion})>-1,l=(0,r.Z)(t,{kind:o.xj.Chat})>-1;return!s&&(null==e?void 0:e.model)&&t.push(u(e,o.xj.Completion)),!l&&(null==e?void 0:e.chat_model)&&t.push(u(e,o.xj.Chat)),(0,a.Z)(t,"kind")},[e,n]);return c}}},function(e){e.O(0,[882,845,431,286,967,971,864,744],function(){return e(e.s=75045)}),_N_E=e.O()}]);