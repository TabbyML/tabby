(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1908],{62918:function(e,n,r){Promise.resolve().then(r.bind(r,54306))},54306:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return m}});var t=r(57437),s=r(2265),a=r(24033),l=r(86806),i=r(99109),o=r(57166),d=r(39311),c=r(84168),u=r(67579),f=r(93111),x=r(1576);function m(){var e,n,r,l,d;let m=(0,a.useSearchParams)(),h=m.get("id"),[{data:g,error:j,fetching:b},p]=(0,i.aM)({query:o.GG,variables:{ids:[h]},pause:!h}),N=null==g?void 0:null===(n=g.jobRuns)||void 0===n?void 0:null===(e=n.edges)||void 0===e?void 0:e.slice(0,1),y=null==g?void 0:null===(d=g.jobRuns)||void 0===d?void 0:null===(l=d.edges)||void 0===l?void 0:null===(r=l[0])||void 0===r?void 0:r.node;return s.useEffect(()=>{let e;return(null==y?void 0:y.createdAt)&&!(null==y?void 0:y.finishedAt)&&(e=window.setTimeout(()=>{p()},5e3)),()=>{e&&clearInterval(e)}},[y]),(0,t.jsx)(t.Fragment,{children:b?(0,t.jsx)(f.c,{}):(0,t.jsxs)("div",{className:"flex flex-1 flex-col items-stretch gap-2",children:[(0,t.jsx)(x.B,{jobs:null==N?void 0:N.slice(0,1),shouldRedirect:!1}),(0,t.jsxs)(u.mQ,{defaultValue:"stdout",className:"flex flex-1 flex-col",children:[(0,t.jsxs)(u.dr,{className:"grid w-[400px] grid-cols-2",children:[(0,t.jsxs)(u.SP,{value:"stdout",children:[(0,t.jsx)(c.IconTerminalSquare,{className:"mr-1"}),"stdout"]}),(0,t.jsxs)(u.SP,{value:"stderr",children:[(0,t.jsx)(c.IconAlertTriangle,{className:"mr-1"}),"stderr"]})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsx)(u.nU,{value:"stdout",children:(0,t.jsx)(v,{value:null==y?void 0:y.stdout})}),(0,t.jsx)(u.nU,{value:"stderr",children:(0,t.jsx)(v,{value:null==y?void 0:y.stderr})})]})]})]})})}function v(e){let{children:n,className:r,value:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("mt-2 h-[66vh] w-full overflow-y-auto overflow-x-hidden rounded-lg border bg-gray-50 font-mono text-[0.9rem] dark:bg-gray-800",r),...a,children:s?(0,t.jsx)("pre",{className:"whitespace-pre-wrap p-4",children:(0,t.jsx)(l.Z,{children:s})}):(0,t.jsx)("div",{className:"p-4",children:"No Data"})})}},1576:function(e,n,r){"use strict";r.d(n,{B:function(){return m}});var t=r(57437);r(2265);var s=r(24033),a=r(61554),l=r.n(a),i=r(24144),o=r(62067),d=r.n(o),c=r(39311),u=r(29155),f=r(84168),x=r(32553);let m=e=>{let{jobs:n,shouldRedirect:r=!0}=e,a=(0,s.useRouter)();return(0,t.jsxs)(x.iA,{children:[(0,t.jsx)(x.xD,{children:(0,t.jsxs)(x.SC,{children:[(0,t.jsx)(x.ss,{className:"w-[35%]",children:"Start Time"}),(0,t.jsx)(x.ss,{className:"w-[35%]",children:"Duration"}),(0,t.jsx)(x.ss,{className:"w-[15%]",children:"Job"}),(0,t.jsx)(x.ss,{className:"w-[15%] text-center",children:"Status"})]})}),(0,t.jsx)(x.RM,{children:(null==n?void 0:n.length)?(0,t.jsx)(t.Fragment,{children:null==n?void 0:n.map(e=>{var n;return(0,t.jsxs)(x.SC,{className:(0,c.cn)(r&&"cursor-pointer"),onClick:n=>{r&&a.push("/jobs/detail?id=".concat(e.node.id))},children:[(0,t.jsx)(x.pj,{children:d()(e.node.createdAt).format("MMMM D, YYYY h:mm a")}),(0,t.jsx)(x.pj,{children:(0,i.Z)(null===(n=e.node)||void 0===n?void 0:n.exitCode)?"Running":function(e){let{createdAt:n,finishedAt:r}=e;if(!n||!r)return;let t=d().duration(d()(r).diff(n)).asMilliseconds();return l()(t)}(e.node)}),(0,t.jsx)(x.pj,{children:(0,t.jsx)(u.C,{variant:"secondary",children:e.node.job})}),(0,t.jsx)(x.pj,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(v,{node:e})})})]},e.node.id)})}):(0,t.jsx)(x.SC,{children:(0,t.jsx)(x.pj,{colSpan:4,className:"h-[100px] text-center",children:"No Data"})})})]})};function v(e){var n;let{node:r}=e;if(!r)return null;let s=null==r?void 0:null===(n=r.node)||void 0===n?void 0:n.exitCode;return(0,i.Z)(s)?(0,t.jsx)(f.IconInfoCircled,{}):0===s?(0,t.jsx)(f.IconCheckCircled,{}):(0,t.jsx)(f.IconCrossCircled,{})}},93111:function(e,n,r){"use strict";r.d(n,{P:function(){return i},c:function(){return l}});var t=r(57437),s=r(39311),a=r(25645);let l=e=>{let{className:n,...r}=e;return(0,t.jsxs)("div",{className:(0,s.cn)("space-y-3",n),...r,children:[(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"})]})},i=e=>{let{className:n,...r}=e;return(0,t.jsxs)("div",{className:(0,s.cn)("flex flex-col gap-3",n),...r,children:[(0,t.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,t.jsx)(a.O,{className:"h-4 w-full"})]})}},29155:function(e,n,r){"use strict";r.d(n,{C:function(){return i}});var t=r(57437);r(2265);var s=r(7404),a=r(39311);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:n,variant:r,...s}=e;return(0,t.jsx)("div",{className:(0,a.cn)(l({variant:r}),n),...s})}},25645:function(e,n,r){"use strict";r.d(n,{O:function(){return a}});var t=r(57437),s=r(39311);function a(e){let{className:n,...r}=e;return(0,t.jsx)("div",{className:(0,s.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...r})}},32553:function(e,n,r){"use strict";r.d(n,{RM:function(){return o},SC:function(){return c},iA:function(){return l},pj:function(){return f},ss:function(){return u},xD:function(){return i}});var t=r(57437),s=r(2265),a=r(39311);let l=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("table",{ref:n,className:(0,a.cn)("w-full caption-bottom text-sm",r),...s})});l.displayName="Table";let i=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("thead",{ref:n,className:(0,a.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tbody",{ref:n,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody";let d=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tfoot",{ref:n,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})});d.displayName="TableFooter";let c=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("tr",{ref:n,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});c.displayName="TableRow";let u=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("th",{ref:n,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableHead";let f=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("td",{ref:n,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});f.displayName="TableCell";let x=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("caption",{ref:n,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...s})});x.displayName="TableCaption"},67579:function(e,n,r){"use strict";r.d(n,{SP:function(){return d},dr:function(){return o},mQ:function(){return i},nU:function(){return c}});var t=r(57437),s=r(2265),a=r(34522),l=r(39311);let i=a.fC,o=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(a.aV,{ref:n,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});o.displayName=a.aV.displayName;let d=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(a.xz,{ref:n,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});d.displayName=a.xz.displayName;let c=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)(a.VY,{ref:n,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});c.displayName=a.VY.displayName},57166:function(e,n,r){"use strict";r.d(n,{GG:function(){return l},S1:function(){return a},lE:function(){return s}});var t=r(60106);let s=(0,t.BX)("\n  query ListInvitations(\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    invitations(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          email\n          code\n          createdAt\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),a=(0,t.BX)("\n  query repositories($after: String, $before: String, $first: Int, $last: Int) {\n    repositories(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          name\n          gitUrl\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),l=(0,t.BX)("\n  query ListJobRuns(\n    $ids: [ID!]\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    jobRuns(\n      ids: $ids\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          job\n          createdAt\n          finishedAt\n          exitCode\n          stdout\n          stderr\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n")}},function(e){e.O(0,[6990,3529,3072,89,4522,4989,7753,4168,2971,7864,1744],function(){return e(e.s=62918)}),_N_E=e.O()}]);