(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1929],{78627:function(e,n,t){Promise.resolve().then(t.bind(t,81722))},81722:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eP}});var s=t(36164),a=t(3546),l=t(42891),i=t.n(l),r=t(11978),o=t(23342),c=t(94755),d=t(47190),m=t.n(d),u=t(42450),f=t(36982),x=t(93668),p=t(11075),h=t(14439),v=t(1544),g=t(31458),b=t(81565),j=t(1853),y=t(78613),w=t(82157),C=t(72940),k=t(70783),N=t(21808),S=t(24449),E=t(16784),A=t(64566),L=t(63484),I=t(17451),R=t(90379),M=t(28445),F=t(84837),D=t(47241),O=t(63795),_=t(72657),P=t(45391),z=t(34021),B=t(21454),Z=t(3765),T=t(84942),K=t(29),H=t(24685),U=t(74630),q=t(16234),G=t(23455),J=t(82394);let V=a.createContext({}),W=T.xp,Q=a.forwardRef((e,n)=>(0,s.jsx)(T.tW,{...e,ref:n}));Q.displayName="SearchableSelectAnchor";let X=a.forwardRef((e,n)=>{let{getInputProps:t}=a.useContext(V),{onKeyDown:l,onChange:i,onInput:r,onBlur:o,onClick:c,...d}=e;return(0,s.jsx)(G.Z,{...t((0,q.Z)({onKeyDown:l,onChange:i,onInput:r,onBlur:o,onClick:c,ref:n},U.Z)),...d})});X.displayName="SearchableSelectTextarea";let Y=a.forwardRef((e,n)=>{let{getInputProps:t}=a.useContext(V),{onKeyDown:l,onChange:i,onInput:r,onBlur:o,onClick:c,...d}=e;return(0,s.jsx)(J.I,{...t((0,q.Z)({onKeyDown:l,onChange:i,onInput:r,onBlur:o,onClick:c,ref:n},U.Z)),...d})});Y.displayName="SearchableSelectInput";let $=a.forwardRef((e,n)=>{let{children:t,style:l,popupMatchAnchorWidth:i,...r}=e,{getMenuProps:o,anchorRef:c}=a.useContext(V),d=a.useRef(void 0);return a.useLayoutEffect(()=>{if(i){let e=c.current;if(e){let n=e.getBoundingClientRect();d.current=n.width}}},[]),(0,s.jsx)(T.i9,{children:(0,s.jsx)(T.yk,{align:"start",onOpenAutoFocus:e=>e.preventDefault(),style:{width:d.current,...l},...o({ref:n},{suppressRefError:!0}),...r,children:t})})});$.displayName="SearchableSelectContent";let ee=a.forwardRef((e,n)=>{let{item:t,index:l,className:i,children:r,disabled:o,...c}=e,{highlightedIndex:d,selectedItem:m,getItemProps:u}=a.useContext(V),f=d===l,x=m===t;return(0,s.jsx)(W,{asChild:!0,children:(0,s.jsx)("div",{className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",f&&"bg-accent text-accent-foreground",x&&"font-bold",o&&"pointer-events-none opacity-50",i),...u({item:t,index:l,onMouseLeave:e=>e.preventDefault(),onMouseOut:e=>e.preventDefault()}),...c,children:"function"==typeof r?r({highlighted:f,selected:x}):r})},t.id)});function en(e){let{options:n,onSelect:t,children:l,open:i,onOpenChange:r,stayOpenOnInputClick:o}=e,c=a.useRef(null),d=a.useCallback((e,n)=>{let{type:t,changes:s}=n;switch(t){case H.Kb.stateChangeTypes.MenuMouseLeave:return{...s,highlightedIndex:e.highlightedIndex};case H.Kb.stateChangeTypes.InputClick:let a=!!o||s.isOpen;return{...s,isOpen:a};default:return s}},[o]),m=(0,H.Kb)({items:null!=n?n:[],defaultIsOpen:i,onSelectedItemChange(e){let{selectedItem:n}=e;n&&(null==t||t(n),null==r||r(!1))},onIsOpenChange:e=>{let{isOpen:n}=e;null==r||r(!!n)},stateReducer:d}),{setHighlightedIndex:u,highlightedIndex:f}=m,x=(0,U.Z)(i)?m.isOpen:m.isOpen&&i;a.useEffect(()=>{x&&(null==n?void 0:n.length)&&-1===f&&u(0)},[x,n]);let p=a.useMemo(()=>({...m,open:x,anchorRef:c}),[m,x,c]);return(0,s.jsx)(V.Provider,{value:p,children:(0,s.jsx)(T.J2,{open:x,children:"function"==typeof l?l(p):l})})}ee.displayName="SearchableSelectOption";let et=a.forwardRef(function(e,n){let{onSubmit:t,input:l,setInput:i,isLoading:r,chatInputRef:o}=e,{formRef:c,onKeyDown:d}=function(){let e=(0,a.useRef)(null);return{formRef:e,onKeyDown:n=>{if("Enter"===n.key&&!n.shiftKey&&!n.nativeEvent.isComposing){var t;null===(t=e.current)||void 0===t||t.requestSubmit(),n.preventDefault()}}}}(),[m,u]=a.useState(null),[f,x]=a.useState(!1),p=a.useRef(),h=a.useRef(),[j,y]=a.useState([]),[w,C]=a.useState({}),{data:k}=(0,B.ZP)(m,Z.Z,{revalidateOnFocus:!1,dedupingInterval:0,errorRetryCount:0});a.useEffect(()=>{var e;let n=null!==(e=null==k?void 0:k.hits)&&void 0!==e?e:[];y(n),x(!!(null==n?void 0:n.length))},[null==k?void 0:k.hits]),a.useImperativeHandle(n,()=>({focus:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.focus()}})),a.useEffect(()=>{l&&o.current&&o.current!==document.activeElement&&o.current.focus()},[l,o]),a.useLayoutEffect(()=>{var e,n,t;(null===(e=h.current)||void 0===e?void 0:e.length)&&(null===(t=o.current)||void 0===t||null===(n=t.setSelectionRange)||void 0===n||n.call(t,h.current[0],h.current[1]),h.current=void 0)},[o]),a.useMemo(()=>(0,P.Z)(e=>{var n,t,s,a;let l=null!==(s=null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==s?s:"",i=null!==(a=null===(t=e.target)||void 0===t?void 0:t.selectionEnd)&&void 0!==a?a:0,r=es(l,i),o=null==r?void 0:r[1];if(o){let e=encodeURIComponent("name:".concat(o," AND kind:function")),n="/v1beta/search?q=".concat(e);u(n)}else y([]),x(!1)},200),[]);let N=async e=>{if(e.preventDefault(),!(null==l?void 0:l.trim())||r)return;let n=l;Object.keys(w).forEach(e=>{var t,s,a;let l=w[e];(null==l?void 0:l.doc)&&(n=n.replaceAll(e,"\n```".concat(null!==(s=null===(t=l.doc)||void 0===t?void 0:t.language)&&void 0!==s?s:"","\n").concat(null!==(a=l.doc.body)&&void 0!==a?a:"","\n","```","\n")))}),i(""),await t(n)},S=(e,n)=>{"Enter"===e.key&&n?e.preventDefault():n&&["ArrowRight","ArrowLeft","Home","End"].includes(e.key)?(y([]),x(!1)):(n||(e.preventDownshiftDefault=!0),d(e))};return(0,s.jsx)("form",{onSubmit:N,ref:c,children:(0,s.jsx)(en,{options:j,onSelect:e=>{var n,t,s;let a=null!==(n=p.current)&&void 0!==n?n:0,r=es(l,a);if(r){C({...w,["@".concat(null===(t=e.doc)||void 0===t?void 0:t.name)]:e});let n="@".concat(null==e?void 0:null===(s=e.doc)||void 0===s?void 0:s.name," "),o=l.substring(0,a).replace(new RegExp(r[0]),""),c=o.length+n.length;h.current=[c,c],i(o+n+l.slice(a))}y([]),x(!1)},open:f,onOpenChange:e=>{e&&(null==j?void 0:j.length)?x(e):(x(!1),y([]))},children:e=>{var n,t,a,c;let{open:d,highlightedIndex:m}=e,u=null==j?void 0:j[m];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{children:(0,s.jsxs)("div",{className:"relative flex max-h-60 w-full grow flex-col overflow-hidden bg-background px-8 sm:rounded-md sm:border sm:px-12",children:[(0,s.jsx)("span",{className:(0,v.cn)((0,g.d)({size:"sm",variant:"ghost"}),"absolute left-0 top-4 h-8 w-8 rounded-full bg-background p-0 hover:bg-background sm:left-4"),children:(0,s.jsx)(b.IconEdit,{})}),(0,s.jsx)(X,{tabIndex:0,rows:1,placeholder:"Ask a question.",spellCheck:!1,className:"min-h-[60px] w-full resize-none bg-transparent px-4 py-[1.3rem] focus-within:outline-none",value:l,ref:o,onChange:e=>{(0,z.Z)(e,"target.value")?(p.current=e.target.selectionEnd,i(e.target.value)):p.current=void 0},onKeyDown:e=>S(e,d)}),(0,s.jsx)("div",{className:"absolute right-0 top-4 sm:right-4",children:(0,s.jsxs)(K.u,{children:[(0,s.jsx)(K.aJ,{asChild:!0,children:(0,s.jsxs)(g.z,{type:"submit",size:"icon",disabled:r||""===l,children:[(0,s.jsx)(b.IconArrowElbow,{}),(0,s.jsx)("span",{className:"sr-only",children:"Send message"})]})}),(0,s.jsx)(K._v,{children:"Send message"})]})})]})}),(0,s.jsx)($,{align:"start",side:"top",onOpenAutoFocus:e=>e.preventDefault(),className:"w-[60vw] md:w-[430px]",children:(0,s.jsxs)(T.J2,{open:d&&!!u,children:[(0,s.jsx)(T.tW,{asChild:!0,children:(0,s.jsx)("div",{className:"max-h-[300px] overflow-y-scroll",children:d&&!!(null==j?void 0:j.length)&&j.map((e,n)=>{var t,a,l;return(0,s.jsx)(ee,{item:e,index:n,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-8 overflow-x-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(ea,{kind:null==e?void 0:null===(t=e.doc)||void 0===t?void 0:t.kind}),(0,s.jsxs)("div",{className:"max-w-[200px] truncate",children:[null==e?void 0:null===(a=e.doc)||void 0===a?void 0:a.name,"(...)"]})]}),(0,s.jsx)("div",{className:"flex-1 truncate text-right text-sm text-muted-foreground",children:null==e?void 0:null===(l=e.doc)||void 0===l?void 0:l.body})]})},null==e?void 0:e.id)})})}),(0,s.jsx)(T.yk,{asChild:!0,align:"start",side:"right",alignOffset:-4,onOpenAutoFocus:e=>e.preventDefault(),onKeyDownCapture:e=>e.preventDefault(),className:"rounded-none",collisionPadding:{bottom:120},children:(0,s.jsxs)("div",{className:"flex max-h-[70vh] w-[20vw] flex-col overflow-y-auto px-2 md:w-[240px] lg:w-[340px]",children:[(0,s.jsxs)("div",{className:"mb-2",children:[(null==u?void 0:null===(n=u.doc)||void 0===n?void 0:n.kind)?"(".concat(null==u?void 0:null===(t=u.doc)||void 0===t?void 0:t.kind,") "):"",null==u?void 0:null===(a=u.doc)||void 0===a?void 0:a.name]}),(0,s.jsx)("div",{className:"flex-1 whitespace-pre-wrap break-all text-muted-foreground",children:null==u?void 0:null===(c=u.doc)||void 0===c?void 0:c.body})]})})]})})]})}})})});function es(e,n){let t=e.substring(0,n),s=/@(\w+)$/.exec(t);return s}function ea(e){let{kind:n,...t}=e;return(0,s.jsx)(b.IconSymbolFunction,{...t})}function el(e){let{href:n,children:t}=e;return(0,s.jsxs)("a",{href:n,target:"_blank",className:"inline-flex flex-1 justify-center gap-1 leading-4 hover:underline",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("svg",{"aria-hidden":"true",height:"7",viewBox:"0 0 6 6",width:"7",className:"opacity-70",children:(0,s.jsx)("path",{d:"M1.25215 5.54731L0.622742 4.9179L3.78169 1.75597H1.3834L1.38936 0.890915H5.27615V4.78069H4.40513L4.41109 2.38538L1.25215 5.54731Z",fill:"currentColor"})})]})}function ei(e){let{className:n,...t}=e;return(0,s.jsxs)("p",{className:(0,v.cn)("px-2 text-center text-xs leading-normal text-muted-foreground",n),...t,children:[(0,s.jsx)(el,{href:"https://tabby.tabbyml.com",children:"Tabby"}),", an opensource, self-hosted AI coding assistant ."]})}let er=a.forwardRef(function(e,n){let{stop:t,reload:l,input:i,setInput:r,className:o,onSubmit:c,chatMaxWidthClass:d,chatInputRef:m}=e,u=a.useRef(null),{container:f,onClearMessages:x,qaPairs:p,isLoading:h,relevantContext:j,removeRelevantContext:y,activeSelection:w}=a.useContext(eM),C=(0,I.a)(e=>e.enableActiveSelection);return a.useImperativeHandle(n,()=>({focus:()=>{var e;null===(e=u.current)||void 0===e||e.focus()}}),[]),(0,s.jsxs)("div",{className:o,children:[(0,s.jsx)(_.K,{container:f}),(0,s.jsxs)("div",{className:"mx-auto md:px-4 ".concat(d),children:[(0,s.jsxs)("div",{className:"flex h-10 items-center justify-center gap-2",children:[h?(0,s.jsxs)(g.z,{variant:"outline",onClick:()=>t(),className:"bg-background",children:[(0,s.jsx)(b.IconStop,{className:"mr-2"}),"Stop generating"]}):(null==p?void 0:p.length)>0&&(0,s.jsxs)(g.z,{variant:"outline",onClick:()=>l(),className:"bg-background",children:[(0,s.jsx)(b.IconRefresh,{className:"mr-2"}),"Regenerate response"]}),(null==p?void 0:p.length)>0&&(0,s.jsxs)(g.z,{variant:"outline",onClick:x,className:"bg-background",children:[(0,s.jsx)(b.IconTrash,{className:"mr-2"}),"Clear"]})]}),(0,s.jsxs)("div",{className:"border-t bg-background px-4 py-2 shadow-lg sm:space-y-4 sm:rounded-t-xl sm:border md:py-4",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,s.jsxs)(M.M,{presenceAffectsLayout:!0,children:[w?(0,s.jsx)(F.E.div,{initial:{opacity:0,scale:.9,y:-5},animate:{opacity:1,scale:1,y:0},transition:{ease:"easeInOut",duration:.1},exit:{opacity:0,scale:.9,y:5},children:(0,s.jsxs)(O.C,{variant:"outline",className:(0,v.cn)("inline-flex h-7 flex-nowrap items-center gap-1.5 overflow-hidden rounded-md pr-0 text-sm font-semibold",{"border-dashed !text-muted-foreground italic line-through":!C}),children:[(0,s.jsx)(eo,{context:w,className:"flex-1 truncate"}),(0,s.jsx)("span",{className:"shrink-0 text-muted-foreground",children:"Current file"}),(0,s.jsx)(g.z,{size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-l-none",onClick:e=>{(0,D.qs)(!C)},children:C?(0,s.jsx)(b.IconEye,{}):(0,s.jsx)(b.IconEyeOff,{})})]})}):null,j.map((e,n)=>(0,s.jsx)(F.E.div,{initial:{opacity:0,scale:.9,y:-5},animate:{opacity:1,scale:1,y:0},transition:{ease:"easeInOut",duration:.1},exit:{opacity:0,scale:.9,y:5},layout:!0,children:(0,s.jsxs)(O.C,{variant:"outline",className:"inline-flex h-7 flex-nowrap items-center gap-1 overflow-hidden rounded-md pr-0 text-sm font-semibold",children:[(0,s.jsx)(eo,{context:e}),(0,s.jsx)(g.z,{size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-l-none",onClick:y.bind(null,n),children:(0,s.jsx)(b.IconRemove,{})})]})},e.filepath+e.range.start+e.range.end))]})}),(0,s.jsx)(et,{ref:u,onSubmit:c,input:i,setInput:r,isLoading:h,chatInputRef:m}),(0,s.jsx)(ei,{className:"hidden sm:block"})]})]})]})});function eo(e){let{context:n,className:t}=e,[a]=n.filepath.split("/").slice(-1),l=n.range.start===n.range.end?":".concat(n.range.start):":".concat(n.range.start,"-").concat(n.range.end);return(0,s.jsxs)("span",{className:(0,v.cn)("truncate",t),children:[a,(0,s.jsx)("span",{className:"text-muted-foreground",children:l})]})}var ec=t(76297),ed=t(12624);function em(e){let{trackVisibility:n}=e,{container:t}=a.useContext(eM),l=(0,ed.e)(100,t),{ref:i,entry:r,inView:o}=(0,ec.YD)({trackVisibility:n,delay:100,rootMargin:"0px 0px -150px 0px",root:t});return a.useEffect(()=>{l&&n&&!o&&(null==r||r.target.scrollIntoView({block:"start"}))},[o,r,l,n]),(0,s.jsx)("div",{ref:i,className:"h-px w-full"})}let eu=[{heading:"Convert list of string to numbers",message:"How to convert a list of string to numbers in python"},{heading:"How to parse email address",message:"How to parse email address with regex"}];function ef(e){let{setInput:n,chatMaxWidthClass:t,welcomeMessage:a}=e;return(0,s.jsx)("div",{className:"mx-auto px-4 ".concat(t),children:(0,s.jsxs)("div",{className:"rounded-lg border bg-background p-8",children:[(0,s.jsx)("h1",{className:"mb-2 text-lg font-semibold",children:a||"Welcome"}),(0,s.jsx)("p",{className:"leading-normal text-muted-foreground",children:"You can start a conversation here or try the following examples:"}),(0,s.jsx)("div",{className:"mt-4 flex flex-col items-start space-y-2",children:eu.map((e,t)=>(0,s.jsxs)(g.z,{variant:"link",className:"h-auto p-0 text-base",onClick:()=>n(e.message),children:[(0,s.jsx)(b.IconArrowRight,{className:"mr-2 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-left",children:e.heading})]},t))})]})})}var ex=t(94909),ep=t(74038),eh=t(98454),ev=t(48537),eg=t(10279),eb=t(11208),ej=t(3448),ey=t(52569),ew=t(90168);function eC(e){let{messages:n,chatMaxWidthClass:t}=e,{isLoading:l}=a.useContext(eM);return(0,s.jsx)("div",{className:"relative mx-auto px-4 ".concat(t),children:null==n?void 0:n.map((e,t)=>{let i=t===n.length-1;return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(ek,{isLoading:!!i&&l,message:e,isLastItem:i}),!i&&(0,s.jsx)(eb.Z,{className:"my-4 md:my-8"})]},e.user.id)})})}function ek(e){let{message:n,isLoading:t,isLastItem:a}=e,{user:l,assistant:i}=n;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN,{message:l}),!!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.Z,{className:"my-4 md:my-8"}),(0,s.jsx)(eE,{message:i,userMessage:l,isLoading:t,userMessageId:l.id,enableRegenerating:a})]})]})}function eN(e){var n,t,l,i;let{message:r}=e,[{data:o}]=(0,eh.P)(),c=r.selectContext,{onNavigateToContext:d}=a.useContext(eM),m=a.useMemo(()=>{var e,n;if(!(null==c?void 0:c.content))return"";let t=(null==c?void 0:c.filepath)&&null!==(e=(0,L.U$)(null==c?void 0:c.filepath)[0])&&void 0!==e?e:"";return"\n```".concat(t,"\n").concat(null!==(n=null==c?void 0:c.content)&&void 0!==n?n:"","\n","```","\n")},[c]),u=null;if(m&&r.selectContext){let{range:e,filepath:n}=r.selectContext;u={filepath:n,isMultiLine:!(0,U.Z)(null==e?void 0:e.start)&&!(0,U.Z)(null==e?void 0:e.end)&&e.start<e.end}}return(0,s.jsxs)("div",{className:(0,v.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...e,children:[(0,s.jsxs)("div",{className:(0,v.cn)("flex min-h-[2rem] w-full items-center justify-between md:w-auto",{"hidden md:flex":!(null==o?void 0:o.me.name)}),children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,s.jsx)(ey.SQ,{className:"h-6 w-6 md:h-8 md:w-8",fallback:(0,s.jsx)("div",{className:"flex h-6 w-6 items-center justify-center md:h-8 md:w-8",children:(0,s.jsx)(b.IconUser,{className:"h-6 w-6"})})})}),(0,s.jsx)("p",{className:"block text-xs font-bold md:hidden",children:null==o?void 0:o.me.name})]}),(0,s.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eS,{...e})})]}),(0,s.jsxs)("div",{className:"group relative flex w-full justify-between gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,s.jsx)(eg.JG,{message:r.message,canWrapLongLines:!0}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(eS,{...e})}),u&&r.selectContext&&(0,s.jsxs)("div",{className:"flex cursor-pointer items-center gap-1 overflow-x-auto text-xs text-muted-foreground hover:underline",onClick:()=>null==d?void 0:d(r.selectContext,{openInEditor:!0}),children:[(0,s.jsx)(b.IconFile,{className:"h-3 w-3"}),(0,s.jsxs)("p",{className:"flex-1 truncate pr-1",children:[(0,s.jsx)("span",{children:u.filepath}),(null===(t=r.selectContext)||void 0===t?void 0:null===(n=t.range)||void 0===n?void 0:n.start)&&(0,s.jsxs)("span",{children:[":",null===(l=r.selectContext)||void 0===l?void 0:l.range.start]}),u.isMultiLine&&(0,s.jsxs)("span",{children:["-",null===(i=r.selectContext)||void 0===i?void 0:i.range.end]})]})]})]}),!(null==o?void 0:o.me.name)&&(0,s.jsx)("div",{className:"editor-bg absolute right-0 top-0 -mt-0.5 block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eS,{...e})})]})]})}function eS(e){let{message:n}=e,{handleMessageAction:t,isLoading:l}=a.useContext(eM);return(0,s.jsxs)(eR,{children:[!l&&(0,s.jsxs)(g.z,{variant:"ghost",size:"icon",onClick:e=>t(n.id,"edit"),children:[(0,s.jsx)(b.IconEdit,{}),(0,s.jsx)("span",{className:"sr-only",children:"Edit message"})]}),!l&&(0,s.jsxs)(g.z,{variant:"ghost",size:"icon",onClick:e=>t(n.id,"delete"),children:[(0,s.jsx)(b.IconTrash,{}),(0,s.jsx)("span",{className:"sr-only",children:"Delete message"})]})]})}function eE(e){let{message:n,userMessage:t,isLoading:l,userMessageId:i,enableRegenerating:r,...o}=e,{onNavigateToContext:c,onApplyInEditor:d,onCopyContent:m}=a.useContext(eM),[u,f]=a.useState(void 0),x=a.useMemo(()=>{var e,t;return null!==(t=null==n?void 0:null===(e=n.relevant_code)||void 0===e?void 0:e.map(e=>{let{startLine:n,endLine:t}=(0,v.OV)(e);return{kind:"file",range:{start:n,end:t},filepath:e.filepath,content:e.content,git_url:e.gitUrl}}))&&void 0!==t?t:[]},[null==n?void 0:n.relevant_code]),p=a.useMemo(()=>{var e;return(0,k.Z)((0,j.Z)([t.activeContext,...null!==(e=null==t?void 0:t.relevantContext)&&void 0!==e?e:[]]),w.Z)},[t.activeContext,t.relevantContext]),h=(0,a.useMemo)(()=>{var e,n,t,s;let a=null!==(n=null==p?void 0:p.map(n=>({content:n.content,filepath:n.filepath,gitUrl:n.git_url,startLine:n.range.start,language:(0,L.U$)(null!==(e=n.filepath)&&void 0!==e?e:"")[0],isClient:!0})))&&void 0!==n?n:[],l=null!==(s=null==x?void 0:x.map(e=>({content:e.content,filepath:e.filepath,gitUrl:e.git_url,startLine:e.range.start,language:(0,L.U$)(null!==(t=e.filepath)&&void 0!==t?t:"")[0],isClient:!1})))&&void 0!==s?s:[];return(0,j.Z)([...a,...l])},[p,x]);return(0,s.jsxs)("div",{className:(0,v.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...o,children:[(0,s.jsxs)("div",{className:"flex min-h-[2rem] w-full items-center justify-between md:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,s.jsx)(eI,{className:"h-6 w-6 md:h-8 md:w-8"})}),(0,s.jsx)("p",{className:"block text-xs font-bold md:hidden",children:"Tabby"})]}),(0,s.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eA,{message:n,userMessageId:i,enableRegenerating:r,attachmentCode:h})})]}),(0,s.jsxs)("div",{className:"w-full flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,s.jsx)(ew.q,{contexts:x,userContexts:p,onContextClick:(e,n)=>{null==c||c(e,{openInEditor:n})},showExternalLink:!!d,highlightIndex:u,triggerClassname:"md:pt-0"}),!l||(null==n?void 0:n.message)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eg.JG,{message:n.message,onApplyInEditor:d,onCopyContent:m,attachmentCode:h,onCodeCitationClick:e=>{let{startLine:n,endLine:t}=(0,v.OV)(e),s={git_url:e.gitUrl,content:e.content,filepath:e.filepath,kind:"file",range:{start:n,end:t}};null==c||c(s,{openInEditor:e.isClient})},onCodeCitationMouseEnter:e=>{f(e-1-0)},onCodeCitationMouseLeave:e=>{f(void 0)},canWrapLongLines:!l}),!!n.error&&(0,s.jsx)(eg.mE,{error:n.error})]}):(0,s.jsx)(eL,{}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(eA,{message:n,userMessageId:i,enableRegenerating:r,attachmentCode:h})})]})]})}function eA(e){let{handleMessageAction:n,isLoading:t,onCopyContent:l}=a.useContext(eM),{message:i,userMessageId:r,enableRegenerating:o,attachmentCode:c}=e,d=(0,a.useMemo)(()=>(function(e,n){var t;if(!n||(0,ex.Z)(n))return e;let s=e.replace(ep.H,e=>{let n=null==e?void 0:e.match(/\d+/);return"[".concat(n,"]")}).trim(),a=null!==(t=n.map((e,n)=>{let t=(0,v.tf)(e),s=(0,j.Z)([e.filepath,t]).join(":");return"[".concat(n+1,"] ").concat(s)}).join("\n"))&&void 0!==t?t:"";return"".concat(s,"\n\nCitations:\n").concat(a)})(i.message,c),[i.message,c]);return(0,s.jsxs)(eR,{children:[!t&&o&&(0,s.jsxs)(g.z,{variant:"ghost",size:"icon",onClick:e=>n(r,"regenerate"),children:[(0,s.jsx)(b.IconRefresh,{}),(0,s.jsx)("span",{className:"sr-only",children:"Regenerate message"})]}),(0,s.jsx)(ev.q,{value:d,onCopyContent:l})]})}function eL(){return(0,s.jsxs)("div",{className:"space-y-2 py-2 md:px-1 md:py-0",children:[(0,s.jsx)(ej.O,{className:"h-3 w-full"}),(0,s.jsx)(ej.O,{className:"h-3 w-full"})]})}function eI(e){let{className:n}=e;return(0,s.jsx)(i(),{style:{backgroundColor:"#E8E2D2"},className:(0,v.cn)("rounded-full p-0.5",n),src:o.Z,alt:"tabby"})}function eR(e){let{className:n,...t}=e;return(0,s.jsx)("div",{className:(0,v.cn)("flex items-center justify-end transition-opacity group-hover:opacity-100 md:absolute md:-right-[4rem] md:-top-2 md:opacity-0",n),...t})}let eM=a.createContext({}),eF=a.forwardRef(function(e,n){let{className:t,chatId:l,initialMessages:i,onLoaded:r,onThreadUpdates:o,onNavigateToContext:c,container:d,docQuery:m,generateRelevantQuestions:u,maxWidth:f,welcomeMessage:x,promptFormClassname:p,onCopyContent:h,onSubmitMessage:g,onApplyInEditor:b,chatInputRef:M}=e,[F,D]=a.useState(!1),[O,_]=a.useState(),P=a.useRef(!1),[z,B]=a.useState(null!=i?i:[]),[Z,T]=a.useState(""),[K,H]=a.useState([]),[U,q]=a.useState(null),G=(0,I.a)(e=>e.enableActiveSelection),J=a.useRef(null),{sendUserMessage:V,isLoading:W,error:Q,answer:X,stop:Y,regenerate:$,deleteThreadMessagePair:ee}=(0,A.x)({threadId:O}),en=async e=>{var n;if(!O)return;Y();let t=z.find(n=>n.user.id===e);if(!(null==t?void 0:t.user)||!t.assistant)return;let s=z.filter(n=>n.user.id!==e);B(s),ee(O,null==t?void 0:t.user.id,null==t?void 0:null===(n=t.assistant)||void 0===n?void 0:n.id)},et=async e=>{if(!O)return;let n=(0,y.Z)(z,n=>n.user.id===e);if(n>-1){let e=z[n];if(!e.assistant)return;let t=(0,v.x0)(),s=(0,v.x0)();B([...z.slice(0,n),{user:{...e.user,id:t},assistant:{id:s,message:"",error:void 0}}]);let[a,l]=eo(e.user,G);return $({threadId:O,userMessageId:e.user.id,assistantMessageId:e.assistant.id,userMessage:a,threadRunOptions:l})}},es=async e=>{var n,t;if(!O)return;let s=z.find(n=>n.user.id===e);if(!(null==s?void 0:s.user)||!s.assistant)return;let a=s.user,l=[];(null===(n=a.relevantContext)||void 0===n?void 0:n.length)&&(l=l.concat(a.relevantContext)),H((0,k.Z)(l,w.Z));let i=z.filter(n=>n.user.id!==e);B(i),T(a.message),a.activeContext&&c(a.activeContext,{openInEditor:!0}),ee(O,null==s?void 0:s.user.id,null==s?void 0:null===(t=s.assistant)||void 0===t?void 0:t.id)},ea=async()=>{if(!(null==z?void 0:z.length))return;let e=z[z.length-1].user.id;return et(e)},el=()=>{Y(!0),B([]),_(void 0)};a.useEffect(()=>{if(!W||!(null==z?void 0:z.length)||!X)return;let e=z[z.length-1];X.threadId&&!O&&_(X.threadId),B(n=>{var t,s;let a=n[n.length-1].assistant,l={...a,id:X.assistantMessageId||(null==a?void 0:a.id)||(0,v.x0)(),message:X.content,error:void 0,relevant_code:null!==(s=null===(t=X.attachmentsCode)||void 0===t?void 0:t.map(e=>e.code))&&void 0!==s?s:[]};return[...n.slice(0,n.length-1),{user:{...e.user,id:(null==X?void 0:X.userMessageId)||e.user.id},assistant:l}]})},[X,W]);let ei=(0,S.S)(()=>{d?d.scrollTo({top:d.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},100);a.useLayoutEffect(()=>{W&&ei.run()},[W]),a.useEffect(()=>{Q&&(null==z?void 0:z.length)&&B(e=>{var n,t,s;let a=e[e.length-1];return[...e.slice(0,e.length-1),{...a,assistant:{...a.assistant,id:(null===(n=a.assistant)||void 0===n?void 0:n.id)||(0,v.x0)(),message:null!==(s=null===(t=a.assistant)||void 0===t?void 0:t.message)&&void 0!==s?s:"",error:Q?"401"===Q.message?"Unauthorized":(0,C.Z)(Q.graphQLErrors,e=>{var n;return(null===(n=e.extensions)||void 0===n?void 0:n.code)===N.ir})?"The thread has expired, please click 'Clear' and try again.":Q.message||"Failed to fetch":"Failed to fetch"}}]}),(null==Q?void 0:Q.message)!=="Thread not found"||(null==z?void 0:z.length)||el()},[Q]);let eo=(e,n)=>{var t,s;let a=e.selectContext;n&&(a=a||e.activeContext);let l=a?{content:null!==(t=a.content)&&void 0!==t?t:"",filepath:a.filepath,language:a.filepath&&(0,L.U$)(a.filepath)[0]||"text",gitUrl:null!==(s=null==a?void 0:a.git_url)&&void 0!==s?s:""}:null,i=n&&!!e.activeContext,r=(0,k.Z)((0,j.Z)([i&&e.activeContext,...(null==e?void 0:e.relevantContext)||[]]),w.Z),o=r.map(e=>({content:e.content,filepath:e.filepath,startLine:e.range.start})),c=e.message;return[{content:c,attachments:{code:o}},{docQuery:m?{content:c,searchPublic:!1}:null,generateRelevantQuestions:!!u,codeQuery:l}]},ec=(0,E.d)(async e=>{var n,t,s,a,l;if(W)return;let i="",r=null==e?void 0:null===(n=e.selectContext)||void 0===n?void 0:n.content;if(r){let n=(null==e?void 0:null===(t=e.selectContext)||void 0===t?void 0:t.filepath)&&null!==(a=(0,L.U$)(null==e?void 0:null===(s=e.selectContext)||void 0===s?void 0:s.filepath)[0])&&void 0!==a?a:"";i="\n```".concat(n,"\n").concat(null!=r?r:"","\n","```","\n")}let o=U||e.activeContext,c={...e,message:e.message+i,id:null!==(l=e.id)&&void 0!==l?l:(0,v.x0)(),selectContext:e.selectContext,activeContext:G&&o?o:void 0},d=[...z,{user:c,assistant:{id:(0,v.x0)(),message:"",error:void 0}}];B(d),V(...eo(c,G))}),ed=e=>{var n;return null===(n=ec.current)||void 0===n?void 0:n.call(ec,e)},eu=async e=>{g?g(e,K):ed({message:e,relevantContext:K}),H([])},ex=(0,E.d)(e=>{H(n=>n.some(n=>(0,w.Z)(n,e))?n:n.concat([e]))}),ep=e=>{var n;null===(n=ex.current)||void 0===n||n.call(ex,e)};a.useEffect(()=>{P.current&&(null==o||o(z))},[z]);let eh=(0,S.S)(e=>{q(e)},300),ev=e=>{eh.run(e)};a.useImperativeHandle(n,()=>({sendUserChat:ed,stop:Y,isLoading:W,addRelevantContext:ep,focus:()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.focus()},updateActiveSelection:ev}),[]),a.useEffect(()=>{D(!0),null==r||r()},[]);let eg=f?"max-w-".concat(f):"max-w-2xl";return F?(0,s.jsx)(eM.Provider,{value:{isLoading:W,qaPairs:z,onNavigateToContext:c,handleMessageAction:(e,n)=>{switch(n){case"delete":en(e);break;case"regenerate":et(e);break;case"edit":es(e)}},onClearMessages:el,container:d,onCopyContent:h,onApplyInEditor:b,relevantContext:K,removeRelevantContext:e=>{let n=[...K];n.splice(e,1),H(n)},chatInputRef:M,activeSelection:U},children:(0,s.jsx)("div",{className:"flex justify-center overflow-x-hidden",children:(0,s.jsxs)("div",{className:"w-full px-4 md:pl-10 md:pr-[3.75rem] ".concat(eg),children:[(0,s.jsxs)("div",{className:(0,v.cn)("pb-[200px] pt-4 md:pt-10",t),children:[(null==z?void 0:z.length)?(0,s.jsx)(eC,{messages:z,chatMaxWidthClass:eg}):(0,s.jsx)(ef,{setInput:T,chatMaxWidthClass:eg,welcomeMessage:x}),(0,s.jsx)(em,{trackVisibility:W})]}),(0,s.jsx)(er,{onSubmit:eu,className:(0,v.cn)("fixed inset-x-0 bottom-0",p),id:l,stop:()=>{Y()},reload:ea,input:Z,setInput:T,chatMaxWidthClass:eg,ref:J,chatInputRef:M})]})})}):(0,s.jsx)(R.cg,{className:"".concat(eg," mx-auto pt-4 md:pt-10")})});var eD=t(73033);t(2596);var eO=t(66794);let e_=e=>m()(e).hsl().toString().replace(/hsla?\(/,"").replace(")","").split(",").slice(0,3).map((e,n)=>0===n?parseFloat(e).toFixed(1):e).join("");function eP(){let[e,n]=(0,a.useState)(!1),[t,l]=(0,a.useState)(null),[d,m]=(0,a.useState)(""),[j,y]=(0,a.useState)([]),[w,C]=(0,a.useState)([]),[k,N]=(0,a.useState)(null),[S,E]=(0,a.useState)(null),[A,L]=(0,a.useState)(!1),I=(0,a.useRef)(null),[R,M]=(0,a.useState)(!1),{width:F}=(0,c.iP)(),D=(0,a.useRef)(F),O=(0,a.useRef)(null),_=(0,r.useSearchParams)(),P=_.get("client"),z=!!P||void 0,B=(0,a.useRef)(),Z=e=>{if(I.current)I.current.sendUserChat(e);else{let n=[...j];n.push(e),y(n)}},T=e=>{if(I.current)I.current.addRelevantContext(e);else{let n=[...w];n.push(e),C(n)}},K=(0,h.H)({init:e=>{I.current||(P&&(0,eO.zr)(e.fetcherOptions),m((0,v.x0)()),n(!0),l(e.fetcherOptions),B.current=e.useMacOSKeyboardEventHandler)},sendMessage:e=>Z(e),showError:e=>{E(e)},cleanError:()=>{E(null)},addRelevantContext:e=>T(e),updateTheme:(e,n)=>{let t=e.split(";").filter(e=>e).map(e=>{let[n,t]=e.split(":"),s=t.trim(),a=s.startsWith("#")||s.startsWith("rgb");if(!a)return"".concat(n,": ").concat(t);let l=e_(s);return"".concat(n,": ").concat(l)}).join(";");document.documentElement.style.cssText=t,document.documentElement.className=n+" client client-".concat(P)},updateActiveSelection:e=>{I.current?I.current.updateActiveSelection(e):e&&N(e)}});(0,a.useEffect)(()=>{let e=()=>{setTimeout(()=>{var e;null===(e=O.current)||void 0===e||e.focus()},0)};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e)}}),(0,a.useEffect)(()=>{let e=(e,n)=>{null==K||K.onKeyboardEvent(e,{code:n.code,isComposing:n.isComposing,key:n.key,altKey:n.altKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey,location:n.location,repeat:n.repeat,keyCode:n.keyCode})},n=n=>{B.current?n.metaKey&&"KeyC"===n.code?document.execCommand("copy"):n.metaKey&&"KeyX"===n.code?document.execCommand("cut"):n.metaKey&&"KeyV"===n.code?document.execCommand("paste"):n.metaKey&&"KeyA"===n.code?document.execCommand("selectAll"):e("keydown",n):e("keydown",n)},t=n=>{e("keyup",n)},s=n=>{e("keypress",n)};return window.addEventListener("keydown",n),window.addEventListener("keyup",t),window.addEventListener("keypress",s),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",t),window.removeEventListener("keypress",s)}},[K,P]),(0,a.useEffect)(()=>{K&&(null==K||K.onLoaded({apiVersion:p.uL}))},[K]),(0,a.useLayoutEffect)(()=>{if(R){if(F&&e&&t&&!S&&!D.current){var n;null===(n=I.current)||void 0===n||n.focus()}D.current=F}},[F,R]);let H=()=>{C([]),y([]),N(null)},U=async()=>{L(!0),await (null==K?void 0:K.refresh()),L(!1)};function q(e){let{children:n}=e;return(0,s.jsxs)("div",{className:"h-screen w-screen",style:{padding:"intellij"==P?"20px":"5px 18px"},children:[(0,s.jsxs)("div",{className:"flex items-center",style:{marginBottom:"0.55em"},children:[(0,s.jsx)(i(),{src:o.Z,alt:"logo",className:"rounded-full",style:{background:"rgb(232, 226, 210)",marginRight:"0.375em",padding:"0.15em"},width:18}),(0,s.jsx)("p",{className:"font-semibold",children:"Tabby"})]}),n]})}return S?(0,s.jsx)(q,{children:(0,s.jsxs)(s.Fragment,{children:[S.title&&(0,s.jsx)("p",{className:"mb-1.5 mt-2 font-semibold",children:S.title}),(0,s.jsx)(eD.s,{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[f.Z,x.Z],children:S.content}),(0,s.jsxs)(g.z,{className:"mt-5 flex items-center gap-x-2 text-sm leading-none",onClick:U,children:[A&&(0,s.jsx)(b.IconSpinner,{}),"Refresh"]})]})}):e&&t?(0,s.jsx)(u.SV,{FallbackComponent:function(e){let{error:n}=e;return(0,s.jsxs)(q,{children:[(0,s.jsx)("p",{className:"mb-1.5 mt-2 font-semibold",children:"Something went wrong"}),(0,s.jsx)("p",{children:n.message}),(0,s.jsxs)(g.z,{className:"mt-5 flex items-center gap-x-2 text-sm leading-none",onClick:U,children:[A&&(0,s.jsx)(b.IconSpinner,{}),"Refresh"]})]})},children:(0,s.jsx)(eF,{chatId:d,ref:I,chatInputRef:O,onNavigateToContext:(e,n)=>{null==K||K.navigate(e,n)},onLoaded:()=>{var e;w.forEach(T),j.forEach(Z),null===(e=I.current)||void 0===e||e.updateActiveSelection(k),H(),M(!0)},maxWidth:"vscode"===P?"5xl":void 0,onCopyContent:z&&(null==K?void 0:K.onCopy),onSubmitMessage:z&&(null==K?void 0:K.onSubmitMessage),onApplyInEditor:z&&(null==K?void 0:K.onApplyInEditor)},d)}):(0,s.jsx)(q,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"opacity-80",children:"Welcome to Tabby Chat! Just a moment while we get things ready..."}),(0,s.jsx)(b.IconSpinner,{className:"mx-auto",style:{marginTop:"1.25em",width:"0.875em",height:"0.875em"}})]})})}},83171:function(e,n,t){"use strict";t.d(n,{p:function(){return o},t:function(){return c}});var s=t(36164);t(3546);var a=t(68035),l=t(18500),i=t(1544),r=t(81565);function o(e){let{kind:n,label:t,className:l}=e;return(0,s.jsxs)(a.T5,{as:"span",className:(0,i.cn)("source-mention rounded-sm px-1",l),children:[(0,s.jsx)(d,{kind:n,className:"self-center"}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:t})]})}function c(e){let{kind:n,label:t,id:a}=e.node.attrs;return(0,s.jsx)(o,{kind:n,label:t,id:a})}function d(e){let{kind:n,...t}=e;switch(n){case l.ri.Doc:return(0,s.jsx)(r.IconEmojiBook,{...t});case l.ri.Web:return(0,s.jsx)(r.IconEmojiGlobe,{...t});case l.ri.Git:return(0,s.jsx)(r.IconCode,{...t});case l.ri.Github:return(0,s.jsx)(r.IconGitHub,{...t});case l.ri.Gitlab:return(0,s.jsx)(r.IconGitLab,{...t});default:return null}}},84942:function(e,n,t){"use strict";t.d(n,{J2:function(){return r},i9:function(){return d},tW:function(){return m},xo:function(){return o},xp:function(){return c},yk:function(){return u}});var s=t(36164),a=t(3546),l=t(83299),i=t(1544);let r=l.fC,o=l.xz,c=l.x8,d=l.h_,m=l.ee,u=a.forwardRef((e,n)=>{let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(l.VY,{ref:n,sideOffset:a,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})});u.displayName=l.VY.displayName},52569:function(e,n,t){"use strict";t.d(n,{SQ:function(){return y},Yt:function(){return j},nY:function(){return b}});var s=t(36164),a=t(3546),l=t(87782),i=t(21454),r=t(36327),o=t(98454),c=t(3765),d=t(1544),m=t(66612);let u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(m.fC,{ref:n,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});u.displayName=m.fC.displayName;let f=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(m.Ee,{ref:n,className:(0,d.cn)("aspect-square h-full w-full",t),...a})});f.displayName=m.Ee.displayName;let x=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(m.NY,{ref:n,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});x.displayName=m.NY.displayName;var p=t(3448),h=t(30410).lW;let v="not_found",g=new Set,b=e=>{g.delete(e),(0,i.JG)("/avatar/".concat(e))};function j(e){var n;let{user:t,className:i,fallback:o}=e,m=null==t?void 0:t.id,b=m?"/avatar/".concat(m):null,{data:j,isLoading:y,error:w}=(0,r.Z)(b,e=>{if(!(!m||g.has(m)))return(0,c.Z)(e,{responseFormatter:async e=>{let n=await e.blob(),t=h.from(await n.arrayBuffer());return"data:image/png;base64,".concat(t.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(v)}})}),C=a.useMemo(()=>{if(null==t?void 0:t.email)return(0,l.B)(t.email)},[null==t?void 0:t.email]);return y?(0,s.jsx)(p.O,{className:(0,d.cn)("h-16 w-16 rounded-full",i)}):((null==w?void 0:w.message)===v&&m&&g.add(m),j||C||!o)?!j&&C?(0,s.jsx)(l.Z,{className:(0,d.cn)("h-16 w-16",i),...C}):(0,s.jsxs)(u,{className:(0,d.cn)("h-16 w-16",i),children:[(0,s.jsx)(f,{src:j,alt:null==t?void 0:t.email,className:"object-cover"}),(0,s.jsx)(x,{children:null==t?void 0:null===(n=t.email)||void 0===n?void 0:n.substring(0,2)})]}):o}function y(e){let[{data:n}]=(0,o.P)();return(0,s.jsx)(j,{user:null==n?void 0:n.me,...e})}},21808:function(e,n,t){"use strict";t.d(n,{$6:function(){return l},$I:function(){return i},L8:function(){return a},ir:function(){return r},o0:function(){return s}});let s="name@yourcompany.com",a=20,l={DEMO_AUTO_LOGIN:"_tabby_demo_autologin",SEARCH_INITIAL_MSG:"_tabby_search_initial_msg",SEARCH_INITIAL_CONTEXTS:"_tabby_search_initial_contexts"},i=48,r="NOT_FOUND"},63484:function(e,n,t){"use strict";t.d(n,{U$:function(){return d},t:function(){return m}});var s=t(14283),a=t.n(s),l=t(34021),i=t(74630),r=t(18500),o=JSON.parse('{"Mercury":"#ff2b2b","TypeScript":"#2b7489","PureBasic":"#5a6986","Objective-C++":"#6866fb","Self":"#0579aa","edn":"#db5855","NewLisp":"#87AED7","Jupyter Notebook":"#DA5B0B","Rebol":"#358a5b","Frege":"#00cafe","Dart":"#00B4AB","AspectJ":"#a957b0","Shell":"#89e051","Web Ontology Language":"#9cc9dd","xBase":"#403a40","Eiffel":"#946d57","Nix":"#7e7eff","RAML":"#77d9fb","MTML":"#b7e1f4","Racket":"#22228f","Elixir":"#6e4a7e","SAS":"#B34936","Agda":"#315665","wisp":"#7582D1","D":"#ba595e","Kotlin":"#F18E33","Opal":"#f7ede0","Crystal":"#776791","Objective-C":"#438eff","ColdFusion CFC":"#ed2cd6","Oz":"#fab738","Mirah":"#c7a938","Objective-J":"#ff0c5a","Gosu":"#82937f","FreeMarker":"#0050b2","Ruby":"#701516","Component Pascal":"#b0ce4e","Arc":"#aa2afe","Brainfuck":"#2F2530","Nit":"#009917","APL":"#5A8164","Go":"#375eab","Visual Basic":"#945db7","PHP":"#4F5D95","Cirru":"#ccccff","SQF":"#3F3F3F","Glyph":"#e4cc98","Java":"#b07219","MAXScript":"#00a6a6","Scala":"#DC322F","Makefile":"#427819","ColdFusion":"#ed2cd6","Perl":"#0298c3","Lua":"#000080","Vue":"#2c3e50","Verilog":"#b2b7f8","Factor":"#636746","Haxe":"#df7900","Pure Data":"#91de79","Forth":"#341708","Red":"#ee0000","Hy":"#7790B2","Volt":"#1F1F1F","LSL":"#3d9970","eC":"#913960","CoffeeScript":"#244776","HTML":"#e44b23","Lex":"#DBCA00","API Blueprint":"#2ACCA8","Swift":"#ffac45","C":"#555555","AutoHotkey":"#6594b9","Isabelle":"#FEFE00","Metal":"#8f14e9","Clarion":"#db901e","JSONiq":"#40d47e","Boo":"#d4bec1","AutoIt":"#1C3552","Clojure":"#db5855","Rust":"#dea584","Prolog":"#74283c","SourcePawn":"#5c7611","AMPL":"#E6EFBB","FORTRAN":"#4d41b1","ANTLR":"#9DC3FF","Harbour":"#0e60e3","Tcl":"#e4cc98","BlitzMax":"#cd6400","PigLatin":"#fcd7de","Lasso":"#999999","ECL":"#8a1267","VHDL":"#adb2cb","Elm":"#60B5CC","Propeller Spin":"#7fa2a7","X10":"#4B6BEF","IDL":"#a3522f","ATS":"#1ac620","Ada":"#02f88c","Unity3D Asset":"#ab69a1","Nu":"#c9df40","LFE":"#004200","SuperCollider":"#46390b","Oxygene":"#cdd0e3","ASP":"#6a40fd","Assembly":"#6E4C13","Gnuplot":"#f0a9f0","JFlex":"#DBCA00","NetLinx":"#0aa0ff","Turing":"#45f715","Vala":"#fbe5cd","Processing":"#0096D8","Arduino":"#bd79d1","FLUX":"#88ccff","NetLogo":"#ff6375","CSharp":"#178600","CSS":"#563d7c","Emacs Lisp":"#c065db","Stan":"#b2011d","SaltStack":"#646464","QML":"#44a51c","Pike":"#005390","LOLCODE":"#cc9900","ooc":"#b0b77e","Handlebars":"#01a9d6","J":"#9EEDFF","Mask":"#f97732","EmberScript":"#FFF4F3","TeX":"#3D6117","Nemerle":"#3d3c6e","KRL":"#28431f","Ren\'Py":"#ff7f7f","Unified Parallel C":"#4e3617","Golo":"#88562A","Fancy":"#7b9db4","OCaml":"#3be133","Shen":"#120F14","Pascal":"#b0ce4e","F#":"#b845fc","Puppet":"#302B6D","ActionScript":"#882B0F","Diff":"#88dddd","Ragel in Ruby Host":"#9d5200","Fantom":"#dbded5","Zephir":"#118f9e","Click":"#E4E6F3","Smalltalk":"#596706","DM":"#447265","Ioke":"#078193","PogoScript":"#d80074","LiveScript":"#499886","JavaScript":"#f1e05a","VimL":"#199f4b","PureScript":"#1D222D","ABAP":"#E8274B","Matlab":"#bb92ac","Slash":"#007eff","R":"#198ce7","Erlang":"#B83998","Pan":"#cc0000","LookML":"#652B81","Eagle":"#814C05","Scheme":"#1e4aec","PLSQL":"#dad8d8","Python":"#3572A5","Max":"#c4a79c","Common Lisp":"#3fb68b","Latte":"#A8FF97","XQuery":"#5232e7","Omgrofl":"#cabbff","XC":"#99DA07","Nimrod":"#37775b","SystemVerilog":"#DAE1C2","Chapel":"#8dc63f","Groovy":"#e69f56","Dylan":"#6c616e","E":"#ccce35","Parrot":"#f3ca0a","Grammatical Framework":"#79aa7a","Game Maker Language":"#8fb200","Papyrus":"#6600cc","NetLinx+ERB":"#747faa","Clean":"#3F85AF","Alloy":"#64C800","Squirrel":"#800000","PAWN":"#dbb284","UnrealScript":"#a54c4d","Standard ML":"#dc566d","Slim":"#ff8f77","Perl6":"#0000fb","Julia":"#a270ba","Haskell":"#29b544","NCL":"#28431f","Io":"#a9188d","Rouge":"#cc0088","cpp":"#f34b7d","AGS Script":"#B9D9FF","Dogescript":"#cca760","nesC":"#94B0C7"}'),c={abap:{filenames:[],extnames:["abap"]},actionscript:{filenames:[],extnames:["as"]},ada:{filenames:[],extnames:["ada","adb","ads"]},apacheconf:{filenames:[".htaccess","apache2.conf","httpd.conf"],extnames:["apacheconf","vhost"]},apl:{filenames:[],extnames:["apl","dyalog"]},applescript:{filenames:[],extnames:["applescript","scpt"]},arff:{filenames:[],extnames:["arff"]},asciidoc:{filenames:[],extnames:["asciidoc","adoc","asc"]},asm6502:{filenames:[],extnames:["asm"]},autohotkey:{filenames:[],extnames:["ahk","ahkl"]},autoit:{filenames:[],extnames:["au3"]},bash:{filenames:[".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_logout","bash_profile","bashrc","cshrc","gradlew","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"],extnames:["sh","bash","bats","cgi","command","fcgi","ksh","tmux","tool","zsh"]},basic:{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},batch:{filenames:[],extnames:["bat","cmd"]},bison:{filenames:[],extnames:["bison"]},brainfuck:{filenames:[],extnames:["b","bf"]},bro:{filenames:[],extnames:["bro"]},c:{filenames:[],extnames:["c","cats","h","idc"]},csharp:{filenames:[],extnames:["cs","cake","cshtml","csx"]},cpp:{filenames:[],extnames:["cpp","c++","cc","cp","cxx","h","h++","hh","hpp","hxx","inc","inl","ino","ipp","re","tcc","tpp"]},coffeescript:{filenames:["Cakefile"],extnames:["coffee","_coffee","cake","cjsx","iced"]},clojure:{filenames:["riemann.config"],extnames:["clj","boot","cl2","cljc","cljs","cljs.hl","cljscm","cljx","hic"]},crystal:{filenames:[],extnames:["cr"]},css:{filenames:[],extnames:["css"]},d:{filenames:[],extnames:["d","di"]},dart:{filenames:[],extnames:["dart"]},diff:{filenames:[],extnames:["diff","patch"]},django:{filenames:[],extnames:["jinja","jinja2","mustache","njk"]},dockerfile:{filenames:["Dockerfile"],extnames:["dockerfile"]},eiffel:{filenames:[],extnames:["e"]},elixir:{filenames:["mix.lock"],extnames:["ex","exs"]},elm:{filenames:[],extnames:["elm"]},erb:{filenames:[],extnames:["erb"]},erlang:{filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"],extnames:["erl","app.src","es","escript","hrl","xrl","yrl"]},fsharp:{filenames:[],extnames:["fs","fsi","fsx"]},fortran:{filenames:[],extnames:["f90","f","f03","f08","f77","f95","for","fpp"]},gedcom:{filenames:[],extnames:["ged"]},gherkin:{filenames:[],extnames:["feature"]},glsl:{filenames:[],extnames:["glsl","fp","frag","frg","fs","fsh","fshader","geo","geom","glslv","gshader","shader","tesc","tese","vert","vrx","vsh","vshader"]},go:{filenames:[],extnames:["go"]},graphql:{filenames:[],extnames:["graphql","gql"]},groovy:{filenames:["Jenkinsfile"],extnames:["groovy","grt","gtpl","gvy"]},haml:{filenames:[],extnames:["haml"]},handlebars:{filenames:[],extnames:["handlebars","hbs"]},haskell:{filenames:[],extnames:["hs","hsc"]},haxe:{filenames:[],extnames:["hx","hxsl"]},http:{filenames:[],extnames:["http"]},icon:{filenames:[],extnames:["icn"]},inform7:{filenames:[],extnames:["ni","i7x"]},ini:{filenames:[".editorconfig",".gitconfig"],extnames:["ini","cfg","lektorproject","prefs","pro","properties"]},io:{filenames:[],extnames:["io"]},j:{filenames:[],extnames:["ijs"]},java:{filenames:[],extnames:["java"]},javascript:{filenames:["Jakefile"],extnames:["js","_js","cjs","bones","es","es6","frag","gs","jake","jsb","jscad","jsfl","jsm","jss","mjs","njs","pac","sjs","ssjs","xsjs","xsjslib"]},jolie:{filenames:[],extnames:["ol","iol"]},json:{filenames:[".arcconfig",".htmlhintrc",".tern-config",".tern-project","composer.lock","mcmod.info"],extnames:["json","avsc","geojson","gltf","JSON-tmLanguage","jsonl","tfstate","topojson","webapp","webmanifest","yy","yyp"]},julia:{filenames:[],extnames:["jl"]},keyman:{filenames:[],extnames:["kmn"]},kotlin:{filenames:[],extnames:["kt","ktm","kts"]},latex:{filenames:[],extnames:["tex","aux","bbx","bib","cbx","cls","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc"]},less:{filenames:[],extnames:["less"]},liquid:{filenames:[],extnames:["liquid"]},lisp:{filenames:[],extnames:["lisp","asd","cl","l","lsp","ny","podsl","sexp"]},livescript:{filenames:["Slakefile"],extnames:["ls","_ls"]},lolcode:{filenames:[],extnames:["lol"]},lua:{filenames:[],extnames:["lua","fcgi","nse","p8","pd_lua","rbxs","wlua"]},cmake:{filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"],extnames:["mak","d","make","mk","mkfile"]},markdown:{filenames:["contents.lr","LICENSE"],extnames:["md","markdown","mdown","mdwn","mkd","mkdn","mkdown","ronn","workbook"]},markup:{filenames:[],extnames:["apib","blade","chem","ecr","eex","ejs","html","htm","ipynb","kit","latte","marko","mask","mtml","phtml","pic","raml","rhtml","vue","xht","xhtml"]},matlab:{filenames:[],extnames:["matlab","m"]},mel:{filenames:[],extnames:["mel"]},mizar:{filenames:[],extnames:["miz","voc"]},monkey:{filenames:[],extnames:["monkey","monkey2"]},n4js:{filenames:[],extnames:["n4jsd"]},nasm:{filenames:[],extnames:["nasm"]},nginx:{filenames:["nginx.conf"],extnames:["nginxconf","vhost"]},nim:{filenames:[],extnames:["nim","nimrod"]},nix:{filenames:[],extnames:["nix"]},nsis:{filenames:[],extnames:["nsi","nsh"]},objectivec:{filenames:[],extnames:["m","h"]},ocaml:{filenames:[],extnames:["ml","eliom","eliomi","ml4","mli","mll","mly"]},opencl:{filenames:[],extnames:["opencl","cl"]},oz:{filenames:[],extnames:["oz"]},pascal:{filenames:[],extnames:["pas","dfm","dpr","inc","lpr","pascal","pp"]},perl:{filenames:["Makefile.PL","Rexfile","ack","cpanfile"],extnames:["pl","al","cgi","fcgi","perl","ph","plx","pm","psgi","t"]},php:{filenames:[".php",".php_cs",".php_cs.dist","Phakefile"],extnames:["php","aw","ctp","fcgi","inc","php3","php4","php5","phps","phpt"]},plsql:{filenames:[],extnames:["pls","bdy","ddl","fnc","pck","pkb","pks","plb","plsql","prc","spc","tpb","tps","trg","vw"]},powershell:{filenames:[],extnames:["ps1","psd1","psm1"]},processing:{filenames:[],extnames:["pde"]},prolog:{filenames:[],extnames:["pl","pro","prolog","yap"]},properties:{filenames:[],extnames:["properties"]},protobuf:{filenames:[],extnames:["proto"]},pug:{filenames:[],extnames:["jade","pug"]},puppet:{filenames:["Modulefile"],extnames:["pp"]},pure:{filenames:[],extnames:["pure"]},python:{filenames:[".gclient","BUCK","BUILD","BUILD.bazel","SConscript","SConstruct","Snakefile","WORKSPACE","wscript"],extnames:["py","bzl","cgi","fcgi","gyp","gypi","lmi","py3","pyde","pyi","pyp","pyt","pyw","rpy","spec","tac","wsgi","xpy"]},q:{filenames:[],extnames:["q"]},qore:{filenames:[],extnames:["q","qm","qtest"]},r:{filenames:[".Rprofile","expr-dist"],extnames:["r","rd","rsx"]},jsx:{filenames:[],extnames:["jsx"]},toml:{filenames:[],extnames:["toml"]},tsx:{filenames:[],extnames:["tsx"]},renpy:{filenames:[],extnames:["rpy"]},reason:{filenames:[],extnames:["re","rei"]},rest:{filenames:[],extnames:["rst","rest"]},rip:{filenames:[],extnames:["rip"]},ruby:{filenames:[".irbrc",".pryrc","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Gemfile.lock","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Thorfile","Vagrantfile","buildfile"],extnames:["rb","builder","eye","fcgi","gemspec","god","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","spec","thor","watchr"]},rust:{filenames:[],extnames:["rs"]},sas:{filenames:[],extnames:["sas"]},sass:{filenames:[],extnames:["sass"]},scss:{filenames:[],extnames:["scss"]},scala:{filenames:[],extnames:["scala","kojo","sbt","sc"]},scheme:{filenames:[],extnames:["scm","sch","sld","sls","sps","ss"]},smalltalk:{filenames:[],extnames:["st","cs"]},smarty:{filenames:[],extnames:["tpl"]},sql:{filenames:[],extnames:["sql","cql","ddl","inc","mysql","prc","tab","udf","viw"]},soy:{filenames:[],extnames:["soy"]},stylus:{filenames:[],extnames:["styl"]},swift:{filenames:[],extnames:["swift"]},tcl:{filenames:["owh","starfield"],extnames:["tcl","adp","tm"]},textile:{filenames:[],extnames:["textile"]},tt2:{filenames:[],extnames:["pm"]},twig:{filenames:[],extnames:["twig"]},typescript:{filenames:[],extnames:["ts"]},velocity:{filenames:[],extnames:["vm"]},verilog:{filenames:[],extnames:["v","veo"]},vhdl:{filenames:[],extnames:["vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw"]},vim:{filenames:[".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],extnames:["vim"]},"visual-basic":{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},wasm:{filenames:[],extnames:["wast","wat"]},xojo:{filenames:[],extnames:["xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window"]},xquery:{filenames:[],extnames:["xquery","xq","xql","xqm","xqy"]},yaml:{filenames:[".clang-format",".clang-tidy",".gemrc","glide.lock"],extnames:["yml","mir","reek","rviz","sublime-syntax","syntax","yaml","yaml-tmlanguage"]}};Object.entries(o).reduce((e,n)=>{let[t,s]=n;return{...e,[t.toLocaleLowerCase()]:s}},{});let d=e=>{let n={},t={};for(let[e,s]of Object.entries(c)){for(let t of s.filenames)(0,l.Z)(n,t)||(n[t]=[]),n[t].push(e);for(let n of s.extnames)(0,l.Z)(t,n)||(t[n]=[]),t[n].push(e)}return[].concat(n[a().basename(e)],t[a().extname(e).substring(1)]).filter(Boolean)},m=(e,n)=>{let t=()=>(0,i.Z)(n)?"Other":n;if(!e)return t();let s=Object.values(r.SQ).map(e=>e.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase());if(-1===s)return t();let a=Object.keys(r.SQ)[s];return({csharp:"C#",cpp:"C++",javascript:"JavaScript",typescript:"TypeScript"})[a.toLocaleLowerCase()]||a}},47241:function(e,n,t){"use strict";t.d(n,{Eg:function(){return l},qs:function(){return i}});var s=t(17451);let a=s.a.setState,l=e=>{a(()=>({selectedModel:e}))},i=e=>{a(()=>({enableActiveSelection:e}))}},2596:function(){},23342:function(e,n){"use strict";n.Z={src:"/_next/static/media/tabby.16ac81a9.png",height:175,width:175,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mMAgUWTGw3KsqO9QOypZeG6NekBuQzI4NCmmaZtFam/K6PtHzYlOH5ysDX7n5QYboJQsKrfd1JN6v+ldXH/F+fa/fWyNf4fEebXBlcwsSbNeWV/+f9FE+t+za2K+xNjLfPf293u6v///xkZQGDDwr7gfetm/d8xr+VPkpXgnzR3nf/xAY6vt6yfK84AUrV5+US9HWtnnVgyrfm/tiTD/9JAo//5Ea5nGUDAkoGBCUQHWEiZysuI7LcwN7wb6WV1IT7YzR7uhh3Lepg+AU2av2AiT0pCuDKDayAvSLwsM4oJAH4LXl0Gpb0HAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},11075:function(e,n,t){"use strict";t.d(n,{eI:function(){return i},n0:function(){return r},uL:function(){return l}});var s=t(89704),a=t(95686);let l="0.2.2";function i(e,n){return(0,s.K)(e,{expose:{navigate:n.navigate,refresh:n.refresh,onSubmitMessage:n.onSubmitMessage,onApplyInEditor:n.onApplyInEditor,onLoaded:n.onLoaded,onCopy:n.onCopy,onKeyboardEvent:n.onKeyboardEvent}})}function r(e){return(0,a.c)({expose:{init:e.init,sendMessage:e.sendMessage,showError:e.showError,cleanError:e.cleanError,addRelevantContext:e.addRelevantContext,updateTheme:e.updateTheme,updateActiveSelection:e.updateActiveSelection}})}},14439:function(e,n,t){"use strict";t.d(n,{H:function(){return i},m:function(){return l}});var s=t(3546),a=t(11075);function l(e,n){let[t,l]=(0,s.useState)(null),i=!1;return(0,s.useEffect)(()=>{e.current&&!i&&(i=!0,l((0,a.eI)(e.current,n)))},[e.current]),t}function i(e){let[n,t]=(0,s.useState)(null),l=!1;return(0,s.useEffect)(()=>{let n=window.self!==window.top;n&&!l&&(l=!0,t((0,a.n0)(e)))},[]),n}}},function(e){e.O(0,[8415,3078,753,1386,55,617,9643,4752,3449,2578,8511,4421,1454,7070,4546,9610,9275,3299,4405,1266,3730,4755,2902,7073,4106,248,1544,1565,2105,9826,3375,5289,1744],function(){return e(e.s=78627)}),_N_E=e.O()}]);