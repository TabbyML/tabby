(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{88177:function(e,t,n){Promise.resolve().then(n.bind(n,1070))},1070:function(e,t,n){"use strict";n.r(t),n.d(t,{SourceCodeBrowser:function(){return ta},SourceCodeBrowserContext:function(){return tn}});var r=n(36164),l=n(3546),s=n(11978),a=n(57778),i=n(1853),o=n(94909),c=n(74630),d=n(26165),u=n(21454),f=n(43240),m=n(44645),h=n(80605),p=n(63484),x=n(3765),v=n(11634),g=n(70410),b=n(57288),j=n(53538),y=n(57830),w=n(30601),N=n(90379),k=n(38736),S=n(50538),C=n(42891),E=n.n(C),I=n(23342),R=n(91655),A=n(2578),F=n(28312),_=n(31458),L=n(81565),O=n(29),P=n(48048);let D=e=>{let{blob:t,className:n,canCopy:s,hideBlobActions:a,contentLength:i,children:o,...c}=e,{chatSideBarVisible:d,setChatSideBarVisible:u,isChatEnabled:f}=l.useContext(tn),{activePath:m}=l.useContext(tn),{isCopied:h,copyToClipboard:p}=(0,F.m)({timeout:2e3}),x=f&&!d,v=i?(0,R.Z)(i):"",g=async()=>{if(!h&&t)try{let e=await t.text();p(e)}catch(e){A.A.error("Something went wrong. Please try again.")}};return(0,r.jsx)("div",{className:(0,b.cn)("rounded-t-lg border",n),...c,children:!a&&(0,r.jsxs)("div",{className:(0,b.cn)("flex items-center justify-between rounded-t-lg bg-secondary p-2 text-secondary-foreground"),children:[(0,r.jsxs)("div",{className:"flex h-8 items-center gap-4 leading-8",children:[o,(0,r.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:v})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,r.jsxs)(O.u,{children:[(0,r.jsx)(O.aJ,{asChild:!0,children:(0,r.jsxs)(_.z,{variant:"ghost",size:"icon",onClick:g,children:[h?(0,r.jsx)(L.IconCheck,{className:"text-green-600"}):(0,r.jsx)(L.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,r.jsx)(O._v,{children:"Copy raw file"})]}),!!t&&(0,r.jsxs)(O.u,{children:[(0,r.jsx)(O.aJ,{asChild:!0,children:(0,r.jsx)("a",{className:(0,_.d)({variant:"ghost",size:"icon"}),download:(0,P.i3)(null!=m?m:""),href:URL.createObjectURL(t),children:(0,r.jsx)(L.IconDownload,{})})}),(0,r.jsx)(O._v,{children:"Download raw file"})]}),x&&(0,r.jsxs)(O.u,{children:[(0,r.jsx)(O.aJ,{asChild:!0,children:(0,r.jsxs)(_.z,{variant:"ghost",className:"flex shrink-0 items-center gap-1 px-2",onClick:e=>u(!d),children:[(0,r.jsx)(E(),{alt:"Tabby logo",src:I.Z,width:24}),"Ask Tabby"]})}),(0,r.jsx)(O._v,{children:"Open chat panel"})]})]})]})})},M=e=>{let{className:t,blob:n,isImage:s}=e,{activePath:a}=(0,l.useContext)(tn);return(0,r.jsx)("div",{className:(0,b.cn)(t),children:(0,r.jsx)("div",{className:"rounded-b-lg border border-t-0 p-2 text-center",children:s?(0,r.jsx)("img",{className:"mx-auto",src:n?URL.createObjectURL(n):void 0}):(0,r.jsx)("a",{className:"text-primary hover:underline",download:(0,P.i3)(null!=a?a:""),href:n?URL.createObjectURL(n):"",target:"_blank",children:"View raw"})})})},T=l.lazy(()=>Promise.all([n.e(9148),n.e(9223)]).then(n.bind(n,69223))),U=l.lazy(()=>Promise.all([n.e(2991),n.e(5738),n.e(5395),n.e(557)]).then(n.bind(n,30557))),z=e=>{var t;let{className:n}=e,{searchParams:s}=(0,m.Z)(),{activePath:a}=(0,l.useContext)(tn),{textValue:i}=(0,l.useContext)(B),o=a?(0,p.U$)(a)[0]:void 0,c=null!=o?o:"plain",d=(null===(t=s.get("plain"))||void 0===t?void 0:t.toString())==="1";return(0,r.jsx)("div",{className:(0,b.cn)(n),children:(0,r.jsx)("div",{className:"rounded-b-lg border border-t-0",children:(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)(N.cg,{className:"p-2"}),children:i&&"markdown"===c&&!d?(0,r.jsx)(U,{value:i}):(0,r.jsx)(T,{value:null!=i?i:"",language:c})})})})},B=l.createContext({}),q=e=>{var t;let{className:n,blob:s,contentLength:a,fileDisplayType:i,loading:o}=e,{searchParams:c,updateUrlComponents:d}=(0,m.Z)(),{activePath:u}=l.useContext(tn),{textValue:f}=l.useContext(B),h="raw"===i||"image"===i,x=u?(0,p.U$)(u)[0]:void 0,v=(null===(t=c.get("plain"))||void 0===t?void 0:t.toString())==="1";return(0,r.jsxs)("div",{className:(0,b.cn)(n),children:[(0,r.jsx)("div",{className:"sticky top-0 z-10 overflow-hidden bg-background",children:(0,r.jsx)(D,{blob:s,contentLength:a,canCopy:!h,children:!!f&&"markdown"===(null!=x?x:"plain")&&(0,r.jsx)(S.mQ,{value:v?"1":"0",onValueChange:e=>{"1"===e?d({searchParams:{set:{plain:"1"}}}):d({searchParams:{del:"plain"}})},children:(0,r.jsxs)(S.dr,{children:[(0,r.jsx)(S.SP,{value:"0",children:"Preview"}),(0,r.jsx)(S.SP,{value:"1",children:"Code"})]})})})}),o&&!s?(0,r.jsx)(N.cg,{className:"p-2"}):h?(0,r.jsx)(M,{blob:s,isImage:"image"===i}):(0,r.jsx)(z,{})]})},Z=e=>{let{blob:t,fileDisplayType:n,contentLength:s}=e,[a,i]=l.useState();return l.useEffect(()=>{let e=async e=>{try{let t=await e.text();i(t)}catch(e){i("")}};t&&"text"===n&&e(t)},[t,n]),(0,r.jsx)(B.Provider,{value:{textValue:a},children:(0,r.jsx)(q,{blob:t,fileDisplayType:n,contentLength:s})})};var G=n(826),V=n(14439),H=n(16784),J=n(98454),W=n(17451),Y=n(27064),K=n(16366);let $=e=>{let[t,n]=(0,l.useState)(!1),{chatSideBarVisible:s,setChatSideBarVisible:a}=l.useContext(tn),[i,o]=l.useState();return(l.useEffect(()=>{s&&!t&&n(!0)},[s]),l.useEffect(()=>{let e=e=>{a(!0),t||o(e)};return Y.u.on("quick_action_command",e),()=>{Y.u.off("quick_action_command",e)}},[]),t)?(0,r.jsx)(Q,{pendingCommand:i,...e}):null};function Q(e){let{activeRepo:t,className:n,pendingCommand:s,...a}=e,[{data:i}]=(0,J.P)(),[o,c]=(0,l.useState)(!1),{repoMap:d,updateActivePath:u,activeEntryInfo:f,textEditorViewRef:m}=l.useContext(tn),h=(0,W.a)(e=>e.activeChatId),x=l.useRef(null),v=(0,H.d)(d),g=(0,V.m)(x,{refresh:async()=>{window.location.reload(),await new Promise(e=>{setTimeout(()=>e(null),1e3)})},onApplyInEditor(e){},onLoaded(){c(!0)},onCopy(e){},onKeyboardEvent(){},openInEditor:async e=>j(e),openExternal:async e=>{window.open(e,"_blank")},readWorkspaceGitRepositories:async()=>y.current(),getActiveEditorSelection:async()=>w.current()});l.useEffect(()=>{let e=e=>{null==g||g.executeCommand(e)};return Y.u.on("quick_action_command",e),()=>{Y.u.off("quick_action_command",e)}},[g]),l.useEffect(()=>{let e=e=>{null==g||g.updateActiveSelection(e)};return Y.u.on("selection_change",e),()=>{Y.u.off("selection_change",e)}},[g]);let j=async e=>{let{filepath:t,location:n}=e;if("git"===t.kind){let e=(0,b.AV)(n),l=v.current,s=(0,G.Z)(Object.keys(l),e=>{var n;return(null==l?void 0:null===(n=l[e])||void 0===n?void 0:n.gitUrl)===t.gitUrl});if(s){let n=l[s];if(n){var r;let l=(0,P.s8)(n.refs),s=null===(r=(0,P.r2)(l))||void 0===r?void 0:r.name,a=(0,p.U$)(t.filepath)[0];return u((0,P.I)(n,s,t.filepath,"file"),{hash:e,replace:!1,plain:"markdown"===a&&!!e}),!0}}}return!1},y=(0,H.d)(()=>{if(!t)return[];let e=[{url:t.gitUrl}];return e}),w=(0,H.d)(()=>{if(!m.current||!f)return null;let e=(0,K.P)(m.current),n=e&&f.basename&&t?{kind:"file",filepath:{kind:"git",filepath:f.basename,gitUrl:null==t?void 0:t.gitUrl},range:{start:e.startLine,end:e.endLine},content:e.content}:null;return n});return l.useEffect(()=>{g&&i&&o&&g.init({fetcherOptions:{authorization:i.me.authToken}})},[null==x?void 0:x.current,i,o]),l.useEffect(()=>{if(s&&g&&o){let e=async()=>{g.executeCommand(s)};e()}},[o]),(0,r.jsxs)("div",{className:(0,b.cn)("flex h-full flex-col",n),...a,children:[(0,r.jsx)(X,{}),(0,r.jsx)("iframe",{src:"/chat",className:"w-full flex-1 border-0",ref:x},h)]})}function X(){let{setChatSideBarVisible:e}=l.useContext(tn);return(0,r.jsx)("div",{className:"sticky top-0 flex items-center justify-end px-2 py-1",children:(0,r.jsx)(_.z,{size:"icon",variant:"ghost",onClick:t=>e(!1),children:(0,r.jsx)(L.IconClose,{})})})}var ee=n(24685),et=n(91299),en=n(40055),er=n(24449),el=n(82394),es=n(11208);let ea=e=>{var t;let{className:n}=e,a=(0,s.useRouter)(),i=(0,s.useSearchParams)(),{activeEntryInfo:o,activeRepo:c,activeRepoRef:d,updateActivePath:u}=l.useContext(tn),[f,m]=l.useState(null===(t=i.get("q"))||void 0===t?void 0:t.toString()),[h]=(0,er.n)(f,300),p=l.useRef(null),x=null==c?void 0:c.kind,v=null==c?void 0:c.id,j=l.useMemo(()=>{if(h)return(0,et.Z)(h.replace(/-?(f|lang):\S+\s?/g,""))},[h]),[{data:y}]=(0,en.aM)({query:g.D7,variables:{kind:x,id:v,pattern:null!=j?j:"",rev:null==d?void 0:d.name},pause:!v||!x||!j}),w=l.useMemo(()=>{var e,t;if(!j)return[];let n=null==y?void 0:null===(e=y.repositorySearch)||void 0===e?void 0:e.slice(0,5);return null!==(t=null==n?void 0:n.map(e=>({repositorySearch:e,value:e.path,label:e.path,type:"file"})))&&void 0!==t?t:[]},[null==y?void 0:y.repositorySearch,j]),N=l.useMemo(()=>{let e=[{label:"Include only results from file path matching the given search pattern.",value:"f",type:"tips"},{label:"Exclude results from file path matching the given search pattern.",value:"-f",type:"tips"},{label:"Include only results from the given language.",value:"lang",type:"tips"},{label:"Exclude results from the given language.",value:"-lang",type:"tips"}];if(!f)return[e[0],e[2]];let t=f.match(/(^|\s)-$/),n=f.match(/(^|\s)-?f$/),r=f.match(/(^|\s)-?l(a(n(g)?)?)?$/);return t?[e[1],e[3]]:n||r?n?e.slice(0,2):r?e.slice(2):[]:[]},[f]),{isOpen:k,getMenuProps:S,getInputProps:C,highlightedIndex:E,getItemProps:I,openMenu:R}=(0,ee.Kb)({items:w,onSelectedItemChange(e){let{selectedItem:t}=e;if((null==t?void 0:t.type)==="file"&&t.repositorySearch){let e=(0,P.I)(c,null==d?void 0:d.name,t.repositorySearch.path,t.repositorySearch.type);u(e);return}F(null==t?void 0:t.value)},stateReducer(e,t){let{type:n,changes:r}=t;switch(n){case ee.Kb.stateChangeTypes.InputClick:return{...r,highlightedIndex:void 0,isOpen:!0};case ee.Kb.stateChangeTypes.InputKeyDownArrowDown:{if(!(null==w?void 0:w.length)||!e.isOpen)return r;let t=e.highlightedIndex===w.length-1;return{...r,highlightedIndex:t?void 0:r.highlightedIndex}}case ee.Kb.stateChangeTypes.InputKeyDownArrowUp:{if(!(null==w?void 0:w.length)||!e.isOpen)return r;let t=0===e.highlightedIndex;return{...r,highlightedIndex:t?void 0:r.highlightedIndex}}default:return r}}}),A=e=>{k||R(),m(e)};l.useEffect(()=>{let e=e=>{var t,n;let r=e.target,l=null==r?void 0:null===(t=r.tagName)||void 0===t?void 0:t.toLowerCase();if("input"!==l&&"textarea"!==l&&"select"!==l&&"/"===e.key){e.preventDefault(),null===(n=p.current)||void 0===n||n.focus(),R();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]);let F=e=>{if(!e)return;let t=(0,P.I)(c,null==o?void 0:o.rev,"","search");a.push("/files/".concat(t,"?q=").concat(encodeURIComponent(e)))},O=!(null==N?void 0:N.length)&&!(null==w?void 0:w.length);return(0,r.jsx)("div",{className:(0,b.cn)("flex w-full shrink-0 items-center bg-background px-4 py-3.5 transition duration-500 ease-in-out",n),children:(0,r.jsxs)("div",{className:(0,b.cn)("relative w-full"),children:[(0,r.jsxs)("div",{className:"h-9",children:[(0,r.jsx)("div",{className:(0,b.cn)({"absolute z-10 inset-0":k}),children:(0,r.jsx)(el.I,{className:"w-full",...C({onKeyDown:e=>{"Enter"!==e.key||e.nativeEvent.isComposing||(e.preventDefault(),F(f))},ref:p}),value:f,onChange:e=>A(e.target.value)})}),!f&&(0,r.jsxs)("div",{className:"absolute left-3 top-1.5 cursor-text select-none text-muted-foreground",onClick:e=>{var t;e.preventDefault(),null===(t=p.current)||void 0===t||t.focus(),R()},children:["Type"," ",(0,r.jsx)("kbd",{className:"rounded border border-muted-foreground px-0.5",children:"/"})," ","to search"]})]}),(0,r.jsxs)("div",{className:"absolute right-2 top-0 z-20 flex h-full items-center",children:[f?(0,r.jsx)(_.z,{variant:"ghost",size:"icon",className:"h-6 w-6 cursor-pointer",onClick:()=>{var e;m(""),null===(e=p.current)||void 0===e||e.focus()},children:(0,r.jsx)(L.IconClose,{})}):null,(0,r.jsx)("div",{className:"z-20 ml-2 flex items-center border-l border-l-border pl-2",children:(0,r.jsx)(_.z,{variant:"ghost",className:"h-6 w-6 ",size:"icon",onClick:()=>F(f),children:(0,r.jsx)(L.IconSearch,{})})})]}),k&&(0,r.jsxs)("div",{className:(0,b.cn)("absolute -inset-x-3 -top-2.5 flex max-h-[60vh] flex-col overflow-hidden rounded-lg border bg-background p-4 shadow-2xl dark:border-2 dark:border-[#33363c] dark:bg-[hsl(0,0,13.5%)]",{"pb-0.5":O}),...S({suppressRefError:!0}),children:[(0,r.jsx)("div",{className:(0,b.cn)("shrink-0",O?"h-9":"h-12")}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[!!(null==N?void 0:N.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-md mb-2 pl-2 font-semibold",children:"Narrow your search"}),(0,r.jsx)("div",{className:"space-y-2",children:N.map(e=>(0,r.jsx)(eo,{data:e},e.value))})]}),!!(null==w?void 0:w.length)&&(0,r.jsxs)(r.Fragment,{children:[!!(null==N?void 0:N.length)&&(0,r.jsx)(es.Z,{className:"my-2"}),(0,r.jsx)("div",{className:"text-md mb-1 pl-2 font-semibold",children:"Code"}),w.map((e,t)=>{var n,l;let s=e.repositorySearch,a=E===t;return(0,r.jsxs)("div",{className:(0,b.cn)("relative flex cursor-default select-none items-center gap-1 rounded-sm px-2 py-1.5 text-sm",a&&"cursor-pointer bg-accent text-accent-foreground"),...I({item:e,index:t,onMouseLeave:e=>e.preventDefault(),onMouseOut:e=>e.preventDefault()}),children:[(0,r.jsx)("div",{className:"shrink-0",children:(null==e?void 0:null===(n=e.repositorySearch)||void 0===n?void 0:n.type)==="dir"?(0,r.jsx)(L.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}}):(0,r.jsx)(L.IconFile,{})}),(0,r.jsx)("div",{className:"flex-1 break-all",children:(0,r.jsx)(ei,{text:s.path,indices:s.indices})}),(0,r.jsx)("div",{className:"shrink-0 text-sm text-muted-foreground",children:"Jump to"})]},null===(l=e.repositorySearch)||void 0===l?void 0:l.path)})]})]})]})]})})};function ei(e){let{text:t,indices:n}=e,s=l.useMemo(()=>new Set(n),[n]);return(0,r.jsx)("p",{className:"text-muted-foreground",children:t.split("").map((e,t)=>s.has(t)?(0,r.jsx)("span",{className:"font-semibold text-foreground",children:e},"".concat(e,"_").concat(t)):e)})}function eo(e){let{data:t}=e,{label:n,value:l}=t;return(0,r.jsxs)("div",{className:"flex items-center gap-1 px-2 text-sm",children:[(0,r.jsx)(L.IconFilter,{className:"shrink-0"}),(0,r.jsxs)("div",{className:"text-secondary-foreground",children:[(0,r.jsxs)("span",{className:"mr-0.5 rounded bg-secondary px-1 py-0.5 text-secondary-foreground",children:[l,":"]}),(0,r.jsx)("span",{children:n})]})]})}var ec=n(97651),ed=n.n(ec),eu=n(39018),ef=n.n(eu),em=n(3448),eh=n(70652),ep=n.n(eh),ex=n(88105),ev=n(58388),eg=n(28242),eb=n(33523),ej=n(85312);let ey=ex.tk.theme({".cm-line":{cursor:"pointer"},".cm-line:hover":{opacity:"60%"}});n(5253);let ew=ex.p.mark({class:"search-match-mark"}),eN=ex.tk.theme({".search-match-mark":{backgroundColor:"hsl(var(--mark-bg))"}});function ek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.state.doc,r=n.length;if(!r)return ex.p.none;let l=[];for(let e of t){let t=n.line(e.lineNumber),s=t.from,a={start:s+e.bytesStart,end:s+e.bytesEnd};try{a&&a.start<=r&&a.end<=r&&l.push(ew.range(a.start,a.end))}catch(e){}}return l.length?ex.p.set(l):ex.p.none}let eS=e=>{let t=ex.lg.fromClass(class{update(t){(t.docChanged||t.viewportChanged)&&(this.marks=ek(t.view,e))}constructor(t){this.marks=ek(t,e)}},{decorations:e=>e.marks});return[t,eN]},eC=l.memo(e=>{let t,{path:n,pattern:l}=e;if(!l)return n;let s=RegExp((0,ev.Z)(l),"gi"),a=[];for(;null!==(t=s.exec(n));){let e=t.index,n=e+t[0].length;a.push({start:e,end:n})}return(0,r.jsx)(eI,{text:n,matches:a})});eC.displayName="FilePathView";let eE=e=>{let{result:t,query:n}=e,{theme:s}=(0,eg.F)(),{activeRepo:a,activeEntryInfo:i}=l.useContext(tn),o=l.useMemo(()=>{var e;return null==n?void 0:null===(e=n.match(/f:(\S+)/))||void 0===e?void 0:e[1]},[n]),d=(0,p.U$)(t.path)[0],u=l.useMemo(()=>{var e;let n;let r=[],l=0,s=0,a=null!==(e=t.lines)&&void 0!==e?e:[];return a.forEach((e,t)=>{0===t?(l=t,s=t,n=e.lineNumber):((0,c.Z)(n)||e.lineNumber!==n+1?(n=e.lineNumber,r.push({start:l,end:s}),l=t):n=e.lineNumber,s=t)}),s!==(null==a?void 0:a.length)&&r.push({start:l,end:s}),r},[t.lines]),f="/files/".concat((0,P.I)(a,i.rev,t.path,"file"));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"sticky top-9 z-10 border bg-secondary p-2 text-secondary-foreground",children:(0,r.jsx)(ep(),{href:{pathname:f},className:"inline-flex font-medium text-primary hover:underline",children:(0,r.jsx)(eC,{path:t.path,pattern:o})})}),(0,r.jsx)("div",{className:"divide-y-border mb-6 grid divide-y overflow-x-auto border border-t-0",children:u.map((e,n)=>{let l=t.lines.slice(e.start,e.end+1);return(0,r.jsx)(eb.Z,{height:20*l.length+9,offset:300,children:(0,r.jsx)(eR,{language:d,theme:s,lines:l,path:t.path})},"".concat(t.path,"-").concat(e.start))})})]})};function eI(e){let{text:t,matches:n}=e;if(!n||0===n.length)return(0,r.jsx)("span",{children:t});let l=[],s=0;return n.forEach((e,n)=>{e.start>s&&l.push((0,r.jsx)("span",{children:t.substring(s,e.start)},"text-".concat(n))),l.push((0,r.jsx)("span",{className:"bg-[hsl(var(--mark-bg))]",children:t.substring(e.start,e.end)},"match-".concat(n))),s=e.end}),s<t.length&&l.push((0,r.jsx)("span",{children:t.substring(s)},"last")),(0,r.jsx)("span",{children:l})}function eR(e){var t;let{theme:n,language:a,lines:i,path:o}=e,c=(0,s.useRouter)(),{activeRepo:d,activeEntryInfo:u}=l.useContext(tn),f=l.useMemo(()=>{var e;let t=null!==(e=null==i?void 0:i.reduce((e,t)=>e+(t.line.text||atob(t.line.base64||"")||""),""))&&void 0!==e?e:"";return t.replace(/\n$/,"")},[]),m=(null==i?void 0:null===(t=i[0])||void 0===t?void 0:t.lineNumber)||0,h=l.useMemo(()=>{if(null==i?void 0:i.length){var e;let t=[];for(let e=0;e<i.length;e++){let n=i[e];for(let r of n.subMatches)t.push({bytesStart:r.bytesStart,bytesEnd:r.bytesEnd,lineNumber:e+1})}return[(0,ex.Eu)({formatNumber(e){var t,n;return null!==(n=null===(t=i[e-1])||void 0===t?void 0:t.lineNumber.toString())&&void 0!==n?n:e}}),(e=e=>{let t="/files/".concat((0,P.I)(d,u.rev,o,"file"));c.push("".concat(t,"?plain=1#L").concat(m+e-1))},[ey,ex.tk.domEventHandlers({mousedown(t,n){let r=n.posAtCoords({x:t.clientX,y:t.clientY});if(null!=r){let l=n.state.doc.lineAt(r);e(l.number,t)}}})]),...eS(t)]}return[]},[i]);return(0,r.jsx)(ej.Z,{value:f,theme:n,language:a,readonly:!0,extensions:h})}let eA=e=>{var t,n,a;let i=(0,s.useSearchParams)(),o=null!==(n=null===(t=i.get("q"))||void 0===t?void 0:t.toString())&&void 0!==n?n:"",c=l.useMemo(()=>{var t;let n=e.results;return null!==(t=null==n?void 0:n.map(e=>({...e,blob:e.lines.reduce((e,t)=>{var n;return e+(null!==(n=t.line.text)&&void 0!==n?n:"")},"")})))&&void 0!==t?t:[]},[e.results]),d=l.useMemo(()=>{let t=0;if(!e.results)return"0";for(let n of e.results){let e=n.lines.reduce((e,t)=>{let n=t.subMatches.length;return e+n},0);t+=Math.max(e,1)}let n=t<1e3?"0":"0.0a";return ef()(t).format(n)},[e.results]),u=ed().humanizer({units:["d","h","m","s"],spacer:"",maxDecimalPoints:2,language:"shortEn",languages:{shortEn:{m:()=>"m",s:()=>"s"}}})(null!==(a=e.requestDuration)&&void 0!==a?a:0);return(0,r.jsx)(r.Fragment,{children:e.loading?(0,r.jsx)(eF,{className:"mt-3"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h1",{className:"sticky top-0 z-20 bg-background pb-2 pt-1 font-semibold",children:[d," results in ",u]}),null==c?void 0:c.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(eE,{result:e,query:o})},"".concat(e.path,"-").concat(t)))]})})};function eF(e){let{className:t}=e;return(0,r.jsxs)("div",{className:(0,b.cn)("flex flex-col gap-3",t),children:[(0,r.jsx)(em.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(em.O,{className:"h-4 w-full"}),(0,r.jsx)(em.O,{className:"h-8 w-full"})]})}let e_=e=>{let{className:t,error:n}=e,l=(0,r.jsx)(eO,{});switch(null==n?void 0:n.message){case P.l8.REPOSITORY_NOT_FOUND:l=(0,r.jsx)(eL,{});break;case P.l8.REPOSITORY_SYNC_FAILED:l=(0,r.jsx)(eP,{});break;case P.l8.INVALID_URL:l=(0,r.jsx)(eD,{});break;case P.l8.FAILED_TO_FETCH:l=(0,r.jsx)(eM,{})}return(0,r.jsx)("div",{className:(0,b.cn)("flex min-h-[30vh] items-center justify-center",t),children:(0,r.jsx)("div",{className:"flex flex-col items-center gap-4",children:l})})};function eL(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Repository not found"})]}),(0,r.jsxs)(ep(),{href:"/files",className:(0,b.cn)((0,_.d)(),"gap-2"),children:[(0,r.jsx)("span",{children:"Back to repositories"}),(0,r.jsx)(L.IconArrowRight,{})]})]})}function eO(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Not found"})]}),(0,r.jsxs)(ep(),{href:"/files",className:(0,b.cn)((0,_.d)(),"gap-2"),children:[(0,r.jsx)("span",{children:"Back to repositories"}),(0,r.jsx)(L.IconArrowRight,{})]})]})}function eP(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Repository is not cloned properly"})]}),(0,r.jsx)("div",{children:"The cloning of the repository has failed. Please verify your settings or attempt to retry the job."}),(0,r.jsxs)(ep(),{href:"/settings/providers/git",className:(0,b.cn)((0,_.d)(),"gap-2"),children:[(0,r.jsx)("span",{children:"Providers Configuration"}),(0,r.jsx)(L.IconArrowRight,{})]})]})}function eD(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Invalid URL"})]}),(0,r.jsxs)(ep(),{href:"/files",className:(0,b.cn)((0,_.d)(),"gap-2"),children:[(0,r.jsx)("span",{children:"Back to repositories"}),(0,r.jsx)(L.IconArrowRight,{})]})]})}function eM(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Failed to fetch"})]})})}var eT=n(48537);let eU=e=>{let{className:t}=e,{currentFileRoutes:n,activeRepo:s,activeEntryInfo:a}=l.useContext(tn),i=null==a?void 0:a.basename,o=l.useMemo(()=>{var e;let t=null==a?void 0:a.basename,n=[{name:null!==(e=null==a?void 0:a.repositoryName)&&void 0!==e?e:"",href:(0,P.I)(s,a.rev,"","dir")}];if(t){let e=decodeURIComponent(t).split("/")||[];for(let t=0;t<e.length;t++){let r=e.slice(0,t+1).join("/"),l=(0,P.i3)(r);n.push({name:decodeURIComponent(l),href:(0,P.I)(s,a.rev,r,"dir")})}}return n},[a,s]);return(0,r.jsxs)("div",{className:(0,b.cn)("flex flex-nowrap items-center gap-1",t),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto leading-8",children:[(0,r.jsx)(ep(),{className:"cursor-pointer font-medium text-primary hover:underline",href:"/files",children:"Repositories"}),(0,r.jsx)("div",{children:"/"}),null==o?void 0:o.map((e,t)=>{let n=0===t&&(null==o?void 0:o.length)>1,s=t===o.length-1,a=(0,b.cn)("whitespace-nowrap",n||s?"font-bold":"font-medium",s?"":"cursor-pointer text-primary hover:underline",n?"hover:underline":void 0);return(0,r.jsxs)(l.Fragment,{children:[s?(0,r.jsx)("div",{className:a,children:e.name}):(0,r.jsx)(ep(),{className:a,href:"/files/".concat(e.href),children:e.name}),!s&&(0,r.jsx)("div",{children:"/"})]},e.href)})]}),!!(null==n?void 0:n.length)&&!!i&&(0,r.jsx)(eT.q,{className:"shrink-0",value:i})]})};var ez=n(76297),eB=n(36327);let eq=l.createContext({}),eZ=e=>{let{onSelectTreeNode:t,children:n,activePath:l,fileMap:s,updateFileMap:a,expandedKeys:i,toggleExpandedKey:o,initialized:c,fileTreeData:d,fetchingTreeEntries:u}=e;return(0,r.jsx)(eq.Provider,{value:{onSelectTreeNode:t,fileTreeData:d,expandedKeys:i,toggleExpandedKey:o,activePath:l,fileMap:s,updateFileMap:a,initialized:c,fetchingTreeEntries:u},children:n})},eG=e=>{let{level:t}=e,n=l.useMemo(()=>Array(t).fill(1),[t]);return(0,r.jsx)("div",{className:"flex h-full shrink-0 items-stretch",children:n.map((e,t)=>(0,r.jsx)("div",{className:"flex h-8 w-2 border-r border-transparent transition-colors duration-300 group-hover/filetree:border-border"},t))})},eV=()=>{let{ref:e,entry:t,inView:n}=(0,ez.YD)({trackVisibility:!0,delay:500});return l.useEffect(()=>{if((null==t?void 0:t.target)&&!n){var e;null==t||null===(e=t.target)||void 0===e||e.scrollIntoView({block:"center"})}},[null==t?void 0:t.target]),(0,r.jsx)("div",{ref:e,className:"absolute -left-2 h-8 w-1 rounded-md bg-primary"})},eH=e=>{let{isActive:t,level:n,children:l,className:s,...a}=e;return(0,r.jsxs)("div",{className:(0,b.cn)("relative flex h-8 cursor-pointer items-stretch rounded-sm hover:bg-accent focus:bg-accent focus:text-accent-foreground",t&&"bg-accent",s),...a,children:[t&&(0,r.jsx)(eV,{}),(0,r.jsx)(eG,{level:n}),(0,r.jsxs)("div",{className:"flex flex-nowrap items-center gap-2 truncate whitespace-nowrap",children:[(0,r.jsx)("div",{className:"h-4 w-4 shrink-0"}),l]})]})},eJ=e=>{let{children:t,level:n,isActive:l,className:s,...a}=e;return(0,r.jsxs)("div",{className:(0,b.cn)("relative flex cursor-pointer items-stretch rounded-sm hover:bg-accent focus:bg-accent focus:text-accent-foreground",l?"bg-accent text-accent-foreground":void 0,s),...a,children:[l&&(0,r.jsx)(eV,{}),(0,r.jsx)(eG,{level:n}),(0,r.jsx)("div",{className:"flex flex-nowrap items-center gap-2 truncate whitespace-nowrap",children:t})]})},eW=e=>{let{node:t,level:n}=e,{activeEntryInfo:s}=l.useContext(tn),{onSelectTreeNode:a}=l.useContext(eq),i="file"===t.file.kind,o=t.fullPath===(null==s?void 0:s.basename);return(0,r.jsxs)(eH,{level:n,onClick:e=>{i&&(null==a||a(t))},isActive:o,children:[(0,r.jsx)(L.IconFile,{className:"shrink-0"}),(0,r.jsx)("div",{className:"truncate",children:null==t?void 0:t.name})]})},eY=e=>{var t,n,s;let{node:a,level:i,root:o}=e,{activeRepo:c,activeEntryInfo:d}=l.useContext(tn),{fileMap:u,updateFileMap:f,expandedKeys:m,toggleExpandedKey:h,onSelectTreeNode:p}=l.useContext(eq),v=l.useRef(!1),g=o?"":a.file.basename,b=m.has(g),j="dir"===a.file.kind&&!(null==u?void 0:null===(t=u[a.fullPath])||void 0===t?void 0:t.treeExpanded)&&b,{data:y,isLoading:w}=(0,eB.Z)(j?(0,P.Vq)(c,d.rev,g):null,x.Z,{revalidateIfStale:!1});l.useEffect(()=>{var e;if(!v.current&&(null==y?void 0:null===(e=y.entries)||void 0===e?void 0:e.length)){let e=y.entries.reduce((e,t)=>{let n=t.basename;return{...e,[n]:{file:t,name:(0,P.i3)(n),fullPath:n,treeExpanded:!1}}},{});f(e),v.current=!0}},[y]);let[N]=(0,er.n)(w,100),k=!!(null==a?void 0:null===(n=a.children)||void 0===n?void 0:n.length);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eJ,{level:i,onClick:e=>{null==p||p(a)},isActive:(null==d?void 0:d.basename)===a.fullPath,children:[(0,r.jsx)("div",{className:"flex h-8 shrink-0 items-center hover:bg-primary/10 hover:text-popover-foreground",onClick:e=>{N||(h(a.fullPath),e.stopPropagation())},children:N&&!v.current?(0,r.jsx)(L.IconSpinner,{}):b?(0,r.jsx)(L.IconChevronDown,{}):(0,r.jsx)(L.IconChevronRight,{})}),(0,r.jsx)("div",{className:"shrink-0",style:{color:"rgb(84, 174, 255)"},children:b?(0,r.jsx)(L.IconDirectoryExpandSolid,{}):(0,r.jsx)(L.IconDirectorySolid,{})}),(0,r.jsx)("div",{className:"truncate",children:null==a?void 0:a.name})]}),(0,r.jsx)(r.Fragment,{children:b&&k?(0,r.jsx)(r.Fragment,{children:null===(s=a.children)||void 0===s?void 0:s.map(e=>{let t=e.file.basename;return"dir"===e.file.kind?(0,r.jsx)(eY,{node:e,level:i+1},t):(0,r.jsx)(eW,{node:e,level:i+1},t)})}):null})]})},eK=()=>{let{repoMap:e,activeEntryInfo:t}=l.useContext(tn),{initialized:n,fileTreeData:s,fetchingTreeEntries:a}=l.useContext(eq),{repositorySpecifier:i}=t,o=!!i,c=o&&!(null==s?void 0:s.length);return n?o?c&&a?(0,r.jsx)(eQ,{}):(0,r.jsx)(r.Fragment,{children:null==s?void 0:s.map(e=>{var t;let n=(null==e?void 0:null===(t=e.file)||void 0===t?void 0:t.kind)==="file";return n?(0,r.jsx)(eW,{level:0,node:e},e.fullPath):(0,r.jsx)(eY,{level:0,node:e},e.fullPath)})}):null:(0,r.jsx)(eQ,{})},e$=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,b.cn)("group/filetree",t),children:(0,r.jsx)(eZ,{...n,children:(0,r.jsx)(eK,{})})})};function eQ(){return(0,r.jsxs)("div",{className:"space-y-3 p-2",children:[(0,r.jsx)(em.O,{}),(0,r.jsx)(em.O,{className:"ml-4"}),(0,r.jsx)(em.O,{className:"ml-4"}),(0,r.jsx)(em.O,{}),(0,r.jsx)(em.O,{className:"ml-4"})]})}var eX=n(62940),e0=n(36065),e1=n(84942),e4=n(54594),e2=n(18500);function e5(e){let{kind:t,fallback:n}=e;switch(t){case e2.vW.Git:case e2.vW.GitConfig:return(0,r.jsx)(L.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}});case e2.vW.Github:case e2.vW.GithubSelfHosted:return(0,r.jsx)(L.IconGitHub,{});case e2.vW.Gitlab:case e2.vW.GitlabSelfHosted:return(0,r.jsx)(L.IconGitLab,{});default:return null!=n?n:null}}let e8=e=>{var t,n,s,a,i;let{className:o,...d}=e,{updateActivePath:u,initialized:f,activeRepo:m,activeRepoRef:h,fileMap:p,repoMap:x,activeEntryInfo:v}=(0,l.useContext)(tn),g=l.useMemo(()=>(0,P.UR)(x).map(e=>{let t=(0,P.Pj)(e);return{repo:e,repoSpecifier:t}}),[x]),[j,y]=l.useState(!1),[w,N]=l.useState(null!==(s=null==h?void 0:h.kind)&&void 0!==s?s:"branch"),{repositoryKind:k,repositoryName:C,repositorySpecifier:E}=v,I=null==m?void 0:m.refs,R=l.useMemo(()=>(null==I?void 0:I.length)?I.map(e=>(0,P.r2)(e)):[],[I]),A=R.filter(e=>"branch"===e.kind),F=R.filter(e=>"tag"===e.kind),O=f&&!(null==g?void 0:g.length),D=e=>{var t,n,r,l,s;if((0,c.Z)(e))return;let a=null!==(l=null===(t=(0,P.r2)(e))||void 0===t?void 0:t.name)&&void 0!==l?l:"",{basename:i=""}=v,o=null!==(s=null==p?void 0:null===(r=p[i])||void 0===r?void 0:null===(n=r.file)||void 0===n?void 0:n.kind)&&void 0!==s?s:"dir";u((0,P.I)(m,a,i,o))};return(0,r.jsxs)("div",{className:(0,b.cn)(o),...d,children:[(0,r.jsx)("div",{className:"py-4 font-bold leading-8",children:(0,r.jsx)("span",{className:(0,b.cn)("py-1",{"hover:underline cursor-pointer":!!m}),onClick:()=>{m&&u((0,P.I)(m,null==v?void 0:v.rev,"","dir"))},children:"Files"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(e4.Ph,{disabled:!f,onValueChange:e=>{var t;let n=null===(t=g.find(t=>t.repoSpecifier===e))||void 0===t?void 0:t.repo;if(n){let t="".concat(e,"/-/tree/").concat((0,P.r2)((0,P.s8)(n.refs)).name);u(t)}},value:E,children:[(0,r.jsx)(e4.i4,{children:(0,r.jsx)(e4.ki,{asChild:!0,children:(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)("div",{className:"shrink-0",children:(0,r.jsx)(e5,{kind:k,fallback:(0,r.jsx)(L.IconFolderGit,{})})}),(0,r.jsx)("span",{className:(0,b.cn)("truncate",!C&&"text-muted-foreground"),children:C||"Pick a repository"})]})})}),(0,r.jsx)(e4.Bw,{className:"max-h-[50vh] overflow-y-auto",children:O?(0,r.jsx)(e4.Ql,{isPlaceHolder:!0,value:"",disabled:!0,children:"No repositories"}):(0,r.jsx)(r.Fragment,{children:null==g?void 0:g.map(e=>(0,r.jsx)(e4.Ql,{value:e.repoSpecifier,children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(e5,{kind:e.repo.kind,fallback:(0,r.jsx)(L.IconFolderGit,{})}),e.repo.name]})},e.repoSpecifier))})})]}),!!m&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(e1.J2,{open:j,onOpenChange:y,children:[(0,r.jsx)(e1.xo,{asChild:!0,children:(0,r.jsx)(_.z,{className:"w-full justify-start gap-2 px-3",variant:"outline",children:!!h&&(0,r.jsxs)(r.Fragment,{children:["tag"===h.kind?(0,r.jsx)(L.IconTag,{className:"shrink-0"}):(0,r.jsx)(L.IconGitFork,{className:"shrink-0"}),(0,r.jsx)("span",{className:"truncate",title:h.name,children:"commit"===h.kind?null===(n=h.ref)||void 0===n?void 0:null===(t=n.commit)||void 0===t?void 0:t.substring(0,7):h.name})]})})}),(0,r.jsx)(e1.yk,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",side:"bottom",sideOffset:-8,children:(0,r.jsxs)(e0.mY,{children:[(0,r.jsx)(e0.sZ,{placeholder:"tag"===w?"Find a tag":"Find a branch"}),(0,r.jsx)(S.mQ,{className:"my-1 border-b",value:w,onValueChange:e=>N(e),children:(0,r.jsxs)(S.dr,{className:"bg-popover py-0",children:[(0,r.jsx)(S.SP,{value:"branch",children:"Branches"}),(0,r.jsx)(S.SP,{value:"tag",children:"Tags"})]})}),(0,r.jsxs)(e0.e8,{className:"max-h-[30vh]",children:[(0,r.jsx)(e0.rb,{children:"Nothing to show"}),(0,r.jsx)(e0.fu,{children:("tag"===w?F:A).map((e,t)=>{var n;return(0,r.jsxs)(e0.di,{onSelect:()=>{y(!1),D(e.ref)},children:[(0,r.jsx)(L.IconCheck,{className:(0,b.cn)("mr-2 shrink-0",(null==e?void 0:e.name)&&e.name===(null==h?void 0:h.name)?"opacity-100":"opacity-0")}),(0,r.jsx)("span",{className:"truncate",title:e.name,children:null!==(a=e.name)&&void 0!==a?a:""})]},null!==(i=null==e?void 0:null===(n=e.ref)||void 0===n?void 0:n.name)&&void 0!==i?i:t)})})]})]})})]})})]})]})},e3=e=>{let{fetchingTreeEntries:t}=e,{activePath:n,updateActivePath:s,expandedKeys:a,updateFileMap:i,toggleExpandedKey:o,initialized:c,fileTreeData:d,fileMap:u,activeRepo:f,activeEntryInfo:m}=l.useContext(tn),h=l.useRef(null),p=function(e,t){var n,r;let[s,a]=(0,l.useState)(null!==(r=null===(n=e.current)||void 0===n?void 0:n.scrollTop)&&void 0!==r?r:0);return(0,l.useEffect)(()=>{if(e.current){let n=(0,eX.Z)(()=>{var t,n;a(null!==(n=null===(t=e.current)||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:0)},t,{leading:!0}),r=e.current;return r.addEventListener("scroll",n),()=>{r.removeEventListener("scroll",n)}}},[e,t]),s}(h,200);return(0,r.jsxs)("div",{className:"flex h-full flex-col overflow-hidden",children:[(0,r.jsx)(e8,{className:"shrink-0 px-4 pb-3"}),p>0&&(0,r.jsx)("div",{className:"h-0 border-b shadow-[0px_3px_8px_rgba(0,0,0,0.3)] dark:shadow-[0px_3px_8px_rgba(255,255,255,0.3)]"}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-4",ref:h,children:(0,r.jsx)(e$,{onSelectTreeNode:e=>{let t=(0,P.I)(f,m.rev,e.file.basename,e.file.kind);s(t)},activePath:n,fileMap:u,updateFileMap:i,expandedKeys:a,toggleExpandedKey:o,initialized:c,fileTreeData:d,fetchingTreeEntries:t})})]})};var e6=n(2899),e7=n(99047);let e9=e=>{var t,n;let{className:s,loading:a,initialized:i}=e,{activePath:c,currentFileRoutes:d,fileTreeData:u,activeRepo:f,repoMap:m,activeEntryInfo:h}=l.useContext(tn),p=l.useMemo(()=>(0,o.Z)(m)||f?function(e,t){if(!(null==e?void 0:e.length))return[];if(t){let{basename:n=""}=(0,P.Jt)(t);if(!n)return e;let r=decodeURIComponent(n).split("/"),l=e;for(let e=0;e<r.length;e++){let t=r.slice(0,e+1).join("/"),n=(0,G.Z)(l,e=>e.fullPath===t);if(null==n||!n.children)return[];l=null==n?void 0:n.children}return(null==l?void 0:l.map(e=>(0,e6.Z)(e,"children")))||[]}{let t=e.map(e=>(0,e6.Z)(e,"children"))||[];return t}}(u,c):(0,P.UR)(m).map(e=>{var t;return{file:{basename:e.name,kind:"dir"},isRepository:!0,repository:e,fullPath:(0,P.I)(e,null===(t=(0,P.r2)((0,P.s8)(e.refs)))||void 0===t?void 0:t.name,"","dir"),name:e.name}}),[u,c,f,m]),[x]=(0,er.n)(a,300),v=!!(null==h?void 0:h.basename),g=d[(null==d?void 0:d.length)-2];return(0,r.jsx)("div",{className:(0,b.cn)("text-base",s),children:(!x||(null==p?void 0:p.length))&&i?(null==p?void 0:p.length)?(0,r.jsx)(e7.iA,{children:(0,r.jsxs)(e7.RM,{children:[v&&(0,r.jsx)(e7.SC,{className:"cursor-pointer",children:(0,r.jsx)(e7.pj,{className:"p-1 px-4",children:(0,r.jsx)(ep(),{href:"/files/".concat((0,P.I)(f,h.rev,null==g?void 0:null===(t=g.file)||void 0===t?void 0:t.basename,null==g?void 0:null===(n=g.file)||void 0===n?void 0:n.kind)),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"shrink-0",children:(0,r.jsx)(L.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}})}),(0,r.jsx)("span",{className:"px-1 py-2",children:".."})]})})})}),(0,r.jsx)(r.Fragment,{children:p.map(e=>{var t;let n=e.isRepository,l=null===(t=e.repository)||void 0===t?void 0:t.kind;return(0,r.jsx)(e7.SC,{children:(0,r.jsx)(e7.pj,{className:"p-1 px-4 text-base",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"shrink-0",children:n?(0,r.jsx)(e5,{kind:l,fallback:(0,r.jsx)(L.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}})}):"dir"===e.file.kind?(0,r.jsx)(L.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}}):(0,r.jsx)(L.IconFile,{})}),(0,r.jsx)(ep(),{href:n?"/files/".concat(e.fullPath):"/files/".concat((0,P.I)(null!=f?f:e.repository,h.rev,e.file.basename,e.file.kind)),className:"cursor-pointer px-1 py-2 hover:text-primary hover:underline",children:e.name})]})})},e.fullPath)})})]})}):(0,o.Z)(m)?(0,r.jsx)("div",{className:"flex min-h-[30vh] items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"No repositories"})]}),(0,r.jsxs)(ep(),{href:"/settings/providers/git",className:(0,b.cn)((0,_.d)(),"gap-2"),children:[(0,r.jsx)("span",{children:"Connect"}),(0,r.jsx)(L.IconArrowRight,{})]})]})}):null:(0,r.jsx)(te,{})})};function te(){return(0,r.jsxs)("ul",{className:"space-y-3 p-2",children:[(0,r.jsx)(em.O,{}),(0,r.jsx)(em.O,{}),(0,r.jsx)(em.O,{}),(0,r.jsx)(em.O,{})]})}let tt=(0,f.BX)("\n  query RepositoryGrep(\n    $id: ID!\n    $kind: RepositoryKind!\n    $rev: String\n    $query: String!\n  ) {\n    repositoryGrep(kind: $kind, id: $id, rev: $rev, query: $query) {\n      files {\n        path\n        lines {\n          line {\n            text\n            base64\n          }\n          byteOffset\n          lineNumber\n          subMatches {\n            bytesStart\n            bytesEnd\n          }\n        }\n      }\n      elapsedMs\n    }\n  }\n"),tn=l.createContext({}),tr=e=>{var t;let{children:n}=e,a=(0,s.usePathname)(),{updateUrlComponents:o,searchParams:c}=(0,m.Z)(),d=null===(t=c.get("redirect_git_url"))||void 0===t?void 0:t.toString(),[u,f]=l.useState(!1),[p,x]=l.useState(),v=l.useMemo(()=>(0,P.Jt)(p),[p]),g=(0,h.xG)(),[b,j]=l.useState(!1),[y,w]=l.useState({}),[N,k]=l.useState({}),[S,C]=l.useState(new Set),[E,I]=l.useState(!1),[R,A]=(0,l.useState)(),F=l.useRef(),_=l.useRef(null),L=l.useCallback(async(e,t)=>{let n=null==t?void 0:t.replace;if(e){let r={},l=["redirect_filepath","redirect_git_url","redirect_rev","line"];(null==t?void 0:t.plain)?r.plain="1":l.push("plain"),o({pathname:"/files/".concat(e),searchParams:{set:r,del:l},replace:n,hash:null==t?void 0:t.hash})}else o({pathname:"/files",searchParams:{del:["path","plain","line"]},hash:null==t?void 0:t.hash,replace:n})},[]),O=l.useMemo(()=>(function e(t){if(!t.length)return[];for(let n of(t.sort((e,t)=>{let n="file"===e.file.kind?1:0,r="file"===t.file.kind?1:0;return n-r||e.name.localeCompare(t.name)}),t))(null==n?void 0:n.children)&&e(n.children);return t})(function(e){let t=[];if(!e)return t;let n=Object.keys(e);for(let r of n){let n=e[r],l=r.split("/"),s=t;for(let e=0;e<l.length;e++){let t=l.slice(0,e+1).join("/"),a=null==s?void 0:s.find(e=>e.fullPath===t);if(a)s=a.children||[];else{let e={file:n.file,name:n.name,fullPath:r,children:[],isRepository:n.isRepository,repository:n.repository};s.push(e),s=e.children}}}return t}(y)),[y]),D=l.useMemo(()=>{let{repositoryKind:e,repositoryName:t,repositorySpecifier:n}=v;if(e&&t)return n?N[n]:void 0},[N,v]),M=l.useMemo(()=>{var e,t;if(!v||!D)return;let n=null!==(t=null==v?void 0:v.rev)&&void 0!==t?t:"",r=null===(e=D.refs)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.name)==="refs/heads/".concat(n)||(null==e?void 0:e.name)==="refs/tags/".concat(n)||(null==e?void 0:e.commit)===n);if(r){let e;return r.name==="refs/heads/".concat(n)?e="branch":r.name==="refs/tags/".concat(n)?e="tag":r.commit===n&&(e="commit"),(0,P.r2)(r,e)}},[v,D]),T=l.useMemo(()=>{var e;if(!p)return[];let{basename:t=""}=v,n=[{file:{kind:"dir",basename:""},isRepository:!0,repository:D,name:null!==(e=null==D?void 0:D.name)&&void 0!==e?e:"",fullPath:""}],r=(null==t?void 0:t.split("/"))||[];for(let e=0;e<r.length;e++){let t=r.slice(0,e+1).join("/");n.push(null==y?void 0:y[t])}return(0,i.Z)(n)},[p,y,v]);return l.useEffect(()=>{var e;let t=null===(e=a.match(/^\/files\/(.*)/))||void 0===e?void 0:e[1];F.current=p,x(null!=t?t:""),u||f(!0),R&&A(void 0)},[a,d]),(0,r.jsx)(tn.Provider,{value:{initialized:b,setInitialized:j,activePath:p,updateActivePath:L,fileMap:y,updateFileMap:(e,t)=>{e&&(t?w(e):w(t=>({...t,...e})))},expandedKeys:S,setExpandedKeys:C,toggleExpandedKey:e=>{let t=S.has(e),n=new Set(S);t?n.delete(e):n.add(e),C(n)},currentFileRoutes:T,fileTreeData:O,chatSideBarVisible:E,setChatSideBarVisible:I,isChatEnabled:g,repoMap:N,setRepoMap:k,activeRepo:D,activeRepoRef:M,isPathInitialized:u,activeEntryInfo:v,prevActivePath:F,error:R,setError:A,textEditorViewRef:_},children:n})},tl="application/vnd.directory+json",ts=e=>{var t;let{className:n}=e,{activePath:s,updateActivePath:a,initialized:i,setInitialized:f,chatSideBarVisible:h,setChatSideBarVisible:v,repoMap:g,setRepoMap:w,activeRepo:S,isPathInitialized:C,activeEntryInfo:E,prevActivePath:I,updateFileMap:R,setExpandedKeys:A,error:F,setError:_}=l.useContext(tn),{searchParams:L}=(0,m.Z)(),O=l.useRef(!1),{progress:D,setProgress:M}=(0,k.U)(),T=l.useRef(null),[U,z]=l.useState(35),B=null===(t=L.get("q"))||void 0===t?void 0:t.toString(),q=l.useMemo(()=>(0,P.Jt)(s),[s]),G=null==q?void 0:q.basename,V=(null==E?void 0:E.viewMode)==="blob",H=(null==E?void 0:E.viewMode)==="search",J=!!i&&!(0,o.Z)(g)&&!!s&&!H,W=!!i&&!(0,o.Z)(g)&&!!s&&H,Y=!!i&&V&&S,{data:K,isLoading:Q,error:X}=(0,u.ZP)(J?s:null,e=>{let{repositorySpecifier:t}=(0,P.Jt)(e);return tc(e,t?null==g?void 0:g[t]:void 0).then(t=>({entries:t,requestPathname:e}))},{revalidateOnFocus:!1,shouldRetryOnError:!1}),{data:ee,isLoading:et,error:en}=(0,u.ZP)(Y?[(0,P.Vq)(S,E.rev,G),G]:null,e=>{let[t,n]=e;return(0,x.Z)(t,{responseFormatter:async e=>{let t=e.headers.get("Content-Type");if(t===tl)throw Error(P.l8.INVALID_URL);let r=(0,d.Z)(e.headers.get("Content-Length")),l=await e.blob(),s=await to(null!=n?n:"",l);return{contentLength:r,blob:l,fileDisplayType:s}},errorHandler(){throw Error(P.l8.NOT_FOUND)}})},{revalidateOnFocus:!1,shouldRetryOnError:!1}),{data:er,isLoading:el,error:es}=(0,u.ZP)(W&&B?[s,B]:null,e=>{let[t,n]=e,{repositorySpecifier:r}=(0,P.Jt)(t);return td(n,r?null==g?void 0:g[r]:void 0,E.rev)},{revalidateOnFocus:!1,shouldRetryOnError:!1}),ei=null==ee?void 0:ee.blob,eo=null==ee?void 0:ee.contentLength,ec=null==ee?void 0:ee.fileDisplayType,ed=F||en||X,eu=(null==E?void 0:E.viewMode)==="tree"||!(null==E?void 0:E.viewMode);return l.useEffect(()=>{let e=async()=>{if(O.current)return;O.current=!0;let e=await ti(),t=L.get("redirect_filepath"),n=L.get("redirect_git_url"),r=L.get("redirect_rev");if((null==e?void 0:e.length)&&t&&n){let o=e.find(e=>e.gitUrl===n);if(o){var l,s,i;let e="";if(r)e=r;else{let t=(0,P.s8)(o.refs);e=(null===(s=(0,P.r2)(t))||void 0===s?void 0:s.name)||""}let n=(0,P.kQ)(window.location.hash),d=!(0,c.Z)(null==n?void 0:n.start),u=parseInt(null!==(i=null===(l=L.get("line"))||void 0===l?void 0:l.toString())&&void 0!==i?i:""),f=d?window.location.hash:(0,b.nO)({start:u}),m=t?(0,p.U$)(t)[0]:void 0;a((0,P.I)(o,e,t,"file"),{replace:!0,hash:f,plain:"markdown"===m&&!!f}),O.current=!1;return}_(Error(P.l8.REPOSITORY_NOT_FOUND))}e&&w((0,P.fr)(e)),f(!0)};!i&&C&&e()},[s,i,C]),l.useEffect(()=>{if(!K)return;let{entries:e,requestPathname:t}=K,{repositorySpecifier:n,viewMode:r,basename:l,rev:s}=(0,P.Jt)(t),{repositorySpecifier:a,rev:i}=(0,P.Jt)(I.current),o=(0,P.yH)(l,"tree"===r),c={};if(e.length)for(let t of e){let e=t.basename;c[e]={file:t,name:(0,P.i3)(e),fullPath:e,treeExpanded:o.includes(t.basename)}}let d=o.filter(Boolean),u=n!==a||s!==i;c&&R(c,u),(null==d?void 0:d.length)&&(u?A(new Set(d)):A(e=>{let t=new Set(e);for(let e of d)t.add(e);return t}))},[K]),l.useEffect(()=>{!i||(!D&&(et||Q)?M(!0):et||Q||M(!1))},[et,Q]),l.useEffect(()=>{var e,t,n;h?(null===(e=T.current)||void 0===e||e.expand(),null===(t=T.current)||void 0===t||t.resize(U)):null===(n=T.current)||void 0===n||n.collapse()},[h]),l.useEffect(()=>{if(!(et||Q))return;let{repositorySpecifier:e,rev:t}=E,{repositorySpecifier:n,rev:r}=(0,P.Jt)(I.current);(e!==n||t!==r)&&(R({},!0),A(new Set))},[E]),(0,r.jsxs)(j.pO,{direction:"horizontal",className:(0,b.cn)(n),onLayout:e=>{(null==e?void 0:e[2])&&z(e[2])},children:[(0,r.jsx)(j.ee,{defaultSize:20,minSize:20,maxSize:40,className:"hidden lg:block",children:(0,r.jsx)(e3,{fetchingTreeEntries:Q})}),(0,r.jsx)(j.Dp,{className:"hidden w-1 bg-border/40 hover:bg-border active:bg-blue-500 lg:block"}),(0,r.jsx)(j.ee,{defaultSize:80,minSize:30,children:(0,r.jsxs)("div",{className:"mb-4 flex h-full flex-col",children:[(0,r.jsx)(ea,{className:(0,b.cn)("z-40",(null==E?void 0:E.repositorySpecifier)?"block":"hidden")}),(eu||V)&&(0,r.jsx)(eU,{className:(0,b.cn)("px-4 pb-4",{"pt-4":!(null==E?void 0:E.repositorySpecifier)})}),(0,r.jsx)(y.ScrollArea,{children:(0,r.jsx)("div",{className:"flex h-full flex-col px-4 pb-4",children:i?ed?(0,r.jsx)(e_,{className:"rounded-lg border p-4",error:ed}):(0,r.jsxs)(r.Fragment,{children:[eu&&(0,r.jsx)(e9,{loading:Q,initialized:i,className:"rounded-lg border"}),V&&(0,r.jsx)(Z,{blob:ei,contentLength:eo,fileDisplayType:ec,loading:et||Q}),H&&(0,r.jsx)(eA,{results:null==er?void 0:er.files,requestDuration:null==er?void 0:er.elapsedMs,loading:el})]}):(0,r.jsx)(N.cg,{className:"rounded-lg border p-4"})})})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Dp,{className:(0,b.cn)("hidden w-1 bg-border/40 hover:bg-border active:bg-blue-500",h&&"block")}),(0,r.jsx)(j.ee,{collapsible:!0,collapsedSize:0,defaultSize:0,minSize:25,ref:T,onCollapse:()=>v(!1),children:(0,r.jsx)($,{activeRepo:S})})]})]})},ta=e=>{let[t]=(0,w.Hb)(),n=t?{height:"calc(100vh - ".concat(w.wt,")")}:{height:"100vh"};return(0,r.jsx)(tr,{children:(0,r.jsx)("div",{className:"transition-all",style:n,children:(0,r.jsx)(ts,{className:"source-code-browser",...e})})})};async function ti(){let e=v.Lp.createRequestOperation("query",(0,a.h)(g.zz,{}));return v.Lp.executeQuery(e).then(e=>{var t;return(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.repositoryList)||[]})}async function to(e,t){var n;if(!t)return;let r=null==t?void 0:t.type,l=null===(n=(0,p.U$)(e))||void 0===n?void 0:n[0];if(null==r?void 0:r.startsWith("image"))return"image";if(l||(null==r?void 0:r.startsWith("text")))return"text";let s=await new Promise((e,n)=>{let r=t.slice(0,1024),l=new FileReader;l.onloadend=function(t){var n;if((null==t?void 0:null===(n=t.target)||void 0===n?void 0:n.readyState)===FileReader.DONE){let n=t.target.result;"string"!=typeof n?e(!1):/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/.test(n)?e(!1):e(!0)}},l.onerror=function(){e(!1)},l.readAsText(r,"UTF-8")});return s?"text":"raw"}async function tc(e,t){if(!e)return[];if(!t)throw Error(P.l8.REPOSITORY_NOT_FOUND);if((0,o.Z)(t.refs))throw Error(P.l8.REPOSITORY_SYNC_FAILED);let{basename:n,rev:r,viewMode:l}=(0,P.Jt)(e);if(!r||!l)throw Error(P.l8.INVALID_URL);let s=(0,P.yH)(n,"tree"===l),a=s.map(e=>()=>(0,x.Z)((0,P.Vq)(t,r,e),{responseFormatter(e){let t=e.headers.get("Content-Type");if(t!==tl)throw Error(P.l8.INVALID_URL);return e.json()},errorHandler(){throw Error(P.l8.NOT_FOUND)}})),i=await Promise.all(a.map(e=>e())),c=[];for(let e of i){var d;(null==e?void 0:null===(d=e.entries)||void 0===d?void 0:d.length)&&(c=[...c,...e.entries])}return c}async function td(e,t,n){if(!t)throw Error(P.l8.REPOSITORY_NOT_FOUND);let r=v.Lp.query(tt,{id:t.id,kind:t.kind,query:e,rev:n,pause:!t}).toPromise();return null==r?void 0:r.then(e=>{var t;if(null==e?void 0:e.error)throw Error(P.l8.FAILED_TO_FETCH);return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.repositoryGrep})}},48048:function(e,t,n){"use strict";n.d(t,{BX:function(){return y},I:function(){return w},Jt:function(){return f},Pj:function(){return p},UR:function(){return v},Vq:function(){return N},fr:function(){return x},i3:function(){return m},kQ:function(){return k},l8:function(){return l},p4:function(){return S},r2:function(){return b},s8:function(){return j},yH:function(){return h}});var r,l,s=n(74630),a=n(5035),i=n(64220),o=n(13420),c=n(18500);(r=l||(l={})).FAILED_TO_FETCH="FAILED_TO_FETCH",r.INVALID_URL="INVALID_URL",r.NOT_FOUND="NOT_FOUND",r.REPOSITORY_NOT_FOUND="REPOSITORY_NOT_FOUND",r.REPOSITORY_SYNC_FAILED="REPOSITORY_SYNC_FAILED";let d=Object.keys(c.vW).map(e=>u(e));function u(e){return e.toLowerCase().replaceAll("_","")}function f(e){let t,n,r;let l={};if(!e)return l;let a=e.indexOf("/-/"),i=e.split("/"),u=i[0],f=d.includes(u);if(!f||-1===a)return l;let m=c.vW.Git;switch(u){case"git":m=c.vW.Git;break;case"github":m=c.vW.Github;break;case"gitlab":m=c.vW.Gitlab;break;case"githubselfhosted":m=c.vW.GithubSelfHosted;break;case"gitlabselfhosted":m=c.vW.GitlabSelfHosted;case"gitconfig":m=c.vW.GitConfig}let h=e.indexOf("/-/tree/"),p=e.indexOf("/-/blob/"),x=e.indexOf("/-/search/");if(h>-1){n="tree";let l=e.slice(h+8),s=l.split("/");r=s[0],t=(0,o.Z)(s.slice(1).join("/"),"/")}if(p>-1){n="blob";let l=e.slice(p+8),s=l.split("/");r=s[0],t=(0,o.Z)(s.slice(1).join("/"),"/")}if(x>-1){n="search";let l=e.slice(x+10),s=l.split("/");r=s[0],t=""}let v=e.split("/-/")[0],g=v.split("/").slice(1).join("/");return{repositorySpecifier:e.split("/-/")[0],repositoryName:g,repositoryKind:m,rev:(0,s.Z)(r)?void 0:decodeURIComponent(r),viewMode:n,basename:(0,s.Z)(t)?void 0:decodeURIComponent(t)}}function m(e){if(!e)return"";let t=e.split("/");return t[t.length-1]}function h(e,t){if((0,s.Z)(e))return[];let n=[""],r=e.split("/"),l=t?r.length:r.length-1;for(let e=0;e<l;e++)n.push(r.slice(0,e+1).join("/"));return n}function p(e){if((null==e?void 0:e.kind)&&(null==e?void 0:e.name))return"".concat(u(e.kind),"/").concat(e.name)}function x(e){return(0,a.Z)(e,e=>"".concat(u(e.kind),"/").concat(e.name))}function v(e){let t=(0,i.Z)(e,e=>e);return t.sort((e,t)=>e.name.localeCompare(t.name)),t}function g(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}function b(e,t){if(!e)return{name:"",ref:void 0};let n=e.name.match(/refs\/(\w+)\/(.*)/);if(n){let r="tags"===n[1]?"tag":"branch";return{kind:null!=t?t:r,name:n[2],ref:e}}return"commit"===t?{kind:t,name:e.commit,ref:e}:{name:"",ref:e}}function j(e){let t,n,r,l;for(let s of e){let{name:e}=s;"refs/heads/main"===e?t=s:"refs/heads/master"===e?n=s:!r&&e.startsWith("refs/heads/")?r=s:!l&&e.startsWith("refs/tags/")&&(l=s)}return t||n||r||l}function y(e){return"blob"===e?"file":"dir"}function w(e,t,n,r){let l=p(e);return"".concat(l,"/-/").concat("search"===r?"search":"file"===r?"blob":"tree","/").concat(encodeURIComponent(null!=t?t:""),"/").concat(g(null!=n?n:""))}function N(e,t,n){let r=null==e?void 0:e.id,l=null==e?void 0:e.kind;if(!r||!l||!t)return null;let s="".concat(u(l),"/").concat(r);return"/repositories/".concat(s,"/rev/").concat(encodeURIComponent(t),"/").concat(g(null!=n?n:""))}function k(e){if(!e)return null;let t=/^#L(\d+)(?:-L(\d+))?/.exec(e);if(!t)return null;let[,n,r]=t,l=parseInt(n),s=parseInt(r);return{start:Number.isNaN(l)?void 0:l,end:Number.isNaN(s)?void 0:s}}function S(e){var t;return(null===(t=k(e))||void 0===t?void 0:t.start)!==void 0}},27064:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var r=n(18366);let l=(0,r.Z)()},16366:function(e,t,n){"use strict";n.d(t,{P:function(){return s},T:function(){return l}});var r=n(88105);function l(e){return[r.lg.fromClass(class{update(t){if(t.selectionSet)this.handleSelectionChange(t.view);else{if(t.focusChanged&&!t.view.hasFocus)return;e(null)}t.selectionSet?this.handleSelectionChange(t.view):(!t.focusChanged||t.view.hasFocus)&&e(null)}handleSelectionChange(t){let n=s(t);e(n)}constructor(e){this.handleSelectionChange(e)}})]}function s(e){let t=e.state.selection.main;if(t.empty)return null;let n=e.state.sliceDoc(t.from,t.to),r=e.state.doc.lineAt(t.from).number,l=e.state.doc.lineAt(t.to).number;return{content:n,startLine:r,endLine:l}}},85312:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(36164),l=n(3546),s=n(30352),a=n(94559),i=n(14679),o=n(88105),c=n(99641),d=n(21399),u=n(1853),f=n(49776);let m=[(0,o.AE)(),(0,f.sW)(),a.yy.allowMultipleSelections.of(!0),(0,s.nF)(s.R_,{fallback:!0}),(0,o.Zs)()];n(65001);var h=n(57288);let p=a.q6.define(),x=l.forwardRef((e,t)=>{let{value:n,theme:f,language:x,readonly:v=!0,extensions:g,height:b=null,width:j=null,viewDidUpdate:y,className:w}=e,N=l.useRef(!1),k=l.useRef(null),[S,C]=l.useState(null),E=o.tk.theme({"&":{height:b,width:j,outline:"none !important",background:"hsl(var(--background))"},"&.cm-focused":{outline:"none !important"},"& .cm-scroller":{height:"100% !important",outline:"none"},"& .cm-gutters":{background:"hsl(var(--background))"},"&.cm-focused .cm-selectionLayer .cm-selectionBackground":{backgroundColor:"hsl(var(--cm-selection-bg)) !important"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"hsl(var(--cm-selection-bg)) !important"}}),I=[E,m,o.tk.baseTheme({".cm-line":{lineHeight:"20px"},".cm-scroller":{fontSize:"14px"},".cm-gutters":{backgroundColor:"transparent",borderRight:"none"}}),a.yy.readOnly.of(v)],R=e=>"graphql"===e?new s.ri(d.Wf):(0,c.vf)(function(e,t){switch(e){case"javascript-typescript":return"tsx";case"shellscript":case"bash":return"shell";default:return e}}(e)),A=()=>{let e=(0,u.Z)([...I,R(x)]);return"dark"===f?(e.push(i.pD),e.push((0,s.nF)(i.VE))):e.push((0,s.nF)(s.R_)),Array.isArray(g)&&(e=e.concat(g)),e};return l.useEffect(()=>{(()=>{if(!N.current&&k.current){N.current=!0;let e=a.yy.create({doc:n,extensions:A()}),t=new o.tk({state:e,parent:k.current});C(t)}})()},[]),l.useEffect(()=>{S&&S.dispatch({effects:a.Py.reconfigure.of(A())})},[b,j,f,x,g]),l.useEffect(()=>{(()=>{if(void 0===n||!S)return;let e=S?S.state.doc.toString():"";S&&n!==e&&S.dispatch({changes:{from:0,to:e.length,insert:n||""},annotations:[p.of(!0)]})})()},[n]),l.useEffect(()=>()=>{S&&(S.destroy(),C(null))},[]),l.useEffect(()=>{null==y||y(S)},[S]),l.useImperativeHandle(t,()=>({getView:()=>S}),[S]),(0,r.jsx)("div",{className:(0,h.cn)("codemirror-editor h-full",w),ref:k})});x.displayName="CodeMirrorEditor";var v=x},30601:function(e,t,n){"use strict";n.d(t,{Hb:function(){return m},wt:function(){return d},xc:function(){return h},yo:function(){return f}});var r=n(36164),l=n(3546),s=n(74630),a=n(36327),i=n(80605),o=n(57288),c=n(81565);let d="3.5rem",u=l.createContext({}),f=e=>{let{children:t}=e,n=(0,i.UA)(),[a,o]=l.useState(!1);return l.useEffect(()=>{let e=window.self!==window.top;e||(0,s.Z)(n)||o(n)},[n]),(0,r.jsx)(u.Provider,{value:{isShowDemoBanner:a,setIsShowDemoBanner:o},children:t})};function m(){let{isShowDemoBanner:e,setIsShowDemoBanner:t}=l.useContext(u);return[e,t]}function h(){let[e,t]=m(),{data:n}=(0,a.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-[opacity,height] md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:d}:{height:0},children:[(0,r.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDCC6"}),(0,r.jsx)("span",{children:"Book a 30-minute product demo."})]}),e&&(0,r.jsx)("img",{referrerPolicy:"no-referrer-when-downgrade",src:"https://static.scarf.sh/a.png?x-pxid=b1d0308a-b3c5-425a-972a-378d883a2bca"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,r.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,r.jsx)(c.IconGithub,{}),(0,r.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":n,"h-0 opacity-0":!n}),children:[(0,r.jsx)(c.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.stargazers_count}),(0,r.jsx)(c.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.forks_count})]})]})]}),(0,r.jsx)(c.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>t(!1)})]})]})}},38736:function(e,t,n){"use strict";n.d(t,{J:function(){return u},U:function(){return f}});var r=n(36164),l=n(3546),s=n(7062),a=n.n(s),i=n(9010),o=n(24449),c=n(16784);let d=l.createContext({}),u=e=>{let{children:t}=e,{theme:n}=(0,i.X)(),[s,u]=l.useState(!1),[f]=(0,o.n)(s,200,{leading:!0}),m=(0,c.d)(s);l.useEffect(()=>{a().config({barColors:{0:"dark"===n?"#DC981A":"#B7942B"}})},[]);let h=l.useCallback(e=>{e&&e===m.current||u(e)},[]);return(0,r.jsxs)(d.Provider,{value:{progress:f,setProgress:h},children:[f&&(0,r.jsx)(a(),{}),t]})},f=()=>l.useContext(d)},53538:function(e,t,n){"use strict";n.d(t,{Dp:function(){return o},ee:function(){return i},pO:function(){return a}});var r=n(36164),l=n(6618),s=n(57288);let a=e=>{let{className:t,...n}=e;return(0,r.jsx)(l.eh,{className:(0,s.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...n})},i=l.s_,o=e=>{let{withHandle:t,className:n,...a}=e;return(0,r.jsx)(l.OT,{className:(0,s.cn)("border-bg relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...a,children:t&&(0,r.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"})})}},57830:function(e,t,n){"use strict";n.r(t),n.d(t,{ScrollArea:function(){return i},ScrollBar:function(){return o}});var r=n(36164),l=n(3546),s=n(50778),a=n(57288);let i=l.forwardRef((e,t)=>{let{className:n,children:l,...i}=e;return(0,r.jsxs)(s.fC,{className:(0,a.cn)("relative overflow-hidden",n),...i,children:[(0,r.jsx)(s.l_,{ref:t,className:"h-full w-full rounded-[inherit] [&>div]:!block",children:l}),(0,r.jsx)(o,{}),(0,r.jsx)(s.Ns,{})]})});i.displayName=s.fC.displayName;let o=l.forwardRef((e,t)=>{let{className:n,orientation:l="vertical",...i}=e;return(0,r.jsx)(s.gb,{ref:t,orientation:l,className:(0,a.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...i,children:(0,r.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=s.gb.displayName},54594:function(e,t,n){"use strict";n.d(t,{Bw:function(){return f},DI:function(){return c},Ph:function(){return o},Ql:function(){return h},U$:function(){return p},i4:function(){return u},ki:function(){return d}});var r=n(36164),l=n(3546),s=n(31889),a=n(57288),i=n(81565);let o=s.fC,c=s.ZA,d=s.B4,u=l.forwardRef((e,t)=>{let{className:n,children:l,...o}=e;return(0,r.jsxs)(s.xz,{ref:t,className:(0,a.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...o,children:[l,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(i.IconChevronUpDown,{className:"opacity-50"})})]})});u.displayName=s.xz.displayName;let f=l.forwardRef((e,t)=>{let{className:n,children:l,position:i="popper",...o}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsx)(s.VY,{ref:t,className:(0,a.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===i&&"translate-y-1",n),position:i,...o,children:(0,r.jsx)(s.l_,{className:(0,a.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l})})})});f.displayName=s.VY.displayName;let m=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,a.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...l})});m.displayName=s.__.displayName;let h=l.forwardRef((e,t)=>{let{className:n,children:l,isPlaceHolder:o,...c}=e;return(0,r.jsxs)(s.ck,{ref:t,className:(0,a.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...c,children:[!o&&(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(i.IconCheck,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:l})]})});h.displayName=s.ck.displayName;let p=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,a.cn)("-mx-1 my-1 h-px bg-muted",n),...l})});p.displayName=s.Z0.displayName},99047:function(e,t,n){"use strict";n.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return a},pj:function(){return f},ss:function(){return u},xD:function(){return i}});var r=n(36164),l=n(3546),s=n(57288);let a=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",n),...l})});a.displayName="Table";let i=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",n),...l})});i.displayName="TableHeader";let o=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",n),...l})});o.displayName="TableBody";let c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...l})});c.displayName="TableFooter";let d=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...l})});d.displayName="TableRow";let u=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...l})});u.displayName="TableHead";let f=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("td",{ref:t,className:(0,s.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0",n),...l})});f.displayName="TableCell";let m=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",n),...l})});m.displayName="TableCaption"},50538:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return i},nU:function(){return d}});var r=n(36164),l=n(3546),s=n(6044),a=n(57288);let i=s.fC,o=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(s.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...l})});o.displayName=s.aV.displayName;let c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(s.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...l})});c.displayName=s.xz.displayName;let d=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(s.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...l})});d.displayName=s.VY.displayName},9010:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(28242);function l(){let{theme:e,systemTheme:t,setTheme:n}=(0,r.F)();return{theme:e&&"system"!==e?e:t||"light",setTheme:n,systemTheme:t}}},44645:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3546),l=n(11978);function s(){let e=(0,l.usePathname)(),t=(0,l.useRouter)(),n=(0,l.useSearchParams)(),s=(0,r.useCallback)(e=>{let t=new URLSearchParams(n);e&&Object.entries(e).forEach(e=>{let[n,r]=e;return t.set(n,r)});let r=t.toString();return r.length>0?"?".concat(r):""},[n]),a=(0,r.useCallback)(r=>{let l=function(e,t,n){var r,l;let s=null===(r=n.searchParams)||void 0===r?void 0:r.set,a=null===(l=n.searchParams)||void 0===l?void 0:l.del,i=new URLSearchParams(t);s&&Object.entries(s).forEach(e=>{let[t,n]=e;return i.set(t,n)}),a&&(Array.isArray(a)?a.forEach(e=>i.delete(e)):i.delete(a));let o=i.toString(),c=e;return o.length>0&&(c+="?".concat(o)),n.hash&&(c+="#".concat(n.hash.replace(/^#/,""))),c}((null==r?void 0:r.pathname)||e,n,r);return r.replace?t.replace(l):t.push(l),l},[e,n]);return{pathname:e,router:t,searchParams:n,getQueryString:s,updateUrlComponents:a}}},63484:function(e,t,n){"use strict";n.d(t,{U$:function(){return d},t:function(){return u}});var r=n(14283),l=n.n(r),s=n(34021),a=n(74630),i=n(18500),o=JSON.parse('{"Mercury":"#ff2b2b","TypeScript":"#2b7489","PureBasic":"#5a6986","Objective-C++":"#6866fb","Self":"#0579aa","edn":"#db5855","NewLisp":"#87AED7","Jupyter Notebook":"#DA5B0B","Rebol":"#358a5b","Frege":"#00cafe","Dart":"#00B4AB","AspectJ":"#a957b0","Shell":"#89e051","Web Ontology Language":"#9cc9dd","xBase":"#403a40","Eiffel":"#946d57","Nix":"#7e7eff","RAML":"#77d9fb","MTML":"#b7e1f4","Racket":"#22228f","Elixir":"#6e4a7e","SAS":"#B34936","Agda":"#315665","wisp":"#7582D1","D":"#ba595e","Kotlin":"#F18E33","Opal":"#f7ede0","Crystal":"#776791","Objective-C":"#438eff","ColdFusion CFC":"#ed2cd6","Oz":"#fab738","Mirah":"#c7a938","Objective-J":"#ff0c5a","Gosu":"#82937f","FreeMarker":"#0050b2","Ruby":"#701516","Component Pascal":"#b0ce4e","Arc":"#aa2afe","Brainfuck":"#2F2530","Nit":"#009917","APL":"#5A8164","Go":"#375eab","Visual Basic":"#945db7","PHP":"#4F5D95","Cirru":"#ccccff","SQF":"#3F3F3F","Glyph":"#e4cc98","Java":"#b07219","MAXScript":"#00a6a6","Scala":"#DC322F","Makefile":"#427819","ColdFusion":"#ed2cd6","Perl":"#0298c3","Lua":"#000080","Vue":"#2c3e50","Verilog":"#b2b7f8","Factor":"#636746","Haxe":"#df7900","Pure Data":"#91de79","Forth":"#341708","Red":"#ee0000","Hy":"#7790B2","Volt":"#1F1F1F","LSL":"#3d9970","eC":"#913960","CoffeeScript":"#244776","HTML":"#e44b23","Lex":"#DBCA00","API Blueprint":"#2ACCA8","Swift":"#ffac45","C":"#555555","AutoHotkey":"#6594b9","Isabelle":"#FEFE00","Metal":"#8f14e9","Clarion":"#db901e","JSONiq":"#40d47e","Boo":"#d4bec1","AutoIt":"#1C3552","Clojure":"#db5855","Rust":"#dea584","Prolog":"#74283c","SourcePawn":"#5c7611","AMPL":"#E6EFBB","FORTRAN":"#4d41b1","ANTLR":"#9DC3FF","Harbour":"#0e60e3","Tcl":"#e4cc98","BlitzMax":"#cd6400","PigLatin":"#fcd7de","Lasso":"#999999","ECL":"#8a1267","VHDL":"#adb2cb","Elm":"#60B5CC","Propeller Spin":"#7fa2a7","X10":"#4B6BEF","IDL":"#a3522f","ATS":"#1ac620","Ada":"#02f88c","Unity3D Asset":"#ab69a1","Nu":"#c9df40","LFE":"#004200","SuperCollider":"#46390b","Oxygene":"#cdd0e3","ASP":"#6a40fd","Assembly":"#6E4C13","Gnuplot":"#f0a9f0","JFlex":"#DBCA00","NetLinx":"#0aa0ff","Turing":"#45f715","Vala":"#fbe5cd","Processing":"#0096D8","Arduino":"#bd79d1","FLUX":"#88ccff","NetLogo":"#ff6375","CSharp":"#178600","CSS":"#563d7c","Emacs Lisp":"#c065db","Stan":"#b2011d","SaltStack":"#646464","QML":"#44a51c","Pike":"#005390","LOLCODE":"#cc9900","ooc":"#b0b77e","Handlebars":"#01a9d6","J":"#9EEDFF","Mask":"#f97732","EmberScript":"#FFF4F3","TeX":"#3D6117","Nemerle":"#3d3c6e","KRL":"#28431f","Ren\'Py":"#ff7f7f","Unified Parallel C":"#4e3617","Golo":"#88562A","Fancy":"#7b9db4","OCaml":"#3be133","Shen":"#120F14","Pascal":"#b0ce4e","F#":"#b845fc","Puppet":"#302B6D","ActionScript":"#882B0F","Diff":"#88dddd","Ragel in Ruby Host":"#9d5200","Fantom":"#dbded5","Zephir":"#118f9e","Click":"#E4E6F3","Smalltalk":"#596706","DM":"#447265","Ioke":"#078193","PogoScript":"#d80074","LiveScript":"#499886","JavaScript":"#f1e05a","VimL":"#199f4b","PureScript":"#1D222D","ABAP":"#E8274B","Matlab":"#bb92ac","Slash":"#007eff","R":"#198ce7","Erlang":"#B83998","Pan":"#cc0000","LookML":"#652B81","Eagle":"#814C05","Scheme":"#1e4aec","PLSQL":"#dad8d8","Python":"#3572A5","Max":"#c4a79c","Common Lisp":"#3fb68b","Latte":"#A8FF97","XQuery":"#5232e7","Omgrofl":"#cabbff","XC":"#99DA07","Nimrod":"#37775b","SystemVerilog":"#DAE1C2","Chapel":"#8dc63f","Groovy":"#e69f56","Dylan":"#6c616e","E":"#ccce35","Parrot":"#f3ca0a","Grammatical Framework":"#79aa7a","Game Maker Language":"#8fb200","Papyrus":"#6600cc","NetLinx+ERB":"#747faa","Clean":"#3F85AF","Alloy":"#64C800","Squirrel":"#800000","PAWN":"#dbb284","UnrealScript":"#a54c4d","Standard ML":"#dc566d","Slim":"#ff8f77","Perl6":"#0000fb","Julia":"#a270ba","Haskell":"#29b544","NCL":"#28431f","Io":"#a9188d","Rouge":"#cc0088","cpp":"#f34b7d","AGS Script":"#B9D9FF","Dogescript":"#cca760","nesC":"#94B0C7"}'),c={abap:{filenames:[],extnames:["abap"]},actionscript:{filenames:[],extnames:["as"]},ada:{filenames:[],extnames:["ada","adb","ads"]},apacheconf:{filenames:[".htaccess","apache2.conf","httpd.conf"],extnames:["apacheconf","vhost"]},apl:{filenames:[],extnames:["apl","dyalog"]},applescript:{filenames:[],extnames:["applescript","scpt"]},arff:{filenames:[],extnames:["arff"]},asciidoc:{filenames:[],extnames:["asciidoc","adoc","asc"]},asm6502:{filenames:[],extnames:["asm"]},autohotkey:{filenames:[],extnames:["ahk","ahkl"]},autoit:{filenames:[],extnames:["au3"]},bash:{filenames:[".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_logout","bash_profile","bashrc","cshrc","gradlew","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"],extnames:["sh","bash","bats","cgi","command","fcgi","ksh","tmux","tool","zsh"]},basic:{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},batch:{filenames:[],extnames:["bat","cmd"]},bison:{filenames:[],extnames:["bison"]},brainfuck:{filenames:[],extnames:["b","bf"]},bro:{filenames:[],extnames:["bro"]},c:{filenames:[],extnames:["c","cats","h","idc"]},csharp:{filenames:[],extnames:["cs","cake","cshtml","csx"]},cpp:{filenames:[],extnames:["cpp","c++","cc","cp","cxx","h","h++","hh","hpp","hxx","inc","inl","ino","ipp","re","tcc","tpp"]},coffeescript:{filenames:["Cakefile"],extnames:["coffee","_coffee","cake","cjsx","iced"]},clojure:{filenames:["riemann.config"],extnames:["clj","boot","cl2","cljc","cljs","cljs.hl","cljscm","cljx","hic"]},crystal:{filenames:[],extnames:["cr"]},css:{filenames:[],extnames:["css"]},d:{filenames:[],extnames:["d","di"]},dart:{filenames:[],extnames:["dart"]},diff:{filenames:[],extnames:["diff","patch"]},django:{filenames:[],extnames:["jinja","jinja2","mustache","njk"]},dockerfile:{filenames:["Dockerfile"],extnames:["dockerfile"]},eiffel:{filenames:[],extnames:["e"]},elixir:{filenames:["mix.lock"],extnames:["ex","exs"]},elm:{filenames:[],extnames:["elm"]},erb:{filenames:[],extnames:["erb"]},erlang:{filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"],extnames:["erl","app.src","es","escript","hrl","xrl","yrl"]},fsharp:{filenames:[],extnames:["fs","fsi","fsx"]},fortran:{filenames:[],extnames:["f90","f","f03","f08","f77","f95","for","fpp"]},gedcom:{filenames:[],extnames:["ged"]},gherkin:{filenames:[],extnames:["feature"]},glsl:{filenames:[],extnames:["glsl","fp","frag","frg","fs","fsh","fshader","geo","geom","glslv","gshader","shader","tesc","tese","vert","vrx","vsh","vshader"]},go:{filenames:[],extnames:["go"]},graphql:{filenames:[],extnames:["graphql","gql"]},groovy:{filenames:["Jenkinsfile"],extnames:["groovy","grt","gtpl","gvy"]},haml:{filenames:[],extnames:["haml"]},handlebars:{filenames:[],extnames:["handlebars","hbs"]},haskell:{filenames:[],extnames:["hs","hsc"]},haxe:{filenames:[],extnames:["hx","hxsl"]},http:{filenames:[],extnames:["http"]},icon:{filenames:[],extnames:["icn"]},inform7:{filenames:[],extnames:["ni","i7x"]},ini:{filenames:[".editorconfig",".gitconfig"],extnames:["ini","cfg","lektorproject","prefs","pro","properties"]},io:{filenames:[],extnames:["io"]},j:{filenames:[],extnames:["ijs"]},java:{filenames:[],extnames:["java"]},javascript:{filenames:["Jakefile"],extnames:["js","_js","cjs","bones","es","es6","frag","gs","jake","jsb","jscad","jsfl","jsm","jss","mjs","njs","pac","sjs","ssjs","xsjs","xsjslib"]},jolie:{filenames:[],extnames:["ol","iol"]},json:{filenames:[".arcconfig",".htmlhintrc",".tern-config",".tern-project","composer.lock","mcmod.info"],extnames:["json","avsc","geojson","gltf","JSON-tmLanguage","jsonl","tfstate","topojson","webapp","webmanifest","yy","yyp"]},julia:{filenames:[],extnames:["jl"]},keyman:{filenames:[],extnames:["kmn"]},kotlin:{filenames:[],extnames:["kt","ktm","kts"]},latex:{filenames:[],extnames:["tex","aux","bbx","bib","cbx","cls","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc"]},less:{filenames:[],extnames:["less"]},liquid:{filenames:[],extnames:["liquid"]},lisp:{filenames:[],extnames:["lisp","asd","cl","l","lsp","ny","podsl","sexp"]},livescript:{filenames:["Slakefile"],extnames:["ls","_ls"]},lolcode:{filenames:[],extnames:["lol"]},lua:{filenames:[],extnames:["lua","fcgi","nse","p8","pd_lua","rbxs","wlua"]},cmake:{filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"],extnames:["mak","d","make","mk","mkfile"]},markdown:{filenames:["contents.lr","LICENSE"],extnames:["md","markdown","mdown","mdwn","mkd","mkdn","mkdown","ronn","workbook"]},markup:{filenames:[],extnames:["apib","blade","chem","ecr","eex","ejs","html","htm","ipynb","kit","latte","marko","mask","mtml","phtml","pic","raml","rhtml","vue","xht","xhtml"]},matlab:{filenames:[],extnames:["matlab","m"]},mel:{filenames:[],extnames:["mel"]},mizar:{filenames:[],extnames:["miz","voc"]},monkey:{filenames:[],extnames:["monkey","monkey2"]},n4js:{filenames:[],extnames:["n4jsd"]},nasm:{filenames:[],extnames:["nasm"]},nginx:{filenames:["nginx.conf"],extnames:["nginxconf","vhost"]},nim:{filenames:[],extnames:["nim","nimrod"]},nix:{filenames:[],extnames:["nix"]},nsis:{filenames:[],extnames:["nsi","nsh"]},objectivec:{filenames:[],extnames:["m","h"]},ocaml:{filenames:[],extnames:["ml","eliom","eliomi","ml4","mli","mll","mly"]},opencl:{filenames:[],extnames:["opencl","cl"]},oz:{filenames:[],extnames:["oz"]},pascal:{filenames:[],extnames:["pas","dfm","dpr","inc","lpr","pascal","pp"]},perl:{filenames:["Makefile.PL","Rexfile","ack","cpanfile"],extnames:["pl","al","cgi","fcgi","perl","ph","plx","pm","psgi","t"]},php:{filenames:[".php",".php_cs",".php_cs.dist","Phakefile"],extnames:["php","aw","ctp","fcgi","inc","php3","php4","php5","phps","phpt"]},plsql:{filenames:[],extnames:["pls","bdy","ddl","fnc","pck","pkb","pks","plb","plsql","prc","spc","tpb","tps","trg","vw"]},powershell:{filenames:[],extnames:["ps1","psd1","psm1"]},processing:{filenames:[],extnames:["pde"]},prolog:{filenames:[],extnames:["pl","pro","prolog","yap"]},properties:{filenames:[],extnames:["properties"]},protobuf:{filenames:[],extnames:["proto"]},pug:{filenames:[],extnames:["jade","pug"]},puppet:{filenames:["Modulefile"],extnames:["pp"]},pure:{filenames:[],extnames:["pure"]},python:{filenames:[".gclient","BUCK","BUILD","BUILD.bazel","SConscript","SConstruct","Snakefile","WORKSPACE","wscript"],extnames:["py","bzl","cgi","fcgi","gyp","gypi","lmi","py3","pyde","pyi","pyp","pyt","pyw","rpy","spec","tac","wsgi","xpy"]},q:{filenames:[],extnames:["q"]},qore:{filenames:[],extnames:["q","qm","qtest"]},r:{filenames:[".Rprofile","expr-dist"],extnames:["r","rd","rsx"]},jsx:{filenames:[],extnames:["jsx"]},toml:{filenames:[],extnames:["toml"]},tsx:{filenames:[],extnames:["tsx"]},renpy:{filenames:[],extnames:["rpy"]},reason:{filenames:[],extnames:["re","rei"]},rest:{filenames:[],extnames:["rst","rest"]},rip:{filenames:[],extnames:["rip"]},ruby:{filenames:[".irbrc",".pryrc","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Gemfile.lock","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Thorfile","Vagrantfile","buildfile"],extnames:["rb","builder","eye","fcgi","gemspec","god","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","spec","thor","watchr"]},rust:{filenames:[],extnames:["rs"]},sas:{filenames:[],extnames:["sas"]},sass:{filenames:[],extnames:["sass"]},scss:{filenames:[],extnames:["scss"]},scala:{filenames:[],extnames:["scala","kojo","sbt","sc"]},scheme:{filenames:[],extnames:["scm","sch","sld","sls","sps","ss"]},smalltalk:{filenames:[],extnames:["st","cs"]},smarty:{filenames:[],extnames:["tpl"]},sql:{filenames:[],extnames:["sql","cql","ddl","inc","mysql","prc","tab","udf","viw"]},soy:{filenames:[],extnames:["soy"]},stylus:{filenames:[],extnames:["styl"]},swift:{filenames:[],extnames:["swift"]},tcl:{filenames:["owh","starfield"],extnames:["tcl","adp","tm"]},textile:{filenames:[],extnames:["textile"]},tt2:{filenames:[],extnames:["pm"]},twig:{filenames:[],extnames:["twig"]},typescript:{filenames:[],extnames:["ts"]},velocity:{filenames:[],extnames:["vm"]},verilog:{filenames:[],extnames:["v","veo"]},vhdl:{filenames:[],extnames:["vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw"]},vim:{filenames:[".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],extnames:["vim"]},"visual-basic":{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},wasm:{filenames:[],extnames:["wast","wat"]},xojo:{filenames:[],extnames:["xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window"]},xquery:{filenames:[],extnames:["xquery","xq","xql","xqm","xqy"]},yaml:{filenames:[".clang-format",".clang-tidy",".gemrc","glide.lock"],extnames:["yml","mir","reek","rviz","sublime-syntax","syntax","yaml","yaml-tmlanguage"]}};Object.entries(o).reduce((e,t)=>{let[n,r]=t;return{...e,[n.toLocaleLowerCase()]:r}},{});let d=e=>{let t={},n={};for(let[e,r]of Object.entries(c)){for(let n of r.filenames)(0,s.Z)(t,n)||(t[n]=[]),t[n].push(e);for(let t of r.extnames)(0,s.Z)(n,t)||(n[t]=[]),n[t].push(e)}return[].concat(t[l().basename(e)],n[l().extname(e).substring(1)]).filter(Boolean)},u=(e,t)=>{let n=()=>(0,a.Z)(t)?"Other":t;if(!e)return n();let r=Object.values(i.SQ).map(e=>e.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase());if(-1===r)return n();let l=Object.keys(i.SQ)[r];return({csharp:"C#",cpp:"C++",javascript:"JavaScript",typescript:"TypeScript"})[l.toLocaleLowerCase()]||l}},5253:function(){},65001:function(){},23342:function(e,t){"use strict";t.Z={src:"/_next/static/media/tabby.16ac81a9.png",height:175,width:175,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mMAgUWTGw3KsqO9QOypZeG6NekBuQzI4NCmmaZtFam/K6PtHzYlOH5ysDX7n5QYboJQsKrfd1JN6v+ldXH/F+fa/fWyNf4fEebXBlcwsSbNeWV/+f9FE+t+za2K+xNjLfPf293u6v///xkZQGDDwr7gfetm/d8xr+VPkpXgnzR3nf/xAY6vt6yfK84AUrV5+US9HWtnnVgyrfm/tiTD/9JAo//5Ea5nGUDAkoGBCUQHWEiZysuI7LcwN7wb6WV1IT7YzR7uhh3Lepg+AU2av2AiT0pCuDKDayAvSLwsM4oJAH4LXl0Gpb0HAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},11075:function(e,t,n){"use strict";n.d(t,{eI:function(){return s},n0:function(){return a},uL:function(){return l}});var r=n(44494);let l="0.5.0";function s(e,t){return(0,r.K9)(e,{expose:{refresh:t.refresh,onApplyInEditor:t.onApplyInEditor,onApplyInEditorV2:t.onApplyInEditorV2,onLoaded:t.onLoaded,onCopy:t.onCopy,onKeyboardEvent:t.onKeyboardEvent,lookupSymbol:t.lookupSymbol,openInEditor:t.openInEditor,openExternal:t.openExternal,readWorkspaceGitRepositories:t.readWorkspaceGitRepositories,getActiveEditorSelection:t.getActiveEditorSelection,fetchSessionState:t.fetchSessionState,storeSessionState:t.storeSessionState}})}function a(e){return(0,r.cy)({expose:{init:e.init,executeCommand:e.executeCommand,showError:e.showError,cleanError:e.cleanError,addRelevantContext:e.addRelevantContext,updateTheme:e.updateTheme,updateActiveSelection:e.updateActiveSelection}})}},14439:function(e,t,n){"use strict";n.d(t,{H:function(){return a},m:function(){return s}});var r=n(3546),l=n(11075);function s(e,t){let[n,s]=(0,r.useState)(null),a=!1;return(0,r.useEffect)(()=>{e.current&&!a&&(a=!0,s((0,l.eI)(e.current,t)))},[e.current]),n}function a(e){let[t,n]=(0,r.useState)(null),s=!1;return(0,r.useEffect)(()=>{let t=window.self!==window.top;t&&!s&&(s=!0,n((0,l.n0)(e)))},[]),t}n(44494)},44494:function(e,t,n){"use strict";n.d(t,{K9:function(){return g},cy:function(){return b}});let r=Symbol.for("quilt.threads.retain"),l=Symbol.for("quilt.threads.release"),s=Symbol.for("quilt.threads.retained-by"),a=Symbol.for("quilt.threads.encode"),i=Symbol.for("quilt.threads.transferable");class o{memoryManaged=new Set;add(e){this.memoryManaged.add(e),e[s].add(this),e[r]()}release(){for(let e of this.memoryManaged)e[s].delete(this),e[l]();this.memoryManaged.clear()}}function c(e){return!!(e&&e[r]&&e[l])}function d(e){if(null==e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}function u(e,{expose:t,callable:n,signal:u,uuid:h=m,encoder:p=function({encode:e,decode:t}={}){return{encode:function(e,t){let r={api:t,seen:new Map,encode:e=>n(e,r,!0)};return n(e,r)},decode:function(e,t,n){let l={api:t,decode:e=>r(e,l,n,!0)};return r(e,l)}};function n(t,r,l=!1){let{seen:s,api:o,encode:c}=r;if(!l&&e)return e(t,c);if(null==t)return[t];let u=s.get(t);if(u)return u;if(s.set(t,[void 0]),"object"==typeof t){if(t[i]){let e=[t,[t]];return s.set(t,e),e}let e=[],l=t=>{let[l,s=[]]=n(t,r);return e.push(...s),l};if("function"==typeof t[a]){let n=t[a]({encode:l}),r=[n,e];return s.set(t,r),r}if(Array.isArray(t)){let n=t.map(e=>l(e)),r=[n,e];return s.set(t,r),r}if(t instanceof RegExp){let n={"_@r":[t.source,t.flags]},r=[n,e];return s.set(t,r),r}if(t instanceof URL){let n={"_@u":t.href},r=[n,e];return s.set(t,r),r}if(t instanceof Date){let n={"_@d":t.toISOString()},r=[n,e];return s.set(t,r),r}if(t instanceof Map){let n=[...t.entries()].map(([e,t])=>[l(e),l(t)]),r=[{"_@m":n},e];return s.set(t,r),r}if(t instanceof Set){let n=[...t].map(e=>l(e)),r=[{"_@s":n},e];return s.set(t,r),r}let o=null!=t&&(Symbol.asyncIterator in t||Symbol.iterator in t)&&"function"==typeof t.next;if(d(t)||o){let n={};for(let e of Object.keys(t))n[e]=l(t[e]);o&&(n.next??=l(t.next.bind(t)),n.return??=l(t.return.bind(t)),n.throw??=l(t.throw.bind(t)),n["_@i"]=!0);let r=[n,e];return s.set(t,r),r}}if("function"==typeof t){let e=o.functions?.add(t);if(null==e)return[e];let n=[{"_@f":e}];return s.set(t,n),n}let f=[t];return s.set(t,f),f}function r(e,n,l,s=!1){let{api:a,decode:i}=n;if(!s&&t)return t(e,i,l);if("object"==typeof e){if(null==e)return e;if(Array.isArray(e))return e.map(e=>r(e,n,l));if("_@r"in e)return new RegExp(...e["_@r"]);if("_@u"in e)return new URL(e["_@u"]);if("_@d"in e)return new Date(e["_@d"]);if("_@m"in e)return new Map(e["_@m"].map(([e,t])=>[r(e,n,l),r(t,n,l)]));if("_@s"in e)return new Set(e["_@s"].map(e=>r(e,n,l)));if("_@f"in e){let t=e["_@f"],n=a.functions?.get(t);if(l&&c(n))for(let e of l)e.add(n);return n}if(!d(e))return e;let t={};for(let s of Object.keys(e))"_@i"===s?t[Symbol.asyncIterator]=()=>t:t[s]=r(e[s],n,l);return t}return e}}()}={}){let x=!1,v=new Map,g=new Map,b=new Map,j=new Map;if(t)for(let e of Object.keys(t)){let n=t[e];"function"==typeof n&&v.set(e,n)}let y=new Map,w=function(e,t){let n;if(null==t){if("function"!=typeof Proxy)throw Error("You must pass an array of callable methods in environments without Proxies.");let t=new Map;n=new Proxy({},{get(n,r){if(t.has(r))return t.get(r);let l=e(r);return t.set(r,l),l}})}else for(let r of(n={},t))Object.defineProperty(n,r,{value:e(r),writable:!1,configurable:!0,enumerable:!0});return n}(function(e){return(...t)=>{try{if(x)throw new f;if("string"!=typeof e&&"number"!=typeof e)throw Error(`Can’t call a symbol method on a thread: ${e.toString()}`);if("hasCapability"===e){let e=t[0],n=h(),r=E(n);return S(7,[n,e]),r}let n=h(),r=E(n),[l,s]=p.encode(t,N);return S(0,[n,e,l],s),r}catch(e){return Promise.reject(e)}}},n),N={functions:{add(e){let t=g.get(e);return null==t&&(t=h(),g.set(e,t),b.set(t,e)),t},get(e){let t=j.get(e);if(t)return t;let n=0,a=!1;return Object.defineProperties(t=(...t)=>{if(a)throw Error("You attempted to call a function that was already released.");if(!j.has(e))throw Error("You attempted to call a function that was already revoked.");let[n,r]=p.encode(t,N),l=h(),s=E(l);return S(5,[l,e,n],r),s},{[l]:{value:()=>{0==(n-=1)&&(a=!0,j.delete(e),S(3,[e]))},writable:!1},[r]:{value:()=>{n+=1},writable:!1},[s]:{value:new Set,writable:!1}}),j.set(e,t),t}}},k=()=>{if(!x){for(let e of y.keys())I(e,new f);x=!0,v.clear(),y.clear(),g.clear(),b.clear(),j.clear()}};return u?.addEventListener("abort",()=>{S(2,[]),k()},{once:!0}),e.listen(C,{signal:u}),w;function S(t,n,r){x||e.send([t,n],r)}async function C(e){let t=Array.isArray(e)&&"number"==typeof e[0]&&(null==e[1]||Array.isArray(e[1]));if(t)switch(e[0]){case 2:k();break;case 0:{let t=new o,[n,r,l]=e[1],s=v.get(r);try{if(null==s)throw Error(`No '${r}' method is exposed on this endpoint`);let e=await s(...p.decode(l,N,[t])),[a,i]=p.encode(e,N);S(1,[n,void 0,a],i)}catch(l){let{name:e,message:t,stack:r}=l;S(1,[n,{name:e,message:t,stack:r}])}finally{t.release()}break}case 1:case 6:I(...e[1]);break;case 3:{let[t]=e[1],n=b.get(t);n&&(b.delete(t),g.delete(n));break}case 5:{let[t,n,r]=e[1],l=new o;try{let e=b.get(n);if(null==e)throw Error("You attempted to call a function that was already released.");let a=await e(...p.decode(r,N,c(e)?[...e[s],l]:[l])),[i,o]=p.encode(a,N);S(6,[t,void 0,i],o)}catch(l){let{name:e,message:n,stack:r}=l;S(6,[t,{name:e,message:n,stack:r}])}finally{l.release()}break}case 7:{let[t,n]=e[1],r=v.has(n);S(1,[t,void 0,p.encode(r,N)[0]])}}}function E(e){let t=new Promise((t,n)=>{y.set(e,(e,r,l)=>{if(null==r)t(p.decode(l,N));else{let e=Error();Object.assign(e,r),n(e)}})});return Object.defineProperty(t,Symbol.asyncIterator,{async *value(){let e=await t;Object.defineProperty(e,Symbol.asyncIterator,{value:()=>e}),yield*e}}),t}function I(...e){let t=e[0],n=y.get(t);n&&(n(...e),y.delete(t))}}class f extends Error{constructor(){super("You attempted to call a function on a terminated thread.")}}function m(){return`${h()}-${h()}-${h()}-${h()}`}function h(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}var p=n(18400);let x="quilt.threads.ping",v="quilt.threads.pong";function g(e,{targetOrigin:t="*",...n}={}){let r=!1,l=function(n,r){e.contentWindow?.postMessage(n,t,r)},s=new Promise(t=>{let s=n.signal?new p.z(n.signal):new AbortController;window.addEventListener("message",n=>{n.source===e.contentWindow&&n.data===v&&(r=!0,s.abort(),t())},{signal:s.signal}),s.signal.addEventListener("abort",()=>{t()},{once:!0}),l(x)});return u({send:(e,t)=>r?l(e,t):s.then(()=>{if(r)return l(e,t)}),listen(t,{signal:n}){self.addEventListener("message",n=>{n.source===e.contentWindow&&n.data!==v&&t(n.data)},{signal:n})}},n)}function b({targetOrigin:e="*",...t}={}){if("undefined"==typeof self||null==self.parent)throw Error("You are not inside an iframe, because there is no parent window.");let{parent:n}=self,r=t.signal?new p.z(t.signal):new AbortController,l=()=>{let r=()=>n.postMessage(v,e);self.addEventListener("message",({data:e})=>{e===x&&r()},{signal:t.signal}),r()};return"complete"===document.readyState?l():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&(l(),r.abort())},{signal:r.signal}),u({send:(t,r)=>n.postMessage(t,e,r),listen(e,{signal:t}){self.addEventListener("message",t=>{t.data!==x&&e(t.data)},{signal:t})}},t)}}},function(e){e.O(0,[8415,5870,6056,7430,55,7812,4007,340,2546,1283,3449,2578,8511,2287,4421,7070,1454,1002,6805,1889,4553,4405,6044,440,5019,6864,7288,1565,4656,8103,3375,5289,1744],function(){return e(e.s=88177)}),_N_E=e.O()}]);