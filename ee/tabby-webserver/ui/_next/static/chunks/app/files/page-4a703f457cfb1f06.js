(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{51848:function(e,t,r){Promise.resolve().then(r.bind(r,41248))},41248:function(e,t,r){"use strict";r.r(t),r.d(t,{SourceCodeBrowser:function(){return ef},SourceCodeBrowserContext:function(){return ec},getFileViewType:function(){return ex}});var n=r(57437),l=r(2265),i=r(91713),s=r(72999),a=r(16630),o=r(4091),c=r(71424),d=r(1589),u=r(52485),f=r(1592),h=r(39311),x=r(61574);let v=e=>{let{className:t,...r}=e;return(0,n.jsx)(x.eh,{className:(0,h.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...r})},m=x.s_,p=e=>{let{withHandle:t,className:r,...l}=e;return(0,n.jsx)(x.OT,{className:(0,h.cn)("border-bg relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",r),...l,children:t&&(0,n.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"})})};var g=r(30522),j=r(33555);let b=e=>{let{className:t}=e,{currentFileRoutes:r,setActivePath:i,activePath:s}=l.useContext(ec);return(0,n.jsxs)("div",{className:(0,h.cn)("flex flex-nowrap items-center gap-1 leading-8",t),children:[(0,n.jsx)("div",{className:"cursor-pointer font-medium text-primary hover:underline",onClick:e=>i(void 0),children:"Repositories"}),(0,n.jsx)("div",{children:"/"}),null==r?void 0:r.map((e,t)=>{let s=0===t&&(null==r?void 0:r.length)>1,a=t===r.length-1;return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)("div",{className:(0,h.cn)(s||a?"font-bold":"font-medium",a?"":"cursor-pointer text-primary hover:underline",s?"hover:underline":void 0),onClick:t=>i(e.fullPath),children:e.name}),"file"!==e.file.kind&&(0,n.jsx)("div",{children:"/"})]},e.fullPath)}),!!(null==r?void 0:r.length)&&!!s&&(0,n.jsx)(j.q,{value:s})]})};var y=r(83390),N=r(95376),w=r(12897),k=r(84168),C=r(25645),P=r(32553),S=r(24144),R=r(3882),E=r(77723);let Z=e=>{let[t,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(e=>{let[t]=e;r(t.intersectionRatio<1)},{threshold:[1]});return t&&n.observe(t),()=>{t&&n.unobserve(t)}},[e.current]),t};var O=r(93023),F=r(16775),z=r(95482);function T(e){var t;return e?null===(t=e.split("/"))||void 0===t?void 0:t[0]:""}function _(e){return e?e.split("/").slice(1).join("/"):""}function I(e){if(!e)return"";let t=e.split("/");return t[t.length-1]}function L(e,t){if((0,S.Z)(e))return[];let r=[""],n=e.split("/"),l=t?n.length:n.length-1;for(let e=0;e<l;e++)r.push(n.slice(0,e+1).join("/"));return r}let D=e=>{let{blob:t,className:r,canCopy:i,hideBlobActions:s,contentLength:a,children:o,...d}=e,u=l.useRef(null),{activePath:f}=l.useContext(ec),{isCopied:x,copyToClipboard:v}=(0,E.m)({timeout:2e3}),m=Z(u),p=async()=>{if(!x&&t)try{let e=await t.text();v(e)}catch(e){c.A.error("Something went wrong. Please try again.")}},g=(0,S.Z)(a)?"":(0,R.Z)(a);return(0,n.jsxs)("div",{className:(0,h.cn)("sticky -top-1 z-10 border",!m&&"rounded-t-lg",r),ref:u,...d,children:[m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-secondary pl-4",children:(0,n.jsx)(b,{className:"py-2"})}),m&&(0,n.jsx)(F.Z,{})]}),!s&&(0,n.jsxs)("div",{className:(0,h.cn)("flex items-center justify-between bg-secondary p-2 text-secondary-foreground",!m&&"rounded-t-lg"),children:[(0,n.jsxs)("div",{className:"flex h-8 items-center gap-4 leading-8",children:[o,(0,n.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:g})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[i&&(0,n.jsxs)(z.u,{children:[(0,n.jsx)(z.aJ,{asChild:!0,children:(0,n.jsxs)(O.z,{variant:"ghost",size:"icon",onClick:p,children:[x?(0,n.jsx)(k.IconCheck,{className:"text-green-600"}):(0,n.jsx)(k.IconCopy,{}),(0,n.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,n.jsx)(z._v,{children:"Copy raw file"})]}),!!t&&(0,n.jsxs)(z.u,{children:[(0,n.jsx)(z.aJ,{asChild:!0,children:(0,n.jsx)("a",{className:(0,O.d)({variant:"ghost",size:"icon"}),download:I(null!=f?f:""),href:URL.createObjectURL(t),children:(0,n.jsx)(k.IconDownload,{})})}),(0,n.jsx)(z._v,{children:"Download raw file"})]})]})]})]})},M=e=>{let{className:t,loading:r,initialized:i}=e,{activePath:s,currentFileRoutes:a,setActivePath:o,fileTreeData:c}=l.useContext(ec),d=l.useMemo(()=>(function(e,t){if(!(null==e?void 0:e.length))return[];if(t){let r=t.split("/"),n=e;for(;r.length;){let e=r.shift(),t=(0,y.Z)(n,t=>t.name===e);if(null==t||!t.children)return[];n=null==t?void 0:t.children}return(null==n?void 0:n.map(e=>(0,N.Z)(e,"children")))||[]}{let t=e.map(e=>(0,N.Z)(e,"children"))||[];return t}})(c,s),[c,s]),[u]=(0,w.n)(r,300),f=(null==a?void 0:a.length)>0,x=()=>{var e;let t=null===(e=a[(null==a?void 0:a.length)-2])||void 0===e?void 0:e.fullPath;o(t)},v=e=>{o(e.fullPath)};return(0,n.jsxs)("div",{className:(0,h.cn)("text-base",t),children:[(0,n.jsx)(D,{blob:void 0,hideBlobActions:!0,className:"border-0"}),u||!i?(0,n.jsx)(A,{}):(null==c?void 0:c.length)?(0,n.jsx)(P.iA,{children:(0,n.jsxs)(P.RM,{children:[f&&(0,n.jsx)(P.SC,{className:"cursor-pointer",onClick:e=>x(),children:(0,n.jsx)(P.pj,{className:"p-1 px-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"shrink-0",children:(0,n.jsx)(k.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}})}),(0,n.jsx)("span",{className:"px-1 py-2",children:".."})]})})}),(0,n.jsx)(n.Fragment,{children:d.map(e=>(0,n.jsx)(P.SC,{children:(0,n.jsx)(P.pj,{className:"p-1 px-4 text-base",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"shrink-0",children:"dir"===e.file.kind?(0,n.jsx)(k.IconDirectorySolid,{style:{color:"rgb(84, 174, 255)"}}):(0,n.jsx)(k.IconFile,{})}),(0,n.jsx)("span",{onClick:t=>v(e),className:"cursor-pointer px-1 py-2 hover:text-primary hover:underline",children:I(e.fullPath)})]})})},e.fullPath))})]})}):(0,n.jsx)("div",{className:"flex justify-center py-8",children:"No indexed repository yet"})]})};function A(){return(0,n.jsxs)("ul",{className:"space-y-3 p-2",children:[(0,n.jsx)(C.O,{}),(0,n.jsx)(C.O,{}),(0,n.jsx)(C.O,{}),(0,n.jsx)(C.O,{})]})}var B=r(42910);let U=l.createContext({}),V=e=>{let{onSelectTreeNode:t,children:r,activePath:l,fileMap:i,updateFileMap:s,expandedKeys:a,toggleExpandedKey:o,initialized:c,fileTreeData:d}=e;return(0,n.jsx)(U.Provider,{value:{onSelectTreeNode:t,fileTreeData:d,expandedKeys:a,toggleExpandedKey:o,activePath:l,fileMap:i,updateFileMap:s,initialized:c},children:r})},Q=e=>{let{level:t}=e,r=l.useMemo(()=>Array(t).fill(1),[t]);return(0,n.jsx)("div",{className:"flex h-full shrink-0 items-stretch",children:r.map((e,t)=>(0,n.jsx)("div",{className:"flex h-8 w-2 border-r border-transparent transition-colors duration-300 group-hover/filetree:border-border"},t))})},Y=()=>(0,n.jsx)("div",{className:"absolute -left-2 h-8 w-1 rounded-md bg-primary"}),J=e=>{let{isActive:t,level:r,children:l,className:i,...s}=e;return(0,n.jsxs)("div",{className:(0,h.cn)("relative flex h-8 cursor-pointer items-stretch rounded-sm hover:bg-accent focus:bg-accent focus:text-accent-foreground",t&&"bg-accent",i),...s,children:[t&&(0,n.jsx)(Y,{}),(0,n.jsx)(Q,{level:r}),(0,n.jsxs)("div",{className:"flex flex-nowrap items-center gap-2 truncate whitespace-nowrap",children:[(0,n.jsx)("div",{className:"h-4 w-4 shrink-0"}),l]})]})},H=e=>{let{children:t,level:r,isActive:l,className:i,...s}=e;return(0,n.jsxs)("div",{className:(0,h.cn)("relative flex cursor-pointer items-stretch rounded-sm hover:bg-accent focus:bg-accent focus:text-accent-foreground",l?"bg-accent text-accent-foreground":void 0,i),...s,children:[l&&(0,n.jsx)(Y,{}),(0,n.jsx)(Q,{level:r}),(0,n.jsx)("div",{className:"flex flex-nowrap items-center gap-2 truncate whitespace-nowrap",children:t})]})},W=e=>{let{node:t,level:r}=e,{onSelectTreeNode:i,activePath:s}=l.useContext(U),a="file"===t.file.kind,o=t.fullPath===s;return(0,n.jsxs)(J,{level:r,onClick:e=>{a&&(null==i||i(t))},isActive:o,children:[(0,n.jsx)(k.IconFile,{className:"shrink-0"}),(0,n.jsx)("div",{className:"truncate",children:null==t?void 0:t.name})]})},q=e=>{var t,r,i;let{node:s,level:a,root:o}=e,{fileMap:c,updateFileMap:u,expandedKeys:h,toggleExpandedKey:x,onSelectTreeNode:v,activePath:m}=l.useContext(U),p=l.useRef(!1),g=l.useMemo(()=>T(s.fullPath),[s.fullPath]),j=o?"":s.file.basename,b=h.has(s.fullPath),y="dir"===s.file.kind&&!(null==c?void 0:null===(t=c[s.fullPath])||void 0===t?void 0:t.treeExpanded)&&b,{data:N,isLoading:C}=(0,d.Z)(y?"/repositories/".concat(g,"/resolve/").concat(j):null,f.Z,{revalidateIfStale:!1});l.useEffect(()=>{var e;if(!p.current&&(null==N?void 0:null===(e=N.entries)||void 0===e?void 0:e.length)){let e=N.entries.reduce((e,t)=>{let r="".concat(g,"/").concat(t.basename);return{...e,[r]:{file:t,name:I(r),fullPath:r,treeExpanded:!1}}},{});u(e),p.current=!0}},[N]);let[P]=(0,w.n)(C,300),S=!!(null==s?void 0:null===(r=s.children)||void 0===r?void 0:r.length);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(H,{level:a,onClick:e=>{null==v||v(s)},isActive:m===s.fullPath,children:[(0,n.jsx)("div",{className:"flex h-8 shrink-0 items-center hover:bg-primary/10 hover:text-popover-foreground",onClick:e=>{P||(x(s.fullPath),e.stopPropagation())},children:P&&!p.current?(0,n.jsx)(k.IconSpinner,{}):b?(0,n.jsx)(k.IconChevronDown,{}):(0,n.jsx)(k.IconChevronRight,{})}),(0,n.jsx)("div",{className:"shrink-0",style:{color:"rgb(84, 174, 255)"},children:b?(0,n.jsx)(k.IconDirectoryExpandSolid,{}):(0,n.jsx)(k.IconDirectorySolid,{})}),(0,n.jsx)("div",{className:"truncate",children:null==s?void 0:s.name})]}),(0,n.jsx)(n.Fragment,{children:b&&S?(0,n.jsx)(n.Fragment,{children:null===(i=s.children)||void 0===i?void 0:i.map(e=>{let t=e.file.basename;return"dir"===e.file.kind?(0,n.jsx)(q,{node:e,level:a+1},t):(0,n.jsx)(W,{node:e,level:a+1},t)})}):null})]})},K=()=>{let{initialized:e,activePath:t,fileMap:r,fileTreeData:i}=l.useContext(U),s=T(t);return e?(0,B.Z)(r)?(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:"No Indexed repository"}):!s||(null==i?void 0:i.length)?s?(0,n.jsx)(n.Fragment,{children:null==i?void 0:i.map(e=>{var t;let r=(null==e?void 0:null===(t=e.file)||void 0===t?void 0:t.kind)==="file";return r?(0,n.jsx)(W,{level:0,node:e},e.fullPath):(0,n.jsx)(q,{level:0,node:e},e.fullPath)})}):null:(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:"No Data"}):(0,n.jsx)(X,{})},G=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,h.cn)("group/filetree",t),children:(0,n.jsx)(V,{...r,children:(0,n.jsx)(K,{})})})};function X(){return(0,n.jsxs)("div",{className:"space-y-3 p-2",children:[(0,n.jsx)(C.O,{}),(0,n.jsx)(C.O,{className:"ml-4"}),(0,n.jsx)(C.O,{className:"ml-4"}),(0,n.jsx)(C.O,{}),(0,n.jsx)(C.O,{className:"ml-4"})]})}var $=r(70470),ee=r(58094);let et=e=>{let{className:t,...r}=e,{activePath:i,fileTreeData:s,setActivePath:a,initialized:o}=(0,l.useContext)(ec),{router:c,searchParams:d}=(0,u.Z)(),f=T(i),x=o&&!(null==s?void 0:s.length);return(0,n.jsxs)("div",{className:(0,h.cn)(t),...r,children:[(0,n.jsx)("div",{className:"py-4 font-bold leading-8",children:"Files"}),(0,n.jsxs)(ee.Ph,{onValueChange:e=>{a(e)},value:f,children:[(0,n.jsx)(ee.i4,{children:(0,n.jsx)(ee.ki,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(k.IconFolderGit,{}),(0,n.jsx)("span",{className:f?"":"text-muted-foreground",children:f||"Pick a repository"})]})})}),(0,n.jsx)(ee.Bw,{children:x?(0,n.jsx)(ee.Ql,{isPlaceHolder:!0,value:"",disabled:!0,children:"No indexed repository"}):(0,n.jsx)(n.Fragment,{children:null==s?void 0:s.map(e=>(0,n.jsx)(ee.Ql,{value:e.name,children:e.name},e.fullPath))})})]})]})},er=()=>{let{activePath:e,setActivePath:t,expandedKeys:r,updateFileMap:i,toggleExpandedKey:s,initialized:a,fileTreeData:o,fileMap:c}=l.useContext(ec),d=l.useRef(null),u=function(e,t){var r,n;let[i,s]=(0,l.useState)(null!==(n=null===(r=e.current)||void 0===r?void 0:r.scrollTop)&&void 0!==n?n:0);return(0,l.useEffect)(()=>{if(e.current){let r=(0,$.Z)(()=>{var t,r;s(null!==(r=null===(t=e.current)||void 0===t?void 0:t.scrollTop)&&void 0!==r?r:0)},t,{leading:!0}),n=e.current;return n.addEventListener("scroll",r),()=>{n.removeEventListener("scroll",r)}}},[e,t]),i}(d,200),f=l.useMemo(()=>{var t;let r=T(e),n=o.find(e=>e.name===r);return null!==(t=null==n?void 0:n.children)&&void 0!==t?t:[]},[e,o]);return(0,n.jsxs)("div",{className:"flex h-full flex-col overflow-hidden",children:[(0,n.jsx)(et,{className:"shrink-0 px-4 pb-3"}),u>0&&(0,n.jsx)("div",{className:"h-0 border-b shadow-[0px_3px_8px_rgba(0,0,0,0.3)] dark:shadow-[0px_3px_8px_rgba(255,255,255,0.3)]"}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto px-4",ref:d,children:(0,n.jsx)(G,{onSelectTreeNode:e=>{t(e.fullPath)},activePath:e,fileMap:c,updateFileMap:i,expandedKeys:r,toggleExpandedKey:s,initialized:a,fileTreeData:f})})]})},en=e=>{let{className:t,blob:r,isImage:i,contentLength:s}=e,{activePath:a}=(0,l.useContext)(ec);return(0,n.jsxs)("div",{className:(0,h.cn)(t),children:[(0,n.jsx)(D,{blob:r,contentLength:s}),(0,n.jsx)("div",{className:"rounded-b-lg border border-t-0 p-2 text-center",children:i?(0,n.jsx)("img",{className:"mx-auto",src:r?URL.createObjectURL(r):void 0}):(0,n.jsx)("a",{className:"text-primary hover:underline",download:I(null!=a?a:""),href:r?URL.createObjectURL(r):"",target:"_blank",children:"View raw"})})]})};var el=r(67579),ei=r(93111);let es=l.lazy(()=>Promise.all([r.e(8301),r.e(6401),r.e(5782),r.e(6691),r.e(5965),r.e(1662)]).then(r.bind(r,31662))),ea=l.lazy(()=>Promise.all([r.e(352),r.e(4403),r.e(3109)]).then(r.bind(r,23109))),eo=e=>{var t,r;let{className:s,blob:a,meta:o,contentLength:c}=e,{searchParams:d,updateSearchParams:f}=(0,u.Z)(),[x,v]=l.useState(""),{activePath:m}=(0,l.useContext)(ec),p=m?(0,i.Z)(m)[0]:void 0,g=(null!==(r=null==o?void 0:o.language)&&void 0!==r?r:p)||"",j=!!x&&"markdown"===g,b=(null===(t=d.get("plain"))||void 0===t?void 0:t.toString())==="1";return l.useEffect(()=>{let e=async e=>{try{let t=await e.text();v(t)}catch(e){v("")}};a&&e(a)},[a]),(0,n.jsxs)("div",{className:(0,h.cn)(s),children:[(0,n.jsx)(D,{blob:a,contentLength:c,canCopy:!0,children:j&&(0,n.jsx)(el.mQ,{value:b?"1":"0",onValueChange:e=>{"1"===e?f({set:{plain:"1"}}):f({del:"plain"})},children:(0,n.jsxs)(el.dr,{children:[(0,n.jsx)(el.SP,{value:"0",children:"Preview"}),(0,n.jsx)(el.SP,{value:"1",children:"Code"})]})})}),(0,n.jsx)("div",{className:"rounded-b-lg border border-t-0 p-2",children:(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(ei.cg,{}),children:j&&!b?(0,n.jsx)(ea,{value:x}):(0,n.jsx)(es,{value:x,language:g,meta:o})})})]})},ec=l.createContext({}),ed=e=>{let{children:t}=e,{searchParams:r,updateSearchParams:i}=(0,u.Z)(),a=l.useMemo(()=>{var e,t;return null!==(t=null===(e=r.get("path"))||void 0===e?void 0:e.toString())&&void 0!==t?t:""},[r]),[o,c]=l.useState(!1),[d,f]=l.useState({}),[h,x]=l.useState(new Set),v=l.useMemo(()=>{if(!a)return[];let e=[],t=a.split("/");for(let r=0;r<t.length;r++){let n=t.slice(0,r+1).join("/");e.push(null==d?void 0:d[n])}return(0,s.Z)(e)},[a,d]),m=l.useMemo(()=>(function e(t){if(!t.length)return[];for(let r of(t.sort((e,t)=>{let r="file"===e.file.kind?1:0,n="file"===t.file.kind?1:0;return r-n||e.name.localeCompare(t.name)}),t))(null==r?void 0:r.children)&&e(r.children);return t})(function(e){let t=[];if(!e)return t;let r=Object.keys(e);for(let n of r){let r=e[n],l=n.split("/"),i=t;for(let e=0;e<l.length;e++){let t=l[e],s=null==i?void 0:i.find(e=>e.name===t);if(s)i=s.children||[];else{let e={file:r.file,name:t,fullPath:n,children:[]};i.push(e),i=e.children}}}return t}(d)),[d]);return(0,n.jsx)(ec.Provider,{value:{initialized:o,setInitialized:c,activePath:a,setActivePath:e=>{e?i({set:{path:e},del:"plain"}):i({del:["path","plain"]})},fileMap:d,updateFileMap:e=>{e&&f(t=>({...t,...e}))},expandedKeys:h,setExpandedKeys:x,toggleExpandedKey:e=>{let t=h.has(e),r=new Set(h);t?r.delete(e):r.add(e),x(r)},currentFileRoutes:v,fileTreeData:m},children:t})},eu=e=>{var t,r,i;let{className:s}=e,{activePath:a,updateFileMap:u,fileMap:x,initialized:j,setInitialized:y,setExpandedKeys:N}=l.useContext(ec),{progress:w,setProgress:k}=(0,g.U)(),C=l.useMemo(()=>T(a),[a]),P=l.useMemo(()=>_(a),[a]),[S,R]=l.useState(),E=a&&(null==x?void 0:null===(r=x[a])||void 0===r?void 0:null===(t=r.file)||void 0===t?void 0:t.kind)==="file",Z=a?null==x?void 0:null===(i=x[a])||void 0===i?void 0:i.file:void 0,O=l.useMemo(()=>{var e,t,r;if(!j)return!1;let n=a&&(null==x?void 0:null===(t=x[a])||void 0===t?void 0:null===(e=t.file)||void 0===e?void 0:e.kind)==="dir";return n&&!(null==x?void 0:null===(r=x[a])||void 0===r?void 0:r.treeExpanded)},[a,x,j]),{data:F,isLoading:z}=(0,d.Z)(E?"/repositories/".concat(C,"/resolve/").concat(P):null,e=>(0,f.Z)(e,{responseFormatter:async e=>{if(!e.ok)return;let t=(0,o.Z)(e.headers.get("Content-Length")),r=await e.blob();return{contentLength:t,blob:r}}}),{keepPreviousData:!0,onError(e){c.A.error("Fail to fetch")}});l.useEffect(()=>{},[a]),l.useEffect(()=>{z?k(!0):k(!1)},[z]);let D=null==F?void 0:F.blob,A=null==F?void 0:F.contentLength,{data:B}=(0,d.Z)(E?"/repositories/".concat(C,"/meta/").concat(P):null,f.Z),{data:U,isLoading:V}=(0,d.Z)(O?"/repositories/".concat(C,"/resolve/").concat(P):null,f.Z),Q=(null==Z?void 0:Z.kind)==="dir"||""===a,Y=E&&"text"===S,J=E&&("image"===S||"raw"===S);return l.useEffect(()=>{let e=async()=>{let{patchMap:e,expandedKeys:t}=await eh(a);e&&u(e),(null==t?void 0:t.length)&&N(new Set(t)),y(!0)};e()},[]),l.useEffect(()=>{(()=>{var e;if((null==U?void 0:null===(e=U.entries)||void 0===e?void 0:e.length)&&a){let e=T(a),t={};for(let r of U.entries){let n="".concat(e,"/").concat(r.basename);t[n]={file:r,name:I(n),fullPath:n,treeExpanded:!1}}u(t);let r=L(a,!0);(null==r?void 0:r.length)&&N(e=>{let t=new Set(e);for(let e of r)t.add(e);return t})}})()},[U]),l.useEffect(()=>{let e=async()=>{let e=await ex(null!=a?a:"",D);R(e)};E?e():R("")},[a,E,D]),(0,n.jsxs)(v,{direction:"horizontal",className:(0,h.cn)(s),children:[(0,n.jsx)(m,{defaultSize:20,minSize:20,children:(0,n.jsx)(er,{})}),(0,n.jsx)(p,{className:"w-1 bg-border/40 hover:bg-border active:bg-border"}),(0,n.jsx)(m,{defaultSize:80,minSize:30,children:(0,n.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto px-4 pb-4",children:[(0,n.jsx)(b,{className:"py-4"}),(0,n.jsxs)("div",{children:[Q&&(0,n.jsx)(M,{loading:V,initialized:j,className:"rounded-lg border"}),Y&&(0,n.jsx)(eo,{blob:D,meta:B,contentLength:A}),J&&(0,n.jsx)(en,{blob:D,isImage:"image"===S,contentLength:A})]})]})})]})},ef=e=>(0,n.jsx)(ed,{children:(0,n.jsx)(eu,{className:"source-code-browser",...e})});async function eh(e){let t=T(e),r=_(e);try{let e=await n(),{defaultEntries:r,expandedDir:l}=await i(e),s={};for(let r of e)s[r.basename]={file:r,name:r.basename,fullPath:r.basename,treeExpanded:r.basename===t};for(let e of r){let r="".concat(t,"/").concat(e.basename);s[r]={file:e,name:I(r),fullPath:r,treeExpanded:l.includes(e.basename)}}let a=l.map(e=>[t,e].filter(Boolean).join("/"));return{patchMap:s,expandedKeys:a}}catch(e){return console.error(e),{}}async function n(){try{let e=await (0,f.Z)("/repositories/resolve/");return null==e?void 0:e.entries}catch(e){return[]}}async function l(e){try{if(!t)return;let l=(0,a.Z)(e,e=>e.basename===t);if(l<0)return;let i=L(r),s=i.map(e=>()=>(0,f.Z)("/repositories/".concat(t,"/resolve/").concat(e))),o=await Promise.all(s.map(e=>e())),c=[];for(let e of o){var n;(null==e?void 0:null===(n=e.entries)||void 0===n?void 0:n.length)&&(c=[...c,...e.entries])}return c}catch(e){console.error(e)}}async function i(e){let n={defaultEntries:[],expandedDir:[]};try{if(t&&(null==e?void 0:e.length)){let t=await l(e),i=L(r);(null==t?void 0:t.length)&&(n.defaultEntries=t),(null==i?void 0:i.length)&&(n.expandedDir=i)}}catch(e){console.error(e)}return n}}async function ex(e,t){var r;if(!t)return"";let n=null==t?void 0:t.type,l=null===(r=(0,i.Z)(e))||void 0===r?void 0:r[0];if(null==n?void 0:n.startsWith("image"))return"image";if(l||(null==n?void 0:n.startsWith("text")))return"text";let s=await new Promise((e,r)=>{let n=t.slice(0,1024),l=new FileReader;l.onloadend=function(t){var r;if((null==t?void 0:null===(r=t.target)||void 0===r?void 0:r.readyState)===FileReader.DONE){let r=t.target.result;"string"!=typeof r?e(!1):/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/.test(r)?e(!1):e(!0)}},l.onerror=function(){e(!1)},l.readAsText(n,"UTF-8")});return s?"text":"raw"}},33555:function(e,t,r){"use strict";r.d(t,{q:function(){return a}});var n=r(57437);r(2265);var l=r(77723),i=r(93023),s=r(84168);function a(e){let{className:t,value:r,...a}=e,{isCopied:o,copyToClipboard:c}=(0,l.m)({timeout:2e3});return r?(0,n.jsxs)(i.z,{variant:"ghost",size:"icon",className:t,onClick:()=>{o||c(r)},...a,children:[o?(0,n.jsx)(s.IconCheck,{className:"text-green-600"}):(0,n.jsx)(s.IconCopy,{}),(0,n.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},93111:function(e,t,r){"use strict";r.d(t,{PF:function(){return o},cg:function(){return s},tB:function(){return a}});var n=r(57437),l=r(39311),i=r(25645);let s=e=>{let{className:t,...r}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("space-y-3",t),...r,children:[(0,n.jsx)(i.O,{className:"h-4 w-full"}),(0,n.jsx)(i.O,{className:"h-4 w-full"}),(0,n.jsx)(i.O,{className:"h-4 w-full"}),(0,n.jsx)(i.O,{className:"h-4 w-full"})]})},a=e=>{let{className:t,...r}=e;return(0,n.jsx)(i.O,{className:(0,l.cn)("h-4 w-full",t),...r})},o=e=>{let{className:t,...r}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-3",t),...r,children:[(0,n.jsx)(i.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(i.O,{className:"h-4 w-full"}),(0,n.jsx)(i.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(i.O,{className:"h-4 w-full"})]})}},30522:function(e,t,r){"use strict";r.d(t,{J:function(){return c},U:function(){return d}});var n=r(57437),l=r(2265),i=r(6435),s=r(16450),a=r.n(s);let o=l.createContext({}),c=e=>{let{children:t}=e,[r,s]=l.useState(!1),{theme:c}=(0,i.F)();return l.useEffect(()=>{a().config({barColors:{0:"dark"===c?"#DC981A":"#B7942B"}})},[]),(0,n.jsxs)(o.Provider,{value:{progress:r,setProgress:s},children:[r&&(0,n.jsx)(a(),{}),t]})},d=()=>l.useContext(o)},93023:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var n=r(57437),l=r(2265),i=r(67256),s=r(7404),a=r(39311);let o=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:r,variant:l,size:s,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,n.jsx)(u,{className:(0,a.cn)(o({variant:l,size:s,className:r})),ref:t,...d})});c.displayName="Button"},58094:function(e,t,r){"use strict";r.d(t,{Bw:function(){return u},Ph:function(){return o},Ql:function(){return h},i4:function(){return d},ki:function(){return c}});var n=r(57437),l=r(2265),i=r(98608),s=r(39311),a=r(84168);let o=i.fC;i.ZA;let c=i.B4,d=l.forwardRef((e,t)=>{let{className:r,children:l,...o}=e;return(0,n.jsxs)(i.xz,{ref:t,className:(0,s.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...o,children:[l,(0,n.jsx)(i.JO,{asChild:!0,children:(0,n.jsx)(a.IconChevronUpDown,{className:"opacity-50"})})]})});d.displayName=i.xz.displayName;let u=l.forwardRef((e,t)=>{let{className:r,children:l,position:a="popper",...o}=e;return(0,n.jsx)(i.h_,{children:(0,n.jsx)(i.VY,{ref:t,className:(0,s.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===a&&"translate-y-1",r),position:a,...o,children:(0,n.jsx)(i.l_,{className:(0,s.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l})})})});u.displayName=i.VY.displayName;let f=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.__,{ref:t,className:(0,s.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...l})});f.displayName=i.__.displayName;let h=l.forwardRef((e,t)=>{let{className:r,children:l,isPlaceHolder:o,...c}=e;return(0,n.jsxs)(i.ck,{ref:t,className:(0,s.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...c,children:[!o&&(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(i.wU,{children:(0,n.jsx)(a.IconCheck,{className:"h-4 w-4"})})}),(0,n.jsx)(i.eT,{children:l})]})});h.displayName=i.ck.displayName;let x=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.Z0,{ref:t,className:(0,s.cn)("-mx-1 my-1 h-px bg-muted",r),...l})});x.displayName=i.Z0.displayName},16775:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(57437),l=r(2265),i=r(26823),s=r(39311);let a=l.forwardRef((e,t)=>{let{className:r,orientation:l="horizontal",decorative:a=!0,...o}=e;return(0,n.jsx)(i.f,{ref:t,decorative:a,orientation:l,className:(0,s.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",r),...o})});a.displayName=i.f.displayName},25645:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(57437),l=r(39311);function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",t),...r})}},32553:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return s},pj:function(){return f},ss:function(){return u},xD:function(){return a}});var n=r(57437),l=r(2265),i=r(39311);let s=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",r),...l})});s.displayName="Table";let a=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",r),...l})});a.displayName="TableHeader";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...l})});o.displayName="TableBody";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...l})});c.displayName="TableFooter";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...l})});d.displayName="TableRow";let u=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...l})});u.displayName="TableHead";let f=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...l})});f.displayName="TableCell";let h=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",r),...l})});h.displayName="TableCaption"},67579:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return a},nU:function(){return d}});var n=r(57437),l=r(2265),i=r(34522),s=r(39311);let a=i.fC,o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.aV,{ref:t,className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...l})});o.displayName=i.aV.displayName;let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.xz,{ref:t,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...l})});c.displayName=i.xz.displayName;let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.VY,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...l})});d.displayName=i.VY.displayName},95482:function(e,t,r){"use strict";r.d(t,{_v:function(){return d},aJ:function(){return c},pn:function(){return a},u:function(){return o}});var n=r(57437),l=r(2265),i=r(98567),s=r(39311);let a=i.zt,o=i.fC,c=i.xz,d=l.forwardRef((e,t)=>{let{className:r,sideOffset:l=4,...a}=e;return(0,n.jsx)(i.VY,{ref:t,sideOffset:l,className:(0,s.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs font-medium text-popover-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",r),...a})});d.displayName=i.VY.displayName},77723:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n=r(2265),l=r(2390),i=r.n(l),s=r(71424);function a(e){let{timeout:t=2e3,onError:r}=e,[l,a]=n.useState(!1),o=()=>{a(!0),setTimeout(()=>{a(!1)},t)},c=e=>{if("function"==typeof r){null==r||r(e);return}s.A.error("Failed to copy.")};return{isCopied:l,copyToClipboard:e=>{var t;if(e){if(null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText)navigator.clipboard.writeText(e).then(o).catch(c);else{let t=i()(e);t?o():c()}}}}}},12897:function(e,t,r){"use strict";r.d(t,{S:function(){return a},n:function(){return o}});var n=r(2265),l=r(50976);function i(e){let t=n.useRef(e);return t.current=e,t}let s=e=>{let t=i(e);n.useEffect(()=>()=>{t.current()},[])};function a(e,t,r){let a=i(e),o=n.useMemo(()=>(0,l.Z)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.current(...t)},t,r),[]);return s(()=>o.cancel()),{run:o,cancel:o.cancel,flush:o.flush}}function o(e,t,r){let[l,i]=n.useState(e),{run:s}=a(()=>{i(e)},t,r);return n.useEffect(()=>{s()},[e]),[l,i]}},52485:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(24033);function l(){let e=(0,n.usePathname)(),t=(0,n.useRouter)(),r=(0,n.useSearchParams)();return{pathname:e,router:t,searchParams:r,updateSearchParams:n=>{let{set:l,del:i,replace:s,getNewPath:a}=n,o=new URLSearchParams(r);l&&Object.entries(l).forEach(e=>{let[t,r]=e;return o.set(t,r)}),i&&(Array.isArray(i)?i.forEach(e=>o.delete(e)):o.delete(i));let c=o.toString(),d="".concat(e).concat(c.length>0?"?".concat(c):"");if(a)return d;s?t.replace(d):t.push(d)},getQueryString:e=>{let t=new URLSearchParams(r);e&&Object.entries(e).forEach(e=>{let[r,n]=e;return t.set(r,n)});let n=t.toString();return n.length>0?"?".concat(n):""}}}},1592:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(34084),l=r(58001),i=r(7820);let s=!1,a=[];async function o(e,t){var r,n,i;let o=null!==(r=null==t?void 0:t.customFetch)&&void 0!==r?r:window.fetch,h=await o(e,c(t));if(401!==h.status)return f(h,t);{if(s)return new Promise(r=>{a.push({url:e,options:t,resolve:r})});let r=null===(n=(0,l.bW)())||void 0===n?void 0:n.refreshToken;if(!r){(0,l.Rn)();return}s=!0;let o=await d(r),c=null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.refreshToken;if(c){for((0,l.pC)({accessToken:c.accessToken,refreshToken:c.refreshToken}),s=!1;a.length;){let e=a.shift();null==e||e.resolve(u(e.url,e.options))}return u(e,t)}s=!1,a.length=0,(0,l.Rn)()}}function c(e){var t;let r=new Headers(null==e?void 0:e.headers);return r.append("authorization","Bearer ".concat(null===(t=(0,l.bW)())||void 0===t?void 0:t.accessToken)),{...e||{},headers:r}}async function d(e){let t=i.L.createRequestOperation("mutation",(0,n.h)(l.Dp,{refreshToken:e}));return i.L.executeMutation(t)}function u(e,t){var r;let n=null!==(r=null==t?void 0:t.customFetch)&&void 0!==r?r:window.fetch;return n(e,c(t)).then(e=>f(e,t))}function f(e,t){if(null==e?void 0:e.ok)return(null==t?void 0:t.responseFormatter)?t.responseFormatter(e):(null==t?void 0:t.responseFormat)==="blob"?e.blob():e.json()}}},function(e){e.O(0,[768,9109,584,3072,1424,2699,7070,3714,6410,713,6630,8567,3952,4522,6501,7753,4168,2445,2971,7864,1744],function(){return e(e.s=51848)}),_N_E=e.O()}]);