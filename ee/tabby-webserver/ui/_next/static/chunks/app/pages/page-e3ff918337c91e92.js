(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2342],{72282:function(e,t,n){Promise.resolve().then(n.bind(n,4888))},4888:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return ev}});var r=n(36164),s=n(3546),a=n(70652),i=n.n(a),o=n(54767),l=n(1853),c=n(12978),d=n(99092),u=n.n(d),m=n(2578),f=n(40055),x=n(21808),p=n(43240),h=n(9010),g=n(24449),v=n(16784),j=n(98454),b=n(44645),y=n(96274),N=n(37266),w=n(11634),k=n(70410),C=n(57288),S=n(31458),A=n(81565),I=n(57830),E=n(3448),z=n(72657),R=n(30601),P=n(6230),L=n(54646),M=n(69579),F=n(52569),D=n(11978),T=n(73460),O=n(62202),_=n(68172),Z=n(61249),H=n(63743),W=n(7449);let V=(0,s.createContext)({}),U=(0,p.BX)("\n  mutation DeletePage($id: ID!) {\n    deletePage(id: $id)\n  }\n");function B(e){let{pageIdFromURL:t,streamingDone:n}=e,a=(0,D.useRouter)(),{isPageOwner:i,mode:o,setMode:l}=(0,s.useContext)(V),[c,d]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1),x=(0,w.Db)(U,{onCompleted(e){e.deletePage?a.replace("/"):(m.A.error("Failed to delete"),f(!1))},onError(e){m.A.error((null==e?void 0:e.message)||"Failed to delete"),f(!1)}}),p=e=>{e&&(0,N.wh)(),a.push("/")};return(0,r.jsxs)("header",{className:"flex h-16 w-full items-center justify-between border-b px-4 lg:px-10",children:[(0,r.jsx)("div",{className:"flex items-center gap-x-6",children:(0,r.jsxs)(S.z,{variant:"ghost",className:"-ml-1 pl-0 text-sm text-muted-foreground",onClick:()=>p(),children:[(0,r.jsx)(A.IconChevronLeft,{className:"mr-1 h-5 w-5"}),"Home"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["edit"===o?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(S.z,{onClick:e=>l("view"),children:"Done"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(O.h_,{modal:!1,children:[(0,r.jsx)(O.$F,{asChild:!0,children:(0,r.jsx)(S.z,{size:"icon",variant:"ghost",children:(0,r.jsx)(A.IconMore,{})})}),(0,r.jsxs)(O.AW,{align:"end",children:[n&&t&&(0,r.jsxs)(O.Xi,{className:"cursor-pointer gap-2",onClick:()=>p(!0),children:[(0,r.jsx)(A.IconPlus,{}),(0,r.jsx)("span",{children:"Add new page"})]}),n&&t&&i&&(0,r.jsxs)(T.aR,{open:c,onOpenChange:d,children:[(0,r.jsx)(T.vW,{asChild:!0,children:(0,r.jsxs)(O.Xi,{className:"cursor-pointer gap-2",children:[(0,r.jsx)(A.IconTrash,{}),"Delete Page"]})}),(0,r.jsxs)(T._T,{children:[(0,r.jsxs)(T.fY,{children:[(0,r.jsx)(T.f$,{children:"Delete this page"}),(0,r.jsx)(T.yT,{children:"Are you sure you want to delete this page? This operation is not revertible."})]}),(0,r.jsxs)(T.xo,{children:[(0,r.jsx)(T.le,{children:"Cancel"}),(0,r.jsxs)(T.OL,{className:(0,S.d)({variant:"destructive"}),onClick:e=>{e.preventDefault(),f(!0),x({id:t})},children:[u&&(0,r.jsx)(A.IconSpinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Yes, delete it"]})]})]})]})]})]}),(0,r.jsxs)(S.z,{variant:"ghost",className:"flex items-center gap-1 px-2 font-normal",onClick:()=>l("edit"),children:[(0,r.jsx)(A.IconEdit,{}),"Edit Page"]})]}),(0,r.jsx)(_.q,{children:(0,r.jsx)(H.T,{})}),(0,r.jsx)(Z.L,{className:"mr-4"}),(0,r.jsx)(W.Z,{showHome:!1,showSetting:!0,beforeRouteChange:()=>{(0,N.wh)()},children:(0,r.jsx)(F.SQ,{className:"h-10 w-10 border"})})]})]})}function G(){return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(E.O,{className:"w-full"}),(0,r.jsx)(E.O,{className:"w-[70%]"})]}),(0,r.jsx)(E.O,{className:"h-40 w-full"})]})}let q=e=>{let{sections:t}=e,[n,a]=(0,s.useState)(),i=(0,s.useRef)(null),o=(0,g.S)(e=>{a(e)},200);return(0,s.useEffect)(()=>{i.current=new IntersectionObserver(e=>{for(let t of e)if(t.isIntersecting){o.run(t.target.id);break}},{root:null,rootMargin:"70px"});let e=document.querySelectorAll(".section-title");return e.forEach(e=>{var t;null===(t=i.current)||void 0===t||t.observe(e)}),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}},[]),(0,r.jsx)("nav",{className:"sticky right-0 top-0 p-4",children:(0,r.jsx)("ul",{className:"flex flex-col space-y-1",children:null==t?void 0:t.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"truncate whitespace-nowrap text-sm ".concat(n===e.id?"text-foreground":"text-muted-foreground"),children:e.content})},e.id))})})};var J=n(84381),Y=n(62226),$=n.n(Y),K=n(6797),X=n.n(K),Q=n(66686),ee=n(5493),et=n(23455),en=n(23782),er=(n(95052),n(98150)),es=(n(25600),n(48537)),ea=n(89811),ei=n(90379);function eo(e){let{className:t,message:n,isGenerating:a}=e,{mode:i,isPageOwner:o,pendingSectionIds:l}=(0,s.useContext)(V),[c,d]=(0,s.useState)(!1),u=l.has(n.id)&&!n.content,m=e=>{},f=e=>{},x=async e=>{},p=async e=>{let t=await x(e);if(t)return t;d(!1)};return(0,r.jsx)("div",{className:(0,C.cn)("flex flex-col gap-y-5",t),children:(0,r.jsxs)(P.Z,{loading:u,fallback:(0,r.jsx)(ei.cg,{}),children:[(0,r.jsxs)("div",{children:[a&&!n.content&&(0,r.jsx)(E.O,{className:"mt-1 h-40 w-full"}),c?(0,r.jsx)(el,{message:n.content,onCancel:()=>d(!1),onSubmit:p}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.J,{message:n.content,onCodeCitationClick:e=>{e.gitUrl&&m(e)},onCodeCitationMouseEnter:e=>{},onCodeCitationMouseLeave:e=>{},canWrapLongLines:!a,supportsOnApplyInEditorV2:!1,className:"prose-p:my-0.5 prose-ol:my-1 prose-ul:my-1"}),!a&&!c&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-sm",children:[!1,(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:["view"===i&&(0,r.jsx)(es.q,{className:"-ml-1.5 gap-x-1 px-1 font-normal text-muted-foreground",value:n.content,text:"Copy"}),o&&"edit"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",onClick:e=>d(!0),children:[(0,r.jsx)(A.IconEdit,{}),(0,r.jsx)("p",{children:"Edit"})]}),(0,r.jsxs)(S.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",children:[(0,r.jsx)(A.IconRefresh,{}),(0,r.jsx)("p",{children:"Regenerate"})]}),(0,r.jsxs)(O.h_,{modal:!1,children:[(0,r.jsx)(O.$F,{asChild:!0,children:(0,r.jsxs)(S.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",children:[(0,r.jsx)(A.IconMore,{}),(0,r.jsx)("p",{children:"More"})]})}),(0,r.jsx)(O.AW,{align:"start",children:(0,r.jsx)(O.Xi,{onSelect:()=>{f(n.id)},children:"Delete Section"})})]})]})]})]})]})]}),a&&(0,r.jsx)("div",{children:(0,r.jsx)(A.IconSpinner,{})})]})})}function el(e){let{message:t,onCancel:n,onSubmit:a}=e,i=en.Ry({content:en.Z_().trim()}),o=(0,ee.cI)({resolver:(0,J.F)(i),defaultValues:{content:t}}),{isSubmitting:l}=o.formState,[c]=(0,s.useState)(t),d=async e=>{let t=await a(e.content);t&&(0,w.zG)(o)(t)};return(0,r.jsx)(er.l0,{...o,children:(0,r.jsxs)("form",{onSubmit:o.handleSubmit(d),children:[(0,r.jsx)(er.Wi,{control:o.control,name:"content",render:e=>{let{field:t}=e;return(0,r.jsxs)(er.xJ,{children:[(0,r.jsx)(er.NI,{children:(0,r.jsx)(et.Z,{autoFocus:!0,minRows:2,maxRows:20,className:"w-full rounded-lg border bg-background p-4 outline-ring",...t})}),(0,r.jsx)(er.zG,{})]})}}),(0,r.jsxs)("div",{className:"my-4 flex items-center justify-between gap-2 px-2",children:[(0,r.jsx)("div",{children:(0,r.jsx)(er.zG,{})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S.z,{type:"button",variant:"outline",onClick:n,className:"min-w-[2rem]",children:"Cancel"}),(0,r.jsxs)(S.z,{type:"submit",disabled:l,children:[l&&(0,r.jsx)(A.IconSpinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Save"]})]})]})]})})}let ec=e=>{let t=$().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=Q.TU.parse(t),r=X().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s};var ed=n(29),eu=n(8629);function em(e){let{onSearch:t,className:n,placeholder:a,showBetaBadge:i,isLoading:o,autoFocus:l,loadingWithSpinning:c,cleanAfterSearch:d=!0}=e,[u,m]=(0,s.useState)(!1),[f,p]=(0,s.useState)(""),h=(0,s.useRef)(null),g=()=>{var e,t;null===(t=h.current)||void 0===t||null===(e=t.editor)||void 0===e||e.commands.focus()},v=e=>{if(!e||o)return;let n=e.getText({blockSeparator:x.rZ}).trim();if(n&&(t(n),d)){var r,s;null===(s=h.current)||void 0===s||null===(r=s.editor)||void 0===r||r.chain().clearContent().focus().run(),p("")}};return(0,r.jsxs)("div",{className:(0,C.cn)("relative w-full overflow-hidden rounded-xl border bg-background transition-all hover:border-ring dark:border-muted-foreground/60 dark:hover:border-muted-foreground",{"border-ring dark:border-muted-foreground":u},n),onClick:()=>{g()},children:[i&&(0,r.jsx)(ef,{}),(0,r.jsxs)("div",{className:(0,C.cn)("flex min-h-[2.5rem] items-end pr-4"),children:[(0,r.jsx)("div",{className:"mr-1 flex-1 overflow-x-hidden pl-4",children:(0,r.jsx)(eu.Q,{editable:!0,contextInfo:void 0,fetchingContextInfo:!1,onSubmit:v,placeholder:a||"Ask anything...",autoFocus:l,onFocus:()=>m(!0),onBlur:()=>m(!1),onUpdate:e=>{let{editor:t}=e;return p(t.getText({blockSeparator:x.rZ}).trim())},ref:h,placement:"bottom",className:(0,C.cn)("text-area-autosize resize-none rounded-lg !border-none bg-transparent !shadow-none !outline-none !ring-0 !ring-offset-0",{"py-3":!i,"py-4":i})})}),(0,r.jsx)("div",{className:(0,C.cn)("mb-3 flex items-center justify-between gap-2"),children:(0,r.jsxs)("div",{className:(0,C.cn)("flex items-center justify-center rounded-lg p-1 transition-all",{"bg-primary text-primary-foreground cursor-pointer":f.length>0,"!bg-muted !text-primary !cursor-default":o||0===f.length,"mr-1.5":!i}),onClick:()=>{var e;return v(null===(e=h.current)||void 0===e?void 0:e.editor)},children:[c&&o&&(0,r.jsx)(A.IconSpinner,{className:"h-4 w-4"}),(!c||!o)&&(0,r.jsx)(A.IconArrowRight,{className:"h-4 w-4"})]})})]})]})}function ef(){let{theme:e}=(0,h.X)();return(0,r.jsxs)(ed.u,{delayDuration:0,children:[(0,r.jsx)(ed.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"absolute -right-8 top-1 mr-3 rotate-45 rounded-none border-none py-0.5 pl-6 pr-5 text-xs text-primary",style:{background:"dark"===e?"#333":"#e8e1d3"},children:"Beta"})}),(0,r.jsx)(ed._v,{sideOffset:-8,className:"max-w-md",children:(0,r.jsx)("p",{children:"Please note that the answer engine is still in its early stages, and certain functionalities, such as finding the correct code context and the quality of summarizations, still have room for improvement. If you encounter an issue and believe it can be enhanced, consider sharing it in our Slack community!"})})]})}function ex(e){let{message:t,className:n,...a}=e,{mode:i,pendingSectionIds:o}=(0,s.useContext)(V),l=o.has(t.id)&&!t.content;return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:(0,C.cn)("flex items-center gap-2 font-semibold",n),id:t.id,...a,children:[(0,r.jsx)(L.J,{message:t.title,contextInfo:void 0,supportsOnApplyInEditorV2:!1,className:(0,C.cn)("text-3xl prose-h2:text-foreground prose-p:mb-1 prose-p:mt-0",{"text-foreground/50":l}),headline:!0}),"edit"===i&&(0,r.jsx)(S.z,{variant:"outline",className:"px-2",children:(0,r.jsx)(A.IconEdit,{className:"h-6 w-6"})})]})})}let ep=(0,p.BX)("\n  subscription createThreadToPageRun($threadId: ID!) {\n    createThreadToPageRun(threadId: $threadId) {\n      __typename\n      ... on PageCreated {\n        id\n        authorId\n        title\n      }\n      ... on PageContentDelta {\n        delta\n      }\n      ... on PageContentCompleted {\n        id\n      }\n      ... on PageSectionsCreated {\n        sections {\n          id\n          title\n        }\n      }\n      ... on PageSectionContentDelta {\n        id\n        delta\n      }\n      ... on PageSectionContentCompleted {\n        id\n      }\n      ... on PageCompleted {\n        id\n      }\n    }\n  }\n"),eh=(0,p.BX)("\n  mutation DeletePageSection($sectionId: ID!) {\n    deletePageSection(sectionId: $sectionId)\n  }\n"),eg=(0,p.BX)("\n  mutation AddPageSection($input: AddPageSectionInput!) {\n    addPageSection(input: $input)\n  }\n");function ev(){var e,t,n,a;let[{data:i}]=(0,j.P)(),{updateUrlComponents:d,pathname:x}=(0,b.Z)(),[p,N]=(0,s.useState)(),[M,D]=(0,s.useState)(!1),[T,O]=(0,s.useState)("view"),[_,Z]=(0,s.useState)(!1),[H,W]=(0,s.useState)(new Set),[U,J]=(0,s.useState)(!0),Y=(0,y.u)(e=>e.pendingThreadId),[$,K]=(0,s.useState)(!!Y),[X,Q]=(0,s.useState)(void 0),ee=(0,s.useRef)(null),[et,en]=(0,s.useState)(!1),[er]=(0,R.Hb)(),es=(0,s.useRef)(!1),{theme:ea}=(0,h.X)(),[ei,el]=(0,s.useState)(),[ec,ed]=(0,s.useState)(),[eu,ef]=(0,s.useState)(),[ev,eb]=(0,s.useState)(!1),[ey,eN]=(0,s.useState)(),ew=(0,s.useMemo)(()=>{var e,t;if(p)return null===(t=p.match(/^\/pages\/(.*)/))||void 0===t?void 0:null===(e=t[1])||void 0===e?void 0:e.split("-").pop()},[p]),ek=(0,s.useRef)(),eC=e=>{switch(e.__typename){case"PageCreated":el(e.id);let t=new Date().toISOString(),n={id:e.id,authorId:e.authorId,title:e.title,content:"",updatedAt:t,createdAt:t};ed(n),Z(!0),eZ(n);break;case"PageContentDelta":ed(t=>t?{__typename:"Page",...t,content:t.content+e.delta}:t);break;case"PageContentCompleted":Z(!1);break;case"PageSectionsCreated":{let t=e.sections.map(e=>({...e,__typename:"Section",pageId:ei,content:""}));W(new Set(e.sections.map(e=>e.id))),ef(t);break}case"PageSectionContentDelta":Q(e.id),ef(t=>{let n=null==t?void 0:t.find(t=>t.id===e.id);return n&&t?t.map(t=>t.id===e.id?{...t,content:(t.content||"")+e.delta}:t):t});case"PageSectionContentCompleted":W(t=>{if(!t.has(e.id))return t;let n=new Set(t);return n.delete(e.id),n});break;case"PageCompleted":eI.current()}},eS=e=>{let{unsubscribe:t}=w.Lp.subscription(ep,{threadId:e}).subscribe(e=>{var n;if(null==e?void 0:e.error){eb(!1),eN(e.error),t();return}let r=null===(n=e.data)||void 0===n?void 0:n.createThreadToPageRun;r&&eC(r)});return t},eA=()=>{},eI=(0,v.d)(()=>{var e;null===(e=ek.current)||void 0===e||e.call(ek),ek.current=void 0,eb(!1),Z(!1),W(new Set),Q(void 0),null==eA||eA()}),eE=(0,w.Db)(eh),ez=(0,w.Db)(eg),eR=async e=>{};(0,s.useEffect)(()=>{ew&&el(ew)},[ew]);let[eP,eL]=(0,s.useState)(),[{data:eM}]=(0,f.aM)({query:k.u5,variables:{ids:[ew]},pause:!ew});(0,s.useEffect)(()=>{var e,t;let n=null==eM?void 0:null===(t=eM.pages.edges)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.node;n&&ed(n)},[eM]);let[{data:eF,error:eD,fetching:eT,stale:eO}]=(0,f.aM)({query:k.bP,variables:{pageId:ew,first:30,after:eP},pause:!ew||$});(0,s.useEffect)(()=>{var e,t,n,r;if(!eO){if(null==eF?void 0:null===(t=eF.pageSections)||void 0===t?void 0:null===(e=t.edges)||void 0===e?void 0:e.length){let e=eF.pageSections.edges.map(e=>e.node).slice();ef(t=>(0,c.Z)([...t||[],...e],"id"))}if(null==eF?void 0:eF.pageSections){let e=null==eF?void 0:null===(r=eF.pageSections)||void 0===r?void 0:null===(n=r.pageInfo)||void 0===n?void 0:n.hasNextPage,t=null==eF?void 0:eF.pageSections.pageInfo.endCursor;e&&t?eL(t):K(!0)}}},[eF]);let e_=(0,s.useMemo)(()=>{var e;if(!i)return!1;if(!ew)return!0;let t=null==eM?void 0:null===(e=eM.pages.edges)||void 0===e?void 0:e[0];return!!t&&i.me.id===t.node.authorId},[i,eM,ew]);(0,s.useEffect)(()=>{(null==ec?void 0:ec.title)&&(document.title=ec.title)},[null==ec?void 0:ec.title]),(0,s.useEffect)(()=>{eD&&!$&&K(!0)},[eD]);let eZ=e=>{if(!e)return;let{title:t,id:n}=e,r=(0,o.Z)(null!=t?t:""),s=(0,l.Z)([r,n]).join("-"),a=d({pathname:"/pages/".concat(s),replace:!0});return location.origin+a};(0,s.useEffect)(()=>{N(x),M||D(!0)},[x]),(0,s.useEffect)(()=>{M&&!ew&&!es.current&&(es.current=!0,Y&&(eb(!0),eN(void 0),ek.current=eS(Y),(0,y.W)(void 0)))},[M]),(0,s.useEffect)(()=>{$&&setTimeout(()=>{en(!0)},300)},[$]);let eH=(0,s.useRef)(),eW=(0,v.d)(ev);(0,s.useEffect)(()=>(eW.current&&(eH.current=window.setTimeout(()=>{if(!eW.current)return;J(!0);let e=null==ee?void 0:ee.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},300)),eW.current||J(!1),()=>{window.clearTimeout(eH.current)}),[ev]);let eV=e=>{ew&&ez({input:{title:e,pageId:ew}})},eU=void 0,[eB]=(0,g.n)(eT||(null==eF?void 0:null===(t=eF.pageSections)||void 0===t?void 0:null===(e=t.pageInfo)||void 0===e?void 0:e.hasNextPage),200),eG=er?{height:"calc(100vh - ".concat(R.wt,")")}:{height:"100vh"};return $&&(eU||eD)?(0,r.jsx)(ej,{error:eU||eD,pageIdFromURL:ew}):!$&&(eB||eO)?(0,r.jsxs)("div",{children:[(0,r.jsx)(B,{}),(0,r.jsxs)("div",{className:"mx-auto mt-24 w-full space-y-10 px-4 pb-32 lg:max-w-5xl lg:px-0",children:[(0,r.jsx)(G,{}),(0,r.jsx)(G,{})]})]}):(0,r.jsx)(V.Provider,{value:{isLoading:ev,onAddSection:eV,isPathnameInitialized:M,onDeleteSection:e=>{ew&&eE({sectionId:e}).then(t=>{var n;if(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deletePageSection){let t=null==eu?void 0:eu.filter(t=>t.id!==e);ef(t)}else m.A.error("Failed to delete")})},isPageOwner:e_,onUpdateSectionContent:eR,mode:T,setMode:O,pendingSectionIds:H,setPendingSectionIds:W,currentSectionId:X},children:(0,r.jsxs)("div",{style:eG,children:[(0,r.jsx)(B,{pageIdFromURL:ew,streamingDone:!ev}),(0,r.jsx)(P.Z,{loading:!$,fallback:(0,r.jsxs)("div",{className:"mx-auto mt-24 w-full space-y-10 px-4 pb-32 lg:max-w-4xl lg:px-0",children:[(0,r.jsx)(G,{}),(0,r.jsx)(G,{})]}),children:(0,r.jsxs)("main",{className:"h-[calc(100%-4rem)] pb-8 lg:pb-0",children:[(0,r.jsx)(I.ScrollArea,{className:"h-full w-full",ref:ee,children:(0,r.jsxs)("div",{className:"mx-auto grid grid-cols-4 gap-2 px-4 pb-32 lg:max-w-5xl lg:px-0",children:[(0,r.jsxs)("div",{className:"relative col-span-3",children:[(0,r.jsxs)("div",{className:"mb-2 mt-4",children:[(0,r.jsx)(P.Z,{loading:!ec,fallback:(0,r.jsx)(E.O,{}),children:(0,r.jsx)("h1",{className:"text-4xl font-semibold",children:null==ec?void 0:ec.title})}),(0,r.jsx)("div",{className:"my-4 flex gap-4 text-sm text-muted-foreground",children:!!ec&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(F.SQ,{className:"h-6 w-6"}),(0,r.jsx)("div",{children:null==i?void 0:null===(n=i.me)||void 0===n?void 0:n.name})]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(A.IconClock,{}),(0,r.jsx)("span",{children:function(e){let t=u()(e);if(t.isBefore(u()().subtract(1,"year"))){let e=t.format("MMM D, YYYY, h:mm A");return e}if(t.isBefore(u()().subtract(1,"month"))){let e=t.format("MMM D, hh:mm A");return"".concat(e)}return"".concat(t.fromNow())}(ec.createdAt)})]})})]})})]}),(0,r.jsx)(L.J,{message:null!==(a=null==ec?void 0:ec.content)&&void 0!==a?a:"",supportsOnApplyInEditorV2:!1}),_&&(0,r.jsx)("div",{children:(0,r.jsx)(A.IconSpinner,{})}),(0,r.jsx)("div",{className:"flex flex-col",children:null==eu?void 0:eu.map((e,t)=>{let n=ev&&e.id===X;return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(ex,{className:"section-title pt-8",message:e}),(0,r.jsx)(eo,{message:e,isGenerating:n})]},e.id)})}),"edit"===T&&(0,r.jsxs)("div",{className:"rounded-xl border p-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(S.z,{size:"icon",variant:"ghost",children:(0,r.jsx)(A.IconList,{})}),(0,r.jsx)(S.z,{size:"icon",variant:"ghost",children:(0,r.jsx)(A.IconSheet,{})})]}),(0,r.jsx)(em,{onSearch:eV,className:"min-h-[5rem] border-0 lg:max-w-5xl",placeholder:"What is the section about?",isLoading:ev})]})]}),(0,r.jsx)("div",{className:"relative col-span-1",children:(0,r.jsx)(q,{sections:eu})})]})}),(0,r.jsx)("div",{className:(0,C.cn)("pointer-events-none fixed inset-x-0 bottom-5 z-30 w-full",{"opacity-100 translate-y-0":et,"opacity-0 translate-y-10":!et}),style:Object.assign({transition:"all 0.35s ease-out"},"dark"===ea?{"--background":"0 0% 12%"}:{}),children:(0,r.jsx)("div",{className:(0,C.cn)("absolute flex items-center gap-4"),style:e_?{top:"-2.5rem"}:void 0,children:U&&(0,r.jsxs)(S.z,{className:"bg-background",variant:"outline",onClick:()=>eI.current(),children:[(0,r.jsx)(A.IconStop,{className:"mr-2"}),"Stop generating"]})})}),(0,r.jsx)(z.K,{className:(0,C.cn)("!fixed !bottom-[5.4rem] !right-4 !top-auto z-40 border-muted-foreground lg:!bottom-[2.85rem]"),container:ee.current,offset:100,style:"dark"===ea?{"--background":"0 0% 12%"}:{}})]})})]})})}function ej(e){let{error:t,pageIdFromURL:n}=e;return t.message===x.ir?(0,r.jsx)(M.default,{}):(0,r.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,r.jsx)(B,{pageIdFromURL:n}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A.IconFileSearch,{className:"h-6 w-6"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:"Something went wrong"})]}),(0,r.jsx)("div",{children:"Failed to fetch, please refresh the page or create a new page"}),(0,r.jsxs)(i(),{href:"/",onClick:N.wh,className:(0,C.cn)((0,S.d)(),"mt-4 gap-2"),children:[(0,r.jsx)(A.IconPlus,{}),(0,r.jsx)("span",{children:"New Page"})]})]})})]})}},72657:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(36164);n(3546);var s=n(12624),a=n(57288),i=n(31458),o=n(81565);function l(e){let{className:t,container:n,offset:l,...c}=e,d=(0,s.e)(l||0,n);return(0,r.jsxs)(i.z,{variant:"outline",size:"icon",className:(0,a.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",t),onClick:()=>{n?n.scrollTo({top:n.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,r.jsx)(o.IconArrowDown,{}),(0,r.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},83171:function(e,t,n){"use strict";n.d(t,{p:function(){return l},t:function(){return c}});var r=n(36164);n(3546);var s=n(44516),a=n(18500),i=n(57288),o=n(81565);function l(e){let{kind:t,label:n,className:a}=e;return(0,r.jsxs)(s.T5,{as:"span",className:(0,i.cn)("source-mention rounded-sm px-1",a),children:[(0,r.jsx)(d,{kind:t,className:"self-center"}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:n})]})}function c(e){let{kind:t,label:n,id:s}=e.node.attrs;return(0,r.jsx)(l,{kind:t,label:n,id:s})}function d(e){let{kind:t,...n}=e;switch(t){case a.ri.Doc:return(0,r.jsx)(o.IconEmojiBook,{...n});case a.ri.Web:return(0,r.jsx)(o.IconEmojiGlobe,{...n});case a.ri.Git:return(0,r.jsx)(o.IconCode,{...n});case a.ri.Github:return(0,r.jsx)(o.IconGitHub,{...n});case a.ri.Gitlab:return(0,r.jsx)(o.IconGitLab,{...n});default:return null}}},64219:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(36164),s=n(62226),a=n.n(s),i=n(6797),o=n.n(i),l=n(66686),c=n(57288),d=n(89811),u=n(63795),m=n(81565),f=n(52569);function x(e){let{relevantDocument:t}=e,n=t?new URL(t.link):null,s=(null==t?void 0:t.__typename)==="MessageAttachmentIssueDoc",a=(null==t?void 0:t.__typename)==="MessageAttachmentPullDoc",i="MessageAttachmentWebDoc"===t.__typename?void 0:t.author;return(0,r.jsx)("div",{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(d.V,{hostname:n.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:n.hostname})]}),(0,r.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(t.link),children:t.title}),(0,r.jsxs)("div",{className:"mb-2 w-auto",children:[s&&(0,r.jsx)(h,{closed:t.closed,user:i}),a&&(0,r.jsx)(p,{merged:t.merged,user:i})]}),(0,r.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:j((0,c.L5)(t))})]})})}function p(e){let{merged:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v,{merged:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function h(e){let{closed:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(g,{closed:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function g(e){let{closed:t}=e;return(0,r.jsxs)(u.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(m.IconCheckCircled,{className:"h-3.5 w-3.5"}):(0,r.jsx)(m.IconCircleDot,{className:"h-3.5 w-3.5"}),t?"Closed":"Open"]})}function v(e){let{merged:t}=e;return(0,r.jsxs)(u.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(m.IconGitMerge,{className:"h-3.5 w-3.5"}):(0,r.jsx)(m.IconGitPullRequest,{className:"h-3.5 w-3.5"}),t?"Merged":"Open"]})}let j=e=>{let t=a().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=l.TU.parse(t),r=o().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s}},54646:function(e,t,n){"use strict";n.d(t,{m:function(){return A},J:function(){return S}});var r=n(36164),s=n(3546),a=n(1853),i=n(74630),o=n(36982),l=n(93668),c=n(57288),d=n(90615),u=n(73033);n(80804);var m=n(74038),f=n(83171),x=n(81565),p=n(3448),h=n(94744),g=n(37064),v=n(83008),j=n(28312),b=n(31458),y=n(29);let N=(0,s.memo)(e=>{let{language:t,value:n,onCopyContent:a,onApplyInEditor:i,canWrapLongLines:o,supportsOnApplyInEditorV2:l}=e,[c,d]=(0,s.useState)(!1),{isCopied:u,copyToClipboard:m}=(0,j.m)({timeout:2e3,onCopyContent:a});return(0,r.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,r.jsx)("span",{className:"text-xs lowercase",children:t}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[o&&(0,r.jsxs)(y.u,{children:[(0,r.jsx)(y.aJ,{asChild:!0,children:(0,r.jsx)(b.z,{size:"icon",variant:"ghost",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>d(!c),children:c?(0,r.jsx)(x.IconAlignJustify,{}):(0,r.jsx)(x.IconWrapText,{})})}),(0,r.jsx)(y._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Toggle word wrap"})})]}),l&&i&&(0,r.jsxs)(y.u,{children:[(0,r.jsx)(y.aJ,{asChild:!0,children:(0,r.jsxs)(b.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>i(n,{languageId:t,smart:!0}),children:[(0,r.jsx)(x.IconSmartApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Smart Apply in Editor"})]})}),(0,r.jsx)(y._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Smart Apply in Editor"})})]}),i&&(0,r.jsxs)(y.u,{children:[(0,r.jsx)(y.aJ,{asChild:!0,children:(0,r.jsxs)(b.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>i(n,void 0),children:[(0,r.jsx)(x.IconApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,r.jsx)(y._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,r.jsxs)(y.u,{children:[(0,r.jsx)(y.aJ,{asChild:!0,children:(0,r.jsxs)(b.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{u||m(n)},children:[u?(0,r.jsx)(x.IconCheck,{}):(0,r.jsx)(x.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,r.jsx)(y._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,r.jsx)(h.Z,{language:"toml"===t?"bash":t,style:v.RY,PreTag:"div",showLineNumbers:!0,wrapLongLines:c,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},renderer:e=>{let{rows:t,stylesheet:n,useInlineStyles:r}=e;return t.map((e,t)=>{let s=e.children,a=null==s?void 0:s.shift();return a&&(e.children=[a,{children:s,properties:{className:[]},tagName:"span",type:"element"}]),(0,g.ZP)({node:e,stylesheet:n,useInlineStyles:r,key:t})})},children:n})]})});N.displayName="CodeBlock";let w=(0,s.createContext)({});function k(e){var t;let{inline:n,className:a,children:i,...o}=e,{lookupSymbol:l,openInEditor:d,canWrapLongLines:u,onApplyInEditor:m,onCopyContent:f,supportsOnApplyInEditorV2:p,symbolPositionMap:h}=(0,s.useContext)(w),g=null===(t=i[0])||void 0===t?void 0:t.toString(),v=g?h.get(g):void 0;if((0,s.useEffect)(()=>{n&&l&&g&&l(g)},[n,g,l]),i.length){if("▍"===i[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});i[0]=i[0].replace("`▍`","▍")}if(n){let e=!!(null==v?void 0:v.target);return(0,r.jsxs)("code",{className:(0,c.cn)("group/symbol",a,{symbol:!!l,"bg-muted leading-5 py-0.5":!!l&&!e,"space-x-1 cursor-pointer hover:bg-muted/50 border whitespace-nowrap align-middle py-0.5":e}),onClick:()=>{e&&d&&(null==v?void 0:v.target)&&d(v.target)},...o,children:[e&&(0,r.jsx)(x.IconSquareChevronRight,{className:"relative -top-px inline-block h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal",{"group-hover/symbol:text-primary":e}),children:i})]})}let j=/language-(\w+)/.exec(a||"");return(0,r.jsx)(N,{language:j&&j[1]||"",value:String(i).replace(/\n$/,""),onApplyInEditor:m,onCopyContent:f,canWrapLongLines:u,supportsOnApplyInEditorV2:p})}var C=n(64219);function S(e){let{message:t,headline:n=!1,attachmentDocs:d,attachmentClientCode:f,attachmentCode:x,onApplyInEditor:p,onCopyContent:h,contextInfo:g,fetchingContextInfo:v,className:j,canWrapLongLines:b,onLookupSymbol:y,openInEditor:N,supportsOnApplyInEditorV2:C,activeSelection:S,...A}=e,[R,P]=(0,s.useState)(new Map),L=(0,s.useMemo)(()=>{var e,t,n;let r=null!==(e=null==d?void 0:d.map(e=>({type:"doc",data:e})))&&void 0!==e?e:[],s=null!==(t=null==f?void 0:f.map(e=>({type:"code",data:e})))&&void 0!==t?t:[],i=null!==(n=null==x?void 0:x.map(e=>({type:"code",data:e})))&&void 0!==n?n:[];return(0,a.Z)([...r,...s,...i])},[d,f,x]),M=e=>{let t;let s=[],a=0,o=e=>{e&&s.push(e)},l=(n,i,l)=>{for(;null!==(t=n.exec(e));)o(e.slice(a,t.index)),s.push((0,r.jsx)(i,{...l(t)},t.index)),a=t.index+t[0].length};return l(m.Hc,I,e=>{let t=parseInt(e[1],10),n=(0,i.Z)(t)?void 0:null==L?void 0:L[t-1],r=null==n?void 0:n.type,s=n&&!(0,i.Z)(t);return{citationIndex:t,showcitation:s,citationType:r,citationSource:n}}),l(m.zf,E,e=>{let t=e[1];return{sourceId:t,className:n?"text-[1rem] font-semibold":void 0}}),l(m.Bt,z,e=>{let t=e[1];try{return{encodedFilepath:t,openInEditor:N}}catch(e){}}),o(e.slice(a)),s},F=async e=>{if(!y||R.has(e))return;P(t=>new Map(t.set(e,void 0)));let t=[];if(S&&(null==S?void 0:S.range)){let e;e=S.git_url.length>1&&!S.filepath.includes(":")?{kind:"git",filepath:S.filepath,gitUrl:S.git_url}:{kind:"uri",uri:S.filepath},t.push({filepath:e,location:{start:S.range.start,end:S.range.end}})}let n=await y(e,t);P(t=>new Map(t.set(e,n)))},D=(0,s.useMemo)(()=>(0,c.M0)(t),[t]);return(0,r.jsx)(w.Provider,{value:{onCopyContent:h,onApplyInEditor:p,onCodeCitationClick:A.onCodeCitationClick,onCodeCitationMouseEnter:A.onCodeCitationMouseEnter,onCodeCitationMouseLeave:A.onCodeCitationMouseLeave,contextInfo:g,fetchingContextInfo:!!v,canWrapLongLines:!!b,supportsOnApplyInEditorV2:C,activeSelection:S,symbolPositionMap:R,lookupSymbol:y?F:void 0,openInEditor:N},children:(0,r.jsx)(u.s,{className:(0,c.cn)("message-markdown prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",{"cursor-default":!!p},j),remarkPlugins:[o.Z,l.Z],components:{p(e){let{children:t}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t.map((e,t)=>"string"==typeof e?M(e):(0,r.jsx)("span",{children:e},t))})},li(e){let{children:t}=e;return t&&t.length?(0,r.jsx)("li",{children:t.map((e,t)=>"string"==typeof e?M(e):(0,r.jsx)("span",{children:e},t))}):(0,r.jsx)("li",{children:t})},code(e){let{node:t,inline:n,className:s,children:a,...i}=e;return(0,r.jsx)(k,{node:t,inline:n,className:s,...i,children:a})}},children:D})})}function A(e){let{error:t="Failed to fetch"}=e,n=(0,s.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,r.jsx)(u.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[o.Z,l.Z],components:{code(e){let{node:t,inline:n,className:s,children:a,...i}=e;return(0,r.jsx)("div",{...i,className:(0,c.cn)(s,"bg-zinc-950 p-2"),children:a})}},children:n})}function I(e){let{citationIndex:t,showcitation:n,citationType:s,citationSource:a}=e;return(0,r.jsx)("div",{className:"inline",children:n&&(0,r.jsx)(r.Fragment,{children:"doc"===s?(0,r.jsx)(R,{relevantDocument:a.data,citationIndex:t}):"code"===s?(0,r.jsx)(P,{relevantCode:a.data,citationIndex:t}):null})})}function E(e){var t;let{sourceId:n,className:a}=e,{contextInfo:i,fetchingContextInfo:o}=(0,s.useContext)(w);if(!n)return null;let l=null==i?void 0:null===(t=i.sources)||void 0===t?void 0:t.find(e=>e.sourceId===n);return l?(0,r.jsx)("span",{className:"node-mention",children:(0,r.jsx)("span",{children:o?(0,r.jsx)(p.O,{className:"w-16"}):(0,r.jsx)(f.p,{id:l.sourceId,label:l.sourceName,kind:l.sourceKind,className:a})})}):null}function z(e){let{encodedFilepath:t,openInEditor:n,className:a}=e,i=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t),n=JSON.parse(e);return n}catch(e){return null}},[t]),o=(0,s.useMemo)(()=>{if(i)return(0,c.VJ)(i).filepath},[i]);return o?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!n&&!!i}),onClick:()=>{n&&i&&n({filepath:i})},children:[(0,r.jsx)(x.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal font-medium"),children:(0,c.UA)(o)})]}):null}function R(e){let{relevantDocument:t,citationIndex:n}=e;return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>window.open(t.link),children:n})}),(0,r.jsx)(d.bZ,{className:"w-96 bg-background text-sm text-foreground dark:border-muted-foreground/60",children:(0,r.jsx)(C.Z,{relevantDocument:t})})]})}function P(e){let{relevantCode:t,citationIndex:n}=e,{onCodeCitationClick:a,onCodeCitationMouseEnter:i,onCodeCitationMouseLeave:o}=(0,s.useContext)(w);return(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>{null==a||a(t)},onMouseEnter:()=>{null==i||i(n)},onMouseLeave:()=>{null==o||o(n)},children:n})}},69579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(36164),s=n(42891),a=n.n(s),i=n(70652),o=n.n(i),l=n(83332),c=n(76531),d=n(57288),u=n(68172),m=n(30601),f=n(63743),x=n(31458),p=n(52569),h=n(7449);function g(){let[e]=(0,m.Hb)(),t=e?{height:"calc(100vh - ".concat(m.wt,")")}:{height:"100vh"};return(0,r.jsxs)("div",{style:t,className:"flex flex-col",children:[(0,r.jsx)(v,{}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center",children:[(0,r.jsx)("h2",{className:"mt-4 text-6xl font-bold tracking-tight text-foreground sm:text-7xl",children:"404"}),(0,r.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Oops, it looks like the page you're looking for doesn't exist."}),(0,r.jsx)(o(),{className:(0,d.cn)("mt-6",(0,x.d)()),href:"/",children:"Home"})]})]})}function v(){return(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4 lg:px-10",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(o(),{href:"/",children:[(0,r.jsx)(a(),{src:c.Z,alt:"logo",width:128,className:"dark:hidden"}),(0,r.jsx)(a(),{src:l.Z,alt:"logo",width:96,className:"hidden dark:block"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(u.q,{children:(0,r.jsx)(f.T,{})}),(0,r.jsx)(h.Z,{showSetting:!0,children:(0,r.jsx)(p.SQ,{className:"h-10 w-10 border"})})]})]})}},8629:function(e,t,n){"use strict";n.d(t,{o:function(){return z},Q:function(){return R}});var r=n(36164);n(15812);var s=n(3546),a=n(77246),i=n(94160),o=n(50292),l=n(59105),c=n(10155),d=n(19092),u=n(44516),m=n(21808),f=n(16784),x=n(57288),p=n(29952),h=n(83171);let g="mention",v=p.ZP.extend({addNodeView:()=>(0,u.fW)(h.t),renderText(e){let{node:t}=e;return"[[source:".concat(t.attrs.id,"]]")},addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},kind:{default:null,parseHTML:e=>e.getAttribute("data-kind"),renderHTML:e=>e.kind?{"data-kind":e.kind}:{}}})});n(44750);var j=n(31022),b=n(45238),y=n(18500),N=n(81565);let w=(0,s.forwardRef)((e,t)=>{let{query:n,command:a,category:i}=e,{list:o,pending:l}=(0,s.useContext)(z),[c,d]=(0,s.useState)(0),u=(0,s.useMemo)(()=>{if(!(null==o?void 0:o.length))return[];let e=o.filter(e=>(0,x._q)(e.sourceKind)).map(e=>({type:"source",category:"doc",id:e.sourceId,label:e.sourceName,data:e})),t=o.filter(e=>(0,x.wO)(e.sourceKind)).map(e=>({type:"source",category:"code",id:e.sourceId,label:e.sourceName,data:e}));return"doc"===i?e:t},[i,o]),m=(0,s.useMemo)(()=>{if(!n)return u;let e=(0,b.go)(n,u,{key:e=>e.label});return e.map(e=>e.obj)},[n,u]),f=()=>{d((c+m.length-1)%m.length)},p=()=>{d((c+1)%m.length)},h=e=>{let t=m[e];t&&a({id:t.data.sourceId,label:t.label,kind:t.data.sourceKind})},g=()=>{h(c)};return(0,s.useEffect)(()=>d(0),[u]),(0,s.useImperativeHandle)(t,()=>({onKeyDown:e=>{let{event:t}=e;return"ArrowUp"===t.key?(f(),!0):"ArrowDown"===t.key?(p(),!0):"Enter"===t.key&&(g(),!0)}})),(0,r.jsx)("div",{className:"dropdown-menu max-h-[30vh] min-w-[20rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-2 text-popover-foreground shadow animate-in",children:l?(0,r.jsx)("div",{className:"px-2 py-1.5",children:(0,r.jsx)(N.IconSpinner,{})}):m.length?m.map((e,t)=>(0,r.jsx)(C,{onClick:()=>h(t),onMouseEnter:()=>d(t),title:e.label,data:e,isSelected:t===c},e.id)):(0,r.jsx)("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:(null==u?void 0:u.length)?(0,r.jsx)("span",{children:"No matches results"}):(0,r.jsx)("span",{children:"No results"})})})});function k(e){let{kind:t}=e;switch(t){case y.ri.Doc:return(0,r.jsx)(N.IconEmojiBook,{});case y.ri.Web:return(0,r.jsx)(N.IconEmojiGlobe,{});case y.ri.Git:return(0,r.jsx)(N.IconCode,{});case y.ri.Github:return(0,r.jsx)(N.IconGitHub,{});case y.ri.Gitlab:return(0,r.jsx)(N.IconGitLab,{});default:return null}}function C(e){let{isSelected:t,data:n,...a}=e,i=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{if(t&&i.current){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"nearest"})}},[t]),(0,r.jsxs)("div",{className:(0,x.cn)("flex cursor-pointer gap-1 rounded-md px-2 py-1.5 text-sm",{"bg-accent text-accent-foreground":t}),...a,ref:i,children:[(0,r.jsx)("span",{className:"flex h-5 shrink-0 items-center",children:(0,r.jsx)(k,{kind:n.data.sourceKind})}),(0,r.jsx)("span",{className:"flex-1",children:n.label})]})}w.displayName="MetionList";let S=e=>{let t=e.getJSON(),n=[],r=0,s=e=>{var t,a;"text"===e.type?r+=(null==e?void 0:null===(t=e.text)||void 0===t?void 0:t.length)||0:"mention"===e.type&&(null==e?void 0:null===(a=e.attrs)||void 0===a?void 0:a.id)&&n.push({id:e.attrs.id,label:e.attrs.label,kind:e.attrs.kind}),e.content&&e.content.forEach(s)};return s(t),n};var A=e=>{let{disabled:t,category:n,placement:r,char:s="@",pluginKey:a}=e;return{render:()=>{let e,t;return{onStart:s=>{let a=S(s.editor);e=new u.M_(w,{props:{...s,mentions:a,category:n},editor:s.editor}),s.clientRect&&(t=(0,j.ZP)("body",{getReferenceClientRect:s.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:r||"bottom-start",animation:"shift-away",maxWidth:"400px"}))},onUpdate(n){e.updateProps(n),n.clientRect&&t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r,s;return"Escape"===n.event.key?(t[0].hide(),!0):null!==(s=null===(r=e.ref)||void 0===r?void 0:r.onKeyDown(n))&&void 0!==s&&s},onExit(){t[0].destroy(),e.destroy()}}},char:s,pluginKey:a,command:e=>{var t,r,s;let{editor:a,range:i,props:o}=e;if("code"===n){!function(e,t,n){let r;let{doc:s}=e.state,a=e.state.selection.$from;s.descendants((e,t)=>!("mention"===e.type.name&&(0,x.wO)(e.attrs.kind))||(r=t,!1)),e.chain().deleteRange({from:t.from,to:t.to}).run();let i=void 0!==r,o=s.firstChild,l=i?[{type:g,attrs:n}]:[{type:g,attrs:n},{type:"text",text:" "}];if(o&&"paragraph"===o.type.name){let t=o.firstChild;if(t&&"mention"===t.type.name&&(0,x.wO)(t.attrs.kind)){let n=t.nodeSize;e.chain().deleteRange({from:1,to:1+n}).insertContentAt(1,l).focus().run()}else e.chain().insertContentAt(1,l).focus().run()}else e.chain().insertContentAt(0,l).focus().run();e.commands.focus(i?a.pos:a.pos+1)}(a,i,o);return}let l=a.view.state.selection.$to.nodeAfter,c=null==l?void 0:null===(t=l.text)||void 0===t?void 0:t.startsWith(" ");c&&(i.to+=1),a.chain().focus().insertContentAt(i,[{type:g,attrs:o},{type:"text",text:" "}]).run(),null===(s=a.view.dom.ownerDocument.defaultView)||void 0===s||null===(r=s.getSelection())||void 0===r||r.collapseToEnd()},allow:e=>{let{state:n,range:r}=e;if(t)return!1;let s=n.doc.resolve(r.from),a=n.schema.nodes[g],i=!!s.parent.type.contentMatch.matchType(a);return i}}};let I=new c.H$("mention-doc");new c.H$("mention-code");let E=e=>d.hj.create({addKeyboardShortcuts(){return{Enter:t=>{let{editor:n}=t;return e(n),!0},"Shift-Enter":()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})}}}),z=s.createContext({}),R=(0,s.forwardRef)((e,t)=>{let{editable:n,content:c,contextInfo:d,fetchingContextInfo:p,submitting:h,onSubmit:g,placeholder:j,onBlur:b,onFocus:y,onUpdate:N,autoFocus:w,className:k,editorClassName:C,placement:S}=e,[R,P]=(0,s.useState)(!p),L=(0,f.d)(e=>{if(h)return;let t=e.getText({blockSeparator:m.rZ}).trim();t&&(null==g||g(e))}),M=(0,s.useMemo)(()=>null!=d&&!!d.sources&&d.sources.some(e=>(0,x._q)(e.sourceKind)),[null==d?void 0:d.sources]),F=(0,u.jE)({editable:!!R&&n,immediatelyRender:!1,extensions:[a.Z,i.Z,l.Z,o.Z.configure({showOnlyWhenEditable:!1,placeholder:R?j||"Ask anything...":"Loading..."}),E(e=>{L.current(e)}),v.configure({deleteTriggerWithBackspace:!0,HTMLAttributes:{class:"mention"},suggestion:A({category:"doc",char:"@",pluginKey:I,placement:"bottom"===S?"top-start":"bottom-start",disabled:!M})})],editorProps:{attributes:{class:(0,x.cn)("max-h-38 prose min-h-[3.5rem] max-w-none font-sans dark:prose-invert focus:outline-none prose-p:my-0",C)}},content:c,onBlur(e){null==b||b(e)},onFocus(e){null==y||y(e)},onUpdate(e){null==N||N(e)}},[R]);return((0,s.useImperativeHandle)(t,()=>({editor:F})),(0,s.useLayoutEffect)(()=>{F&&w&&F.commands.focus()},[F]),(0,s.useEffect)(()=>{p||R||P(!0)},[p]),F)?(0,r.jsx)(z.Provider,{value:{list:null==d?void 0:d.sources,pending:!!p},children:(0,r.jsx)("div",{className:(0,x.cn)("text-area-autosize max-h-36 overflow-y-auto pr-1",k),children:(0,r.jsx)(u.kg,{editor:F})})}):null});R.displayName="PromptEditor"},89811:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(36164),s=n(3546),a=n(42891),i=n.n(a),o={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},l=n(57288);function c(e){let{hostname:t,className:n}=e,[a,c]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"relative h-3.5 w-3.5 shrink-0",children:[(0,r.jsx)(i(),{src:o,alt:t,width:14,height:14,className:(0,l.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",n)}),(0,r.jsx)(i(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,width:14,height:14,className:(0,l.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",n,{"opacity-0":!a}),onLoad:()=>{c(!0)}})]})}},73460:function(e,t,n){"use strict";n.d(t,{OL:function(){return g},_T:function(){return m},aR:function(){return l},f$:function(){return p},fY:function(){return f},le:function(){return v},vW:function(){return c},xo:function(){return x},yT:function(){return h}});var r=n(36164),s=n(3546),a=n(28961),i=n(57288),o=n(31458);let l=a.fC,c=a.xz,d=e=>{let{className:t,children:n,...s}=e;return(0,r.jsx)(a.h_,{className:(0,i.cn)(t),...s,children:(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:n})})};d.displayName=a.h_.displayName;let u=s.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,r.jsx)(a.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",n),...o,ref:t})});u.displayName=a.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(a.VY,{ref:t,className:(0,i.cn)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 border bg-background p-6 opacity-100 shadow-lg animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",n),...s})]})});m.displayName=a.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};f.displayName="AlertDialogHeader";let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};x.displayName="AlertDialogFooter";let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",n),...s})});p.displayName=a.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=a.dk.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aU,{ref:t,className:(0,i.cn)((0,o.d)(),n),...s})});g.displayName=a.aU.displayName;let v=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.$j,{ref:t,className:(0,i.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});v.displayName=a.$j.displayName},63795:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(36164);n(3546);var s=n(14375),a=n(57288);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:n}),t),...s})}},95052:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(36164),s=n(3546),a=n(30317),i=n(57288),o=n(81565);let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.fC,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...s,children:(0,r.jsx)(a.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(o.IconCheck,{className:"h-4 w-4"})})})});l.displayName=a.fC.displayName},98150:function(e,t,n){"use strict";n.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return c},lX:function(){return p},pf:function(){return g},xJ:function(){return x},zG:function(){return v}});var r=n(36164),s=n(3546),a=n(74047),i=n(5493),o=n(57288),l=n(5266);let c=i.RV,d=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(i.Qr,{...t})})},m=()=>{let e=s.useContext(d),t=s.useContext(f),{getFieldState:n,formState:r}=(0,i.Gc)(),a=e.name||"root",o=n(a,r);if(!r)throw Error("useFormField should be used within <Form>");let{id:l}=t;return{id:l,name:a,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...o}},f=s.createContext({}),x=s.forwardRef((e,t)=>{let{className:n,...a}=e,i=s.useId();return(0,r.jsx)(f.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",n),...a})})});x.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:n,required:s,...a}=e,{error:i,formItemId:c}=m();return(0,r.jsx)(l._,{ref:t,className:(0,o.cn)(i&&"text-destructive",s&&'after:ml-0.5 after:text-destructive after:content-["*"]',n),htmlFor:c,...a})});p.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...n}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:l}=m();return(0,r.jsx)(a.g7,{ref:t,id:i,"aria-describedby":s?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!s,...n})});h.displayName="FormControl";let g=s.forwardRef((e,t)=>{let{className:n,...s}=e,{formDescriptionId:a}=m();return(0,r.jsx)("div",{ref:t,id:a,className:(0,o.cn)("text-sm text-muted-foreground",n),...s})});g.displayName="FormDescription";let v=s.forwardRef((e,t)=>{let{className:n,children:s,...a}=e,{error:i,formMessageId:l}=m(),c=i?String(null==i?void 0:i.message):s;return c?(0,r.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",n),...a,children:c}):null});v.displayName="FormMessage"},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return l},bZ:function(){return c},zs:function(){return o}});var r=n(36164),s=n(3546),a=n(38421),i=n(57288);let o=a.fC,l=a.xz;a.h_;let c=s.forwardRef((e,t)=>{let{className:n,align:s="center",sideOffset:o=4,...l}=e;return(0,r.jsx)(a.VY,{ref:t,align:s,sideOffset:o,className:(0,i.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})});c.displayName=a.VY.displayName},25600:function(e,t,n){"use strict";n.d(t,{FF:function(){return g},Tu:function(){return h},aM:function(){return d},bC:function(){return v},sw:function(){return u},ue:function(){return p},yo:function(){return c}});var r=n(36164),s=n(3546),a=n(4318),i=n(14375),o=n(1663),l=n(57288);let c=a.fC,d=a.xz,u=a.x8,m=a.h_,f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:t})});f.displayName=a.aV.displayName;let x=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=s.forwardRef((e,t)=>{let{side:n="right",className:s,children:i,...c}=e;return(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,l.cn)(x({side:n}),s),...c,children:[i,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=a.VY.displayName;let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};h.displayName="SheetHeader";let g=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};g.displayName="SheetFooter";let v=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",n),...s})});v.displayName=a.Dx.displayName;let j=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...s})});j.displayName=a.dk.displayName},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return a},$I:function(){return i},L8:function(){return s},ir:function(){return o},o0:function(){return r},rZ:function(){return l}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},i=48,o="NOT_FOUND",l="\n"},12624:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(3546),s=n(62940);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,[n,a]=r.useState(!1);return r.useEffect(()=>{if(t)return;let n=(0,s.Z)(()=>{a(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,t]),r.useEffect(()=>{if(!t)return;let n=(0,s.Z)(()=>{let{scrollTop:n,clientHeight:r,scrollHeight:s}=t;a(n+r>=s-e)},100,{leading:!0});return t.addEventListener("scroll",n,{passive:!0}),t.addEventListener("resize",n,{passive:!0}),n(),()=>{t.removeEventListener("scroll",n),t.removeEventListener("resize",n)}},[e,t]),n}},44645:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3546),s=n(11978);function a(){let e=(0,s.usePathname)(),t=(0,s.useRouter)(),n=(0,s.useSearchParams)(),a=(0,r.useCallback)(e=>{let t=new URLSearchParams(n);e&&Object.entries(e).forEach(e=>{let[n,r]=e;return t.set(n,r)});let r=t.toString();return r.length>0?"?".concat(r):""},[n]),i=(0,r.useCallback)(r=>{let s=function(e,t,n){var r,s;let a=null===(r=n.searchParams)||void 0===r?void 0:r.set,i=null===(s=n.searchParams)||void 0===s?void 0:s.del,o=new URLSearchParams(t);a&&Object.entries(a).forEach(e=>{let[t,n]=e;return o.set(t,n)}),i&&(Array.isArray(i)?i.forEach(e=>o.delete(e)):o.delete(i));let l=o.toString(),c=e;return l.length>0&&(c+="?".concat(l)),n.hash&&(c+="#".concat(n.hash.replace(/^#/,""))),c}((null==r?void 0:r.pathname)||e,n,r);return r.replace?t.replace(s):t.push(s),s},[e,n]);return{pathname:e,router:t,searchParams:n,getQueryString:a,updateUrlComponents:i}}},96274:function(e,t,n){"use strict";n.d(t,{W:function(){return c},u:function(){return o}});var r=n(27257),s=n(85654);let a=[],i={pendingThreadId:void 0},o=(0,r.Ue)()((0,s.tJ)(()=>({...i}),{name:"tabby-page-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!a.includes(t)}))})),l=o.setState,c=e=>{l(()=>({pendingThreadId:e}))}},37266:function(e,t,n){"use strict";n.d(t,{CR:function(){return a},F0:function(){return o},wh:function(){return l}});var r=n(27257);let s={homePage:void 0},a=(0,r.Ue)()(()=>({...s})),i=a.setState,o=e=>i(()=>({homePage:e})),l=()=>i(()=>({homePage:void 0}))},80804:function(){},15812:function(){},76531:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.526f7cf9.png",height:184,width:607,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASklEQVR4nGPsKQh1f/HshV/PqtNtagrC8p++//rDAgQM//9/ZWJifMZYnRqg9+bVq6iZ51+1SP/5ovH//z8eRgbGbwyMjPxA9n0AMi8g2L1xUkUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}},23455:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(65122),s=n(73037),a=n(3546),i=a.useLayoutEffect,o=function(e){var t=a.useRef(e);return i(function(){t.current=e}),t},l=function(e,t){if("function"==typeof e){e(t);return}e.current=t},c=function(e,t){var n=(0,a.useRef)();return(0,a.useCallback)(function(r){e.current=r,n.current&&l(n.current,null),n.current=t,t&&l(t,r)},[t])},d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(d).forEach(function(t){e.style.setProperty(t,d[t],"important")})},m=null,f=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize},x=function(){},p=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],h=!!document.documentElement.currentStyle,g=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=p.reduce(function(e,n){return e[n]=t[n],e},{}),r=n.boxSizing;if(""===r)return null;h&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var s=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),a=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:s,borderSize:a}};function v(e,t,n){var r=o(n);a.useLayoutEffect(function(){var n=function(e){return r.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var j=function(e){v(window,"resize",e)},b=function(e){v(document.fonts,"loadingdone",e)},y=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],N=a.forwardRef(function(e,t){var n=e.cacheMeasurements,i=e.maxRows,o=e.minRows,l=e.onChange,d=void 0===l?x:l,p=e.onHeightChange,h=void 0===p?x:p,v=(0,s.Z)(e,y),N=void 0!==v.value,w=a.useRef(null),k=c(w,t),C=a.useRef(0),S=a.useRef(),A=function(){var e,t,r,s,a,l,c,d,x,p,v,j=w.current,b=n&&S.current?S.current:g(j);if(b){S.current=b;var y=(e=j.value||j.placeholder||"x",void 0===(t=o)&&(t=1),void 0===(r=i)&&(r=1/0),m||((m=document.createElement("textarea")).setAttribute("tabindex","-1"),m.setAttribute("aria-hidden","true"),u(m)),null===m.parentNode&&document.body.appendChild(m),s=b.paddingSize,a=b.borderSize,c=(l=b.sizingStyle).boxSizing,Object.keys(l).forEach(function(e){m.style[e]=l[e]}),u(m),m.value=e,d=f(m,b),m.value=e,d=f(m,b),m.value="x",p=(x=m.scrollHeight-s)*t,"border-box"===c&&(p=p+s+a),d=Math.max(p,d),v=x*r,"border-box"===c&&(v=v+s+a),[d=Math.min(v,d),x]),N=y[0],k=y[1];C.current!==N&&(C.current=N,j.style.setProperty("height",N+"px","important"),h(N,{rowHeight:k}))}};return a.useLayoutEffect(A),j(A),b(A),a.createElement("textarea",(0,r.Z)({},v,{onChange:function(e){N||A(),d(e)},ref:k}))})},30317:function(e,t,n){"use strict";n.d(t,{fC:function(){return w},z$:function(){return k}});var r=n(65122),s=n(3546),a=n(79869),i=n(47091),o=n(65727),l=n(27250),c=n(81544),d=n(96593),u=n(96497),m=n(72205);let f="Checkbox",[x,p]=(0,i.b)(f),[h,g]=x(f),v=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:n,name:i,checked:c,defaultChecked:d,required:u,disabled:f,value:x="on",onCheckedChange:p,...g}=e,[v,j]=(0,s.useState)(null),w=(0,a.e)(t,e=>j(e)),k=(0,s.useRef)(!1),C=!v||!!v.closest("form"),[S=!1,A]=(0,l.T)({prop:c,defaultProp:d,onChange:p}),I=(0,s.useRef)(S);return(0,s.useEffect)(()=>{let e=null==v?void 0:v.form;if(e){let t=()=>A(I.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,A]),(0,s.createElement)(h,{scope:n,state:S,disabled:f},(0,s.createElement)(m.WV.button,(0,r.Z)({type:"button",role:"checkbox","aria-checked":y(S)?"mixed":S,"aria-required":u,"data-state":N(S),"data-disabled":f?"":void 0,disabled:f,value:x},g,{ref:w,onKeyDown:(0,o.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.M)(e.onClick,e=>{A(e=>!!y(e)||!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})})),C&&(0,s.createElement)(b,{control:v,bubbles:!k.current,name:i,value:x,checked:S,required:u,disabled:f,style:{transform:"translateX(-100%)"}}))}),j=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:n,forceMount:a,...i}=e,o=g("CheckboxIndicator",n);return(0,s.createElement)(u.z,{present:a||y(o.state)||!0===o.state},(0,s.createElement)(m.WV.span,(0,r.Z)({"data-state":N(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:t,style:{pointerEvents:"none",...e.style}})))}),b=e=>{let{control:t,checked:n,bubbles:a=!0,...i}=e,o=(0,s.useRef)(null),l=(0,c.D)(n),u=(0,d.t)(t);return(0,s.useEffect)(()=>{let e=o.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked"),s=r.set;if(l!==n&&s){let t=new Event("click",{bubbles:a});e.indeterminate=y(n),s.call(e,!y(n)&&n),e.dispatchEvent(t)}},[l,n,a]),(0,s.createElement)("input",(0,r.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!y(n)&&n},i,{tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return"indeterminate"===e}function N(e){return y(e)?"indeterminate":e?"checked":"unchecked"}let w=v,k=j},81544:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(3546);function s(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[8415,7565,4648,6527,7430,55,7176,340,4007,2546,1283,3449,2578,8511,240,4421,2287,7070,1454,1002,8961,4546,4553,9275,9148,4405,2991,3781,5738,2812,2271,7288,1565,4656,9634,3375,5289,1744],function(){return e(e.s=72282)}),_N_E=e.O()}]);