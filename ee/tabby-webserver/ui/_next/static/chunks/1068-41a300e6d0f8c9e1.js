(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1068],{68172:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(36164),s=n(38785);function a(e){let{children:t,fallback:n=null}=e;return(0,s.U)()?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:n})}},30601:function(e,t,n){"use strict";n.d(t,{Hb:function(){return f},wt:function(){return d},xc:function(){return x},yo:function(){return m}});var r=n(36164),s=n(3546),a=n(74630),o=n(36327),i=n(80605),l=n(1544),c=n(81565);let d="3.5rem",u=s.createContext({}),m=e=>{let{children:t}=e,n=(0,i.UA)(),[o,l]=s.useState(!1);return s.useEffect(()=>{let e=window.self!==window.top;e||(0,a.Z)(n)||l(n)},[n]),(0,r.jsx)(u.Provider,{value:{isShowDemoBanner:o,setIsShowDemoBanner:l},children:t})};function f(){let{isShowDemoBanner:e,setIsShowDemoBanner:t}=s.useContext(u);return[e,t]}function x(){let[e,t]=f(),{data:n}=(0,o.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-all md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:d}:{height:0},children:[(0,r.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDCC6"}),(0,r.jsx)("span",{children:"Book a 30-minute product demo."})]}),e&&(0,r.jsx)("img",{referrerPolicy:"no-referrer-when-downgrade",src:"https://static.scarf.sh/a.png?x-pxid=b1d0308a-b3c5-425a-972a-378d883a2bca"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,r.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,r.jsx)(c.IconGithub,{}),(0,r.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":n,"h-0 opacity-0":!n}),children:[(0,r.jsx)(c.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.stargazers_count}),(0,r.jsx)(c.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.forks_count})]})]})]}),(0,r.jsx)(c.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>t(!1)})]})]})}},83171:function(e,t,n){"use strict";n.d(t,{p:function(){return l},t:function(){return c}});var r=n(36164);n(3546);var s=n(68035),a=n(18500),o=n(1544),i=n(81565);function l(e){let{kind:t,label:n,className:a}=e;return(0,r.jsxs)(s.T5,{as:"span",className:(0,o.cn)("source-mention rounded-sm px-1",a),children:[(0,r.jsx)(d,{kind:t,className:"self-center"}),(0,r.jsx)("span",{children:n})]})}function c(e){let{kind:t,label:n,id:s}=e.node.attrs;return(0,r.jsx)(l,{kind:t,label:n,id:s})}function d(e){let{kind:t,...n}=e;switch(t){case a.ri.Doc:return(0,r.jsx)(i.IconEmojiBook,{...n});case a.ri.Web:return(0,r.jsx)(i.IconEmojiGlobe,{...n});case a.ri.Git:return(0,r.jsx)(i.IconCode,{...n});case a.ri.Github:return(0,r.jsx)(i.IconGitHub,{...n});case a.ri.Gitlab:return(0,r.jsx)(i.IconGitLab,{...n});default:return null}}},24203:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(36164),s=n(3546),a=n(9010),o=n(1544),i=n(29);n(15812);var l=n(46836),c=n(75866),d=n(97216),u=n(48497),m=n(10155),f=n(31408),x=n(68035),p=n(16784),h=n(10345),g=n(83171);let b="mention",v=h.ZP.extend({addNodeView:()=>(0,x.fW)(g.t),renderText(e){let{node:t}=e;return"[[source:".concat(t.attrs.id,"]]")},addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},kind:{default:null,parseHTML:e=>e.getAttribute("data-kind"),renderHTML:e=>e.kind?{"data-kind":e.kind}:{}}})});n(44750);var j=n(31022),y=n(45238),N=n(18500),w=n(81565);let k=(0,s.forwardRef)((e,t)=>{let{query:n,command:a,category:i}=e,{list:l,pending:c}=(0,s.useContext)(H),[d,u]=(0,s.useState)(0),m=(0,s.useMemo)(()=>{if(!(null==l?void 0:l.length))return[];let e=l.filter(e=>(0,o._q)(e.sourceKind)).map(e=>({type:"source",category:"doc",id:e.sourceId,label:e.sourceName,data:e})),t=l.filter(e=>(0,o.wO)(e.sourceKind)).map(e=>({type:"source",category:"code",id:e.sourceId,label:e.sourceName,data:e}));return"doc"===i?e:t},[i,l]),f=(0,s.useMemo)(()=>{if(!n)return m;let e=(0,y.go)(n,m,{key:e=>e.label});return e.map(e=>e.obj)},[n,m]),x=()=>{u((d+f.length-1)%f.length)},p=()=>{u((d+1)%f.length)},h=e=>{let t=f[e];t&&a({id:t.data.sourceId,label:t.label,kind:t.data.sourceKind})},g=()=>{h(d)};return(0,s.useEffect)(()=>u(0),[m]),(0,s.useImperativeHandle)(t,()=>({onKeyDown:e=>{let{event:t}=e;return"ArrowUp"===t.key?(x(),!0):"ArrowDown"===t.key?(p(),!0):"Enter"===t.key&&(g(),!0)}})),(0,r.jsx)("div",{className:"dropdown-menu max-h-[30vh] min-w-[20rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-2 text-popover-foreground shadow animate-in",children:c?(0,r.jsx)("div",{className:"px-2 py-1.5",children:(0,r.jsx)(w.IconSpinner,{})}):f.length?f.map((e,t)=>(0,r.jsx)(I,{onClick:()=>h(t),onMouseEnter:()=>u(t),title:e.label,data:e,isSelected:t===d},e.id)):(0,r.jsx)("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:(null==m?void 0:m.length)?(0,r.jsx)("span",{children:"No matches results"}):(0,r.jsx)("span",{children:"No results"})})})});function C(e){let{kind:t}=e;switch(t){case N.ri.Doc:return(0,r.jsx)(w.IconEmojiBook,{});case N.ri.Web:return(0,r.jsx)(w.IconEmojiGlobe,{});case N.ri.Git:return(0,r.jsx)(w.IconCode,{});case N.ri.Github:return(0,r.jsx)(w.IconGitHub,{});case N.ri.Gitlab:return(0,r.jsx)(w.IconGitLab,{});default:return null}}function I(e){let{isSelected:t,data:n,...a}=e,i=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{if(t&&i.current){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"nearest"})}},[t]),(0,r.jsxs)("div",{className:(0,o.cn)("flex cursor-pointer gap-1 rounded-md px-2 py-1.5 text-sm",{"bg-accent text-accent-foreground":t}),...a,ref:i,children:[(0,r.jsx)("span",{className:"flex h-5 shrink-0 items-center",children:(0,r.jsx)(C,{kind:n.data.sourceKind})}),(0,r.jsx)("span",{className:"flex-1",children:n.label})]})}k.displayName="MetionList";let _=e=>{let t=e.getJSON(),n=[],r=0,s=e=>{var t,a;"text"===e.type?r+=(null==e?void 0:null===(t=e.text)||void 0===t?void 0:t.length)||0:"mention"===e.type&&(null==e?void 0:null===(a=e.attrs)||void 0===a?void 0:a.id)&&n.push({id:e.attrs.id,label:e.attrs.label,kind:e.attrs.kind}),e.content&&e.content.forEach(s)};return s(t),n};var S=e=>{let{disabled:t,category:n,placement:r,char:s="@",pluginKey:a}=e;return{render:()=>{let e,t;return{onStart:s=>{let a=_(s.editor);e=new x.M_(k,{props:{...s,mentions:a,category:n},editor:s.editor}),s.clientRect&&(t=(0,j.ZP)("body",{getReferenceClientRect:s.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:r||"bottom-start",animation:"shift-away",maxWidth:"400px"}))},onUpdate(n){e.updateProps(n),n.clientRect&&t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r,s;return"Escape"===n.event.key?(t[0].hide(),!0):null!==(s=null===(r=e.ref)||void 0===r?void 0:r.onKeyDown(n))&&void 0!==s&&s},onExit(){t[0].destroy(),e.destroy()}}},char:s,pluginKey:a,command:e=>{var t,r,s;let{editor:a,range:i,props:l}=e;if("code"===n){!function(e,t,n){let r;let{doc:s}=e.state,a=e.state.selection.$from;s.descendants((e,t)=>!("mention"===e.type.name&&(0,o.wO)(e.attrs.kind))||(r=t,!1)),e.chain().deleteRange({from:t.from,to:t.to}).run();let i=void 0!==r,l=s.firstChild,c=i?[{type:b,attrs:n}]:[{type:b,attrs:n},{type:"text",text:" "}];if(l&&"paragraph"===l.type.name){let t=l.firstChild;if(t&&"mention"===t.type.name&&(0,o.wO)(t.attrs.kind)){let n=t.nodeSize;e.chain().deleteRange({from:1,to:1+n}).insertContentAt(1,c).focus().run()}else e.chain().insertContentAt(1,c).focus().run()}else e.chain().insertContentAt(0,c).focus().run();e.commands.focus(i?a.pos:a.pos+1)}(a,i,l);return}let c=a.view.state.selection.$to.nodeAfter,d=null==c?void 0:null===(t=c.text)||void 0===t?void 0:t.startsWith(" ");d&&(i.to+=1),a.chain().focus().insertContentAt(i,[{type:b,attrs:l},{type:"text",text:" "}]).run(),null===(s=a.view.dom.ownerDocument.defaultView)||void 0===s||null===(r=s.getSelection())||void 0===r||r.collapseToEnd()},allow:e=>{let{state:n,range:r}=e;if(t)return!1;let s=n.doc.resolve(r.from),a=n.schema.nodes[b],o=!!s.parent.type.contentMatch.matchType(a);return o}}};let R=new m.H$("mention-doc"),E=new m.H$("mention-code"),T=e=>f.hj.create({addKeyboardShortcuts(){return{Enter:t=>{let{editor:n}=t;return e(n),!0},"Shift-Enter":()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})}}}),H=s.createContext({}),A=(0,s.forwardRef)((e,t)=>{let{editable:n,content:a,contextInfo:i,fetchingContextInfo:m,submitting:f,onSubmit:h,placeholder:g,onBlur:b,onFocus:j,onUpdate:y,autoFocus:N,className:w,editorClassName:k,placement:C}=e,[I,_]=(0,s.useState)(!m),A=(0,p.d)(e=>{if(f)return;let t=e.getText();t&&(null==h||h(e))}),F=(0,s.useMemo)(()=>null!=i&&!!i.sources&&i.sources.some(e=>(0,o.wO)(e.sourceKind)),[null==i?void 0:i.sources]),M=(0,s.useMemo)(()=>null!=i&&!!i.sources&&i.sources.some(e=>(0,o._q)(e.sourceKind)),[null==i?void 0:i.sources]),L=(0,x.jE)({editable:!!I&&n,immediatelyRender:!1,extensions:[l.Z,c.Z,u.Z,d.Z.configure({showOnlyWhenEditable:!1,placeholder:I?g||"Ask anything...":"Loading..."}),T(e=>{A.current(e)}),v.configure({deleteTriggerWithBackspace:!0,HTMLAttributes:{class:"mention"},suggestion:S({category:"doc",char:"@",pluginKey:R,placement:"bottom"===C?"top-start":"bottom-start",disabled:!M})}),v.configure({deleteTriggerWithBackspace:!0,HTMLAttributes:{class:"mention-code"},suggestion:S({category:"code",char:"#",pluginKey:E,placement:"bottom"===C?"top-start":"bottom-start",disabled:!F})})],editorProps:{attributes:{class:(0,o.cn)("max-h-38 prose min-h-[3.5rem] max-w-none font-sans dark:prose-invert focus:outline-none prose-p:my-0",k)}},content:a,onBlur(e){null==b||b(e)},onFocus(e){null==j||j(e)},onUpdate(e){null==y||y(e)}},[I]);return((0,s.useImperativeHandle)(t,()=>({editor:L})),(0,s.useLayoutEffect)(()=>{L&&N&&L.commands.focus()},[L]),(0,s.useEffect)(()=>{m||I||_(!0)},[m]),L)?(0,r.jsx)(H.Provider,{value:{list:null==i?void 0:i.sources,pending:!!m},children:(0,r.jsx)("div",{className:(0,o.cn)("text-area-autosize max-h-36 overflow-y-auto pr-1",w),children:(0,r.jsx)(x.kg,{editor:L})})}):null});A.displayName="PromptEditor";var F=n(31458),M=n(11208);function L(e){let{onSearch:t,className:n,placeholder:l,showBetaBadge:c,isLoading:d,autoFocus:u,loadingWithSpinning:m,cleanAfterSearch:f=!0,isFollowup:x,contextInfo:p,fetchingContextInfo:h}=e,[g,b]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),{theme:k}=(0,a.X)(),C=(0,s.useRef)(null);(0,s.useEffect)(()=>{b(!0)},[]);let I=e=>{if(!e||d)return;let n=e.getText().trim();if(!n)return;let r=(0,o.b)(n,null==p?void 0:p.sources),s=(0,o.G8)(r);if(t(n,s),f){var a,i;null===(i=C.current)||void 0===i||null===(a=i.editor)||void 0===a||a.chain().clearContent().focus().run()}},_=e=>{var t;let n=null===(t=C.current)||void 0===t?void 0:t.editor;n&&n.chain().focus().command(t=>{var n,r,s;let{tr:a,state:o}=t,{$from:i}=o.selection,l=0===i.parentOffset,c=null!==(s=null===(r=i.nodeBefore)||void 0===r?void 0:null===(n=r.text)||void 0===n?void 0:n.endsWith(" "))&&void 0!==s&&s;return l||c?a.insertText(e):a.insertText(" "+e),!0}).run()},{hasCodebaseSource:S,hasDocumentSource:R}=(0,s.useMemo)(()=>(0,o.xV)(null==p?void 0:p.sources),[null==p?void 0:p.sources]);return(0,r.jsxs)("div",{className:(0,o.cn)("relative w-full overflow-hidden rounded-xl border bg-background transition-all hover:border-ring dark:border-muted-foreground/60 dark:hover:border-muted-foreground",{"border-ring dark:border-muted-foreground":v},n),onClick:()=>{var e,t;null===(t=C.current)||void 0===t||null===(e=t.editor)||void 0===e||e.commands.focus()},children:[c&&(0,r.jsxs)(i.u,{delayDuration:0,children:[(0,r.jsx)(i.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"absolute -right-8 top-1 mr-3 rotate-45 rounded-none border-none py-0.5 pl-6 pr-5 text-xs text-primary",style:{background:"dark"===k?"#333":"#e8e1d3"},children:"Beta"})}),(0,r.jsx)(i._v,{sideOffset:-8,className:"max-w-md",children:(0,r.jsx)("p",{children:"Please note that the answer engine is still in its early stages, and certain functionalities, such as finding the correct code context and the quality of summarizations, still have room for improvement. If you encounter an issue and believe it can be enhanced, consider sharing it in our Slack community!"})})]}),(0,r.jsxs)("div",{className:(0,o.cn)("flex items-end px-4",{"min-h-[5.5rem]":!x,"min-h-[2.5rem]":x}),children:[(0,r.jsx)(A,{editable:!0,contextInfo:p,fetchingContextInfo:h,onSubmit:I,placeholder:l||"Ask anything...",autoFocus:u,onFocus:()=>j(!0),onBlur:()=>j(!1),onUpdate:e=>{let{editor:t}=e;return N(t.getText().trim())},ref:C,placement:x?"bottom":"top",className:(0,o.cn)("text-area-autosize mr-1 flex-1 resize-none rounded-lg !border-none bg-transparent !shadow-none !outline-none !ring-0 !ring-offset-0",{"!h-[48px]":!g,"py-3":!c,"py-4":c}),editorClassName:"min-h-[3.5em]"}),(0,r.jsx)("div",{className:(0,o.cn)("flex items-center justify-between gap-2"),children:(0,r.jsxs)("div",{className:(0,o.cn)("mb-3 flex items-center justify-center rounded-lg p-1 transition-all",{"bg-primary text-primary-foreground cursor-pointer":y.length>0,"!bg-muted !text-primary !cursor-default":d||0===y.length,"mr-1.5":!c}),onClick:()=>{var e;return I(null===(e=C.current)||void 0===e?void 0:e.editor)},children:[m&&d&&(0,r.jsx)(w.IconSpinner,{className:"h-4 w-4"}),(!m||!d)&&(0,r.jsx)(w.IconArrowRight,{className:"h-4 w-4"})]})})]}),(0,r.jsxs)("div",{className:(0,o.cn)("hidden items-center gap-2 border-t bg-[#F9F6EF] py-2 pl-2 pr-4 dark:border-muted-foreground/60 dark:bg-[#333333]",{flex:!x}),onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)(i.u,{children:[(0,r.jsx)(i.aJ,{asChild:!0,children:(0,r.jsxs)(F.z,{variant:"ghost",className:"gap-2 px-1.5 py-1 text-foreground/70",onClick:e=>_("#"),disabled:!S,children:[(0,r.jsx)(w.IconHash,{}),"Codebase"]})}),(0,r.jsx)(i._v,{className:"max-w-md",children:"Select a codebase to chat with"})]}),(0,r.jsx)(M.Z,{orientation:"vertical",className:"h-5"}),(0,r.jsxs)(i.u,{children:[(0,r.jsx)(i.aJ,{asChild:!0,children:(0,r.jsxs)(F.z,{variant:"ghost",className:"gap-2 px-1.5 py-1 text-foreground/70",onClick:e=>_("@"),disabled:!R,children:[(0,r.jsx)(w.IconAtSign,{}),"Documents"]})}),(0,r.jsx)(i._v,{className:"max-w-md",children:"Select a document to bring into context"})]})]})]})}},63743:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(36164),s=n(3546),a=n(9010),o=n(31458),i=n(81565);function l(e){let{className:t}=e,{setTheme:n,theme:l}=(0,a.X)(),[c,d]=s.useTransition();return(0,r.jsxs)(o.z,{variant:"ghost",size:"icon",onClick:()=>{d(()=>{n("light"===l?"dark":"light")})},className:t,children:["dark"===l?(0,r.jsx)(i.IconMoon,{className:"transition-all"}):(0,r.jsx)(i.IconSun,{className:"transition-all"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},79972:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},Zb:function(){return o},aY:function(){return d},eW:function(){return u},ll:function(){return l}});var r=n(36164),s=n(3546),a=n(1544);let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...s})});u.displayName="CardFooter"},62202:function(e,t,n){"use strict";n.d(t,{$F:function(){return l},AW:function(){return d},Ju:function(){return m},VD:function(){return f},Xi:function(){return u},h_:function(){return i}});var r=n(36164),s=n(3546),a=n(19148),o=n(1544);let i=a.fC,l=a.xz;a.ZA,a.Uv,a.Tr,a.Ee;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",n),...s})});c.displayName=a.tu.displayName;let d=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...i}=e;return(0,r.jsx)(a.Uv,{children:(0,r.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});d.displayName=a.VY.displayName;let u=s.forwardRef((e,t)=>{let{className:n,inset:s,...i}=e;return(0,r.jsx)(a.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n),...i})});u.displayName=a.ck.displayName;let m=s.forwardRef((e,t)=>{let{className:n,inset:s,...i}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",n),...i})});m.displayName=a.__.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});f.displayName=a.Z0.displayName},5266:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(36164),s=n(3546),a=n(90893),o=n(14375),i=n(1544);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,i.cn)(l(),n),...s})});c.displayName=a.f.displayName},57830:function(e,t,n){"use strict";n.r(t),n.d(t,{ScrollArea:function(){return i},ScrollBar:function(){return l}});var r=n(36164),s=n(3546),a=n(50778),o=n(1544);let i=s.forwardRef((e,t)=>{let{className:n,children:s,...i}=e;return(0,r.jsxs)(a.fC,{className:(0,o.cn)("relative overflow-hidden",n),...i,children:[(0,r.jsx)(a.l_,{ref:t,className:"h-full w-full rounded-[inherit] [&>div]:!block",children:s}),(0,r.jsx)(l,{}),(0,r.jsx)(a.Ns,{})]})});i.displayName=a.fC.displayName;let l=s.forwardRef((e,t)=>{let{className:n,orientation:s="vertical",...i}=e;return(0,r.jsx)(a.gb,{ref:t,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...i,children:(0,r.jsx)(a.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=a.gb.displayName},52569:function(e,t,n){"use strict";n.d(t,{SQ:function(){return y},Yt:function(){return j},nY:function(){return v}});var r=n(36164),s=n(3546),a=n(87782),o=n(21454),i=n(36327),l=n(98454),c=n(3765),d=n(1544),u=n(66612);let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(u.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...s})});m.displayName=u.fC.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(u.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",n),...s})});f.displayName=u.Ee.displayName;let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(u.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...s})});x.displayName=u.NY.displayName;var p=n(3448),h=n(30410).lW;let g="not_found",b=new Set,v=e=>{b.delete(e),(0,o.JG)("/avatar/".concat(e))};function j(e){var t;let{user:n,className:o,fallback:l}=e,u=null==n?void 0:n.id,v=u?"/avatar/".concat(u):null,{data:j,isLoading:y,error:N}=(0,i.Z)(v,e=>{if(!(!u||b.has(u)))return(0,c.Z)(e,{responseFormatter:async e=>{let t=await e.blob(),n=h.from(await t.arrayBuffer());return"data:image/png;base64,".concat(n.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(g)}})}),w=s.useMemo(()=>{if(null==n?void 0:n.email)return(0,a.B)(n.email)},[null==n?void 0:n.email]);return y?(0,r.jsx)(p.O,{className:(0,d.cn)("h-16 w-16 rounded-full",o)}):((null==N?void 0:N.message)===g&&u&&b.add(u),j||w||!l)?!j&&w?(0,r.jsx)(a.Z,{className:(0,d.cn)("h-16 w-16",o),...w}):(0,r.jsxs)(m,{className:(0,d.cn)("h-16 w-16",o),children:[(0,r.jsx)(f,{src:j,alt:null==n?void 0:n.email,className:"object-cover"}),(0,r.jsx)(x,{children:null==n?void 0:null===(t=n.email)||void 0===t?void 0:t.substring(0,2)})]}):l}function y(e){let[{data:t}]=(0,l.P)();return(0,r.jsx)(j,{user:null==t?void 0:t.me,...e})}},7449:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(36164),s=n(3546),a=n(70652),o=n.n(a),i=n(11978),l=n(71480),c=n(43240),d=n(98454),u=n(70526),m=n(80605),f=n(91302),x=n(11634),p=n(1544),h=n(31458),g=n(79972),b=n(62202),v=n(81565),j=n(82394),y=n(5266),N=n(29),w=n(48537),k=n(52569);let C=(0,c.BX)("\n  mutation ResetUserAuthToken {\n    resetUserAuthToken\n  }\n");function I(e){let{children:t,showHome:n=!0,showSetting:a=!1,beforeRouteChange:o}=e,l=(0,i.useRouter)(),c=(0,f.QJ)(),[{data:u},x]=(0,d.P)(),p=null==u?void 0:u.me;(0,m.xG)();let[h,g]=s.useState(!1),j=async e=>{e.preventDefault(),g(!0),await c(),g(!1)},y=(e,t)=>{null==o||o(e),t?l.replace(e):l.push(e)};if(p)return(0,r.jsxs)(b.h_,{children:[(0,r.jsx)(b.$F,{children:t}),(0,r.jsxs)(b.AW,{side:"bottom",align:"end",className:"overflow-y-auto p-0",children:[(0,r.jsxs)("div",{className:"space-y-4 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(k.Yt,{user:p,className:"h-12 w-12 shrink-0 border-[2px] border-white"}),(0,r.jsxs)("div",{className:"space-y-1",children:[p.name&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Ju,{className:"p-0",children:p.name}),(0,r.jsx)(b.Ju,{className:"p-0 text-sm font-normal text-muted-foreground",children:p.email})]}),!p.name&&(0,r.jsx)(b.Ju,{children:p.email})]})]}),(0,r.jsx)(_,{user:p,reexecuteQuery:x})]}),(0,r.jsx)(b.VD,{className:"mb-1 mt-0"}),(0,r.jsxs)("div",{className:"px-1.5",children:[n&&(0,r.jsxs)(b.Xi,{onClick:()=>y("/"),className:"cursor-pointer py-2 pl-3",children:[(0,r.jsx)(v.IconHome,{}),(0,r.jsx)("span",{className:"ml-2",children:"Home"})]}),a&&(0,r.jsxs)(b.Xi,{onClick:()=>y("/profile"),className:"cursor-pointer py-2 pl-3",children:[(0,r.jsx)(v.IconGear,{}),(0,r.jsx)("span",{className:"ml-2",children:"Settings"})]}),(0,r.jsxs)(b.Xi,{onClick:()=>window.open("/files"),className:"cursor-pointer py-2 pl-3",children:[(0,r.jsx)(v.IconCode,{}),(0,r.jsx)("span",{className:"ml-2",children:"Code Browser"})]}),(0,r.jsxs)(b.Xi,{onClick:()=>window.open("/api"),className:"cursor-pointer py-2 pl-3",children:[(0,r.jsx)(v.IconBackpack,{}),(0,r.jsx)("span",{className:"ml-2",children:"API Docs"})]})]}),(0,r.jsx)(b.VD,{}),(0,r.jsxs)(b.Xi,{disabled:h,onClick:j,className:"mx-1.5 mb-1.5 cursor-pointer py-2 pl-3",children:[(0,r.jsx)(v.IconLogout,{}),(0,r.jsx)("span",{className:"ml-2",children:"Sign out"}),h&&(0,r.jsx)(v.IconSpinner,{className:"ml-1"})]})]})]})}function _(e){let{className:t,user:n,reexecuteQuery:s}=e,a=(0,u.j)(),o=(0,x.D)(C,{onCompleted:()=>s()});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,p.cn)("w-[268px] rounded-xl bg-[#FBF5ED] p-4 dark:bg-[#3D382F]",t),children:[(0,r.jsxs)(g.aY,{className:"p-0",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(y._,{className:"text-xs text-muted-foreground",children:"Endpoint URL"}),(0,r.jsxs)("span",{className:"group relative",children:[(0,r.jsx)(j.I,{value:a,onChange:l.Z,className:"border-none bg-[#FEFCF8] group-focus-within:pr-12 group-hover:pr-12 dark:bg-[#4F483B]"}),(0,r.jsx)(w.q,{value:a,className:(0,p.cn)("absolute right-1 top-0.5 hidden group-focus-within:flex group-hover:flex")})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,r.jsx)(y._,{className:"text-xs text-muted-foreground",children:"Token"}),(0,r.jsxs)("span",{className:"group relative",children:[(0,r.jsx)(j.I,{value:n.authToken,onChange:l.Z,className:"border-none bg-[#FEFCF8] group-focus-within:pr-20 group-hover:pr-20 dark:bg-[#4F483B]"}),(0,r.jsxs)("div",{className:"absolute right-1 top-0.5 hidden items-center gap-1 group-focus-within:flex group-hover:flex",children:[(0,r.jsx)(w.q,{value:n.authToken}),(0,r.jsx)(h.z,{title:"Rotate",size:"icon",variant:"hover-destructive",onClick:()=>o(),children:(0,r.jsx)(v.IconRotate,{})})]})]})]})]}),(0,r.jsx)(g.eW,{className:"mt-3 p-0 text-xs text-muted-foreground",children:(0,r.jsxs)("span",{children:["Use information above for IDE extensions / plugins configuration, see"," ",(0,r.jsx)("a",{className:"text-link underline",target:"_blank",href:"https://tabby.tabbyml.com/docs/extensions/configurations#server",children:"documentation website"})," ","for details"]})})]}),(0,r.jsxs)("div",{className:"mb-6 mt-3 flex gap-x-4 lg:mb-0",children:[(0,r.jsx)(S,{href:"https://marketplace.visualstudio.com/items?itemName=TabbyML.vscode-tabby",name:"Visual Studio Code",icon:(0,r.jsx)(v.IconVSCode,{className:"h-6 w-6"})}),(0,r.jsx)(S,{href:"https://plugins.jetbrains.com/plugin/22379-tabby",name:"JetBrains",icon:(0,r.jsx)(v.IconJetBrains,{className:"h-6 w-6"})})]})]})}function S(e){let{href:t,name:n,icon:s}=e;return(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{children:(0,r.jsx)(o(),{href:t,className:"flex h-8 w-8 items-center justify-center rounded-lg text-[#030302]",target:"_blank",children:s})}),(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:n})})]})}},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return a},$I:function(){return o},L8:function(){return s},ir:function(){return i},o0:function(){return r}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin",SEARCH_INITIAL_MSG:"_tabby_search_initial_msg",SEARCH_INITIAL_CONTEXTS:"_tabby_search_initial_contexts"},o=48,i="NOT_FOUND"},9010:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(28242);function s(){let{theme:e,systemTheme:t,setTheme:n}=(0,r.F)();return{theme:e&&"system"!==e?e:t||"light",setTheme:n,systemTheme:t}}},38785:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(3546);let s=!0;function a(){let[e,t]=r.useState(()=>!s);return r.useEffect(function(){s=!1,t(!0)},[]),e}},70526:function(e,t,n){"use strict";n.d(t,{e:function(){return l},j:function(){return c}});var r=n(3546),s=n(40055),a=n(43240),o=n(1544);let i=(0,a.BX)("\n  query NetworkSetting {\n    networkSetting {\n      externalUrl\n    }\n  }\n"),l=e=>(0,s.aM)({query:i,...e}),c=()=>{let[{data:e}]=l(),t=null==e?void 0:e.networkSetting,n=r.useMemo(()=>(null==t?void 0:t.externalUrl)||((0,o.S_)()?new URL(window.location.href).origin:""),[t]);return n}},37266:function(e,t,n){"use strict";n.d(t,{CR:function(){return i},F0:function(){return c},wh:function(){return d}});var r=n(27257),s=n(85654);let a=["_hasHydrated","setHasHydrated","activeChatId"],o={_hasHydrated:!1,homePage:void 0},i=(0,r.Ue)()((0,s.tJ)(e=>({...o,setHasHydrated:t=>{e({_hasHydrated:t})}}),{name:"tabby-scroll-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!a.includes(t)})),onRehydrateStorage:()=>e=>{e&&e.setHasHydrated(!0)}})),l=i.setState,c=e=>l(t=>({...t,homePage:e})),d=()=>l(e=>({...e,homePage:void 0}))},15812:function(){}}]);