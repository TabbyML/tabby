"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6775],{72657:function(e,n,s){s.d(n,{K:function(){return o}});var t=s(36164);s(3546);var l=s(12624),a=s(74248),r=s(31458),i=s(81565);function o(e){let{className:n,container:s,offset:o,...c}=e,d=(0,l.e)(o||0,s);return(0,t.jsxs)(r.z,{variant:"outline",size:"icon",className:(0,a.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",n),onClick:()=>{s?s.scrollTo({top:s.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,t.jsx)(i.IconArrowDown,{}),(0,t.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},62817:function(e,n,s){s.d(n,{e:function(){return K},p:function(){return V}});var t=s(36164),l=s(3546),a=s(78613),r=s(24449),i=s(16784),o=s(63484),c=s(74248),d=s(49142),u=s(90379),m=s(31458),f=s(81565),x=s(72657),p=s(45391),h=s(34021),v=s(21454),g=s(3765),b=s(84942),j=s(29),y=s(24685),w=s(74630),N=s(16234),k=s(23455),C=s(82394);let S=l.createContext({}),A=b.xp,E=l.forwardRef((e,n)=>(0,t.jsx)(b.tW,{...e,ref:n}));E.displayName="SearchableSelectAnchor";let L=l.forwardRef((e,n)=>{let{getInputProps:s}=l.useContext(S),{onKeyDown:a,onChange:r,onInput:i,onBlur:o,onClick:c,...d}=e;return(0,t.jsx)(k.Z,{...s((0,N.Z)({onKeyDown:a,onChange:r,onInput:i,onBlur:o,onClick:c,ref:n},w.Z)),...d})});L.displayName="SearchableSelectTextarea";let F=l.forwardRef((e,n)=>{let{getInputProps:s}=l.useContext(S),{onKeyDown:a,onChange:r,onInput:i,onBlur:o,onClick:c,...d}=e;return(0,t.jsx)(C.I,{...s((0,N.Z)({onKeyDown:a,onChange:r,onInput:i,onBlur:o,onClick:c,ref:n},w.Z)),...d})});F.displayName="SearchableSelectInput";let z=l.forwardRef((e,n)=>{let{children:s,style:a,popupMatchAnchorWidth:r,...i}=e,{getMenuProps:o,anchorRef:c}=l.useContext(S),d=l.useRef(void 0);return l.useLayoutEffect(()=>{if(r){let e=c.current;if(e){let n=e.getBoundingClientRect();d.current=n.width}}},[]),(0,t.jsx)(b.i9,{children:(0,t.jsx)(b.yk,{align:"start",onOpenAutoFocus:e=>e.preventDefault(),style:{width:d.current,...a},...o({ref:n},{suppressRefError:!0}),...i,children:s})})});z.displayName="SearchableSelectContent";let R=l.forwardRef((e,n)=>{let{item:s,index:a,className:r,children:i,disabled:o,...d}=e,{highlightedIndex:u,selectedItem:m,getItemProps:f}=l.useContext(S),x=u===a,p=m===s;return(0,t.jsx)(A,{asChild:!0,children:(0,t.jsx)("div",{className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",x&&"bg-accent text-accent-foreground",p&&"font-bold",o&&"pointer-events-none opacity-50",r),...f({item:s,index:a,onMouseLeave:e=>e.preventDefault(),onMouseOut:e=>e.preventDefault()}),...d,children:"function"==typeof i?i({highlighted:x,selected:p}):i})},s.id)});function D(e){let{options:n,onSelect:s,children:a,open:r,onOpenChange:i,stayOpenOnInputClick:o}=e,c=l.useRef(null),d=l.useCallback((e,n)=>{let{type:s,changes:t}=n;switch(s){case y.Kb.stateChangeTypes.MenuMouseLeave:return{...t,highlightedIndex:e.highlightedIndex};case y.Kb.stateChangeTypes.InputClick:let l=!!o||t.isOpen;return{...t,isOpen:l};default:return t}},[o]),u=(0,y.Kb)({items:null!=n?n:[],defaultIsOpen:r,onSelectedItemChange(e){let{selectedItem:n}=e;n&&(null==s||s(n),null==i||i(!1))},onIsOpenChange:e=>{let{isOpen:n}=e;null==i||i(!!n)},stateReducer:d}),{setHighlightedIndex:m,highlightedIndex:f}=u,x=(0,w.Z)(r)?u.isOpen:u.isOpen&&r;l.useEffect(()=>{x&&(null==n?void 0:n.length)&&-1===f&&m(0)},[x,n]);let p=l.useMemo(()=>({...u,open:x,anchorRef:c}),[u,x,c]);return(0,t.jsx)(S.Provider,{value:p,children:(0,t.jsx)(b.J2,{open:x,children:"function"==typeof a?a(p):a})})}R.displayName="SearchableSelectOption";let I=l.forwardRef(function(e,n){let{onSubmit:s,input:a,setInput:r,isLoading:i}=e,{formRef:o,onKeyDown:d}=function(){let e=(0,l.useRef)(null);return{formRef:e,onKeyDown:n=>{if("Enter"===n.key&&!n.shiftKey&&!n.nativeEvent.isComposing){var s;null===(s=e.current)||void 0===s||s.requestSubmit(),n.preventDefault()}}}}(),[u,x]=l.useState(null),[y,w]=l.useState(!1),N=l.useRef(null),k=l.useRef(),C=l.useRef(),[S,A]=l.useState([]),[F,I]=l.useState({}),{data:P}=(0,v.ZP)(u,g.Z,{revalidateOnFocus:!1,dedupingInterval:0,errorRetryCount:0});l.useEffect(()=>{var e;let n=null!==(e=null==P?void 0:P.hits)&&void 0!==e?e:[];A(n),w(!!(null==n?void 0:n.length))},[null==P?void 0:P.hits]),l.useImperativeHandle(n,()=>({focus:()=>{var e;null===(e=N.current)||void 0===e||e.focus()}})),l.useEffect(()=>{a&&N.current&&N.current!==document.activeElement&&N.current.focus()},[a]),l.useLayoutEffect(()=>{var e,n,s;(null===(e=C.current)||void 0===e?void 0:e.length)&&(null===(s=N.current)||void 0===s||null===(n=s.setSelectionRange)||void 0===n||n.call(s,C.current[0],C.current[1]),C.current=void 0)}),l.useMemo(()=>(0,p.Z)(e=>{var n,s,t,l;let a=null!==(t=null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"",r=null!==(l=null===(s=e.target)||void 0===s?void 0:s.selectionEnd)&&void 0!==l?l:0,i=M(a,r),o=null==i?void 0:i[1];if(o){let e=encodeURIComponent("name:".concat(o," AND kind:function")),n="/v1beta/search?q=".concat(e);x(n)}else A([]),w(!1)},200),[]);let _=async e=>{if(e.preventDefault(),!(null==a?void 0:a.trim())||i)return;let n=a;Object.keys(F).forEach(e=>{var s,t,l;let a=F[e];(null==a?void 0:a.doc)&&(n=n.replaceAll(e,"\n```".concat(null!==(t=null===(s=a.doc)||void 0===s?void 0:s.language)&&void 0!==t?t:"","\n").concat(null!==(l=a.doc.body)&&void 0!==l?l:"","\n","```","\n")))}),r(""),await s(n)},B=(e,n)=>{"Enter"===e.key&&n?e.preventDefault():n&&["ArrowRight","ArrowLeft","Home","End"].includes(e.key)?(A([]),w(!1)):(n||(e.preventDownshiftDefault=!0),d(e))};return(0,t.jsx)("form",{onSubmit:_,ref:o,children:(0,t.jsx)(D,{options:S,onSelect:e=>{var n,s,t;let l=null!==(n=k.current)&&void 0!==n?n:0,i=M(a,l);if(i){I({...F,["@".concat(null===(s=e.doc)||void 0===s?void 0:s.name)]:e});let n="@".concat(null==e?void 0:null===(t=e.doc)||void 0===t?void 0:t.name," "),o=a.substring(0,l).replace(new RegExp(i[0]),""),c=o.length+n.length;C.current=[c,c],r(o+n+a.slice(l))}A([]),w(!1)},open:y,onOpenChange:e=>{e&&(null==S?void 0:S.length)?w(e):(w(!1),A([]))},children:e=>{var n,s,l,o;let{open:d,highlightedIndex:u}=e,x=null==S?void 0:S[u];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"relative flex max-h-60 w-full grow flex-col overflow-hidden bg-background px-8 sm:rounded-md sm:border sm:px-12",children:[(0,t.jsx)("span",{className:(0,c.cn)((0,m.d)({size:"sm",variant:"ghost"}),"absolute left-0 top-4 h-8 w-8 rounded-full bg-background p-0 hover:bg-background sm:left-4"),children:(0,t.jsx)(f.IconEdit,{})}),(0,t.jsx)(L,{tabIndex:0,rows:1,placeholder:"Ask a question.",spellCheck:!1,className:"min-h-[60px] w-full resize-none bg-transparent px-4 py-[1.3rem] focus-within:outline-none",value:a,ref:N,onChange:e=>{(0,h.Z)(e,"target.value")?(k.current=e.target.selectionEnd,r(e.target.value)):k.current=void 0},onKeyDown:e=>B(e,d)}),(0,t.jsx)("div",{className:"absolute right-0 top-4 sm:right-4",children:(0,t.jsxs)(j.u,{children:[(0,t.jsx)(j.aJ,{asChild:!0,children:(0,t.jsxs)(m.z,{type:"submit",size:"icon",disabled:i||""===a,children:[(0,t.jsx)(f.IconArrowElbow,{}),(0,t.jsx)("span",{className:"sr-only",children:"Send message"})]})}),(0,t.jsx)(j._v,{children:"Send message"})]})})]})}),(0,t.jsx)(z,{align:"start",side:"top",onOpenAutoFocus:e=>e.preventDefault(),className:"w-[60vw] md:w-[430px]",children:(0,t.jsxs)(b.J2,{open:d&&!!x,children:[(0,t.jsx)(b.tW,{asChild:!0,children:(0,t.jsx)("div",{className:"max-h-[300px] overflow-y-scroll",children:d&&!!(null==S?void 0:S.length)&&S.map((e,n)=>{var s,l,a;return(0,t.jsx)(R,{item:e,index:n,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-8 overflow-x-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(O,{kind:null==e?void 0:null===(s=e.doc)||void 0===s?void 0:s.kind}),(0,t.jsxs)("div",{className:"max-w-[200px] truncate",children:[null==e?void 0:null===(l=e.doc)||void 0===l?void 0:l.name,"(...)"]})]}),(0,t.jsx)("div",{className:"flex-1 truncate text-right text-sm text-muted-foreground",children:null==e?void 0:null===(a=e.doc)||void 0===a?void 0:a.body})]})},null==e?void 0:e.id)})})}),(0,t.jsx)(b.yk,{asChild:!0,align:"start",side:"right",alignOffset:-4,onOpenAutoFocus:e=>e.preventDefault(),onKeyDownCapture:e=>e.preventDefault(),className:"rounded-none",collisionPadding:{bottom:120},children:(0,t.jsxs)("div",{className:"flex max-h-[70vh] w-[20vw] flex-col overflow-y-auto px-2 md:w-[240px] lg:w-[340px]",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(null==x?void 0:null===(n=x.doc)||void 0===n?void 0:n.kind)?"(".concat(null==x?void 0:null===(s=x.doc)||void 0===s?void 0:s.kind,") "):"",null==x?void 0:null===(l=x.doc)||void 0===l?void 0:l.name]}),(0,t.jsx)("div",{className:"flex-1 whitespace-pre-wrap break-all text-muted-foreground",children:null==x?void 0:null===(o=x.doc)||void 0===o?void 0:o.body})]})})]})})]})}})})});function M(e,n){let s=e.substring(0,n),t=/@(\w+)$/.exec(s);return t}function O(e){let{kind:n,...s}=e;return(0,t.jsx)(f.IconSymbolFunction,{...s})}function P(e){let{href:n,children:s}=e;return(0,t.jsxs)("a",{href:n,target:"_blank",className:"inline-flex flex-1 justify-center gap-1 leading-4 hover:underline",children:[(0,t.jsx)("span",{children:s}),(0,t.jsx)("svg",{"aria-hidden":"true",height:"7",viewBox:"0 0 6 6",width:"7",className:"opacity-70",children:(0,t.jsx)("path",{d:"M1.25215 5.54731L0.622742 4.9179L3.78169 1.75597H1.3834L1.38936 0.890915H5.27615V4.78069H4.40513L4.41109 2.38538L1.25215 5.54731Z",fill:"currentColor"})})]})}function _(e){let{className:n,...s}=e;return(0,t.jsxs)("p",{className:(0,c.cn)("px-2 text-center text-xs leading-normal text-muted-foreground",n),...s,children:[(0,t.jsx)(P,{href:"https://tabby.tabbyml.com",children:"Tabby"}),", an opensource, self-hosted AI coding assistant ."]})}function B(e){let{id:n,stop:s,reload:a,input:r,setInput:i,className:o,onSubmit:c,chatMaxWidthClass:d}=e,u=l.useRef(null),{container:p,onClearMessages:h,qaPairs:v,isLoading:g}=l.useContext(V);return l.useEffect(()=>{var e;null==u||null===(e=u.current)||void 0===e||e.focus()},[n]),(0,t.jsxs)("div",{className:o,children:[(0,t.jsx)(x.K,{container:p}),(0,t.jsxs)("div",{className:"mx-auto md:px-4 ".concat(d),children:[(0,t.jsxs)("div",{className:"flex h-10 items-center justify-center gap-2",children:[g?(0,t.jsxs)(m.z,{variant:"outline",onClick:()=>s(),className:"bg-background",children:[(0,t.jsx)(f.IconStop,{className:"mr-2"}),"Stop generating"]}):(null==v?void 0:v.length)>0&&(0,t.jsxs)(m.z,{variant:"outline",onClick:()=>a(),className:"bg-background",children:[(0,t.jsx)(f.IconRefresh,{className:"mr-2"}),"Regenerate response"]}),(null==v?void 0:v.length)>0&&(0,t.jsxs)(m.z,{variant:"outline",onClick:h,className:"bg-background lg:hidden",children:[(0,t.jsx)(f.IconTrash,{className:"mr-2"}),"Clear"]})]}),(0,t.jsxs)("div",{className:"space-y-4 border-t bg-background px-4 py-2 shadow-lg sm:rounded-t-xl sm:border md:py-4",children:[(0,t.jsx)(I,{ref:u,onSubmit:c,input:r,setInput:i,isLoading:g}),(0,t.jsx)(_,{className:"hidden sm:block"})]})]})]})}var T=s(76297),q=s(12624);function Z(e){let{trackVisibility:n}=e,{container:s}=l.useContext(V),a=(0,q.e)(100,s),{ref:r,entry:i,inView:o}=(0,T.YD)({trackVisibility:n,delay:100,rootMargin:"0px 0px -150px 0px",root:s});return l.useEffect(()=>{a&&n&&!o&&(null==i||i.target.scrollIntoView({block:"start"}))},[o,i,a,n]),(0,t.jsx)("div",{ref:r,className:"h-px w-full"})}let H=[{heading:"Convert list of string to numbers",message:"How to convert a list of string to numbers in python"},{heading:"How to parse email address",message:"How to parse email address with regex"}];function J(e){let{setInput:n,chatMaxWidthClass:s,welcomeMessage:l}=e;return(0,t.jsx)("div",{className:"mx-auto px-4 ".concat(s),children:(0,t.jsxs)("div",{className:"rounded-lg border bg-background p-8",children:[(0,t.jsx)("h1",{className:"mb-2 text-lg font-semibold",children:l||"Welcome"}),(0,t.jsx)("p",{className:"leading-normal text-muted-foreground",children:"You can start a conversation here or try the following examples:"}),(0,t.jsx)("div",{className:"mt-4 flex flex-col items-start space-y-2",children:H.map((e,s)=>(0,t.jsxs)(m.z,{variant:"link",className:"h-auto p-0 text-base",onClick:()=>n(e.message),children:[(0,t.jsx)(f.IconArrowRight,{className:"mr-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-left",children:e.heading})]},s))})]})})}var U=s(80054);let V=l.createContext({}),K=l.forwardRef(function(e,n){let{className:s,chatId:m,initialMessages:f,headers:x,api:p="/v1beta/answer",onLoaded:h,onThreadUpdates:v,onNavigateToContext:g,container:b,fetcher:j,docQuery:y,generateRelevantQuestions:w,maxWidth:N,welcomeMessage:k,promptFormClassname:C,onCopyContent:S,client:A,onSubmitMessage:E,onApplyInEditor:L}=e,[F,z]=l.useState(!1),R=l.useRef(!1),[D,I]=l.useState(null!=f?f:[]),[M,O]=l.useState(""),{triggerRequest:P,isLoading:_,error:T,answer:q,stop:H}=(0,d.t)({api:p,headers:x,fetcher:j}),K=async e=>{H();let n=D.filter(n=>n.user.id!==e);I(n)},G=async e=>{let n=(0,a.Z)(D,n=>n.user.id===e);if(n>-1){var s;let e=D[n],t=[...D.slice(0,n),{...e,assistant:{...e.assistant,id:(null===(s=e.assistant)||void 0===s?void 0:s.id)||(0,c.x0)(),message:"",error:void 0}}];return I(t),P(Q(t))}},W=async()=>{if(!(null==D?void 0:D.length))return;let e=D[D.length-1].user.id;return G(e)};l.useEffect(()=>{if(!_||!(null==D?void 0:D.length)||!q)return;let e=D[D.length-1];I(n=>{var s;let t=n[n.length-1].assistant,l={...t,id:(null==t?void 0:t.id)||(0,c.x0)(),message:null!==(s=q.answer_delta)&&void 0!==s?s:"",error:void 0,relevant_code:null==q?void 0:q.relevant_code};return[...n.slice(0,n.length-1),{...e,assistant:l}]})},[q,_]);let Y=(0,r.S)(()=>{b?b.scrollTo({top:b.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},100);l.useLayoutEffect(()=>{_&&Y.run()},[_]),l.useEffect(()=>{T&&(null==D?void 0:D.length)&&I(e=>{var n,s,t;let l=e[e.length-1];return[...e.slice(0,e.length-1),{...l,assistant:{...l.assistant,id:(null===(n=l.assistant)||void 0===n?void 0:n.id)||(0,c.x0)(),message:null!==(t=null===(s=l.assistant)||void 0===s?void 0:s.message)&&void 0!==t?t:"",error:(null==T?void 0:T.message)==="401"?"Unauthorized":"Fail to fetch"}}]})},[T]);let Q=e=>{var n,s,t;let l=e[e.length-1].user,a=(null==l?void 0:l.selectContext)||(null==l?void 0:null===(n=l.relevantContext)||void 0===n?void 0:n[0]),r=a?{content:null!==(s=a.content)&&void 0!==s?s:"",filepath:a.filepath,language:a.filepath&&(0,o.U$)(a.filepath)[0]||"text",git_url:null!==(t=null==a?void 0:a.git_url)&&void 0!==t?t:""}:void 0;return{messages:(function(e){if(!(null==e?void 0:e.length))return[];let n=[],s=e.length;for(let t=0;t<e.length;t++){let l=e[t],{user:a,assistant:r}=l;a&&n.push(function(e,n){let{includeTransformedSelectContext:s}=n,{message:t,id:l}=e;return{id:l,role:"user",content:s?t+function(e){var n;if(!e||!e.content)return"";let{content:s,filepath:t}=e,l=null===(n=(0,o.U$)(t))||void 0===n?void 0:n[0];return"\n```".concat(null!=l?l:"","\n").concat(null!=s?s:"","\n","```","\n")}(e.selectContext):t}}(a,{includeTransformedSelectContext:s>1&&t!==s-1})),r&&n.push({role:"assistant",id:r.id,content:r.message})}return n})(e).slice(0,-1),code_query:r,doc_query:!!y,generate_relevant_questions:!!w}},X=(0,i.d)(async e=>{var n;if(_)return;let s={...e,id:null!==(n=e.id)&&void 0!==n?n:(0,c.x0)()},t=[...D,{user:s,assistant:{id:(0,c.x0)(),message:"",error:void 0}}];return I(t),P(Q(t))}),$=async e=>{var n;return null===(n=X.current)||void 0===n?void 0:n.call(X,e)},ee=async e=>E?E(e):$({message:e});l.useEffect(()=>{R.current&&v(D)},[D]),l.useImperativeHandle(n,()=>({sendUserChat:$,stop:H,isLoading:_}),[]),l.useEffect(()=>{R.current||(R.current=!0,null==h||h(),z(!0))},[]);let en=N?"max-w-".concat(N):"max-w-2xl";return F?(0,t.jsx)(V.Provider,{value:{isLoading:_,qaPairs:D,onNavigateToContext:g,handleMessageAction:(e,n)=>{switch(n){case"delete":K(e);break;case"regenerate":G(e)}},onClearMessages:()=>{H(),I([])},container:b,onCopyContent:S,client:A,onApplyInEditor:L},children:(0,t.jsx)("div",{className:"flex justify-center overflow-x-hidden",children:(0,t.jsxs)("div",{className:"w-full px-4 ".concat(en),children:[(0,t.jsxs)("div",{className:(0,c.cn)("pb-[200px] pt-4 md:pt-10",s),children:[(null==D?void 0:D.length)?(0,t.jsx)(U.w,{messages:D,chatMaxWidthClass:en}):(0,t.jsx)(J,{setInput:O,chatMaxWidthClass:en,welcomeMessage:k}),(0,t.jsx)(Z,{trackVisibility:_})]}),(0,t.jsx)(B,{onSubmit:ee,className:(0,c.cn)("fixed inset-x-0 bottom-0",C),id:m,stop:()=>{H()},reload:W,input:M,setInput:O,chatMaxWidthClass:en})]})})}):(0,t.jsx)(u.cg,{className:"".concat(en," mx-auto pt-4 md:pt-10")})})},80054:function(e,n,s){s.d(n,{q:function(){return q},w:function(){return F}});var t=s(36164),l=s(3546),a=s(42891),r=s.n(a),i=s(23342),o=s(74630),c=s(64148),d=s(93668),u=s(98454),m=s(63484),f=s(74248),x=s(90958),p=s(29),h=s(73033),v=s(48537),g=s(43739),b=s(14079);let j=g.fC,y=l.forwardRef((e,n)=>{let{className:s,...l}=e;return(0,t.jsx)(g.ck,{ref:n,className:(0,f.cn)("border-b",s),...l})});y.displayName="AccordionItem";let w=l.forwardRef((e,n)=>{let{className:s,children:l,...a}=e;return(0,t.jsxs)(g.xz,{ref:n,className:(0,f.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...a,children:[l,(0,t.jsx)(b.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})});w.displayName=g.xz.displayName;let N=l.forwardRef((e,n)=>{let{className:s,children:l,...a}=e;return(0,t.jsx)(g.VY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:(0,t.jsx)("div",{className:(0,f.cn)("pb-4 pt-0",s),children:l})})});N.displayName=g.VY.displayName;var k=s(31458),C=s(81565),S=s(11208),A=s(3448),E=s(52569),L=s(62817);function F(e){let{messages:n,chatMaxWidthClass:s}=e,{isLoading:a}=l.useContext(L.p);return(0,t.jsx)("div",{className:"relative mx-auto px-4 ".concat(s),children:null==n?void 0:n.map((e,s)=>{let r=s===n.length-1;return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(z,{isLoading:!!r&&a,message:e}),!r&&(0,t.jsx)(S.Z,{className:"my-4 md:my-8"})]},e.user.id)})})}function z(e){let{message:n,isLoading:s}=e,{user:l,assistant:a}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R,{message:l}),!!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"my-4 md:my-8"}),(0,t.jsx)(I,{message:a,userMessage:l,isLoading:s,userMessageId:l.id})]})]})}function R(e){var n,s,a,r;let{message:i}=e,[{data:c}]=(0,u.P)(),d=i.selectContext,{onNavigateToContext:x,client:p}=l.useContext(L.p),h=l.useMemo(()=>{var e,n;if(!(null==d?void 0:d.content))return"";let s=(null==d?void 0:d.filepath)&&null!==(e=(0,m.U$)(null==d?void 0:d.filepath)[0])&&void 0!==e?e:"";return"\n```".concat(s,"\n").concat(null!==(n=null==d?void 0:d.content)&&void 0!==n?n:"","\n","```","\n")},[d]),v=null;if(h&&i.selectContext){let{range:e,filepath:n}=i.selectContext;v={filepath:n,isMultiLine:!(0,o.Z)(null==e?void 0:e.start)&&!(0,o.Z)(null==e?void 0:e.end)&&e.start<e.end}}return(0,t.jsxs)("div",{className:(0,f.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...e,children:[(0,t.jsxs)("div",{className:(0,f.cn)("flex w-full items-center justify-between md:w-auto",{"hidden md:flex":!(null==c?void 0:c.me.name)}),children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,t.jsx)(E.Y,{className:"h-6 w-6 md:h-8 md:w-8",fallback:(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center md:h-8 md:w-8",children:(0,t.jsx)(C.IconUser,{className:"h-6 w-6"})})})}),(0,t.jsx)("p",{className:"block text-xs font-bold md:hidden",children:null==c?void 0:c.me.name})]}),(0,t.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,t.jsx)(D,{...e})})]}),(0,t.jsxs)("div",{className:"group relative flex w-full justify-between gap-x-2",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,t.jsx)(O,{message:i.message}),!!h&&(0,t.jsx)(O,{message:h}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(D,{...e})}),v&&i.selectContext&&(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-1 overflow-x-auto text-xs text-muted-foreground hover:underline",onClick:()=>null==x?void 0:x(i.selectContext,{openInEditor:"vscode"===p}),children:[(0,t.jsx)(C.IconFile,{className:"h-3 w-3"}),(0,t.jsxs)("p",{className:"flex-1 truncate pr-1",children:[(0,t.jsx)("span",{children:v.filepath}),(null===(s=i.selectContext)||void 0===s?void 0:null===(n=s.range)||void 0===n?void 0:n.start)&&(0,t.jsxs)("span",{children:[":",null===(a=i.selectContext)||void 0===a?void 0:a.range.start]}),v.isMultiLine&&(0,t.jsxs)("span",{children:["-",null===(r=i.selectContext)||void 0===r?void 0:r.range.end]})]})]})]}),!(null==c?void 0:c.me.name)&&(0,t.jsx)("div",{className:"editor-bg absolute right-0 top-0 -mt-0.5 block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,t.jsx)(D,{...e})})]})]})}function D(e){let{message:n}=e,{handleMessageAction:s}=l.useContext(L.p);return(0,t.jsx)(T,{children:(0,t.jsxs)(k.z,{variant:"ghost",size:"icon",onClick:e=>null==s?void 0:s(n.id,"delete"),children:[(0,t.jsx)(C.IconTrash,{}),(0,t.jsx)("span",{className:"sr-only",children:"Delete message"})]})})}function I(e){let{message:n,userMessage:s,isLoading:a,userMessageId:r,...i}=e,{onNavigateToContext:o,client:c}=l.useContext(L.p),d=l.useMemo(()=>{var e,s;return null!==(s=null==n?void 0:null===(e=n.relevant_code)||void 0===e?void 0:e.map(e=>{var n,s;let t=null!==(s=null===(n=e.doc)||void 0===n?void 0:n.start_line)&&void 0!==s?s:0,l=e.doc.body.split("\n").length;return{kind:"file",range:{start:t,end:t+l-1},filepath:e.doc.filepath,content:e.doc.body,git_url:e.doc.git_url}}))&&void 0!==s?s:[]},[null==n?void 0:n.relevant_code]);return(0,t.jsxs)("div",{className:(0,f.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...i,children:[(0,t.jsxs)("div",{className:"flex w-full items-center justify-between md:w-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,t.jsx)(B,{className:"h-6 w-6 md:h-8 md:w-8"})}),(0,t.jsx)("p",{className:"block text-xs font-bold md:hidden",children:"Tabby"})]}),(0,t.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,t.jsx)(M,{message:n,userMessageId:r})})]}),(0,t.jsxs)("div",{className:"w-full flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,t.jsx)(q,{contexts:d,userContexts:s.relevantContext,onContextClick:(e,n)=>{null==o||o(e,{openInEditor:"vscode"===c&&n})},isExternalLink:!!c}),!a||(null==n?void 0:n.message)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O,{message:n.message}),!!n.error&&(0,t.jsx)(P,{error:n.error})]}):(0,t.jsx)(_,{}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(M,{message:n,userMessageId:r})})]})]})}function M(e){let{handleMessageAction:n,isLoading:s,onCopyContent:a}=l.useContext(L.p),{message:r,userMessageId:i}=e;return(0,t.jsxs)(T,{children:[!s&&(0,t.jsxs)(k.z,{variant:"ghost",size:"icon",onClick:e=>n(i,"regenerate"),children:[(0,t.jsx)(C.IconRefresh,{}),(0,t.jsx)("span",{className:"sr-only",children:"Regenerate message"})]}),(0,t.jsx)(v.q,{value:r.message,onCopyContent:a})]})}function O(e){let{message:n}=e,{onCopyContent:s,onApplyInEditor:a}=l.useContext(L.p);return(0,t.jsx)(h.s,{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[c.Z,d.Z],components:{p(e){let{children:n}=e;return(0,t.jsx)("p",{className:"mb-2 last:mb-0",children:n})},code(e){var n;let{node:l,inline:r,className:i,children:o,...c}=e;if(o.length){if("▍"==o[0])return(0,t.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});o[0]=o[0].replace("`▍`","▍")}let d=/language-(\w+)/.exec(i||""),u=function(e){let n={};if(!e)return n;let s=e.split(" ");return s.forEach(e=>{let[s,t]=e.split("=");n[s]=t}),n}(null===(n=l.data)||void 0===n?void 0:n.meta),m=(null==u?void 0:u.is_reference)==="1";return m?null:r?(0,t.jsx)("code",{className:i,...c,children:o}):(0,t.jsx)(x.dn,{language:d&&d[1]||"",value:String(o).replace(/\n$/,""),onCopyContent:s,onApplyInEditor:a,...c},Math.random())}},children:n})}function P(e){let{error:n="Fail to fetch"}=e,s=l.useMemo(()=>"```\n"+JSON.stringify({error:!0,message:n},null,2)+"\n```",[n]);return(0,t.jsx)(h.s,{className:"prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[c.Z,d.Z],components:{code(e){let{node:n,inline:s,className:l,children:a,...r}=e;return(0,t.jsx)("div",{...r,className:(0,f.cn)(l,"bg-zinc-950 p-2"),children:a})}},children:s})}function _(){return(0,t.jsxs)("div",{className:"space-y-2 py-2 md:px-1 md:py-0",children:[(0,t.jsx)(A.O,{className:"h-3 w-full"}),(0,t.jsx)(A.O,{className:"h-3 w-full"})]})}function B(e){let{className:n}=e;return(0,t.jsx)(r(),{style:{backgroundColor:"#E8E2D2"},className:(0,f.cn)("rounded-full p-0.5",n),src:i.Z,alt:"tabby"})}function T(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex items-center justify-end transition-opacity group-hover:opacity-100 md:absolute md:-right-[5rem] md:-top-2 md:opacity-0",n),...s})}let q=e=>{let{contexts:n,userContexts:s,className:l,onContextClick:a,defaultOpen:r,enableTooltip:i,onTooltipClick:o,isExternalLink:c}=e,d=((null==s?void 0:s.length)||0)+n.length;return 0===d?null:(0,t.jsx)(j,{type:"single",collapsible:!0,className:(0,f.cn)("bg-transparent text-foreground",l),defaultValue:r?"references":void 0,children:(0,t.jsxs)(y,{value:"references",className:"my-0 border-0",children:[(0,t.jsx)(w,{className:"my-0 py-2 font-semibold",children:(0,t.jsx)("span",{className:"mr-2",children:"Read ".concat(d," file").concat(d>1?"s":"")})}),(0,t.jsxs)(N,{className:"space-y-2",children:[null==s?void 0:s.map((e,n)=>(0,t.jsx)(Z,{context:e,onContextClick:e=>null==a?void 0:a(e,!0)},"user-".concat(n))),n.map((e,n)=>(0,t.jsx)(Z,{context:e,onContextClick:e=>null==a?void 0:a(e,!1),enableTooltip:i,onTooltipClick:o,isExternalLink:c},"assistant-".concat(n)))]})]})})};function Z(e){var n,s,a,r;let{context:i,clickable:c=!0,onContextClick:d,enableTooltip:u,onTooltipClick:m,isExternalLink:x}=e,[h,v]=(0,l.useState)(!1),g=!(0,o.Z)(null===(n=i.range)||void 0===n?void 0:n.start)&&!(0,o.Z)(null===(s=i.range)||void 0===s?void 0:s.end)&&i.range.start<i.range.end,b=i.filepath.split("/"),j=b[b.length-1],y=b.slice(0,b.length-1).join("/"),w=null==i?void 0:null===(a=i.extra)||void 0===a?void 0:a.scores;return(0,t.jsxs)(p.u,{open:h,onOpenChange:e=>{u&&w&&v(e)},delayDuration:0,children:[(0,t.jsx)(p.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:(0,f.cn)("rounded-md border p-2",{"cursor-pointer hover:bg-accent":c,"cursor-default pointer-events-auto":!c}),onClick:e=>c&&(null==d?void 0:d(i)),children:(0,t.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,t.jsx)(C.IconFile,{className:"shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 truncate",title:i.filepath,children:[(0,t.jsx)("span",{children:j}),(null===(r=i.range)||void 0===r?void 0:r.start)&&(0,t.jsxs)("span",{className:"text-muted-foreground",children:[":",i.range.start]}),g&&(0,t.jsxs)("span",{className:"text-muted-foreground",children:["-",i.range.end]}),(0,t.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:y})]}),x&&(0,t.jsx)(C.IconExternalLink,{className:"shrink-0 text-muted-foreground"})]})})}),(0,t.jsx)(p._v,{align:"start",onClick:m,className:"cursor-pointer p-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-2 font-semibold",children:"Scores"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-20",children:"rrf:"}),null==w?void 0:w.rrf]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-20",children:"bm25:"}),null==w?void 0:w.bm25]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-20",children:"embedding:"}),null==w?void 0:w.embedding]})]})]})})]})}},48537:function(e,n,s){s.d(n,{q:function(){return i}});var t=s(36164);s(3546);var l=s(28312),a=s(31458),r=s(81565);function i(e){let{className:n,value:s,onCopyContent:i,text:o,...c}=e,{isCopied:d,copyToClipboard:u}=(0,l.m)({timeout:2e3,onCopyContent:i});return s?(0,t.jsxs)(a.z,{variant:"ghost",size:o?"default":"icon",className:n,onClick:()=>{d||u(s)},...c,children:[d?(0,t.jsx)(r.IconCheck,{className:"text-green-600"}):(0,t.jsx)(r.IconCopy,{}),o&&(0,t.jsx)("span",{children:o}),!o&&(0,t.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},73033:function(e,n,s){s.d(n,{s:function(){return a}});var t=s(3546),l=s(52991);let a=(0,t.memo)(l.D,(e,n)=>e.children===n.children&&e.className===n.className)},90379:function(e,n,s){s.d(n,{PF:function(){return o},cg:function(){return r},tB:function(){return i}});var t=s(36164),l=s(74248),a=s(3448);let r=e=>{let{className:n,...s}=e;return(0,t.jsxs)("div",{className:(0,l.cn)("space-y-3",n),...s,children:[(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-full"})]})},i=e=>{let{className:n,...s}=e;return(0,t.jsx)(a.O,{className:(0,l.cn)("h-4 w-full",n),...s})},o=e=>{let{className:n,...s}=e;return(0,t.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-3",n),...s,children:[(0,t.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,t.jsx)(a.O,{className:"h-4 w-full"}),(0,t.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,t.jsx)(a.O,{className:"h-4 w-full"})]})}},31458:function(e,n,s){s.d(n,{d:function(){return o},z:function(){return c}});var t=s(36164),l=s(3546),a=s(74047),r=s(14375),i=s(74248);let o=(0,r.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,n)=>{let{className:s,variant:l,size:r,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,t.jsx)(u,{className:(0,i.cn)(o({variant:l,size:r,className:s})),ref:n,...d})});c.displayName="Button"},90958:function(e,n,s){s.d(n,{dn:function(){return u}});var t=s(36164),l=s(3546),a=s(73162),r=s(83008),i=s(28312),o=s(31458),c=s(81565),d=s(29);let u=(0,l.memo)(e=>{let{language:n,value:s,onCopyContent:l,onApplyInEditor:u}=e,{isCopied:m,copyToClipboard:f}=(0,i.m)({timeout:2e3,onCopyContent:l});return(0,t.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,t.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,t.jsx)("span",{className:"text-xs lowercase",children:n}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[u&&(0,t.jsxs)(d.u,{children:[(0,t.jsx)(d.aJ,{asChild:!0,children:(0,t.jsxs)(o.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:u.bind(null,s),children:[(0,t.jsx)(c.IconApplyInEditor,{}),(0,t.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,t.jsx)(d._v,{children:(0,t.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,t.jsxs)(d.u,{children:[(0,t.jsx)(d.aJ,{asChild:!0,children:(0,t.jsxs)(o.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{m||f(s)},children:[m?(0,t.jsx)(c.IconCheck,{}):(0,t.jsx)(c.IconCopy,{}),(0,t.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,t.jsx)(d._v,{children:(0,t.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,t.jsx)(a.Z,{language:"toml"===n?"bash":n,style:r.RY,PreTag:"div",showLineNumbers:!0,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},children:s})]})});u.displayName="CodeBlock"},82394:function(e,n,s){s.d(n,{I:function(){return r}});var t=s(36164),l=s(3546),a=s(74248);let r=l.forwardRef((e,n)=>{let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...r})});r.displayName="Input"},84942:function(e,n,s){s.d(n,{J2:function(){return i},i9:function(){return d},tW:function(){return u},xo:function(){return o},xp:function(){return c},yk:function(){return m}});var t=s(36164),l=s(3546),a=s(83299),r=s(74248);let i=a.fC,o=a.xz,c=a.x8,d=a.h_,u=a.ee,m=l.forwardRef((e,n)=>{let{className:s,sideOffset:l=4,...i}=e;return(0,t.jsx)(a.VY,{ref:n,sideOffset:l,className:(0,r.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});m.displayName=a.VY.displayName},11208:function(e,n,s){s.d(n,{Z:function(){return i}});var t=s(36164),l=s(3546),a=s(74225),r=s(74248);let i=l.forwardRef((e,n)=>{let{className:s,orientation:l="horizontal",decorative:i=!0,...o}=e;return(0,t.jsx)(a.f,{ref:n,decorative:i,orientation:l,className:(0,r.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",s),...o})});i.displayName=a.f.displayName},3448:function(e,n,s){s.d(n,{O:function(){return a}});var t=s(36164),l=s(74248);function a(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...s})}},29:function(e,n,s){s.d(n,{_v:function(){return d},aJ:function(){return c},pn:function(){return i},u:function(){return o}});var t=s(36164),l=s(3546),a=s(44421),r=s(74248);let i=a.zt,o=a.fC,c=a.xz,d=l.forwardRef((e,n)=>{let{className:s,sideOffset:l=4,...i}=e;return(0,t.jsx)(a.VY,{ref:n,sideOffset:l,className:(0,r.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs font-medium text-popover-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",s),...i})});d.displayName=a.VY.displayName},52569:function(e,n,s){s.d(n,{Y:function(){return b},n:function(){return j}});var t=s(36164),l=s(3546),a=s(87782),r=s(21454),i=s(36327),o=s(98454),c=s(3765),d=s(74248),u=s(66612);let m=l.forwardRef((e,n)=>{let{className:s,...l}=e;return(0,t.jsx)(u.fC,{ref:n,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});m.displayName=u.fC.displayName;let f=l.forwardRef((e,n)=>{let{className:s,...l}=e;return(0,t.jsx)(u.Ee,{ref:n,className:(0,d.cn)("aspect-square h-full w-full",s),...l})});f.displayName=u.Ee.displayName;let x=l.forwardRef((e,n)=>{let{className:s,...l}=e;return(0,t.jsx)(u.NY,{ref:n,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});x.displayName=u.NY.displayName;var p=s(3448),h=s(30410).lW;let v="not_found",g=!0;function b(e){var n,s,r,u;let{className:b,fallback:j}=e,[{data:y}]=(0,o.P)(),w=null==y?void 0:y.me.id,N=w&&"/avatar/".concat(y.me.id)||null,{data:k,isLoading:C,error:S}=(0,i.Z)(N,e=>{if(g)return(0,c.Z)(e,{responseFormatter:async e=>{let n=await e.blob(),s=h.from(await n.arrayBuffer());return"data:image/png;base64,".concat(s.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(v)}})}),A=l.useMemo(()=>{var e;if(null==y?void 0:null===(e=y.me)||void 0===e?void 0:e.email)return(0,a.B)(y.me.email)},[null==y?void 0:null===(n=y.me)||void 0===n?void 0:n.email]);return C?(0,t.jsx)(p.O,{className:(0,d.cn)("h-16 w-16 rounded-full",b)}):((null==S?void 0:S.message)===v&&(g=!1),k||A||!j)?!k&&A?(0,t.jsx)(a.Z,{className:(0,d.cn)("h-16 w-16",b),...A}):(0,t.jsxs)(m,{className:(0,d.cn)("h-16 w-16",b),children:[(0,t.jsx)(f,{src:k,alt:null==y?void 0:null===(s=y.me)||void 0===s?void 0:s.email,className:"object-cover"}),(0,t.jsx)(x,{children:null==y?void 0:null===(u=y.me)||void 0===u?void 0:null===(r=u.email)||void 0===r?void 0:r.substring(0,2)})]}):j}let j=e=>{g=!0,(0,r.JG)("/avatar/".concat(e))}},12624:function(e,n,s){s.d(n,{e:function(){return a}});var t=s(3546),l=s(62940);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,[s,a]=t.useState(!1);return t.useEffect(()=>{if(n)return;let s=(0,l.Z)(()=>{a(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),s(),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[e,n]),t.useEffect(()=>{if(!n)return;let s=(0,l.Z)(()=>{let{scrollTop:s,clientHeight:t,scrollHeight:l}=n;a(s+t>=l-e)},100,{leading:!0});return n.addEventListener("scroll",s,{passive:!0}),n.addEventListener("resize",s,{passive:!0}),s(),()=>{n.removeEventListener("scroll",s),n.removeEventListener("resize",s)}},[e,n]),s}},28312:function(e,n,s){s.d(n,{m:function(){return i}});var t=s(3546),l=s(61200),a=s.n(l),r=s(2578);function i(e){let{timeout:n=2e3,onError:s,onCopyContent:l}=e,[i,o]=t.useState(!1),c=()=>{o(!0),setTimeout(()=>{o(!1)},n)},d=e=>{if("function"==typeof s){null==s||s(e);return}r.A.error("Failed to copy.")};return{isCopied:i,copyToClipboard:e=>{var n;if(e){if(l){l(e),c();return}if(null===(n=navigator.clipboard)||void 0===n?void 0:n.writeText)navigator.clipboard.writeText(e).then(c).catch(d);else{let n=a()(e);n?c():d()}}}}}},24449:function(e,n,s){s.d(n,{S:function(){return i},n:function(){return o}});var t=s(3546),l=s(45391),a=s(16784);let r=e=>{let n=(0,a.d)(e);t.useEffect(()=>()=>{n.current()},[])};function i(e,n,s){let i=(0,a.d)(e),o=t.useMemo(()=>(0,l.Z)(function(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return i.current(...n)},n,s),[]);return r(()=>{var e;null==s||null===(e=s.onUnmount)||void 0===e||e.call(s,o),o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}function o(e,n,s){let[l,a]=t.useState(e),{run:r}=i(()=>{a(e)},n,s);return t.useEffect(()=>{r()},[e]),[l,a]}},16784:function(e,n,s){s.d(n,{d:function(){return l}});var t=s(3546);function l(e){let n=t.useRef(e);return n.current=e,n}},98454:function(e,n,s){s.d(n,{P:function(){return r}});var t=s(40055),l=s(43240);let a=(0,l.BX)("\n  query MeQuery {\n    me {\n      id\n      authToken\n      email\n      isAdmin\n      isPasswordSet\n      name\n    }\n  }\n"),r=()=>(0,t.aM)({query:a})},49142:function(e,n,s){s.d(n,{t:function(){return a}});var t=s(3546),l=s(15696);function a(e){let{api:n="/v1beta/answer",onError:s,headers:a,fetcher:r}=e,[i,o]=t.useState(!1),[c,d]=t.useState(),[u,m]=t.useState(),f=t.useRef(null),x=e=>{if("event"===e.type&&"data"in e){let n=JSON.parse(e.data);n&&d(e=>p(e,n))}},p=(e,n)=>{var s,t;return e?{...e,answer_delta:"".concat(null!==(s=null==e?void 0:e.answer_delta)&&void 0!==s?s:"").concat(null!==(t=null==n?void 0:n.answer_delta)&&void 0!==t?t:""),relevant_documents:(null==n?void 0:n.relevant_documents)||e.relevant_documents,relevant_questions:(null==n?void 0:n.relevant_questions)||e.relevant_questions}:n},h=async e=>{try{o(!0),m(void 0),d(void 0);let s=new AbortController;f.current=s;let i=null!=r?r:window.fetch,c=await i(n,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...a},signal:null==s?void 0:s.signal}).catch(e=>{throw e});if(!(null==c?void 0:c.ok))throw Error(String(c.status));if(null==c.body)throw Error("The response body is empty");let u=c.body.pipeThrough(new TextDecoderStream).pipeThrough(new l.m).getReader();for(;;){var t;let{done:e,value:n}=await u.read();if(e||(null===(t=s.signal)||void 0===t?void 0:t.aborted))break;x(n)}}catch(e){if((null==e?void 0:e.name)==="AbortError")return f.current=null,null;s&&e instanceof Error&&s(e),m(e)}finally{o(!1)}};return{isLoading:i,answer:c,error:u,setError:m,triggerRequest:h,stop:()=>{f.current&&(f.current.abort(),f.current=null)}}}},63484:function(e,n,s){s.d(n,{U$:function(){return d},t:function(){return u}});var t=s(14283),l=s.n(t),a=s(34021),r=s(74630),i=s(18500),o=JSON.parse('{"Mercury":"#ff2b2b","TypeScript":"#2b7489","PureBasic":"#5a6986","Objective-C++":"#6866fb","Self":"#0579aa","edn":"#db5855","NewLisp":"#87AED7","Jupyter Notebook":"#DA5B0B","Rebol":"#358a5b","Frege":"#00cafe","Dart":"#00B4AB","AspectJ":"#a957b0","Shell":"#89e051","Web Ontology Language":"#9cc9dd","xBase":"#403a40","Eiffel":"#946d57","Nix":"#7e7eff","RAML":"#77d9fb","MTML":"#b7e1f4","Racket":"#22228f","Elixir":"#6e4a7e","SAS":"#B34936","Agda":"#315665","wisp":"#7582D1","D":"#ba595e","Kotlin":"#F18E33","Opal":"#f7ede0","Crystal":"#776791","Objective-C":"#438eff","ColdFusion CFC":"#ed2cd6","Oz":"#fab738","Mirah":"#c7a938","Objective-J":"#ff0c5a","Gosu":"#82937f","FreeMarker":"#0050b2","Ruby":"#701516","Component Pascal":"#b0ce4e","Arc":"#aa2afe","Brainfuck":"#2F2530","Nit":"#009917","APL":"#5A8164","Go":"#375eab","Visual Basic":"#945db7","PHP":"#4F5D95","Cirru":"#ccccff","SQF":"#3F3F3F","Glyph":"#e4cc98","Java":"#b07219","MAXScript":"#00a6a6","Scala":"#DC322F","Makefile":"#427819","ColdFusion":"#ed2cd6","Perl":"#0298c3","Lua":"#000080","Vue":"#2c3e50","Verilog":"#b2b7f8","Factor":"#636746","Haxe":"#df7900","Pure Data":"#91de79","Forth":"#341708","Red":"#ee0000","Hy":"#7790B2","Volt":"#1F1F1F","LSL":"#3d9970","eC":"#913960","CoffeeScript":"#244776","HTML":"#e44b23","Lex":"#DBCA00","API Blueprint":"#2ACCA8","Swift":"#ffac45","C":"#555555","AutoHotkey":"#6594b9","Isabelle":"#FEFE00","Metal":"#8f14e9","Clarion":"#db901e","JSONiq":"#40d47e","Boo":"#d4bec1","AutoIt":"#1C3552","Clojure":"#db5855","Rust":"#dea584","Prolog":"#74283c","SourcePawn":"#5c7611","AMPL":"#E6EFBB","FORTRAN":"#4d41b1","ANTLR":"#9DC3FF","Harbour":"#0e60e3","Tcl":"#e4cc98","BlitzMax":"#cd6400","PigLatin":"#fcd7de","Lasso":"#999999","ECL":"#8a1267","VHDL":"#adb2cb","Elm":"#60B5CC","Propeller Spin":"#7fa2a7","X10":"#4B6BEF","IDL":"#a3522f","ATS":"#1ac620","Ada":"#02f88c","Unity3D Asset":"#ab69a1","Nu":"#c9df40","LFE":"#004200","SuperCollider":"#46390b","Oxygene":"#cdd0e3","ASP":"#6a40fd","Assembly":"#6E4C13","Gnuplot":"#f0a9f0","JFlex":"#DBCA00","NetLinx":"#0aa0ff","Turing":"#45f715","Vala":"#fbe5cd","Processing":"#0096D8","Arduino":"#bd79d1","FLUX":"#88ccff","NetLogo":"#ff6375","CSharp":"#178600","CSS":"#563d7c","Emacs Lisp":"#c065db","Stan":"#b2011d","SaltStack":"#646464","QML":"#44a51c","Pike":"#005390","LOLCODE":"#cc9900","ooc":"#b0b77e","Handlebars":"#01a9d6","J":"#9EEDFF","Mask":"#f97732","EmberScript":"#FFF4F3","TeX":"#3D6117","Nemerle":"#3d3c6e","KRL":"#28431f","Ren\'Py":"#ff7f7f","Unified Parallel C":"#4e3617","Golo":"#88562A","Fancy":"#7b9db4","OCaml":"#3be133","Shen":"#120F14","Pascal":"#b0ce4e","F#":"#b845fc","Puppet":"#302B6D","ActionScript":"#882B0F","Diff":"#88dddd","Ragel in Ruby Host":"#9d5200","Fantom":"#dbded5","Zephir":"#118f9e","Click":"#E4E6F3","Smalltalk":"#596706","DM":"#447265","Ioke":"#078193","PogoScript":"#d80074","LiveScript":"#499886","JavaScript":"#f1e05a","VimL":"#199f4b","PureScript":"#1D222D","ABAP":"#E8274B","Matlab":"#bb92ac","Slash":"#007eff","R":"#198ce7","Erlang":"#B83998","Pan":"#cc0000","LookML":"#652B81","Eagle":"#814C05","Scheme":"#1e4aec","PLSQL":"#dad8d8","Python":"#3572A5","Max":"#c4a79c","Common Lisp":"#3fb68b","Latte":"#A8FF97","XQuery":"#5232e7","Omgrofl":"#cabbff","XC":"#99DA07","Nimrod":"#37775b","SystemVerilog":"#DAE1C2","Chapel":"#8dc63f","Groovy":"#e69f56","Dylan":"#6c616e","E":"#ccce35","Parrot":"#f3ca0a","Grammatical Framework":"#79aa7a","Game Maker Language":"#8fb200","Papyrus":"#6600cc","NetLinx+ERB":"#747faa","Clean":"#3F85AF","Alloy":"#64C800","Squirrel":"#800000","PAWN":"#dbb284","UnrealScript":"#a54c4d","Standard ML":"#dc566d","Slim":"#ff8f77","Perl6":"#0000fb","Julia":"#a270ba","Haskell":"#29b544","NCL":"#28431f","Io":"#a9188d","Rouge":"#cc0088","cpp":"#f34b7d","AGS Script":"#B9D9FF","Dogescript":"#cca760","nesC":"#94B0C7"}'),c={abap:{filenames:[],extnames:["abap"]},actionscript:{filenames:[],extnames:["as"]},ada:{filenames:[],extnames:["ada","adb","ads"]},apacheconf:{filenames:[".htaccess","apache2.conf","httpd.conf"],extnames:["apacheconf","vhost"]},apl:{filenames:[],extnames:["apl","dyalog"]},applescript:{filenames:[],extnames:["applescript","scpt"]},arff:{filenames:[],extnames:["arff"]},asciidoc:{filenames:[],extnames:["asciidoc","adoc","asc"]},asm6502:{filenames:[],extnames:["asm"]},autohotkey:{filenames:[],extnames:["ahk","ahkl"]},autoit:{filenames:[],extnames:["au3"]},bash:{filenames:[".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_logout","bash_profile","bashrc","cshrc","gradlew","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"],extnames:["sh","bash","bats","cgi","command","fcgi","ksh","tmux","tool","zsh"]},basic:{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},batch:{filenames:[],extnames:["bat","cmd"]},bison:{filenames:[],extnames:["bison"]},brainfuck:{filenames:[],extnames:["b","bf"]},bro:{filenames:[],extnames:["bro"]},c:{filenames:[],extnames:["c","cats","h","idc"]},csharp:{filenames:[],extnames:["cs","cake","cshtml","csx"]},cpp:{filenames:[],extnames:["cpp","c++","cc","cp","cxx","h","h++","hh","hpp","hxx","inc","inl","ino","ipp","re","tcc","tpp"]},coffeescript:{filenames:["Cakefile"],extnames:["coffee","_coffee","cake","cjsx","iced"]},clojure:{filenames:["riemann.config"],extnames:["clj","boot","cl2","cljc","cljs","cljs.hl","cljscm","cljx","hic"]},crystal:{filenames:[],extnames:["cr"]},css:{filenames:[],extnames:["css"]},d:{filenames:[],extnames:["d","di"]},dart:{filenames:[],extnames:["dart"]},diff:{filenames:[],extnames:["diff","patch"]},django:{filenames:[],extnames:["jinja","jinja2","mustache","njk"]},dockerfile:{filenames:["Dockerfile"],extnames:["dockerfile"]},eiffel:{filenames:[],extnames:["e"]},elixir:{filenames:["mix.lock"],extnames:["ex","exs"]},elm:{filenames:[],extnames:["elm"]},erb:{filenames:[],extnames:["erb"]},erlang:{filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"],extnames:["erl","app.src","es","escript","hrl","xrl","yrl"]},fsharp:{filenames:[],extnames:["fs","fsi","fsx"]},fortran:{filenames:[],extnames:["f90","f","f03","f08","f77","f95","for","fpp"]},gedcom:{filenames:[],extnames:["ged"]},gherkin:{filenames:[],extnames:["feature"]},glsl:{filenames:[],extnames:["glsl","fp","frag","frg","fs","fsh","fshader","geo","geom","glslv","gshader","shader","tesc","tese","vert","vrx","vsh","vshader"]},go:{filenames:[],extnames:["go"]},graphql:{filenames:[],extnames:["graphql","gql"]},groovy:{filenames:["Jenkinsfile"],extnames:["groovy","grt","gtpl","gvy"]},haml:{filenames:[],extnames:["haml"]},handlebars:{filenames:[],extnames:["handlebars","hbs"]},haskell:{filenames:[],extnames:["hs","hsc"]},haxe:{filenames:[],extnames:["hx","hxsl"]},http:{filenames:[],extnames:["http"]},icon:{filenames:[],extnames:["icn"]},inform7:{filenames:[],extnames:["ni","i7x"]},ini:{filenames:[".editorconfig",".gitconfig"],extnames:["ini","cfg","lektorproject","prefs","pro","properties"]},io:{filenames:[],extnames:["io"]},j:{filenames:[],extnames:["ijs"]},java:{filenames:[],extnames:["java"]},javascript:{filenames:["Jakefile"],extnames:["js","_js","cjs","bones","es","es6","frag","gs","jake","jsb","jscad","jsfl","jsm","jss","mjs","njs","pac","sjs","ssjs","xsjs","xsjslib"]},jolie:{filenames:[],extnames:["ol","iol"]},json:{filenames:[".arcconfig",".htmlhintrc",".tern-config",".tern-project","composer.lock","mcmod.info"],extnames:["json","avsc","geojson","gltf","JSON-tmLanguage","jsonl","tfstate","topojson","webapp","webmanifest","yy","yyp"]},julia:{filenames:[],extnames:["jl"]},keyman:{filenames:[],extnames:["kmn"]},kotlin:{filenames:[],extnames:["kt","ktm","kts"]},latex:{filenames:[],extnames:["tex","aux","bbx","bib","cbx","cls","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc"]},less:{filenames:[],extnames:["less"]},liquid:{filenames:[],extnames:["liquid"]},lisp:{filenames:[],extnames:["lisp","asd","cl","l","lsp","ny","podsl","sexp"]},livescript:{filenames:["Slakefile"],extnames:["ls","_ls"]},lolcode:{filenames:[],extnames:["lol"]},lua:{filenames:[],extnames:["lua","fcgi","nse","p8","pd_lua","rbxs","wlua"]},cmake:{filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"],extnames:["mak","d","make","mk","mkfile"]},markdown:{filenames:["contents.lr","LICENSE"],extnames:["md","markdown","mdown","mdwn","mkd","mkdn","mkdown","ronn","workbook"]},markup:{filenames:[],extnames:["apib","blade","chem","ecr","eex","ejs","html","htm","ipynb","kit","latte","marko","mask","mtml","phtml","pic","raml","rhtml","vue","xht","xhtml"]},matlab:{filenames:[],extnames:["matlab","m"]},mel:{filenames:[],extnames:["mel"]},mizar:{filenames:[],extnames:["miz","voc"]},monkey:{filenames:[],extnames:["monkey","monkey2"]},n4js:{filenames:[],extnames:["n4jsd"]},nasm:{filenames:[],extnames:["nasm"]},nginx:{filenames:["nginx.conf"],extnames:["nginxconf","vhost"]},nim:{filenames:[],extnames:["nim","nimrod"]},nix:{filenames:[],extnames:["nix"]},nsis:{filenames:[],extnames:["nsi","nsh"]},objectivec:{filenames:[],extnames:["m","h"]},ocaml:{filenames:[],extnames:["ml","eliom","eliomi","ml4","mli","mll","mly"]},opencl:{filenames:[],extnames:["opencl","cl"]},oz:{filenames:[],extnames:["oz"]},pascal:{filenames:[],extnames:["pas","dfm","dpr","inc","lpr","pascal","pp"]},perl:{filenames:["Makefile.PL","Rexfile","ack","cpanfile"],extnames:["pl","al","cgi","fcgi","perl","ph","plx","pm","psgi","t"]},php:{filenames:[".php",".php_cs",".php_cs.dist","Phakefile"],extnames:["php","aw","ctp","fcgi","inc","php3","php4","php5","phps","phpt"]},plsql:{filenames:[],extnames:["pls","bdy","ddl","fnc","pck","pkb","pks","plb","plsql","prc","spc","tpb","tps","trg","vw"]},powershell:{filenames:[],extnames:["ps1","psd1","psm1"]},processing:{filenames:[],extnames:["pde"]},prolog:{filenames:[],extnames:["pl","pro","prolog","yap"]},properties:{filenames:[],extnames:["properties"]},protobuf:{filenames:[],extnames:["proto"]},pug:{filenames:[],extnames:["jade","pug"]},puppet:{filenames:["Modulefile"],extnames:["pp"]},pure:{filenames:[],extnames:["pure"]},python:{filenames:[".gclient","BUCK","BUILD","BUILD.bazel","SConscript","SConstruct","Snakefile","WORKSPACE","wscript"],extnames:["py","bzl","cgi","fcgi","gyp","gypi","lmi","py3","pyde","pyi","pyp","pyt","pyw","rpy","spec","tac","wsgi","xpy"]},q:{filenames:[],extnames:["q"]},qore:{filenames:[],extnames:["q","qm","qtest"]},r:{filenames:[".Rprofile","expr-dist"],extnames:["r","rd","rsx"]},jsx:{filenames:[],extnames:["jsx"]},toml:{filenames:[],extnames:["toml"]},tsx:{filenames:[],extnames:["tsx"]},renpy:{filenames:[],extnames:["rpy"]},reason:{filenames:[],extnames:["re","rei"]},rest:{filenames:[],extnames:["rst","rest"]},rip:{filenames:[],extnames:["rip"]},ruby:{filenames:[".irbrc",".pryrc","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Gemfile.lock","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Thorfile","Vagrantfile","buildfile"],extnames:["rb","builder","eye","fcgi","gemspec","god","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","spec","thor","watchr"]},rust:{filenames:[],extnames:["rs"]},sas:{filenames:[],extnames:["sas"]},sass:{filenames:[],extnames:["sass"]},scss:{filenames:[],extnames:["scss"]},scala:{filenames:[],extnames:["scala","kojo","sbt","sc"]},scheme:{filenames:[],extnames:["scm","sch","sld","sls","sps","ss"]},smalltalk:{filenames:[],extnames:["st","cs"]},smarty:{filenames:[],extnames:["tpl"]},sql:{filenames:[],extnames:["sql","cql","ddl","inc","mysql","prc","tab","udf","viw"]},soy:{filenames:[],extnames:["soy"]},stylus:{filenames:[],extnames:["styl"]},swift:{filenames:[],extnames:["swift"]},tcl:{filenames:["owh","starfield"],extnames:["tcl","adp","tm"]},textile:{filenames:[],extnames:["textile"]},tt2:{filenames:[],extnames:["pm"]},twig:{filenames:[],extnames:["twig"]},typescript:{filenames:[],extnames:["ts"]},velocity:{filenames:[],extnames:["vm"]},verilog:{filenames:[],extnames:["v","veo"]},vhdl:{filenames:[],extnames:["vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw"]},vim:{filenames:[".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],extnames:["vim"]},"visual-basic":{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},wasm:{filenames:[],extnames:["wast","wat"]},xojo:{filenames:[],extnames:["xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window"]},xquery:{filenames:[],extnames:["xquery","xq","xql","xqm","xqy"]},yaml:{filenames:[".clang-format",".clang-tidy",".gemrc","glide.lock"],extnames:["yml","mir","reek","rviz","sublime-syntax","syntax","yaml","yaml-tmlanguage"]}};Object.entries(o).reduce((e,n)=>{let[s,t]=n;return{...e,[s.toLocaleLowerCase()]:t}},{});let d=e=>{let n={},s={};for(let[e,t]of Object.entries(c)){for(let s of t.filenames)(0,a.Z)(n,s)||(n[s]=[]),n[s].push(e);for(let n of t.extnames)(0,a.Z)(s,n)||(s[n]=[]),s[n].push(e)}return[].concat(n[l().basename(e)],s[l().extname(e).substring(1)]).filter(Boolean)},u=(e,n)=>{let s=()=>(0,r.Z)(n)?"Other":n;if(!e)return s();let t=Object.values(i.SQ).map(e=>e.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase());if(-1===t)return s();let l=Object.keys(i.SQ)[t];return({csharp:"C#",cpp:"C++",javascript:"JavaScript",typescript:"TypeScript"})[l.toLocaleLowerCase()]||l}},3765:function(e,n,s){s.d(n,{Z:function(){return o}});var t=s(44745),l=s(57778),a=s(79716),r=s(91302),i=s(66794);async function o(e,n){var s;let t=null!==(s=null==n?void 0:n.customFetch)&&void 0!==s?s:window.fetch;if(function(e){var n;if(e.startsWith("/oauth/providers"))return!1;let s=null===(n=(0,i.bW)())||void 0===n?void 0:n.accessToken;if(!s)return!0;try{let{exp:e}=(0,a.o)(s);return(0,i.pw)(e)}catch(e){return!0}}(e))return i.gN.refreshToken(c).then(s=>m(e,n));let l=await t(e,d(n));return 401===l.status?(i.gN.clearAccessToken(),i.gN.refreshToken(c).then(s=>m(e,n))):f(l,n)}async function c(){var e,n;let s=null===(e=(0,i.bW)())||void 0===e?void 0:e.refreshToken;if(!s)return;let t=await u(s);return null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.refreshToken}function d(e){var n;let s=new Headers(null==e?void 0:e.headers);return s.append("authorization","Bearer ".concat(null===(n=(0,i.bW)())||void 0===n?void 0:n.accessToken)),{...e||{},headers:s}}async function u(e){let n=new t.KU({url:"/graphql",requestPolicy:"network-only",exchanges:[t.Ek]}),s=n.createRequestOperation("mutation",(0,l.h)(r.Dp,{refreshToken:e}));return n.executeMutation(s)}function m(e,n){var s;let t=null!==(s=null==n?void 0:n.customFetch)&&void 0!==s?s:window.fetch;return t(e,d(n)).then(e=>f(e,n))}function f(e,n){return(null==e?void 0:e.ok)?(null==n?void 0:n.responseFormatter)?n.responseFormatter(e):(null==n?void 0:n.responseFormat)==="blob"?e.blob():e.json():(null==n?void 0:n.errorHandler)?n.errorHandler(e):void 0}},23342:function(e,n){n.Z={src:"/_next/static/media/tabby.16ac81a9.png",height:175,width:175,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mMAgUWTGw3KsqO9QOypZeG6NekBuQzI4NCmmaZtFam/K6PtHzYlOH5ysDX7n5QYboJQsKrfd1JN6v+ldXH/F+fa/fWyNf4fEebXBlcwsSbNeWV/+f9FE+t+za2K+xNjLfPf293u6v///xkZQGDDwr7gfetm/d8xr+VPkpXgnzR3nf/xAY6vt6yfK84AUrV5+US9HWtnnVgyrfm/tiTD/9JAo//5Ea5nGUDAkoGBCUQHWEiZysuI7LcwN7wb6WV1IT7YzR7uhh3Lepg+AU2av2AiT0pCuDKDayAvSLwsM4oJAH4LXl0Gpb0HAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}}]);