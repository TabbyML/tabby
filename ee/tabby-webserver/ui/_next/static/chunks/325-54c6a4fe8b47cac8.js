"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{20325:function(e,n,t){t.r(n),t.d(n,{OAuthCredentialList:function(){return y},oauthCredential:function(){return N}});var r=t(36164),a=t(3546),s=t(70652),l=t.n(s),i=t(11978),d=t(1853),o=t(826),c=t(40055),u=t(43240),f=t(18500),m=t(31458),h=t(79972),x=t(81565),p=t(3448),v=t(94770),g=t(6230);let j=[{name:"github",enum:f.O4.Github,meta:{domain:"github.com",displayName:"GitHub"}},{name:"google",enum:f.O4.Google,meta:{domain:"google.com",displayName:"Google"}},{name:"gitlab",enum:f.O4.Gitlab,meta:{domain:"gitlab.com",displayName:"GitLab"}}];var b=t(49694);let N=(0,u.BX)("\n  query OAuthCredential($provider: OAuthProvider!) {\n    oauthCredential(provider: $provider) {\n      provider\n      clientId\n      createdAt\n      updatedAt\n    }\n  }\n"),y=()=>{let[{data:e,fetching:n}]=(0,c.aM)({query:N,variables:{provider:f.O4.Github}}),[{data:t,fetching:s}]=(0,c.aM)({query:N,variables:{provider:f.O4.Google}}),[{data:o,fetching:u}]=(0,c.aM)({query:N,variables:{provider:f.O4.Gitlab}}),h=a.useMemo(()=>(0,d.Z)([null==e?void 0:e.oauthCredential,null==t?void 0:t.oauthCredential,null==o?void 0:o.oauthCredential]),[e,t,o]),x=(0,i.useRouter)(),j=(0,r.jsx)(v.M,{licenses:[f.oj.Enterprise],children:e=>{let{hasValidLicense:n}=e;return(0,r.jsx)(m.z,{disabled:!n,onClick:()=>x.push("/settings/sso/new"),children:"Create"})}});return(null==h?void 0:h.length)?(0,r.jsxs)("div",{children:[(0,r.jsx)(b.J,{}),(0,r.jsx)("div",{className:"flex flex-col gap-8",children:h.map(e=>(0,r.jsx)(w,{data:e},e.provider))}),h.length<3&&(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:j})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(b.J,{}),(0,r.jsx)(g.Z,{loading:n||s||u,fallback:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)(p.O,{className:"h-[180px] w-full rounded-xl"}),(0,r.jsx)(p.O,{className:"h-[180px] w-full rounded-xl"})]}),children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-lg border-4 border-dashed py-8",children:[(0,r.jsx)("div",{children:"No Data"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(l(),{href:"/settings/sso/new",className:(0,m.d)({variant:"default"}),children:"Create"})})]})})]})},w=e=>{let{data:n}=e,t=a.useMemo(()=>{var e;return null===(e=(0,o.Z)(j,{enum:null==n?void 0:n.provider}))||void 0===e?void 0:e.meta},[n]);return n?(0,r.jsxs)(h.Zb,{children:[(0,r.jsx)(h.Ol,{className:"border-b p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(h.ll,{className:"flex items-center gap-2 text-xl",children:[(0,r.jsx)(O,{provider:n.provider}),(null==t?void 0:t.displayName)||n.provider]}),(0,r.jsx)(l(),{href:"/settings/sso/detail/".concat(n.provider.toLowerCase()),className:(0,m.d)({variant:"secondary"}),children:"View"})]})}),(0,r.jsxs)(h.aY,{className:"p-0 text-sm",children:[(0,r.jsxs)("div",{className:"flex border-b px-8 py-4",children:[(0,r.jsx)("span",{className:"w-[100px]",children:"Type"}),(0,r.jsx)("span",{children:"OAuth 2.0"})]}),(0,r.jsxs)("div",{className:"flex px-8 py-4",children:[(0,r.jsx)("span",{className:"w-[100px] shrink-0",children:"Domain"}),(0,r.jsx)("span",{className:"truncate",children:null==t?void 0:t.domain})]})]})]}):null};function O(e){let{provider:n}=e;switch(n){case f.O4.Github:return(0,r.jsx)(x.IconGitHub,{className:"h-6 w-6"});case f.O4.Google:return(0,r.jsx)(x.IconGoogle,{className:"h-6 w-6"});case f.O4.Gitlab:return(0,r.jsx)(x.IconGitLab,{className:"h-6 w-6"});default:return null}}},49694:function(e,n,t){t.d(n,{J:function(){return s}});var r=t(36164),a=t(74248);t(81565);let s=e=>{let{className:n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("min-h-8 mb-4 flex items-center gap-4",n),children:(0,r.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:["Single Sign-On (SSO) is an authentication method that enables users to authenticate with multiple applications and websites via a single set of credentials.",!1]})})}},94770:function(e,n,t){t.d(n,{M:function(){return m}});var r=t(36164),a=t(3546),s=t(70652),l=t.n(s),i=t(88542),d=t(18500),o=t(29917),c=t(74248),u=t(31458),f=t(90615);let m=e=>{let{licenses:n,children:t}=e,[s,m]=a.useState(!1),h=(0,o.Gm)(),x=!!h&&h.status===d.Rj.Ok&&n.includes(h.type),p=e=>{x||m(e)},v=(0,i.Z)(n[0]),g=v;return 2==n.length&&(g="".concat((0,i.Z)(n[0])," or ").concat((0,i.Z)(n[1]))),(0,r.jsxs)(f.zs,{open:s,onOpenChange:p,openDelay:100,children:[(0,r.jsxs)(f.bZ,{side:"top",collisionPadding:16,className:"w-[400px]",children:[(0,r.jsxs)("div",{children:["This feature is only available on Tabby's"," ",(0,r.jsx)("span",{className:"font-semibold",children:g})," plan. Upgrade to use this feature."]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)(l(),{className:(0,u.d)(),href:"/settings/subscription",children:["Upgrade to ",v]})})]}),(0,r.jsx)(f.Yi,{asChild:!0,onClick:e=>{x||(e.preventDefault(),p(!0))},children:(0,r.jsx)("div",{className:(0,c.cn)(x?"":"cursor-not-allowed"),children:t({hasValidLicense:x,license:h})})})]})};m.displayName="LicenseGuard"},6230:function(e,n,t){var r=t(36164),a=t(3546),s=t(24449),l=t(90379);n.Z=e=>{let{loading:n,fallback:t,delay:i,children:d}=e,[o,c]=a.useState(!n),[u]=(0,s.n)(o,null!=i?i:200);return(a.useEffect(()=>{n||o||c(!0)},[n]),u)?d:t||(0,r.jsx)(l.cg,{})}},90379:function(e,n,t){t.d(n,{PF:function(){return d},cg:function(){return l},tB:function(){return i}});var r=t(36164),a=t(74248),s=t(3448);let l=e=>{let{className:n,...t}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("space-y-3",n),...t,children:[(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"})]})},i=e=>{let{className:n,...t}=e;return(0,r.jsx)(s.O,{className:(0,a.cn)("h-4 w-full",n),...t})},d=e=>{let{className:n,...t}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col gap-3",n),...t,children:[(0,r.jsx)(s.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(s.O,{className:"h-4 w-full"})]})}},31458:function(e,n,t){t.d(n,{d:function(){return d},z:function(){return o}});var r=t(36164),a=t(3546),s=t(74047),l=t(14375),i=t(74248);let d=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,n)=>{let{className:t,variant:a,size:l,asChild:o=!1,...c}=e,u=o?s.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:t})),ref:n,...c})});o.displayName="Button"},79972:function(e,n,t){t.d(n,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var r=t(36164),a=t(3546),s=t(74248);let l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:n,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},90615:function(e,n,t){t.d(n,{Yi:function(){return d},bZ:function(){return o},zs:function(){return i}});var r=t(36164),a=t(3546),s=t(38421),l=t(74248);let i=s.fC,d=s.xz,o=a.forwardRef((e,n)=>{let{className:t,align:a="center",sideOffset:i=4,...d}=e;return(0,r.jsx)(s.VY,{ref:n,align:a,sideOffset:i,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})});o.displayName=s.VY.displayName},3448:function(e,n,t){t.d(n,{O:function(){return s}});var r=t(36164),a=t(74248);function s(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...t})}},24449:function(e,n,t){t.d(n,{S:function(){return i},n:function(){return d}});var r=t(3546),a=t(45391),s=t(16784);let l=e=>{let n=(0,s.d)(e);r.useEffect(()=>()=>{n.current()},[])};function i(e,n,t){let i=(0,s.d)(e),d=r.useMemo(()=>(0,a.Z)(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return i.current(...n)},n,t),[]);return l(()=>d.cancel()),{run:d,cancel:d.cancel,flush:d.flush}}function d(e,n,t){let[a,s]=r.useState(e),{run:l}=i(()=>{s(e)},n,t);return r.useEffect(()=>{l()},[e]),[a,s]}},16784:function(e,n,t){t.d(n,{d:function(){return a}});var r=t(3546);function a(e){let n=r.useRef(e);return n.current=e,n}},29917:function(e,n,t){t.d(n,{Gm:function(){return i},jp:function(){return l}});var r=t(40055),a=t(43240);let s=(0,a.BX)("\n  query GetLicenseInfo {\n    license {\n      type\n      status\n      seats\n      seatsUsed\n      issuedAt\n      expiresAt\n    }\n  }\n"),l=()=>(0,r.aM)({query:s}),i=()=>{let[{data:e}]=l();return null==e?void 0:e.license}}}]);