"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4550],{34550:function(e,n,t){t.r(n),t.d(n,{OauthCredentialList:function(){return b},oauthCredential:function(){return N}});var r=t(57437),s=t(2265),a=t(61396),l=t.n(a),i=t(24033),d=t(72999),o=t(83390),c=t(99109),u=t(60106),f=t(70349),m=t(93023),h=t(86110),x=t(25645),p=t(77710),v=t(70825);let g=[{name:"github",enum:f.O4.Github,meta:{domain:"github.com",displayName:"GitHub"}},{name:"google",enum:f.O4.Google,meta:{domain:"google.com",displayName:"Google"}}];var j=t(41696);let N=(0,u.BX)("\n  query OAuthCredential($provider: OAuthProvider!) {\n    oauthCredential(provider: $provider) {\n      provider\n      clientId\n      createdAt\n      updatedAt\n    }\n  }\n"),b=()=>{let[{data:e,fetching:n}]=(0,c.aM)({query:N,variables:{provider:f.O4.Github}}),[{data:t,fetching:a}]=(0,c.aM)({query:N,variables:{provider:f.O4.Google}}),o=s.useMemo(()=>(0,d.Z)([null==e?void 0:e.oauthCredential,null==t?void 0:t.oauthCredential]),[e,t]),u=(0,i.useRouter)(),h=(0,r.jsx)(p.M,{licenses:[f.oj.Enterprise],children:e=>{let{hasValidLicense:n}=e;return(0,r.jsx)(m.z,{disabled:!n,onClick:()=>u.push("/settings/sso/new"),children:"Create"})}});return(null==o?void 0:o.length)?(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{}),(0,r.jsx)("div",{className:"flex flex-col gap-8",children:o.map(e=>(0,r.jsx)(y,{data:e},e.provider))}),o.length<2&&(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:h})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{}),(0,r.jsx)(v.Z,{loading:n||a,fallback:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)(x.O,{className:"h-[180px] w-full rounded-xl"}),(0,r.jsx)(x.O,{className:"h-[180px] w-full rounded-xl"})]}),children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-lg border-4 border-dashed py-8",children:[(0,r.jsx)("div",{children:"No Data"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(l(),{href:"/settings/sso/new",className:(0,m.d)({variant:"default"}),children:"Create"})})]})})]})},y=e=>{let{data:n}=e,t=s.useMemo(()=>{var e;return null===(e=(0,o.Z)(g,{enum:null==n?void 0:n.provider}))||void 0===e?void 0:e.meta},[n]);return(0,r.jsxs)(h.Zb,{children:[(0,r.jsx)(h.Ol,{className:"border-b p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(h.ll,{className:"text-xl",children:(null==t?void 0:t.displayName)||(null==n?void 0:n.provider)}),(0,r.jsx)(l(),{href:"/settings/sso/detail/".concat(null==n?void 0:n.provider.toLowerCase()),className:(0,m.d)({variant:"secondary"}),children:"View"})]})}),(0,r.jsxs)(h.aY,{className:"p-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex border-b py-2",children:[(0,r.jsx)("span",{className:"w-[100px]",children:"Type"}),(0,r.jsx)("span",{children:"OAuth 2.0"})]}),(0,r.jsxs)("div",{className:"flex py-3",children:[(0,r.jsx)("span",{className:"w-[100px] shrink-0",children:"Domain"}),(0,r.jsx)("span",{className:"truncate",children:null==t?void 0:t.domain})]})]})]})}},41696:function(e,n,t){t.d(n,{J:function(){return a}});var r=t(57437),s=t(39311);t(84168);let a=e=>{let{className:n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("min-h-8 mb-4 flex items-center gap-4",n),children:(0,r.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:["Single Sign-On (SSO) is an authentication method that enables users to authenticate with multiple applications and websites via a single set of credentials.",!1]})})}},77710:function(e,n,t){t.d(n,{M:function(){return p}});var r=t(57437),s=t(2265),a=t(61396),l=t.n(a),i=t(86634),d=t(70349),o=t(99238),c=t(39311),u=t(93023),f=t(27275);let m=f.fC,h=f.xz,x=s.forwardRef((e,n)=>{let{className:t,align:s="center",sideOffset:a=4,...l}=e;return(0,r.jsx)(f.VY,{ref:n,align:s,sideOffset:a,className:(0,c.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});x.displayName=f.VY.displayName;let p=e=>{let{licenses:n,children:t}=e,[a,f]=s.useState(!1),p=(0,o.Gm)(),v=!!p&&p.status===d.Rj.Ok&&n.includes(p.type),g=e=>{v||f(e)},j=(0,i.Z)(n[0]),N=j;return 2==n.length&&(N="".concat((0,i.Z)(n[0])," or ").concat((0,i.Z)(n[1]))),(0,r.jsxs)(m,{open:a,onOpenChange:g,openDelay:100,children:[(0,r.jsxs)(x,{side:"top",collisionPadding:16,className:"w-[400px]",children:[(0,r.jsxs)("div",{children:["This feature is only available on Tabby's"," ",(0,r.jsx)("span",{className:"font-semibold",children:N})," plan. Upgrade to use this feature."]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)(l(),{className:(0,u.d)(),href:"/settings/subscription",children:["Upgrade to ",j]})})]}),(0,r.jsx)(h,{asChild:!0,onClick:e=>{v||(e.preventDefault(),g(!0))},children:(0,r.jsx)("div",{className:(0,c.cn)(v?"":"cursor-not-allowed"),children:t({hasValidLicense:v,license:p})})})]})};p.displayName="LicenseGuard"},70825:function(e,n,t){var r=t(57437),s=t(2265),a=t(12897),l=t(93111);n.Z=e=>{let{loading:n,fallback:t,delay:i,children:d}=e,[o,c]=s.useState(!n),[u]=(0,a.n)(o,null!=i?i:200);return(s.useEffect(()=>{n||o||c(!0)},[n]),u)?d:t||(0,r.jsx)(l.c,{})}},93111:function(e,n,t){t.d(n,{P:function(){return i},c:function(){return l}});var r=t(57437),s=t(39311),a=t(25645);let l=e=>{let{className:n,...t}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("space-y-3",n),...t,children:[(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"})]})},i=e=>{let{className:n,...t}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("flex flex-col gap-3",n),...t,children:[(0,r.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(a.O,{className:"h-4 w-full"})]})}},93023:function(e,n,t){t.d(n,{d:function(){return d},z:function(){return o}});var r=t(57437),s=t(2265),a=t(67256),l=t(7404),i=t(39311);let d=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,n)=>{let{className:t,variant:s,size:l,asChild:o=!1,...c}=e,u=o?a.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:s,size:l,className:t})),ref:n,...c})});o.displayName="Button"},86110:function(e,n,t){t.d(n,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var r=t(57437),s=t(2265),a=t(39311);let l=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let i=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:n,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,a.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},25645:function(e,n,t){t.d(n,{O:function(){return a}});var r=t(57437),s=t(39311);function a(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...t})}},12897:function(e,n,t){t.d(n,{S:function(){return i},n:function(){return d}});var r=t(2265),s=t(50976);function a(e){let n=r.useRef(e);return n.current=e,n}let l=e=>{let n=a(e);r.useEffect(()=>()=>{n.current()},[])};function i(e,n,t){let i=a(e),d=r.useMemo(()=>(0,s.Z)(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return i.current(...n)},n,t),[]);return l(()=>d.cancel()),{run:d,cancel:d.cancel,flush:d.flush}}function d(e,n,t){let[s,a]=r.useState(e),{run:l}=i(()=>{a(e)},n,t);return r.useEffect(()=>{l()},[e]),[s,a]}},99238:function(e,n,t){t.d(n,{Gm:function(){return i},jp:function(){return l}});var r=t(99109),s=t(60106);let a=(0,s.BX)("\n  query GetLicenseInfo {\n    license {\n      type\n      status\n      seats\n      seatsUsed\n      issuedAt\n      expiresAt\n    }\n  }\n"),l=()=>(0,r.aM)({query:a}),i=()=>{let[{data:e}]=l();return null==e?void 0:e.license}}}]);