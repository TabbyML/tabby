"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8040],{10221:function(e,t,n){n.d(t,{D:function(){return a}});var r=n(36164),s=n(57288);function a(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("text-xl font-semibold",t),...n})}},31988:function(e,t,n){n.d(t,{w:function(){return i}});var r=n(36164),s=n(57288),a=n(5266),l=n(80363);function i(e){let{value:t,onChange:n,className:i,readonly:c}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("space-y-2",i),children:[(0,r.jsx)(a._,{children:"Type"}),(0,r.jsxs)(l.E,{value:t,onValueChange:e=>null==n?void 0:n(e),className:"flex gap-8",orientation:"horizontal",disabled:c,children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.m,{value:"oauth",id:"r_oauth"}),(0,r.jsx)(a._,{className:"flex cursor-pointer items-center gap-2 pl-2",htmlFor:"r_oauth",children:"OAuth 2.0"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.m,{value:"ldap",id:"r_ldap"}),(0,r.jsx)(a._,{className:"flex cursor-pointer items-center gap-2 pl-2",htmlFor:"r_ldap",children:"LDAP"})]})]})]})}},94770:function(e,t,n){n.d(t,{M:function(){return f}});var r=n(36164),s=n(3546),a=n(70652),l=n.n(a),i=n(88542),c=n(29917),o=n(57288),d=n(31458),u=n(90615);let f=e=>{let{licenses:t,children:n}=e,[a,l]=s.useState(!1),i=(0,c.Gm)(),d=(0,c.Cz)({licenses:t}),{isLicenseOK:f,hasSufficientLicense:x}=d,p=x&&f,h=e=>{p||l(e)};return(0,r.jsxs)(u.zs,{open:a,onOpenChange:h,openDelay:100,children:[(0,r.jsx)(u.bZ,{side:"top",collisionPadding:16,className:"w-[400px]",children:(0,r.jsx)(m,{licenses:t,...d})}),(0,r.jsx)(u.Yi,{asChild:!0,onClick:e=>{p||(e.preventDefault(),h(!0))},children:(0,r.jsx)("div",{className:(0,o.cn)(p?"":"cursor-not-allowed"),children:n({hasValidLicense:p,license:i})})})]})};function m(e){let{hasSufficientLicense:t,isExpired:n,isSeatsExceeded:s,licenses:a}=e,c=(0,i.Z)(a[0]),o=c;return(2==a.length&&(o="".concat((0,i.Z)(a[0])," or ").concat((0,i.Z)(a[1]))),t&&n)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"Your license has expired. Please update your license to use this feature."}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(l(),{className:(0,d.d)(),href:"/settings/subscription",children:"Update license"})})]}):t&&s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"Your seat count has exceeded the limit. Please upgrade your license to continue using this feature."}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(l(),{className:(0,d.d)(),href:"/settings/subscription",children:"Upgrade license"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:["This feature is only available on Tabby's"," ",(0,r.jsx)("span",{className:"font-semibold",children:o})," plan. Upgrade to use this feature."]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)(l(),{className:(0,d.d)(),href:"/settings/subscription",children:["Upgrade to ",c]})})]})}f.displayName="LicenseGuard"},6230:function(e,t,n){var r=n(36164),s=n(3546),a=n(24449),l=n(90379);t.Z=e=>{let{loading:t,fallback:n,delay:i,children:c}=e,[o,d]=s.useState(!t),[u]=(0,a.n)(o,null!=i?i:200);return(s.useEffect(()=>{t||o||d(!0)},[t]),u)?c:n||(0,r.jsx)(l.cg,{})}},90379:function(e,t,n){n.d(t,{PF:function(){return c},cg:function(){return l},tB:function(){return i}});var r=n(36164),s=n(57288),a=n(3448);let l=e=>{let{className:t,...n}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("space-y-3",t),...n,children:[(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-full"})]})},i=e=>{let{className:t,...n}=e;return(0,r.jsx)(a.O,{className:(0,s.cn)("h-4 w-full",t),...n})},c=e=>{let{className:t,...n}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("flex flex-col gap-3",t),...n,children:[(0,r.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(a.O,{className:"h-4 w-full"}),(0,r.jsx)(a.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(a.O,{className:"h-4 w-full"})]})}},73460:function(e,t,n){n.d(t,{OL:function(){return N},_T:function(){return f},aR:function(){return c},f$:function(){return p},fY:function(){return m},le:function(){return v},vW:function(){return o},xo:function(){return x},yT:function(){return h}});var r=n(36164),s=n(3546),a=n(28961),l=n(57288),i=n(31458);let c=a.fC,o=a.xz,d=e=>{let{className:t,children:n,...s}=e;return(0,r.jsx)(a.h_,{className:(0,l.cn)(t),...s,children:(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:n})})};d.displayName=a.h_.displayName;let u=s.forwardRef((e,t)=>{let{className:n,children:s,...i}=e;return(0,r.jsx)(a.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",n),...i,ref:t})});u.displayName=a.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(a.VY,{ref:t,className:(0,l.cn)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 border bg-background p-6 opacity-100 shadow-lg animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",n),...s})]})});f.displayName=a.VY.displayName;let m=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};m.displayName="AlertDialogHeader";let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};x.displayName="AlertDialogFooter";let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",n),...s})});p.displayName=a.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=a.dk.displayName;let N=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aU,{ref:t,className:(0,l.cn)((0,i.d)(),n),...s})});N.displayName=a.aU.displayName;let v=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});v.displayName=a.$j.displayName},98150:function(e,t,n){n.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return o},lX:function(){return p},pf:function(){return N},xJ:function(){return x},zG:function(){return v}});var r=n(36164),s=n(3546),a=n(74047),l=n(5493),i=n(57288),c=n(5266);let o=l.RV,d=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(l.Qr,{...t})})},f=()=>{let e=s.useContext(d),t=s.useContext(m),{getFieldState:n,formState:r}=(0,l.Gc)(),a=e.name||"root",i=n(a,r);if(!r)throw Error("useFormField should be used within <Form>");let{id:c}=t;return{id:c,name:a,formItemId:"".concat(c,"-form-item"),formDescriptionId:"".concat(c,"-form-item-description"),formMessageId:"".concat(c,"-form-item-message"),...i}},m=s.createContext({}),x=s.forwardRef((e,t)=>{let{className:n,...a}=e,l=s.useId();return(0,r.jsx)(m.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",n),...a})})});x.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:n,required:s,...a}=e,{error:l,formItemId:o}=f();return(0,r.jsx)(c._,{ref:t,className:(0,i.cn)(l&&"text-destructive",s&&'after:ml-0.5 after:text-destructive after:content-["*"]',n),htmlFor:o,...a})});p.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...n}=e,{error:s,formItemId:l,formDescriptionId:i,formMessageId:c}=f();return(0,r.jsx)(a.g7,{ref:t,id:l,"aria-describedby":s?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!s,...n})});h.displayName="FormControl";let N=s.forwardRef((e,t)=>{let{className:n,...s}=e,{formDescriptionId:a}=f();return(0,r.jsx)("div",{ref:t,id:a,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});N.displayName="FormDescription";let v=s.forwardRef((e,t)=>{let{className:n,children:s,...a}=e,{error:l,formMessageId:c}=f(),o=l?String(null==l?void 0:l.message):s;return o?(0,r.jsx)("p",{ref:t,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",n),...a,children:o}):null});v.displayName="FormMessage"},90615:function(e,t,n){n.d(t,{Yi:function(){return c},bZ:function(){return o},zs:function(){return i}});var r=n(36164),s=n(3546),a=n(38421),l=n(57288);let i=a.fC,c=a.xz;a.h_;let o=s.forwardRef((e,t)=>{let{className:n,align:s="center",sideOffset:i=4,...c}=e;return(0,r.jsx)(a.VY,{ref:t,align:s,sideOffset:i,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...c})});o.displayName=a.VY.displayName},82394:function(e,t,n){n.d(t,{I:function(){return l}});var r=n(36164),s=n(3546),a=n(57288);let l=s.forwardRef((e,t)=>{let{className:n,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...l})});l.displayName="Input"},5266:function(e,t,n){n.d(t,{_:function(){return o}});var r=n(36164),s=n(3546),a=n(90893),l=n(14375),i=n(57288);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,i.cn)(c(),n),...s})});o.displayName=a.f.displayName},80363:function(e,t,n){n.d(t,{E:function(){return c},m:function(){return o}});var r=n(36164),s=n(3546),a=n(70772),l=n(57288),i=n(81565);let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.fC,{className:(0,l.cn)("grid gap-2",n),...s,ref:t})});c.displayName=a.fC.displayName;let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...s,children:(0,r.jsx)(a.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(i.IconCircle,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=a.ck.displayName},11208:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(36164),s=n(3546),a=n(74225),l=n(57288);let i=s.forwardRef((e,t)=>{let{className:n,orientation:s="horizontal",decorative:i=!0,...c}=e;return(0,r.jsx)(a.f,{ref:t,decorative:i,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",n),...c})});i.displayName=a.f.displayName},3448:function(e,t,n){n.d(t,{O:function(){return a}});var r=n(36164),s=n(57288);function a(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("h-4 animate-pulse rounded-md bg-border",t),...n})}},24449:function(e,t,n){n.d(t,{S:function(){return i},n:function(){return c}});var r=n(3546),s=n(45391),a=n(16784);let l=e=>{let t=(0,a.d)(e);r.useEffect(()=>()=>{t.current()},[])};function i(e,t,n){let i=(0,a.d)(e),c=r.useMemo(()=>(0,s.Z)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.current(...t)},t,n),[]);return l(()=>{var e;null==n||null===(e=n.onUnmount)||void 0===e||e.call(n,c),c.cancel()}),{run:c,cancel:c.cancel,flush:c.flush}}function c(e,t,n){let[s,a]=r.useState(e),{run:l}=i(()=>{a(e)},t,n);return r.useEffect(()=>{l()},[e]),[s,a]}},16784:function(e,t,n){n.d(t,{d:function(){return s}});var r=n(3546);function s(e){let t=r.useRef(e);return t.current=e,t}},29917:function(e,t,n){n.d(t,{Cz:function(){return d},Gm:function(){return o},jp:function(){return c}});var r=n(11978),s=n(40055),a=n(43240),l=n(18500);let i=(0,a.BX)("\n  query GetLicenseInfo {\n    license {\n      type\n      status\n      seats\n      seatsUsed\n      issuedAt\n      expiresAt\n    }\n  }\n"),c=()=>(0,s.aM)({query:i}),o=()=>{let[{data:e}]=c();return null==e?void 0:e.license},d=e=>{var t;let[{data:n}]=c(),s=null==n?void 0:n.license,a=(0,r.useSearchParams)(),i=!!s&&(!(null==e?void 0:null===(t=e.licenses)||void 0===t?void 0:t.length)||e.licenses.includes(s.type)),o=(null==s?void 0:s.status)===l.rW.Ok,d=(null==s?void 0:s.status)===l.rW.Expired,u=(null==s?void 0:s.status)===(null===l.rW||void 0===l.rW?void 0:l.rW.SeatsExceeded),f="expired"===a.get("licenseError"),m="seatsExceed"===a.get("licenseError");return{hasLicense:!!s,isLicenseOK:o&&!(f||m),isExpired:d||f,isSeatsExceeded:u||m,hasSufficientLicense:i}}}}]);