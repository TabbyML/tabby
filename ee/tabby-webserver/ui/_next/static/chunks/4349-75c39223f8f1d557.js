(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4349],{72657:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var s=t(36164);t(3546);var a=t(12624),l=t(57288),r=t(31458),i=t(81565);function o(e){let{className:n,container:t,offset:o,...c}=e,d=(0,a.e)(o||0,t);return(0,s.jsxs)(r.z,{variant:"outline",size:"icon",className:(0,l.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",n),onClick:()=>{t?t.scrollTo({top:t.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,s.jsx)(i.IconArrowDown,{}),(0,s.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},14349:function(e,n,t){"use strict";t.d(n,{e:function(){return eT},p:function(){return eF}});var s=t(36164),a=t(3546),l=t(1853),r=t(78613),i=t(82157),o=t(77735),c=t(72940),d=t(70783),u=t(40055),m=t(21808),f=t(24449),p=t(16784),x=t(64566),h=t(63484),g=t(17451),v=t(70410),b=t(57288),j=t(54767),y=t(94755),N=t(28445),w=t(84837),k=t(2578),C=t(28312),A=t(47241),I=t(11634),M=t(63795),L=t(31458),S=t(81565),E=t(72657),R=t(77246),F=t(29952),T=t(94160),D=t(50292),_=t(59105),z=t(44516),P=t(19092);t(67325);var U=t(12978),Z=t(31022),O=t(18366);let B=(0,O.Z)();var V=t(74787);let q=e=>{let{node:n}=e,t=n.attrs.fileItem,l=(0,b.VJ)(t.filepath).filepath;return(0,a.useEffect)(()=>(B.emit("file_mention_update"),()=>{B.emit("file_mention_update")}),[]),(0,s.jsx)(z.T5,{as:"span",className:"rounded-sm px-1",children:(0,s.jsxs)("span",{className:(0,b.cn)("space-x-0.5 whitespace-nowrap rounded bg-muted px-1.5 py-0.5 align-middle text-sm font-medium text-foreground"),"data-category":n.attrs.category,children:[(0,s.jsx)(S.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,s.jsx)("span",{className:"relative whitespace-normal",children:(0,b.UA)(l)})]})})},H=F.ZP.extend({addNodeView:()=>(0,z.fW)(q),renderText(e){let{node:n}=e,t=n.attrs.fileItem,s=t.filepath;return"[[file:".concat(JSON.stringify(s),"]]")},addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-file"),renderHTML:e=>e.fileItem?{"data-id":JSON.stringify(e.fileItem.filepath)}:{}},fileItem:{default:null,parseHTML:e=>e.getAttribute("data-file"),renderHTML:e=>e.fileItem?{"data-file":e.fileItem}:{}},category:{default:"file",parseHTML:e=>e.getAttribute("data-category"),renderHTML:e=>e.category?{"data-category":e.category}:{}}})}),J=(0,a.forwardRef)((e,n)=>{let{items:t,command:l,query:r,listFileInWorkspace:i}=e,[o,c]=(0,a.useState)(t),[d,u]=(0,a.useState)(0),m=()=>{u((d+o.length-1)%o.length)},f=()=>{u((d+1)%o.length)},p=e=>{let n=o[e];n&&l({category:"file",fileItem:n.fileItem})},x=()=>{p(d)};return(0,a.useEffect)(()=>u(0),[o]),(0,a.useEffect)(()=>{let e=async()=>{if(!i)return[];let e=await i({query:r}),n=(null==e?void 0:e.map(V.Gn))||[];c((0,U.Z)(n,"id"))};e()},[r]),(0,a.useImperativeHandle)(n,()=>({onKeyDown:e=>{let{event:n}=e;return"ArrowUp"===n.key?(m(),!0):"ArrowDown"===n.key?(f(),!0):"Enter"===n.key&&(x(),!0)}})),(0,s.jsxs)("div",{className:"flex max-h-[300px] min-w-[60vw] max-w-[90vw] flex-col overflow-hidden rounded-md border bg-background p-1",children:[(0,s.jsx)("div",{className:"p-1 pl-2 text-sm text-muted-foreground",children:"Files"}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:o.length?(0,s.jsx)("div",{className:"grid gap-0.5",children:o.map((e,n)=>{let t=e.fileItem.filepath;return(0,s.jsx)(G,{onClick:()=>p(n),onMouseEnter:()=>u(n),title:e.filepath,data:e,isSelected:n===d},"".concat(JSON.stringify(t)))})}):(0,s.jsx)("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:r?"No results found":"Type to search..."})})]})});function G(e){let{isSelected:n,data:t,...l}=e,r=(0,a.useRef)(null),i=(0,a.useMemo)(()=>t.filepath.split("/").slice(0,-1).join("/"),[t.filepath]);return(0,a.useLayoutEffect)(()=>{if(n&&r.current){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"nearest"})}},[n]),(0,s.jsxs)("div",{className:(0,b.cn)("flex cursor-pointer flex-nowrap items-center gap-1 overflow-hidden rounded-md px-2 py-1.5 text-sm",{"bg-accent text-accent-foreground":n}),...l,ref:r,children:[(0,s.jsx)("span",{className:"flex h-5 shrink-0 items-center",children:(0,s.jsx)(S.IconFile,{})}),(0,s.jsx)("span",{className:"mr-2 truncate whitespace-nowrap",children:t.name}),(0,s.jsx)("span",{className:"flex-1 truncate text-xs text-muted-foreground",children:i})]})}J.displayName="MentionList";let Y=a.forwardRef(function(e,n){let{onSubmit:t,isLoading:l,onUpdate:r}=e,{listFileInWorkspace:o,readFileContent:c,relevantContext:d,setRelevantContext:u}=(0,a.useContext)(eF),x=(0,p.d)(async()=>{if(l||!g)return;let e=g.getText({blockSeparator:m.rZ}).trim();if(!e)return;let n=t(e);return null==g||g.chain().clearContent().focus().run(),n}),h=()=>{x.current()},g=(0,z.jE)({extensions:[R.Z,T.Z,_.Z,D.Z.configure({placeholder:"typing..."}),W(h),H.configure({deleteTriggerWithBackspace:!0,suggestion:{allow:e=>{let{state:n,range:t}=e,s=n.doc.resolve(t.from),a=n.schema.nodes[F.ZP.name],l=!!s.parent.type.contentMatch.matchType(a);return!!o&&l},char:"@",items:async e=>{let{query:n}=e;if(!o)return[];let t=await o({query:n});return(0,U.Z)((null==t?void 0:t.map(V.Gn))||[],"id")},render:()=>{let e,n;return{onStart:t=>{e=new z.M_(J,{props:{...t,listFileInWorkspace:o},editor:t.editor}),t.clientRect&&(n=(0,Z.ZP)("body",{getReferenceClientRect:t.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"top-start",animation:"shift-away"}))},onUpdate:n=>{e.updateProps(n)},onExit:()=>{n[0].destroy(),e.destroy()},onKeyDown:t=>{var s,a;return"Escape"===t.event.key?(n[0].hide(),!0):null!==(a=null===(s=e.ref)||void 0===s?void 0:s.onKeyDown(t))&&void 0!==a&&a}}}}})],editorProps:{attributes:{class:(0,b.cn)("prose max-w-none font-sans dark:prose-invert focus:outline-none prose-p:my-0")}},onUpdate(e){null==r||r(e)}},[o]),v=(null==g?void 0:g.getText())||"";(0,a.useImperativeHandle)(n,()=>({focus:()=>null==g?void 0:g.commands.focus(),setInput:e=>null==g?void 0:g.commands.setContent(e),input:v,editor:g}),[g,v]);let j=(0,f.S)(async()=>{if(!c||!g)return;let e=[];g.view.state.doc.descendants(n=>{"mention"===n.type.name&&"file"===n.attrs.category&&e.push({kind:"file",content:"",filepath:n.attrs.fileItem.filepath})});let n=[...d],t=e.filter(e=>!d.some(n=>(0,V.nr)((0,b.VU)(e),n))),s=d.filter(n=>!n.range&&!e.some(e=>(0,V.nr)((0,b.VU)(e),n)));for(let e of s)n=n.filter(n=>!(0,i.Z)(n,e));for(let e of t){let t=await c({filepath:e.filepath});n.push((0,b.VU)({kind:"file",content:t||"",filepath:e.filepath}))}u(n)},100);return(0,a.useEffect)(()=>{let e=()=>{j.run()};return B.on("file_mention_update",e),()=>{B.off("file_mention_update",e)}},[]),(0,s.jsx)("div",{className:"relative flex flex-col px-2.5",children:(0,s.jsxs)("div",{className:"relative flex items-start gap-2",children:[(0,s.jsx)("span",{className:"mt-[1.375rem]",children:(0,s.jsx)(S.IconEdit,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"max-h-32 flex-1 overflow-y-auto py-4",onClick:()=>{g&&!g.isFocused&&(null==g||g.commands.focus())},children:(0,s.jsx)(z.kg,{editor:g,className:(0,b.cn)("prose overflow-hidden break-words text-foreground focus:outline-none")})}),(0,s.jsx)(L.z,{className:"mt-4 h-7 w-7",size:"icon",disabled:l||""===v,onClick:h,children:(0,s.jsx)(S.IconArrowElbow,{className:"h-3.5 w-3.5"})})]})})}),W=e=>P.hj.create({addKeyboardShortcuts(){return{Enter:n=>{let{editor:t}=n;return e(),!0},"Shift-Enter":()=>this.editor.commands.first(e=>{let{commands:n}=e;return[()=>n.newlineInCode(),()=>n.createParagraphNear(),()=>n.liftEmptyBlock(),()=>n.splitBlock()]})}}});function K(e){let{href:n,children:t}=e;return(0,s.jsxs)("a",{href:n,target:"_blank",className:"inline-flex flex-1 justify-center gap-1 leading-4 hover:underline",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("svg",{"aria-hidden":"true",height:"7",viewBox:"0 0 6 6",width:"7",className:"opacity-70",children:(0,s.jsx)("path",{d:"M1.25215 5.54731L0.622742 4.9179L3.78169 1.75597H1.3834L1.38936 0.890915H5.27615V4.78069H4.40513L4.41109 2.38538L1.25215 5.54731Z",fill:"currentColor"})})]})}function Q(e){let{className:n,...t}=e;return(0,s.jsxs)("p",{className:(0,b.cn)("px-2 text-center text-xs leading-normal text-muted-foreground",n),...t,children:[(0,s.jsx)(K,{href:"https://tabby.tabbyml.com",children:"Tabby"}),", an opensource, self-hosted AI coding assistant ."]})}var X=t(29),$=t(36065),ee=t(84942),en=t(3448),et=t(6230),es=t(37034);function ea(e){let{repos:n,value:t,onChange:l,isInitializing:r,...i}=e,[o,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),u=e=>{l(e)},m=()=>{requestAnimationFrame(()=>{d.current&&(d.current.scrollTop=0)})},f=t?null==n?void 0:n.find(e=>e.sourceId===t):void 0,p=null==f?void 0:f.sourceName;return r||(null==n?void 0:n.length)?(0,s.jsx)("div",{...i,children:(0,s.jsx)(et.Z,{loading:r,fallback:(0,s.jsx)("div",{className:"w-full pl-2",children:(0,s.jsx)(en.O,{className:"h-3 w-[10rem]"})}),children:(0,s.jsxs)(ee.J2,{open:o,onOpenChange:c,children:[(0,s.jsxs)(M.C,{variant:"outline",className:(0,b.cn)("h-7 items-center gap-1 overflow-hidden break-all rounded-md px-0 text-sm font-semibold hover:bg-muted/50",{"border-dashed text-muted-foreground italic":!f}),children:[(0,s.jsx)(ee.xo,{className:"outline-none",asChild:!0,children:(0,s.jsxs)("div",{className:(0,b.cn)("flex flex-1 cursor-pointer items-center gap-1.5 overflow-hidden pl-2.5",{"min-w-[10rem]":!f}),children:[f?(0,s.jsx)(es.k,{kind:f.sourceKind,className:"h-3.5 w-3.5 shrink-0"}):(0,s.jsx)(S.IconFolderGit,{className:"shrink-0"}),(0,s.jsx)("div",{className:"flex flex-1 items-center gap-1.5 truncate break-all",children:(0,s.jsx)("span",{className:(0,b.cn)("truncate",{"text-muted-foreground":!p}),children:p||"Workspace"})}),!t&&(0,s.jsx)("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center text-foreground",children:(0,s.jsx)(S.IconChevronUpDown,{})})]})}),!!t&&(0,s.jsx)(L.z,{type:"button",size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-l-none bg-background hover:bg-muted/50",onClick:e=>{e.stopPropagation(),l(void 0)},children:(0,s.jsx)(S.IconRemove,{})})]}),(0,s.jsx)(ee.yk,{side:"top",align:"start",className:"dropdown-menu w-[80vw] overflow-x-hidden rounded-md border bg-popover p-2 text-popover-foreground shadow animate-in",children:(0,s.jsxs)($.mY,{children:[(0,s.jsx)($.sZ,{placeholder:"Search context...",onValueChange:()=>{m()}}),(0,s.jsxs)($.e8,{className:"max-h-[30vh]",ref:d,children:[(0,s.jsx)($.rb,{children:"No context found"}),(0,s.jsx)($.fu,{children:null==n?void 0:n.map(e=>{let n=e.sourceId===t;return(0,s.jsxs)($.di,{onSelect:()=>{u(e.sourceId),c(!1)},title:e.sourceName,className:"cursor-pointer",children:[(0,s.jsx)(S.IconCheck,{className:(0,b.cn)("mr-1 shrink-0",e.sourceId===t?"opacity-100":"opacity-0")}),(0,s.jsxs)("div",{className:"flex flex-1 items-center gap-1 overflow-x-hidden",children:[(0,s.jsx)(es.k,{kind:e.sourceKind,className:"shrink-0"}),(0,s.jsx)("div",{className:(0,b.cn)("truncate font-medium",{"font-semibold":n}),children:e.sourceName})]})]},e.sourceId)})})]})]})})]})})}):null}let el=a.forwardRef(function(e,n){var t;let{stop:r,reload:i,className:o,onSubmit:c,onUpdate:d,chatMaxWidthClass:u,chatInputRef:f}=e,{threadId:x,container:h,onClearMessages:R,qaPairs:F,isLoading:T,relevantContext:D,activeSelection:_,onCopyContent:z,selectedRepoId:P,setSelectedRepoId:U,repos:Z,initialized:O,setRelevantContext:B,openInEditor:q}=a.useContext(eF),H=(0,g.a)(e=>e.enableActiveSelection),[J,G]=(0,a.useState)(!1),{width:W}=(0,y.iP)(),K="number"==typeof W&&W<376,$=(0,a.useMemo)(()=>{var e;if(!x)return"";let n=null===(e=F[0])||void 0===e?void 0:e.user.message;if(!n)return x;let t=(0,b.i8)([],n,{maxLength:m.$I}),s=(0,j.Z)(t),a=(0,l.Z)([s,x]).join("-");return a},[null===(t=F[0])||void 0===t?void 0:t.user.message,x]),ee=(0,I.Db)(v.md,{onError(e){k.A.error(e.message)}}),{isCopied:en,copyToClipboard:et}=(0,C.m)({timeout:2e3,onCopyContent:z}),es=async()=>{if(x&&!en&&!J)try{var e,n;G(!0);let t=await ee({threadId:x});if(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.setThreadPersisted){let e=new URL(window.location.origin);e.pathname="/search/".concat($),et(e.toString())}else k.A.error((null==t?void 0:null===(n=t.error)||void 0===n?void 0:n.message)||"Failed to share")}catch(e){}finally{G(!1)}},el=(0,p.d)(e=>{var n;let t=null===(n=f.current)||void 0===n?void 0:n.editor;if(!t)return;let{state:s,view:a}=t,{tr:l}=s,r=[],i=D[e];s.doc.descendants((e,n)=>{if("mention"===e.type.name&&"file"===e.attrs.category){let t=(0,b.VU)({filepath:e.attrs.fileItem.filepath,content:"",kind:"file"});(0,V.nr)(t,i)&&r.push({from:n,to:n+e.nodeSize})}}),B(n=>n.filter((n,t)=>t!==e)),r.reverse().forEach(e=>{let{from:n,to:t}=e;l.delete(n,t)}),a.dispatch(l),t.commands.focus()});return a.useImperativeHandle(n,()=>{var e,n;return{focus:()=>{var e;null===(e=f.current)||void 0===e||e.focus()},setInput:e=>{var n;null===(n=f.current)||void 0===n||n.setInput(e)},input:null!==(n=null===(e=f.current)||void 0===e?void 0:e.input)&&void 0!==n?n:""}},[f]),(0,s.jsxs)("div",{className:o,children:[(0,s.jsx)(E.K,{container:h}),(0,s.jsxs)("div",{className:"mx-auto md:px-4 ".concat(u),children:[(0,s.jsxs)("div",{className:(0,b.cn)("flex h-10 items-center justify-center",K?"gap-3":"gap-2"),children:[T?(0,s.jsxs)(X.u,{children:[(0,s.jsx)(X.aJ,{asChild:!0,children:(0,s.jsxs)(L.z,{variant:"outline",onClick:()=>r(),className:"gap-2 bg-background",children:[(0,s.jsx)(S.IconStop,{}),!K&&"Stop generating"]})}),(0,s.jsx)(X._v,{hidden:!K,children:"Stop generating"})]}):(null==F?void 0:F.length)>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(X.u,{children:[(0,s.jsx)(X.aJ,{asChild:!0,children:(0,s.jsxs)(L.z,{variant:"outline",onClick:()=>i(),className:"gap-2 bg-background",children:[(0,s.jsx)(S.IconRefresh,{}),!K&&"Regenerate"]})}),(0,s.jsx)(X._v,{hidden:!K,children:"Regenerate"})]}),(0,s.jsxs)(X.u,{children:[(0,s.jsx)(X.aJ,{asChild:!0,children:(0,s.jsxs)(L.z,{variant:"outline",className:"gap-2 bg-background",onClick:es,children:[en?(0,s.jsx)(S.IconCheck,{}):(0,s.jsx)(S.IconShare,{}),!K&&"Share"]})}),(0,s.jsx)(X._v,{hidden:!K,children:"Share"})]})]}),(null==F?void 0:F.length)>0&&(0,s.jsxs)(X.u,{children:[(0,s.jsx)(X.aJ,{asChild:!0,children:(0,s.jsxs)(L.z,{variant:"outline",onClick:R,className:"gap-2 bg-background",children:[(0,s.jsx)(S.IconTrash,{}),!K&&"Clear"]})}),(0,s.jsx)(X._v,{hidden:!K,children:"Clear"})]})]}),(0,s.jsxs)("div",{id:"chat-panel-container",className:"border-t bg-background px-4 py-2 shadow-lg sm:space-y-4 sm:rounded-t-xl sm:border md:py-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(ea,{id:"repo-select",value:P,onChange:e=>{U(e),setTimeout(()=>{var e;null===(e=f.current)||void 0===e||e.focus()})},repos:Z,isInitializing:!O}),_?(0,s.jsxs)(M.C,{id:"active-selection-badge",variant:"outline",className:(0,b.cn)("inline-flex h-7 flex-nowrap items-center gap-1.5 overflow-hidden rounded-md pr-0 text-sm font-semibold",{"border-dashed !text-muted-foreground italic line-through":!H}),children:[(0,s.jsx)(S.IconFileText,{}),(0,s.jsx)(er,{context:_,className:"flex-1 truncate"}),(0,s.jsx)("span",{className:"shrink-0 text-muted-foreground",children:"Current file"}),(0,s.jsx)(L.z,{size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-l-none hover:bg-muted/50",onClick:e=>{(0,A.qs)(!H)},children:H?(0,s.jsx)(S.IconEye,{}):(0,s.jsx)(S.IconEyeOff,{})})]}):null,(0,s.jsx)(N.M,{children:D.map((e,n)=>{var t,a;let l="".concat(e.git_url,"_").concat(e.filepath,"_").concat(null===(t=e.range)||void 0===t?void 0:t.start,"_").concat(null===(a=e.range)||void 0===a?void 0:a.end);return(0,s.jsx)(w.E.div,{initial:{opacity:0,scale:.9,y:-5},animate:{opacity:1,scale:1,y:0},transition:{ease:"easeInOut",duration:.1},exit:{opacity:0,scale:.9,y:-5},layout:!0,children:(0,s.jsxs)(M.C,{variant:"outline",className:(0,b.cn)("inline-flex h-7 cursor-pointer flex-nowrap items-center gap-1 overflow-hidden rounded-md pr-0 text-sm font-semibold"),onClick:()=>{q((0,b.Uw)(e))},children:[(0,s.jsx)(S.IconFile,{className:"shrink-0"}),(0,s.jsx)(er,{context:e}),(0,s.jsx)(L.z,{size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-l-none hover:bg-muted/50",onClick:e=>{e.stopPropagation(),el.current(n)},children:(0,s.jsx)(S.IconRemove,{})})]})},l)})})]}),(0,s.jsx)(Y,{ref:f,onSubmit:c,onUpdate:d,isLoading:T}),(0,s.jsx)(Q,{className:"hidden sm:block"})]})]})]})});function er(e){let{context:n,className:t}=e,a=n.range?n.range.start===n.range.end?":".concat(n.range.start):":".concat(n.range.start,"-").concat(n.range.end):"";return(0,s.jsxs)("span",{className:(0,b.cn)("truncate",t),children:[(0,b.UA)(n.filepath),!!n.range&&(0,s.jsx)("span",{className:"text-muted-foreground",children:a})]})}var ei=t(76297),eo=t(12624);function ec(e){let{trackVisibility:n}=e,{container:t}=a.useContext(eF),l=(0,eo.e)(100,t),{ref:r,entry:i,inView:o}=(0,ei.YD)({trackVisibility:n,delay:100,rootMargin:"0px 0px -150px 0px",root:t});return a.useEffect(()=>{l&&n&&!o&&(null==i||i.target.scrollIntoView({block:"start"}))},[o,i,l,n]),(0,s.jsx)("div",{ref:r,className:"h-px w-full"})}let ed=[{heading:"Convert list of string to numbers",message:"How to convert a list of string to numbers in python"},{heading:"How to parse email address",message:"How to parse email address with regex"}];function eu(e){let{setInput:n,chatMaxWidthClass:t,welcomeMessage:a}=e;return(0,s.jsx)("div",{className:"mx-auto px-4 ".concat(t),children:(0,s.jsxs)("div",{className:"rounded-lg border bg-background p-8",children:[(0,s.jsx)("h1",{className:"mb-2 text-lg font-semibold",children:a||"Welcome"}),(0,s.jsx)("p",{className:"leading-normal text-muted-foreground",children:"You can start a conversation here or try the following examples:"}),(0,s.jsx)("div",{className:"mt-4 flex flex-col items-start space-y-2",children:ed.map((e,t)=>(0,s.jsxs)(L.z,{variant:"link",className:"h-auto p-0 text-base",onClick:()=>n(e.message),children:[(0,s.jsx)(S.IconArrowRight,{className:"mr-2 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-left",children:e.heading})]},t))})]})})}var em=t(42891),ef=t.n(em),ep=t(23342),ex=t(94909),eh=t(74630),eg=t(74038),ev=t(98454),eb=t(48537),ej=t(54646),ey=t(11208),eN=t(52569),ew=t(90168);function ek(e){let{messages:n,chatMaxWidthClass:t}=e,{isLoading:l}=a.useContext(eF);return(0,s.jsx)("div",{className:"relative mx-auto px-4 ".concat(t),children:null==n?void 0:n.map((e,t)=>{let r=t===n.length-1;return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(eC,{isLoading:!!r&&l,message:e,isLastItem:r}),!r&&(0,s.jsx)(ey.Z,{className:"my-4 md:my-8"})]},e.user.id)})})}function eC(e){let{message:n,isLoading:t,isLastItem:a}=e,{user:l,assistant:r}=n;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eA,{message:l}),!!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ey.Z,{className:"my-4 md:my-8"}),(0,s.jsx)(eM,{message:r,userMessage:l,isLoading:t,userMessageId:l.id,enableRegenerating:a})]})]})}function eA(e){var n,t,l,r,i;let{message:o}=e,[{data:c}]=(0,ev.P)(),d=o.selectContext,{openInEditor:u,supportsOnApplyInEditorV2:m}=a.useContext(eF),f=a.useMemo(()=>{var e,n;if(!(null==d?void 0:d.content))return"";let t=(null==d?void 0:d.filepath)&&null!==(e=(0,h.U$)(null==d?void 0:d.filepath)[0])&&void 0!==e?e:"";return"\n```".concat(t,"\n").concat(null!==(n=null==d?void 0:d.content)&&void 0!==n?n:"","\n","```","\n")},[d]),p=null;if(f&&o.selectContext){let{range:e,filepath:n}=o.selectContext;p={filepath:n,isMultiLine:!!e&&!(0,eh.Z)(null==e?void 0:e.start)&&!(0,eh.Z)(null==e?void 0:e.end)&&e.start<e.end}}return(0,s.jsxs)("div",{className:(0,b.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...e,children:[(0,s.jsxs)("div",{className:(0,b.cn)("flex min-h-[2rem] w-full items-center justify-between md:w-auto",{"hidden md:flex":!(null==c?void 0:c.me.name)}),children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,s.jsx)(eN.SQ,{className:"h-6 w-6 md:h-8 md:w-8",fallback:(0,s.jsx)("div",{className:"flex h-6 w-6 items-center justify-center md:h-8 md:w-8",children:(0,s.jsx)(S.IconUser,{className:"h-6 w-6"})})})}),(0,s.jsx)("p",{className:"block text-xs font-bold md:hidden",children:null==c?void 0:c.me.name})]}),(0,s.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eI,{...e})})]}),(0,s.jsxs)("div",{className:"group relative flex w-full justify-between gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,s.jsx)(ej.J,{message:o.message,canWrapLongLines:!0,supportsOnApplyInEditorV2:m,openInEditor:u}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(eI,{...e})}),p&&o.selectContext&&(0,s.jsxs)("div",{className:"flex cursor-pointer items-center gap-1 overflow-x-auto text-xs text-muted-foreground hover:underline",onClick:()=>{let e=o.selectContext;u((0,b.Uw)(e))},children:[(0,s.jsx)(S.IconFile,{className:"h-3 w-3"}),(0,s.jsxs)("p",{className:"flex-1 truncate pr-1",children:[(0,s.jsx)("span",{children:p.filepath}),(null===(t=o.selectContext)||void 0===t?void 0:null===(n=t.range)||void 0===n?void 0:n.start)&&(0,s.jsxs)("span",{children:[":",null===(l=o.selectContext)||void 0===l?void 0:l.range.start]}),p.isMultiLine&&(0,s.jsxs)("span",{children:["-",null===(i=o.selectContext)||void 0===i?void 0:null===(r=i.range)||void 0===r?void 0:r.end]})]})]})]}),!(null==c?void 0:c.me.name)&&(0,s.jsx)("div",{className:"editor-bg absolute right-0 top-0 -mt-0.5 block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eI,{...e})})]})]})}function eI(e){let{message:n}=e,{handleMessageAction:t,isLoading:l}=a.useContext(eF);return(0,s.jsxs)(eR,{children:[!l&&(0,s.jsxs)(L.z,{variant:"ghost",size:"icon",onClick:e=>t(n.id,"edit"),children:[(0,s.jsx)(S.IconEdit,{}),(0,s.jsx)("span",{className:"sr-only",children:"Edit message"})]}),!l&&(0,s.jsxs)(L.z,{variant:"ghost",size:"icon",onClick:e=>t(n.id,"delete"),children:[(0,s.jsx)(S.IconTrash,{}),(0,s.jsx)("span",{className:"sr-only",children:"Delete message"})]})]})}function eM(e){let{message:n,userMessage:t,isLoading:r,userMessageId:o,enableRegenerating:c,...u}=e,{onApplyInEditor:m,onCopyContent:f,onLookupSymbol:p,openInEditor:x,openExternal:g,supportsOnApplyInEditorV2:v}=a.useContext(eF),[j,y]=a.useState(void 0),N=a.useMemo(()=>{var e,t,s;return null!==(s=null==n?void 0:null===(e=n.relevant_code)||void 0===e?void 0:e.map(e=>({kind:"file",range:(0,b.OV)(e),filepath:e.filepath,content:e.content,git_url:e.gitUrl,commit:null!==(t=e.commit)&&void 0!==t?t:void 0})))&&void 0!==s?s:[]},[null==n?void 0:n.relevant_code]),w=a.useMemo(()=>{var e;return(0,d.Z)((0,l.Z)([t.activeContext,...null!==(e=null==t?void 0:t.relevantContext)&&void 0!==e?e:[]]),i.Z)},[t.activeContext,t.relevantContext]),k=(0,a.useMemo)(()=>{var e,n;let t=null!==(n=null==w?void 0:w.map(n=>({content:n.content,filepath:n.filepath,gitUrl:n.git_url,startLine:n.range?n.range.start:void 0,language:(0,h.U$)(null!==(e=n.filepath)&&void 0!==e?e:"")[0],isClient:!0})))&&void 0!==n?n:[];return t},[w]),C=(0,a.useMemo)(()=>{var e,n;let t=null!==(n=null==N?void 0:N.map(n=>{var t;return{content:n.content,filepath:n.filepath,gitUrl:n.git_url,startLine:null===(t=n.range)||void 0===t?void 0:t.start,language:(0,h.U$)(null!==(e=n.filepath)&&void 0!==e?e:"")[0],isClient:!1}}))&&void 0!==n?n:[];return(0,l.Z)([...t])},[N]),A=!!m,I=(e,n)=>{if(n||!A)x((0,b.Uw)(e));else{let n=(0,b.XX)(window.location.href,e);g(n)}};return(0,s.jsxs)("div",{className:(0,b.cn)("group relative mb-4 flex flex-col items-start gap-y-2 md:-ml-4 md:flex-row"),...u,children:[(0,s.jsxs)("div",{className:"flex min-h-[2rem] w-full items-center justify-between md:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{className:"shrink-0 select-none rounded-full border bg-background shadow",children:(0,s.jsx)(eE,{className:"h-6 w-6 md:h-8 md:w-8"})}),(0,s.jsx)("p",{className:"block text-xs font-bold md:hidden",children:"Tabby"})]}),(0,s.jsx)("div",{className:"block opacity-0 transition-opacity group-hover:opacity-100 md:hidden",children:(0,s.jsx)(eL,{message:n,userMessageId:o,enableRegenerating:c,attachmentCode:C})})]}),(0,s.jsxs)("div",{className:"w-full flex-1 space-y-2 overflow-hidden px-1 md:ml-4",children:[(0,s.jsx)(ew.q,{contexts:N,clientContexts:w,onContextClick:I,showExternalLink:A,supportsOpenInEditor:!!x,showClientCodeIcon:!A,highlightIndex:j,triggerClassname:"md:pt-0"}),!r||(null==n?void 0:n.message)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ej.J,{message:n.message,onApplyInEditor:m,onCopyContent:f,attachmentClientCode:k,attachmentCode:C,onCodeCitationClick:e=>{let n={git_url:e.gitUrl,content:e.content,filepath:e.filepath,kind:"file",range:(0,b.OV)(e)};I(n,e.isClient)},onCodeCitationMouseEnter:e=>{y(e-1-0)},onCodeCitationMouseLeave:e=>{y(void 0)},canWrapLongLines:!r,onLookupSymbol:p,openInEditor:x,supportsOnApplyInEditorV2:v,activeSelection:t.activeContext}),!!n.error&&(0,s.jsx)(ej.m,{error:n.error})]}):(0,s.jsx)(eS,{}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(eL,{message:n,userMessageId:o,enableRegenerating:c,attachmentCode:C})})]})]})}function eL(e){let{handleMessageAction:n,isLoading:t,onCopyContent:r}=a.useContext(eF),{message:i,userMessageId:o,enableRegenerating:c,attachmentCode:d}=e,u=(0,a.useMemo)(()=>(function(e,n){var t;if(!n||(0,ex.Z)(n))return e;let s=e.replace(eg.Hc,e=>{let n=null==e?void 0:e.match(/\d+/);return"[".concat(n,"]")}).trim(),a=null!==(t=n.map((e,n)=>{let t=(0,b.tf)(e),s=(0,l.Z)([e.filepath,t]).join(":");return"[".concat(n+1,"] ").concat(s)}).join("\n"))&&void 0!==t?t:"";return"".concat(s,"\n\nCitations:\n").concat(a)})(i.message,d),[i.message,d]);return(0,s.jsxs)(eR,{children:[!t&&c&&(0,s.jsxs)(L.z,{variant:"ghost",size:"icon",onClick:e=>n(o,"regenerate"),children:[(0,s.jsx)(S.IconRefresh,{}),(0,s.jsx)("span",{className:"sr-only",children:"Regenerate message"})]}),(0,s.jsx)(eb.q,{value:u,onCopyContent:r})]})}function eS(){return(0,s.jsxs)("div",{className:"space-y-2 py-2 md:px-1 md:py-0",children:[(0,s.jsx)(en.O,{className:"h-3 w-full"}),(0,s.jsx)(en.O,{className:"h-3 w-full"})]})}function eE(e){let{className:n}=e;return(0,s.jsx)(ef(),{style:{backgroundColor:"#E8E2D2"},className:(0,b.cn)("rounded-full p-0.5",n),src:ep.Z,alt:"tabby"})}function eR(e){let{className:n,...t}=e;return(0,s.jsx)("div",{className:(0,b.cn)("flex items-center justify-end transition-opacity group-hover:opacity-100 md:absolute md:-right-[4rem] md:-top-2 md:opacity-0",n),...t})}let eF=a.createContext({}),eT=a.forwardRef(function(e,n){var t,j;let{className:y,chatId:N,initialMessages:w,onLoaded:k,onThreadUpdates:C,container:A,docQuery:I,generateRelevantQuestions:M,maxWidth:L,welcomeMessage:S,promptFormClassname:E,onCopyContent:R,onApplyInEditor:F,onLookupSymbol:T,openInEditor:D,openExternal:_,chatInputRef:z,supportsOnApplyInEditorV2:P,readWorkspaceGitRepositories:U,getActiveEditorSelection:Z,fetchSessionState:O,storeSessionState:B,listFileInWorkspace:q,readFileContent:H}=e,[J,G]=a.useState(!1),[Y,W]=a.useState(!1),[K,Q]=a.useState(),X=a.useRef(!1),[$,ee]=a.useState(null!=w?w:[]),[en,et]=a.useState([]),[es,ea]=a.useState(null),[er,ei]=a.useState();a.useEffect(()=>{J&&(null==B||B({selectedRepoId:er}))},[er,J,B]);let eo=(0,g.a)(e=>e.enableActiveSelection),ed=a.useRef(null),em=e=>{var n;null===(n=ed.current)||void 0===n||n.setInput(e)},ef=null!==(j=null===(t=ed.current)||void 0===t?void 0:t.input)&&void 0!==j?j:"",[{data:ep,fetching:ex}]=(0,u.aM)({query:v.K5}),eh=null==ep?void 0:ep.repositoryList,{sendUserMessage:eg,isLoading:ev,error:eb,answer:ej,stop:ey,regenerate:eN,deleteThreadMessagePair:ew}=(0,x.x)({threadId:K}),eC=async e=>{var n;if(!K)return;ey();let t=$.find(n=>n.user.id===e);if(!(null==t?void 0:t.user)||!t.assistant)return;let s=$.filter(n=>n.user.id!==e);ee(s),null==B||B({qaPairs:s}),ew(K,null==t?void 0:t.user.id,null==t?void 0:null===(n=t.assistant)||void 0===n?void 0:n.id)},eA=async e=>{if(!K)return;let n=(0,r.Z)($,n=>n.user.id===e);if(n>-1){let e=$[n];if(!e.assistant)return;let t=(0,b.x0)(),s=(0,b.x0)();ee([...$.slice(0,n),{user:{...e.user,id:t},assistant:{id:s,message:"",error:void 0}}]);let[a,l]=await eE(e.user);return eN({threadId:K,userMessageId:e.user.id,assistantMessageId:e.assistant.id,userMessage:a,threadRunOptions:l})}},eI=async e=>{var n,t;if(!K)return;let s=$.find(n=>n.user.id===e);if(!(null==s?void 0:s.user)||!s.assistant)return;let a=s.user,l=[];(null===(n=a.relevantContext)||void 0===n?void 0:n.length)&&(l=l.concat(a.relevantContext));let r=(0,d.Z)(l,i.Z);et(r);let o=$.filter(n=>n.user.id!==e);ee(o),null==B||B({qaPairs:o}),em(a.message);let c=(0,V._t)(a.message);em({type:"doc",content:c}),a.activeContext&&D((0,b.Uw)(a.activeContext)),ew(K,null==s?void 0:s.user.id,null==s?void 0:null===(t=s.assistant)||void 0===t?void 0:t.id)},eM=async()=>{if(!(null==$?void 0:$.length))return;let e=$[$.length-1].user.id;return eA(e)},eL=()=>{ey(!0),ee([]),Q(void 0),null==B||B({qaPairs:[],threadId:void 0})};a.useEffect(()=>{if(!(null==$?void 0:$.length)||!ej)return;let e=$[$.length-1];ej.threadId&&!K&&(Q(ej.threadId),null==B||B({threadId:ej.threadId})),ee(n=>{var t,s;let a=n[n.length-1].assistant,l={...a,id:ej.assistantMessageId||(null==a?void 0:a.id)||(0,b.x0)(),message:ej.content,error:void 0,relevant_code:null!==(s=null===(t=ej.attachmentsCode)||void 0===t?void 0:t.map(e=>e.code))&&void 0!==s?s:[]};return[...n.slice(0,n.length-1),{user:{...e.user,id:(null==ej?void 0:ej.userMessageId)||e.user.id},assistant:l}]}),ev||null==B||B({qaPairs:$})},[ej,ev]);let eS=(0,f.S)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";A?A.scrollTo({top:A.scrollHeight,behavior:e}):window.scrollTo({top:document.body.offsetHeight,behavior:e})},100);a.useLayoutEffect(()=>{ev&&eS.run()},[ev]),a.useEffect(()=>{eb&&(null==$?void 0:$.length)&&ee(e=>{var n,t,s;let a=e[e.length-1],l=[...e.slice(0,e.length-1),{...a,assistant:{...a.assistant,id:(null===(n=a.assistant)||void 0===n?void 0:n.id)||(0,b.x0)(),message:null!==(s=null===(t=a.assistant)||void 0===t?void 0:t.message)&&void 0!==s?s:"",error:eb?"401"===eb.message?"Unauthorized":(0,c.Z)(eb.graphQLErrors,e=>{var n;return(null===(n=e.extensions)||void 0===n?void 0:n.code)===m.ir})?"The thread has expired, please click 'Clear' and try again.":eb.message||"Failed to fetch":"Failed to fetch"}}];return null==B||B({qaPairs:l}),l}),(null==eb?void 0:eb.message)!=="Thread not found"||(null==$?void 0:$.length)||eL()},[eb]);let eE=async e=>{var n;let t=eo&&!!e.activeContext,s=(0,d.Z)((0,l.Z)([e.selectContext,t&&e.activeContext,...(null==e?void 0:e.relevantContext)||[]]),i.Z),a=s.map(e=>{var n;return{content:e.content,filepath:e.filepath,startLine:null===(n=e.range)||void 0===n?void 0:n.start}}),r=e.message,o=er?{content:r,sourceId:er,filepath:null==a?void 0:null===(n=a[0])||void 0===n?void 0:n.filepath}:null;return[{content:r,attachments:{code:a}},{docQuery:I?{content:r,searchPublic:!1}:null,generateRelevantQuestions:!!M,codeQuery:o}]},eR=(0,p.d)(async e=>{var n,t,s,a,l;if(ev)return;let r="",i=null==e?void 0:null===(n=e.selectContext)||void 0===n?void 0:n.content;if(i){let n=(null==e?void 0:null===(t=e.selectContext)||void 0===t?void 0:t.filepath)&&null!==(a=(0,h.U$)(null==e?void 0:null===(s=e.selectContext)||void 0===s?void 0:s.filepath)[0])&&void 0!==a?a:"";r="\n```".concat(n,"\n").concat(null!=i?i:"","\n","```","\n")}let o={...e,message:e.message+r,id:null!==(l=e.id)&&void 0!==l?l:(0,b.x0)(),selectContext:e.selectContext,activeContext:eo&&es?es:void 0,relevantContext:[...e.relevantContext||[]]},c=[...$,{user:o,assistant:{id:(0,b.x0)(),message:"",error:void 0}}];ee(c),null==B||B({qaPairs:c});let d=await eE(o);eg(...d)}),eT=e=>{var n;return null===(n=eR.current)||void 0===n?void 0:n.call(eR,e)},eD=(0,p.d)(async e=>{let n=(0,b.QZ)(e);eT({message:n,selectContext:null!=es?es:void 0})}),e_=async e=>{var n;return null===(n=eD.current)||void 0===n?void 0:n.call(eD,e)},ez=async e=>{eT({message:e,relevantContext:en}),et([])},eP=(0,p.d)(e=>{et(n=>{let t=function(e,n){let t=["content"],s=(e,n)=>(0,o.Z)(e,n,(e,n,s)=>{if(t.includes(s))return!0});return e.some(e=>s(e,n))?e:e.concat([n])}(n,e);return t})}),eU=e=>{var n;let t=(0,b.VU)(e);null===(n=eP.current)||void 0===n||n.call(eP,t)};a.useEffect(()=>{X.current&&(null==C||C($))},[$]),a.useEffect(()=>{J&&(null==B||B({relevantContext:en}))},[en,J,B]);let eZ=(0,f.S)(e=>{ea(e)},300),eO=e=>{let n=e?(0,b.VU)(e):null;eZ.run(n)},eB=()=>U?U():[],eV=async()=>null==Z?void 0:Z();a.useEffect(()=>{let e=async()=>{let[e,n]=await Promise.all([null==O?void 0:O(),eV()]);if((null==e?void 0:e.threadId)&&Q(e.threadId),(null==e?void 0:e.qaPairs)&&ee(e.qaPairs),(null==e?void 0:e.input)&&em(e.input),(null==e?void 0:e.relevantContext)&&et(e.relevantContext),eS.run("instant"),(null==e?void 0:e.selectedRepoId)&&(null==eh?void 0:eh.find(n=>n.sourceId===e.selectedRepoId)))ei(e.selectedRepoId);else{let e=await eB();if((null==e?void 0:e.length)&&(null==eh?void 0:eh.length)){let n=e[0].url,t=(0,b.Ch)(eh.map(e=>({url:e.gitUrl,sourceId:e.sourceId})),n);t&&ei(t.sourceId)}}if(n){let e=(0,b.VU)(n);ea(e)}};ex||J||e().finally(()=>{G(!0)})},[ex,J]),a.useEffect(()=>{J&&(null==k||k(),W(!0))},[J]),a.useImperativeHandle(n,()=>({executeCommand:e_,stop:ey,isLoading:ev,addRelevantContext:eU,focus:()=>{var e;return null===(e=ed.current)||void 0===e?void 0:e.focus()},updateActiveSelection:eO}),[]);let eq=L?"max-w-".concat(L):"max-w-2xl";return(0,s.jsx)(eF.Provider,{value:{threadId:K,isLoading:ev,qaPairs:$,handleMessageAction:(e,n)=>{switch(n){case"delete":eC(e);break;case"regenerate":eA(e);break;case"edit":eI(e)}},onClearMessages:eL,container:A,onCopyContent:R,onApplyInEditor:F,onLookupSymbol:T,openInEditor:D,openExternal:_,relevantContext:en,setRelevantContext:et,chatInputRef:z,activeSelection:es,supportsOnApplyInEditorV2:P,selectedRepoId:er,setSelectedRepoId:ei,repos:eh,fetchingRepos:ex,initialized:Y,listFileInWorkspace:q,readFileContent:H},children:(0,s.jsx)("div",{className:"flex justify-center overflow-x-hidden",children:(0,s.jsxs)("div",{className:"w-full px-4 md:pl-10 md:pr-[3.75rem] ".concat(eq),children:[Y&&(0,s.jsxs)("div",{className:(0,b.cn)("pb-[200px] pt-4 md:pt-10",y),children:[(null==$?void 0:$.length)?(0,s.jsx)(ek,{messages:$,chatMaxWidthClass:eq}):(0,s.jsx)(eu,{setInput:em,chatMaxWidthClass:eq,welcomeMessage:S}),(0,s.jsx)(ec,{trackVisibility:ev})]}),(0,s.jsx)(el,{onSubmit:ez,className:(0,b.cn)("fixed inset-x-0 bottom-0",E),id:N,stop:()=>{ey()},reload:eM,input:ef,setInput:em,onUpdate:e=>{J&&(null==B||B({input:e.editor.getJSON()}))},chatMaxWidthClass:eq,ref:ed,chatInputRef:z})]})})})})},90168:function(e,n,t){"use strict";t.d(n,{q:function(){return x}});var s=t(36164),a=t(3546),l=t(74630),r=t(57288),i=t(29),o=t(43739),c=t(14079);let d=o.fC,u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(o.ck,{ref:n,className:(0,r.cn)("border-b",t),...a})});u.displayName="AccordionItem";let m=a.forwardRef((e,n)=>{let{className:t,children:a,...l}=e;return(0,s.jsxs)(o.xz,{ref:n,className:(0,r.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...l,children:[a,(0,s.jsx)(c.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})});m.displayName=o.xz.displayName;let f=a.forwardRef((e,n)=>{let{className:t,children:a,...l}=e;return(0,s.jsx)(o.VY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,r.cn)("pb-4 pt-0",t),children:a})})});f.displayName=o.VY.displayName;var p=t(81565);let x=(0,a.forwardRef)((e,n)=>{var t,l;let{contexts:i,clientContexts:o,className:c,triggerClassname:p,onContextClick:x,enableTooltip:g,onTooltipClick:v,highlightIndex:b,showExternalLink:j,showClientCodeIcon:y,supportsOpenInEditor:N,title:w}=e,k=((null==o?void 0:o.length)||0)+i.length,C=null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0,A=null!==(l=null==o?void 0:o.length)&&void 0!==l?l:0,I=C+A,[M,L]=(0,a.useState)(I<=5?"references":void 0);return(0,a.useEffect)(()=>{I<=5?L("references"):L(void 0)},[I]),(0,s.jsx)(d,{type:"single",collapsible:!0,className:(0,r.cn)("bg-transparent text-foreground",c),ref:n,value:M,onValueChange:L,children:(0,s.jsxs)(u,{value:"references",className:"my-0 border-0",children:[(0,s.jsx)(m,{className:(0,r.cn)("my-0 py-2 font-semibold",p),children:w||(0,s.jsx)("span",{className:"mr-2",children:"Read ".concat(k," file").concat(k>1?"s":"")})}),(0,s.jsxs)(f,{className:"space-y-2",children:[null==o?void 0:o.map((e,n)=>(0,s.jsx)(h,{context:e,onContextClick:e=>null==x?void 0:x(e,!0),isHighlighted:b===n,clickable:N,showClientCodeIcon:y},"user-".concat(n))),i.map((e,n)=>(0,s.jsx)(h,{context:e,onContextClick:e=>null==x?void 0:x(e,!1),enableTooltip:g,onTooltipClick:v,showExternalLinkIcon:j,isHighlighted:b===n+((null==o?void 0:o.length)||0)},"assistant-".concat(n)))]})]})})});function h(e){var n,t,o,c,d,u,m;let{context:f,clickable:x=!0,onContextClick:h,enableTooltip:g,onTooltipClick:v,showExternalLinkIcon:b,showClientCodeIcon:j,isHighlighted:y}=e,[N,w]=(0,a.useState)(!1),k=f.range&&!(0,l.Z)(null===(n=f.range)||void 0===n?void 0:n.start)&&!(0,l.Z)(null===(t=f.range)||void 0===t?void 0:t.end)&&f.range.start<f.range.end,C=f.filepath.split("/"),A=C.slice(0,C.length-1).join("/"),I=null==f?void 0:null===(o=f.extra)||void 0===o?void 0:o.scores;return(0,s.jsxs)(i.u,{open:N,onOpenChange:e=>{g&&I&&w(e)},delayDuration:0,children:[(0,s.jsx)(i.aJ,{asChild:!0,children:(0,s.jsx)("div",{className:(0,r.cn)("rounded-md border p-2",{"cursor-pointer hover:bg-accent":x,"cursor-default pointer-events-auto":!x,"bg-accent transition-all":y}),onClick:e=>x&&(null==h?void 0:h(f)),children:(0,s.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,s.jsx)(p.IconFile,{className:"shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 truncate",title:f.filepath,children:[(0,s.jsx)("span",{children:(0,r.UA)(f.filepath)}),f.range?(0,s.jsxs)(s.Fragment,{children:[(null===(c=f.range)||void 0===c?void 0:c.start)&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:[":",f.range.start]}),k&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:["-",f.range.end]})]}):null,(0,s.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:A})]}),j&&(0,s.jsx)(p.IconFileSearch2,{className:"shrink-0 text-muted-foreground"}),b&&(0,s.jsx)(p.IconExternalLink,{className:"shrink-0 text-muted-foreground"})]})})}),(0,s.jsx)(i._v,{align:"start",onClick:v,className:"cursor-pointer p-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2 font-semibold",children:"Scores"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-20",children:"rrf:"}),null!==(d=null==I?void 0:I.rrf)&&void 0!==d?d:"-"]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-20",children:"bm25:"}),null!==(u=null==I?void 0:I.bm25)&&void 0!==u?u:"-"]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-20",children:"embedding:"}),null!==(m=null==I?void 0:I.embedding)&&void 0!==m?m:"-"]})]})]})})]})}x.displayName="CodeReferences"},74787:function(e,n,t){"use strict";t.d(n,{Gn:function(){return l},HV:function(){return r},_t:function(){return i},nr:function(){return o}});var s=t(74038),a=t(57288);function l(e){let n=(0,a.VJ)(e.filepath).filepath,t={fileItem:e,name:(0,a.UA)(n),filepath:n,category:"file"};try{return{id:JSON.stringify(e.filepath),...t}}catch(e){return{id:(0,a.x0)(),...t}}}function r(e){let n,t=e;for(;null!==(n=s.My.exec(e));)try{let e=n[1],s=JSON.parse(e),l="filepath"in s?s.filepath:s.uri,r=(0,a.UA)(l);t=t.replace(n[0],"@".concat(r))}catch(e){continue}return t}function i(e){let n=[],t=0;return e.replace(s.My,(s,a,l)=>{l>t&&n.push({type:"text",text:e.slice(t,l)});try{n.push({type:"mention",attrs:{category:"file",fileItem:{filepath:JSON.parse(a)}}})}catch(e){}return t=l+s.length,s}),t<e.length&&n.push({type:"text",text:e.slice(t)}),n}function o(e,n){return e.filepath===n.filepath&&e.git_url===n.git_url&&!e.range&&!n.range}},83171:function(e,n,t){"use strict";t.d(n,{p:function(){return o},t:function(){return c}});var s=t(36164);t(3546);var a=t(44516),l=t(18500),r=t(57288),i=t(81565);function o(e){let{kind:n,label:t,className:l}=e;return(0,s.jsxs)(a.T5,{as:"span",className:(0,r.cn)("source-mention rounded-sm px-1",l),children:[(0,s.jsx)(d,{kind:n,className:"self-center"}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:t})]})}function c(e){let{kind:n,label:t,id:a}=e.node.attrs;return(0,s.jsx)(o,{kind:n,label:t,id:a})}function d(e){let{kind:n,...t}=e;switch(n){case l.ri.Doc:return(0,s.jsx)(i.IconEmojiBook,{...t});case l.ri.Web:return(0,s.jsx)(i.IconEmojiGlobe,{...t});case l.ri.Git:return(0,s.jsx)(i.IconCode,{...t});case l.ri.Github:return(0,s.jsx)(i.IconGitHub,{...t});case l.ri.Gitlab:return(0,s.jsx)(i.IconGitLab,{...t});default:return null}}},64219:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var s=t(36164),a=t(62226),l=t.n(a),r=t(6797),i=t.n(r),o=t(66686),c=t(57288),d=t(89811),u=t(63795),m=t(81565),f=t(52569);function p(e){let{relevantDocument:n}=e,t=n?new URL(n.link):null,a=(null==n?void 0:n.__typename)==="MessageAttachmentIssueDoc",l=(null==n?void 0:n.__typename)==="MessageAttachmentPullDoc",r="MessageAttachmentWebDoc"===n.__typename?void 0:n.author;return(0,s.jsx)("div",{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,s.jsx)(d.V,{hostname:t.hostname,className:"m-0 mr-1 leading-none"}),(0,s.jsx)("p",{className:"m-0 leading-none",children:t.hostname})]}),(0,s.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(n.link),children:n.title}),(0,s.jsxs)("div",{className:"mb-2 w-auto",children:[a&&(0,s.jsx)(h,{closed:n.closed,user:r}),l&&(0,s.jsx)(x,{merged:n.merged,user:r})]}),(0,s.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:b((0,c.L5)(n))})]})})}function x(e){let{merged:n,user:t}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v,{merged:n}),(0,s.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Yt,{user:t,className:"not-prose h-5 w-5 shrink-0"}),(0,s.jsx)("span",{className:"font-semibold text-muted-foreground",children:t.name||t.email})]})})]})}function h(e){let{closed:n,user:t}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(g,{closed:n}),(0,s.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Yt,{user:t,className:"not-prose h-5 w-5 shrink-0"}),(0,s.jsx)("span",{className:"font-semibold text-muted-foreground",children:t.name||t.email})]})})]})}function g(e){let{closed:n}=e;return(0,s.jsxs)(u.C,{variant:n?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[n?(0,s.jsx)(m.IconCheckCircled,{className:"h-3.5 w-3.5"}):(0,s.jsx)(m.IconCircleDot,{className:"h-3.5 w-3.5"}),n?"Closed":"Open"]})}function v(e){let{merged:n}=e;return(0,s.jsxs)(u.C,{variant:n?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[n?(0,s.jsx)(m.IconGitMerge,{className:"h-3.5 w-3.5"}):(0,s.jsx)(m.IconGitPullRequest,{className:"h-3.5 w-3.5"}),n?"Merged":"Open"]})}let b=e=>{let n=l().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),t=o.TU.parse(n),s=i().decode(t),a=s.replace(/<\/?[^>]+(>|$)/g,"");return a}},54646:function(e,n,t){"use strict";t.d(n,{m:function(){return I},J:function(){return A}});var s=t(36164),a=t(3546),l=t(1853),r=t(74630),i=t(36982),o=t(93668),c=t(57288),d=t(90615),u=t(73033);t(80804);var m=t(74038),f=t(83171),p=t(81565),x=t(3448),h=t(94744),g=t(37064),v=t(83008),b=t(28312),j=t(31458),y=t(29);let N=(0,a.memo)(e=>{let{language:n,value:t,onCopyContent:l,onApplyInEditor:r,canWrapLongLines:i,supportsOnApplyInEditorV2:o}=e,[c,d]=(0,a.useState)(!1),{isCopied:u,copyToClipboard:m}=(0,b.m)({timeout:2e3,onCopyContent:l});return(0,s.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,s.jsx)("span",{className:"text-xs lowercase",children:n}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[i&&(0,s.jsxs)(y.u,{children:[(0,s.jsx)(y.aJ,{asChild:!0,children:(0,s.jsx)(j.z,{size:"icon",variant:"ghost",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>d(!c),children:c?(0,s.jsx)(p.IconAlignJustify,{}):(0,s.jsx)(p.IconWrapText,{})})}),(0,s.jsx)(y._v,{children:(0,s.jsx)("p",{className:"m-0",children:"Toggle word wrap"})})]}),o&&r&&(0,s.jsxs)(y.u,{children:[(0,s.jsx)(y.aJ,{asChild:!0,children:(0,s.jsxs)(j.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>r(t,{languageId:n,smart:!0}),children:[(0,s.jsx)(p.IconSmartApplyInEditor,{}),(0,s.jsx)("span",{className:"sr-only",children:"Smart Apply in Editor"})]})}),(0,s.jsx)(y._v,{children:(0,s.jsx)("p",{className:"m-0",children:"Smart Apply in Editor"})})]}),r&&(0,s.jsxs)(y.u,{children:[(0,s.jsx)(y.aJ,{asChild:!0,children:(0,s.jsxs)(j.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>r(t,void 0),children:[(0,s.jsx)(p.IconApplyInEditor,{}),(0,s.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,s.jsx)(y._v,{children:(0,s.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,s.jsxs)(y.u,{children:[(0,s.jsx)(y.aJ,{asChild:!0,children:(0,s.jsxs)(j.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{u||m(t)},children:[u?(0,s.jsx)(p.IconCheck,{}):(0,s.jsx)(p.IconCopy,{}),(0,s.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,s.jsx)(y._v,{children:(0,s.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,s.jsx)(h.Z,{language:"toml"===n?"bash":n,style:v.RY,PreTag:"div",showLineNumbers:!0,wrapLongLines:c,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},renderer:e=>{let{rows:n,stylesheet:t,useInlineStyles:s}=e;return n.map((e,n)=>{let a=e.children,l=null==a?void 0:a.shift();return l&&(e.children=[l,{children:a,properties:{className:[]},tagName:"span",type:"element"}]),(0,g.ZP)({node:e,stylesheet:t,useInlineStyles:s,key:n})})},children:t})]})});N.displayName="CodeBlock";let w=(0,a.createContext)({});function k(e){var n;let{inline:t,className:l,children:r,...i}=e,{lookupSymbol:o,openInEditor:d,canWrapLongLines:u,onApplyInEditor:m,onCopyContent:f,supportsOnApplyInEditorV2:x,symbolPositionMap:h}=(0,a.useContext)(w),g=null===(n=r[0])||void 0===n?void 0:n.toString(),v=g?h.get(g):void 0;if((0,a.useEffect)(()=>{t&&o&&g&&o(g)},[t,g,o]),r.length){if("▍"===r[0])return(0,s.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});r[0]=r[0].replace("`▍`","▍")}if(t){let e=!!(null==v?void 0:v.target);return(0,s.jsxs)("code",{className:(0,c.cn)("group/symbol",l,{symbol:!!o,"bg-muted leading-5 py-0.5":!!o&&!e,"space-x-1 cursor-pointer hover:bg-muted/50 border whitespace-nowrap align-middle py-0.5":e}),onClick:()=>{e&&d&&(null==v?void 0:v.target)&&d(v.target)},...i,children:[e&&(0,s.jsx)(p.IconSquareChevronRight,{className:"relative -top-px inline-block h-3.5 w-3.5 text-primary"}),(0,s.jsx)("span",{className:(0,c.cn)("whitespace-normal",{"group-hover/symbol:text-primary":e}),children:r})]})}let b=/language-(\w+)/.exec(l||"");return(0,s.jsx)(N,{language:b&&b[1]||"",value:String(r).replace(/\n$/,""),onApplyInEditor:m,onCopyContent:f,canWrapLongLines:u,supportsOnApplyInEditorV2:x})}var C=t(64219);function A(e){let{message:n,headline:t=!1,attachmentDocs:d,attachmentClientCode:f,attachmentCode:p,onApplyInEditor:x,onCopyContent:h,contextInfo:g,fetchingContextInfo:v,className:b,canWrapLongLines:j,onLookupSymbol:y,openInEditor:N,supportsOnApplyInEditorV2:C,activeSelection:A,...I}=e,[E,R]=(0,a.useState)(new Map),F=(0,a.useMemo)(()=>{var e,n,t;let s=null!==(e=null==d?void 0:d.map(e=>({type:"doc",data:e})))&&void 0!==e?e:[],a=null!==(n=null==f?void 0:f.map(e=>({type:"code",data:e})))&&void 0!==n?n:[],r=null!==(t=null==p?void 0:p.map(e=>({type:"code",data:e})))&&void 0!==t?t:[];return(0,l.Z)([...s,...a,...r])},[d,f,p]),T=e=>{let n;let a=[],l=0,i=e=>{e&&a.push(e)},o=(t,r,o)=>{for(;null!==(n=t.exec(e));)i(e.slice(l,n.index)),a.push((0,s.jsx)(r,{...o(n)},n.index)),l=n.index+n[0].length};return o(m.Hc,M,e=>{let n=parseInt(e[1],10),t=(0,r.Z)(n)?void 0:null==F?void 0:F[n-1],s=null==t?void 0:t.type,a=t&&!(0,r.Z)(n);return{citationIndex:n,showcitation:a,citationType:s,citationSource:t}}),o(m.zf,L,e=>{let n=e[1];return{sourceId:n,className:t?"text-[1rem] font-semibold":void 0}}),o(m.Bt,S,e=>{let n=e[1];try{return{encodedFilepath:n,openInEditor:N}}catch(e){}}),i(e.slice(l)),a},D=async e=>{if(!y||E.has(e))return;R(n=>new Map(n.set(e,void 0)));let n=[];if(A&&(null==A?void 0:A.range)){let e;e=A.git_url.length>1&&!A.filepath.includes(":")?{kind:"git",filepath:A.filepath,gitUrl:A.git_url}:{kind:"uri",uri:A.filepath},n.push({filepath:e,location:{start:A.range.start,end:A.range.end}})}let t=await y(e,n);R(n=>new Map(n.set(e,t)))},_=(0,a.useMemo)(()=>(0,c.M0)(n),[n]);return(0,s.jsx)(w.Provider,{value:{onCopyContent:h,onApplyInEditor:x,onCodeCitationClick:I.onCodeCitationClick,onCodeCitationMouseEnter:I.onCodeCitationMouseEnter,onCodeCitationMouseLeave:I.onCodeCitationMouseLeave,contextInfo:g,fetchingContextInfo:!!v,canWrapLongLines:!!j,supportsOnApplyInEditorV2:C,activeSelection:A,symbolPositionMap:E,lookupSymbol:y?D:void 0,openInEditor:N},children:(0,s.jsx)(u.s,{className:(0,c.cn)("message-markdown prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",{"cursor-default":!!x},b),remarkPlugins:[i.Z,o.Z],components:{p(e){let{children:n}=e;return(0,s.jsx)("p",{className:"mb-2 last:mb-0",children:n.map((e,n)=>"string"==typeof e?T(e):(0,s.jsx)("span",{children:e},n))})},li(e){let{children:n}=e;return n&&n.length?(0,s.jsx)("li",{children:n.map((e,n)=>"string"==typeof e?T(e):(0,s.jsx)("span",{children:e},n))}):(0,s.jsx)("li",{children:n})},code(e){let{node:n,inline:t,className:a,children:l,...r}=e;return(0,s.jsx)(k,{node:n,inline:t,className:a,...r,children:l})}},children:_})})}function I(e){let{error:n="Failed to fetch"}=e,t=(0,a.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:n},null,2)+"\n```",[n]);return(0,s.jsx)(u.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[i.Z,o.Z],components:{code(e){let{node:n,inline:t,className:a,children:l,...r}=e;return(0,s.jsx)("div",{...r,className:(0,c.cn)(a,"bg-zinc-950 p-2"),children:l})}},children:t})}function M(e){let{citationIndex:n,showcitation:t,citationType:a,citationSource:l}=e;return(0,s.jsx)("div",{className:"inline",children:t&&(0,s.jsx)(s.Fragment,{children:"doc"===a?(0,s.jsx)(E,{relevantDocument:l.data,citationIndex:n}):"code"===a?(0,s.jsx)(R,{relevantCode:l.data,citationIndex:n}):null})})}function L(e){var n;let{sourceId:t,className:l}=e,{contextInfo:r,fetchingContextInfo:i}=(0,a.useContext)(w);if(!t)return null;let o=null==r?void 0:null===(n=r.sources)||void 0===n?void 0:n.find(e=>e.sourceId===t);return o?(0,s.jsx)("span",{className:"node-mention",children:(0,s.jsx)("span",{children:i?(0,s.jsx)(x.O,{className:"w-16"}):(0,s.jsx)(f.p,{id:o.sourceId,label:o.sourceName,kind:o.sourceKind,className:l})})}):null}function S(e){let{encodedFilepath:n,openInEditor:t,className:l}=e,r=(0,a.useMemo)(()=>{if(!n)return null;try{let e=decodeURIComponent(n),t=JSON.parse(e);return t}catch(e){return null}},[n]),i=(0,a.useMemo)(()=>{if(r)return(0,c.VJ)(r).filepath},[r]);return i?(0,s.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",l,{"hover:bg-muted/50 cursor-pointer":!!t&&!!r}),onClick:()=>{t&&r&&t({filepath:r})},children:[(0,s.jsx)(p.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,s.jsx)("span",{className:(0,c.cn)("whitespace-normal font-medium"),children:(0,c.UA)(i)})]}):null}function E(e){let{relevantDocument:n,citationIndex:t}=e;return(0,s.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,s.jsx)(d.Yi,{children:(0,s.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>window.open(n.link),children:t})}),(0,s.jsx)(d.bZ,{className:"w-96 bg-background text-sm text-foreground dark:border-muted-foreground/60",children:(0,s.jsx)(C.Z,{relevantDocument:n})})]})}function R(e){let{relevantCode:n,citationIndex:t}=e,{onCodeCitationClick:l,onCodeCitationMouseEnter:r,onCodeCitationMouseLeave:i}=(0,a.useContext)(w);return(0,s.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>{null==l||l(n)},onMouseEnter:()=>{null==r||r(t)},onMouseLeave:()=>{null==i||i(t)},children:t})}},89811:function(e,n,t){"use strict";t.d(n,{V:function(){return c}});var s=t(36164),a=t(3546),l=t(42891),r=t.n(l),i={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},o=t(57288);function c(e){let{hostname:n,className:t}=e,[l,c]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"relative h-3.5 w-3.5 shrink-0",children:[(0,s.jsx)(r(),{src:i,alt:n,width:14,height:14,className:(0,o.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",t)}),(0,s.jsx)(r(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(n),alt:n,width:14,height:14,className:(0,o.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",t,{"opacity-0":!l}),onLoad:()=>{c(!0)}})]})}},37034:function(e,n,t){"use strict";t.d(n,{k:function(){return r}});var s=t(36164),a=t(18500),l=t(81565);function r(e){let{kind:n,gitIcon:t,...r}=e;switch(n){case a.ri.Doc:return(0,s.jsx)(l.IconEmojiBook,{...r});case a.ri.Web:return(0,s.jsx)(l.IconEmojiGlobe,{...r});case a.ri.Github:return(0,s.jsx)(l.IconGitHub,{...r});case a.ri.Gitlab:return(0,s.jsx)(l.IconGitLab,{...r});case a.ri.Git:return t||(0,s.jsx)(l.IconCode,{...r});default:return null}}},63795:function(e,n,t){"use strict";t.d(n,{C:function(){return i}});var s=t(36164);t(3546);var a=t(14375),l=t(57288);let r=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",successful:"border-transparent bg-successful text-successful-foreground hover:bg-successful/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:n,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(r({variant:t}),n),...a})}},36065:function(e,n,t){"use strict";t.d(n,{di:function(){return p},e8:function(){return d},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return c},zz:function(){return f}});var s=t(36164),a=t(3546),l=t(53241),r=t(93170),i=t(57288);t(30220);let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.mY,{ref:n,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...a})});o.displayName=l.mY.displayName;let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(r.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(l.mY.Input,{ref:n,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...a})]})});c.displayName=l.mY.Input.displayName;let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.mY.List,{ref:n,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a})});d.displayName=l.mY.List.displayName;let u=a.forwardRef((e,n)=>(0,s.jsx)(l.mY.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));u.displayName=l.mY.Empty.displayName;let m=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.mY.Group,{ref:n,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...a})});m.displayName=l.mY.Group.displayName;let f=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.mY.Separator,{ref:n,className:(0,i.cn)("-mx-1 h-px bg-border",t),...a})});f.displayName=l.mY.Separator.displayName;let p=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.mY.Item,{ref:n,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",t),...a})});p.displayName=l.mY.Item.displayName},30220:function(e,n,t){"use strict";t.d(n,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cN:function(){return p},cZ:function(){return m},fK:function(){return f},hg:function(){return c}});var s=t(36164),a=t(3546),l=t(4318),r=t(1663),i=t(57288);let o=l.fC,c=l.xz,d=l.h_;l.x8;let u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.aV,{ref:n,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});u.displayName=l.aV.displayName;let m=a.forwardRef((e,n)=>{let{className:t,children:a,...o}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.VY,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.VY.displayName;let f=e=>{let{className:n,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};f.displayName="DialogHeader";let p=e=>{let{className:n,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t})};p.displayName="DialogFooter";let x=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.Dx,{ref:n,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});x.displayName=l.Dx.displayName;let h=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)(l.dk,{ref:n,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});h.displayName=l.dk.displayName},90615:function(e,n,t){"use strict";t.d(n,{Yi:function(){return o},bZ:function(){return c},zs:function(){return i}});var s=t(36164),a=t(3546),l=t(38421),r=t(57288);let i=l.fC,o=l.xz;l.h_;let c=a.forwardRef((e,n)=>{let{className:t,align:a="center",sideOffset:i=4,...o}=e;return(0,s.jsx)(l.VY,{ref:n,align:a,sideOffset:i,className:(0,r.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})});c.displayName=l.VY.displayName},84942:function(e,n,t){"use strict";t.d(n,{J2:function(){return i},xo:function(){return o},yk:function(){return c}});var s=t(36164),a=t(3546),l=t(83299),r=t(57288);let i=l.fC,o=l.xz;l.x8,l.h_,l.ee;let c=a.forwardRef((e,n)=>{let{className:t,sideOffset:a=4,...i}=e;return(0,s.jsx)(l.VY,{ref:n,sideOffset:a,className:(0,r.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});c.displayName=l.VY.displayName},21808:function(e,n,t){"use strict";t.d(n,{$6:function(){return l},$I:function(){return r},L8:function(){return a},ir:function(){return i},o0:function(){return s},rZ:function(){return o}});let s="name@yourcompany.com",a=20,l={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},r=48,i="NOT_FOUND",o="\n"},12624:function(e,n,t){"use strict";t.d(n,{e:function(){return l}});var s=t(3546),a=t(62940);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,[t,l]=s.useState(!1);return s.useEffect(()=>{if(n)return;let t=(0,a.Z)(()=>{l(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t,{passive:!0}),t(),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[e,n]),s.useEffect(()=>{if(!n)return;let t=(0,a.Z)(()=>{let{scrollTop:t,clientHeight:s,scrollHeight:a}=n;l(t+s>=a-e)},100,{leading:!0});return n.addEventListener("scroll",t,{passive:!0}),n.addEventListener("resize",t,{passive:!0}),t(),()=>{n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}},[e,n]),t}},64566:function(e,n,t){"use strict";t.d(n,{x:function(){return u}});var s=t(3546),a=t(43240),l=t(11634),r=t(16784);let i=(0,a.BX)("\n  subscription CreateThreadAndRun($input: CreateThreadAndRunInput!) {\n    createThreadAndRun(input: $input) {\n      __typename\n      ... on ThreadCreated {\n        id\n      }\n      ... on ThreadUserMessageCreated {\n        id\n      }\n      ... on ThreadAssistantMessageCreated {\n        id\n      }\n      ... on ThreadAssistantMessageReadingCode {\n        snippet\n        fileList\n      }\n      ... on ThreadRelevantQuestions {\n        questions\n      }\n      ... on ThreadAssistantMessageAttachmentsCode {\n        hits {\n          code {\n            gitUrl\n            commit\n            filepath\n            language\n            content\n            startLine\n          }\n          scores {\n            rrf\n            bm25\n            embedding\n          }\n        }\n      }\n      ... on ThreadAssistantMessageAttachmentsDoc {\n        hits {\n          doc {\n            __typename\n            ... on MessageAttachmentWebDoc {\n              title\n              link\n              content\n            }\n            ... on MessageAttachmentIssueDoc {\n              title\n              link\n              author {\n                id\n                email\n                name\n              }\n              body\n              closed\n            }\n            ... on MessageAttachmentPullDoc {\n              title\n              link\n              author {\n                id\n                email\n                name\n              }\n              body\n              merged\n            }\n          }\n          score\n        }\n      }\n      ... on ThreadAssistantMessageContentDelta {\n        delta\n      }\n      ... on ThreadAssistantMessageCompleted {\n        id\n      }\n    }\n  }\n"),o=(0,a.BX)("\n  subscription CreateThreadRun($input: CreateThreadRunInput!) {\n    createThreadRun(input: $input) {\n      __typename\n      ... on ThreadCreated {\n        id\n      }\n      ... on ThreadUserMessageCreated {\n        id\n      }\n      ... on ThreadAssistantMessageCreated {\n        id\n      }\n      ... on ThreadAssistantMessageReadingCode {\n        snippet\n        fileList\n      }\n      ... on ThreadRelevantQuestions {\n        questions\n      }\n      ... on ThreadAssistantMessageAttachmentsCode {\n        hits {\n          code {\n            gitUrl\n            commit\n            filepath\n            language\n            content\n            startLine\n          }\n          scores {\n            rrf\n            bm25\n            embedding\n          }\n        }\n      }\n      ... on ThreadAssistantMessageAttachmentsDoc {\n        hits {\n          doc {\n            __typename\n            ... on MessageAttachmentWebDoc {\n              title\n              link\n              content\n            }\n            ... on MessageAttachmentIssueDoc {\n              title\n              link\n              author {\n                id\n                email\n                name\n              }\n              body\n              closed\n            }\n            ... on MessageAttachmentPullDoc {\n              title\n              link\n              author {\n                id\n                email\n                name\n              }\n              body\n              merged\n            }\n          }\n          score\n        }\n      }\n      ... on ThreadAssistantMessageContentDelta {\n        delta\n      }\n      ... on ThreadAssistantMessageCompleted {\n        id\n      }\n    }\n  }\n"),c=(0,a.BX)("\n  mutation DeleteThreadMessagePair(\n    $threadId: ID!\n    $userMessageId: ID!\n    $assistantMessageId: ID!\n  ) {\n    deleteThreadMessagePair(\n      threadId: $threadId\n      userMessageId: $userMessageId\n      assistantMessageId: $assistantMessageId\n    )\n  }\n"),d=()=>({content:"",completed:!1,isReadingCode:!1});function u(e){let{threadId:n,onAssistantMessageCompleted:t}=e,[a,u]=s.useState(n),m=s.useRef(),[f,p]=s.useState(!1),[x,h]=s.useState(d()),[g,v]=s.useState(),b=(e,n)=>{let t={...e};switch(n.__typename){case"ThreadCreated":t.threadId=n.id;break;case"ThreadUserMessageCreated":t.userMessageId=n.id;break;case"ThreadAssistantMessageCreated":t.assistantMessageId=n.id;break;case"ThreadRelevantQuestions":t.relevantQuestions=n.questions;break;case"ThreadAssistantMessageReadingCode":t.isReadingCode=!0,t.readingCode={fileList:n.fileList,snippet:n.snippet};break;case"ThreadAssistantMessageAttachmentsCode":t.isReadingCode=!1,t.attachmentsCode=n.hits;break;case"ThreadAssistantMessageAttachmentsDoc":t.attachmentsDoc=n.hits;break;case"ThreadAssistantMessageContentDelta":!0===t.isReadingCode&&(t.isReadingCode=!1),t.content+=n.delta;break;case"ThreadAssistantMessageCompleted":t.completed=!0}return t},j=(0,r.d)(e=>{var n;null===(n=m.current)||void 0===n||n.call(m),m.current=void 0,p(!1),!e&&a&&(null==t||t(x))});s.useEffect(()=>{n!==a&&u(n)},[n]);let y=(e,n)=>{let{unsubscribe:t}=l.Lp.subscription(i,{input:{thread:{userMessage:e},options:n}}).subscribe(e=>{var n;if(null==e?void 0:e.error){p(!1),v(e.error),t();return}let s=null===(n=e.data)||void 0===n?void 0:n.createThreadAndRun;s&&((null==s?void 0:s.__typename)==="ThreadAssistantMessageCompleted"&&j.current(),(null==s?void 0:s.__typename)==="ThreadCreated"&&s.id!==a&&u(s.id),h(e=>b(e,s)))});return t},N=(e,n)=>{if(!a)return;let{unsubscribe:t}=l.Lp.subscription(o,{input:{threadId:a,additionalUserMessage:e,options:n}}).subscribe(e=>{var n;if(null==e?void 0:e.error){p(!1),v(e.error),t();return}let s=null===(n=e.data)||void 0===n?void 0:n.createThreadRun;s&&("ThreadAssistantMessageCompleted"===s.__typename&&j.current(),h(e=>b(e,s)))});return t},w=(0,l.Db)(c),k=(e,n)=>{f||(p(!0),v(void 0),h(d()),a?m.current=N(e,n):m.current=y(e,n))},C=(e,n,t)=>w({threadId:e,userMessageId:n,assistantMessageId:t}).then(e=>{var n;if(!(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.deleteThreadMessagePair)){if(null==e?void 0:e.error)throw e.error;throw Error("Failed to fetch")}});return{isLoading:f,answer:x,error:g,sendUserMessage:k,stop:j.current,regenerate:e=>a?(p(!0),v(void 0),h(d()),C(e.threadId,e.userMessageId,e.assistantMessageId).then(()=>{k(e.userMessage,e.threadRunOptions)}).catch(e=>{let n=e instanceof Error?e:Error("Failed to fetch");v(n),p(!1)})):Promise.resolve(void 0),deleteThreadMessagePair:C}}},63484:function(e,n,t){"use strict";t.d(n,{U$:function(){return d},t:function(){return u}});var s=t(14283),a=t.n(s),l=t(34021),r=t(74630),i=t(18500),o=JSON.parse('{"Mercury":"#ff2b2b","TypeScript":"#2b7489","PureBasic":"#5a6986","Objective-C++":"#6866fb","Self":"#0579aa","edn":"#db5855","NewLisp":"#87AED7","Jupyter Notebook":"#DA5B0B","Rebol":"#358a5b","Frege":"#00cafe","Dart":"#00B4AB","AspectJ":"#a957b0","Shell":"#89e051","Web Ontology Language":"#9cc9dd","xBase":"#403a40","Eiffel":"#946d57","Nix":"#7e7eff","RAML":"#77d9fb","MTML":"#b7e1f4","Racket":"#22228f","Elixir":"#6e4a7e","SAS":"#B34936","Agda":"#315665","wisp":"#7582D1","D":"#ba595e","Kotlin":"#F18E33","Opal":"#f7ede0","Crystal":"#776791","Objective-C":"#438eff","ColdFusion CFC":"#ed2cd6","Oz":"#fab738","Mirah":"#c7a938","Objective-J":"#ff0c5a","Gosu":"#82937f","FreeMarker":"#0050b2","Ruby":"#701516","Component Pascal":"#b0ce4e","Arc":"#aa2afe","Brainfuck":"#2F2530","Nit":"#009917","APL":"#5A8164","Go":"#375eab","Visual Basic":"#945db7","PHP":"#4F5D95","Cirru":"#ccccff","SQF":"#3F3F3F","Glyph":"#e4cc98","Java":"#b07219","MAXScript":"#00a6a6","Scala":"#DC322F","Makefile":"#427819","ColdFusion":"#ed2cd6","Perl":"#0298c3","Lua":"#000080","Vue":"#2c3e50","Verilog":"#b2b7f8","Factor":"#636746","Haxe":"#df7900","Pure Data":"#91de79","Forth":"#341708","Red":"#ee0000","Hy":"#7790B2","Volt":"#1F1F1F","LSL":"#3d9970","eC":"#913960","CoffeeScript":"#244776","HTML":"#e44b23","Lex":"#DBCA00","API Blueprint":"#2ACCA8","Swift":"#ffac45","C":"#555555","AutoHotkey":"#6594b9","Isabelle":"#FEFE00","Metal":"#8f14e9","Clarion":"#db901e","JSONiq":"#40d47e","Boo":"#d4bec1","AutoIt":"#1C3552","Clojure":"#db5855","Rust":"#dea584","Prolog":"#74283c","SourcePawn":"#5c7611","AMPL":"#E6EFBB","FORTRAN":"#4d41b1","ANTLR":"#9DC3FF","Harbour":"#0e60e3","Tcl":"#e4cc98","BlitzMax":"#cd6400","PigLatin":"#fcd7de","Lasso":"#999999","ECL":"#8a1267","VHDL":"#adb2cb","Elm":"#60B5CC","Propeller Spin":"#7fa2a7","X10":"#4B6BEF","IDL":"#a3522f","ATS":"#1ac620","Ada":"#02f88c","Unity3D Asset":"#ab69a1","Nu":"#c9df40","LFE":"#004200","SuperCollider":"#46390b","Oxygene":"#cdd0e3","ASP":"#6a40fd","Assembly":"#6E4C13","Gnuplot":"#f0a9f0","JFlex":"#DBCA00","NetLinx":"#0aa0ff","Turing":"#45f715","Vala":"#fbe5cd","Processing":"#0096D8","Arduino":"#bd79d1","FLUX":"#88ccff","NetLogo":"#ff6375","CSharp":"#178600","CSS":"#563d7c","Emacs Lisp":"#c065db","Stan":"#b2011d","SaltStack":"#646464","QML":"#44a51c","Pike":"#005390","LOLCODE":"#cc9900","ooc":"#b0b77e","Handlebars":"#01a9d6","J":"#9EEDFF","Mask":"#f97732","EmberScript":"#FFF4F3","TeX":"#3D6117","Nemerle":"#3d3c6e","KRL":"#28431f","Ren\'Py":"#ff7f7f","Unified Parallel C":"#4e3617","Golo":"#88562A","Fancy":"#7b9db4","OCaml":"#3be133","Shen":"#120F14","Pascal":"#b0ce4e","F#":"#b845fc","Puppet":"#302B6D","ActionScript":"#882B0F","Diff":"#88dddd","Ragel in Ruby Host":"#9d5200","Fantom":"#dbded5","Zephir":"#118f9e","Click":"#E4E6F3","Smalltalk":"#596706","DM":"#447265","Ioke":"#078193","PogoScript":"#d80074","LiveScript":"#499886","JavaScript":"#f1e05a","VimL":"#199f4b","PureScript":"#1D222D","ABAP":"#E8274B","Matlab":"#bb92ac","Slash":"#007eff","R":"#198ce7","Erlang":"#B83998","Pan":"#cc0000","LookML":"#652B81","Eagle":"#814C05","Scheme":"#1e4aec","PLSQL":"#dad8d8","Python":"#3572A5","Max":"#c4a79c","Common Lisp":"#3fb68b","Latte":"#A8FF97","XQuery":"#5232e7","Omgrofl":"#cabbff","XC":"#99DA07","Nimrod":"#37775b","SystemVerilog":"#DAE1C2","Chapel":"#8dc63f","Groovy":"#e69f56","Dylan":"#6c616e","E":"#ccce35","Parrot":"#f3ca0a","Grammatical Framework":"#79aa7a","Game Maker Language":"#8fb200","Papyrus":"#6600cc","NetLinx+ERB":"#747faa","Clean":"#3F85AF","Alloy":"#64C800","Squirrel":"#800000","PAWN":"#dbb284","UnrealScript":"#a54c4d","Standard ML":"#dc566d","Slim":"#ff8f77","Perl6":"#0000fb","Julia":"#a270ba","Haskell":"#29b544","NCL":"#28431f","Io":"#a9188d","Rouge":"#cc0088","cpp":"#f34b7d","AGS Script":"#B9D9FF","Dogescript":"#cca760","nesC":"#94B0C7"}'),c={abap:{filenames:[],extnames:["abap"]},actionscript:{filenames:[],extnames:["as"]},ada:{filenames:[],extnames:["ada","adb","ads"]},apacheconf:{filenames:[".htaccess","apache2.conf","httpd.conf"],extnames:["apacheconf","vhost"]},apl:{filenames:[],extnames:["apl","dyalog"]},applescript:{filenames:[],extnames:["applescript","scpt"]},arff:{filenames:[],extnames:["arff"]},asciidoc:{filenames:[],extnames:["asciidoc","adoc","asc"]},asm6502:{filenames:[],extnames:["asm"]},autohotkey:{filenames:[],extnames:["ahk","ahkl"]},autoit:{filenames:[],extnames:["au3"]},bash:{filenames:[".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_logout","bash_profile","bashrc","cshrc","gradlew","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"],extnames:["sh","bash","bats","cgi","command","fcgi","ksh","tmux","tool","zsh"]},basic:{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},batch:{filenames:[],extnames:["bat","cmd"]},bison:{filenames:[],extnames:["bison"]},brainfuck:{filenames:[],extnames:["b","bf"]},bro:{filenames:[],extnames:["bro"]},c:{filenames:[],extnames:["c","cats","h","idc"]},csharp:{filenames:[],extnames:["cs","cake","cshtml","csx"]},cpp:{filenames:[],extnames:["cpp","c++","cc","cp","cxx","h","h++","hh","hpp","hxx","inc","inl","ino","ipp","re","tcc","tpp"]},coffeescript:{filenames:["Cakefile"],extnames:["coffee","_coffee","cake","cjsx","iced"]},clojure:{filenames:["riemann.config"],extnames:["clj","boot","cl2","cljc","cljs","cljs.hl","cljscm","cljx","hic"]},crystal:{filenames:[],extnames:["cr"]},css:{filenames:[],extnames:["css"]},d:{filenames:[],extnames:["d","di"]},dart:{filenames:[],extnames:["dart"]},diff:{filenames:[],extnames:["diff","patch"]},django:{filenames:[],extnames:["jinja","jinja2","mustache","njk"]},dockerfile:{filenames:["Dockerfile"],extnames:["dockerfile"]},eiffel:{filenames:[],extnames:["e"]},elixir:{filenames:["mix.lock"],extnames:["ex","exs"]},elm:{filenames:[],extnames:["elm"]},erb:{filenames:[],extnames:["erb"]},erlang:{filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"],extnames:["erl","app.src","es","escript","hrl","xrl","yrl"]},fsharp:{filenames:[],extnames:["fs","fsi","fsx"]},fortran:{filenames:[],extnames:["f90","f","f03","f08","f77","f95","for","fpp"]},gedcom:{filenames:[],extnames:["ged"]},gherkin:{filenames:[],extnames:["feature"]},glsl:{filenames:[],extnames:["glsl","fp","frag","frg","fs","fsh","fshader","geo","geom","glslv","gshader","shader","tesc","tese","vert","vrx","vsh","vshader"]},go:{filenames:[],extnames:["go"]},graphql:{filenames:[],extnames:["graphql","gql"]},groovy:{filenames:["Jenkinsfile"],extnames:["groovy","grt","gtpl","gvy"]},haml:{filenames:[],extnames:["haml"]},handlebars:{filenames:[],extnames:["handlebars","hbs"]},haskell:{filenames:[],extnames:["hs","hsc"]},haxe:{filenames:[],extnames:["hx","hxsl"]},http:{filenames:[],extnames:["http"]},icon:{filenames:[],extnames:["icn"]},inform7:{filenames:[],extnames:["ni","i7x"]},ini:{filenames:[".editorconfig",".gitconfig"],extnames:["ini","cfg","lektorproject","prefs","pro","properties"]},io:{filenames:[],extnames:["io"]},j:{filenames:[],extnames:["ijs"]},java:{filenames:[],extnames:["java"]},javascript:{filenames:["Jakefile"],extnames:["js","_js","cjs","bones","es","es6","frag","gs","jake","jsb","jscad","jsfl","jsm","jss","mjs","njs","pac","sjs","ssjs","xsjs","xsjslib"]},jolie:{filenames:[],extnames:["ol","iol"]},json:{filenames:[".arcconfig",".htmlhintrc",".tern-config",".tern-project","composer.lock","mcmod.info"],extnames:["json","avsc","geojson","gltf","JSON-tmLanguage","jsonl","tfstate","topojson","webapp","webmanifest","yy","yyp"]},julia:{filenames:[],extnames:["jl"]},keyman:{filenames:[],extnames:["kmn"]},kotlin:{filenames:[],extnames:["kt","ktm","kts"]},latex:{filenames:[],extnames:["tex","aux","bbx","bib","cbx","cls","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc"]},less:{filenames:[],extnames:["less"]},liquid:{filenames:[],extnames:["liquid"]},lisp:{filenames:[],extnames:["lisp","asd","cl","l","lsp","ny","podsl","sexp"]},livescript:{filenames:["Slakefile"],extnames:["ls","_ls"]},lolcode:{filenames:[],extnames:["lol"]},lua:{filenames:[],extnames:["lua","fcgi","nse","p8","pd_lua","rbxs","wlua"]},cmake:{filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"],extnames:["mak","d","make","mk","mkfile"]},markdown:{filenames:["contents.lr","LICENSE"],extnames:["md","markdown","mdown","mdwn","mkd","mkdn","mkdown","ronn","workbook"]},markup:{filenames:[],extnames:["apib","blade","chem","ecr","eex","ejs","html","htm","ipynb","kit","latte","marko","mask","mtml","phtml","pic","raml","rhtml","vue","xht","xhtml"]},matlab:{filenames:[],extnames:["matlab","m"]},mel:{filenames:[],extnames:["mel"]},mizar:{filenames:[],extnames:["miz","voc"]},monkey:{filenames:[],extnames:["monkey","monkey2"]},n4js:{filenames:[],extnames:["n4jsd"]},nasm:{filenames:[],extnames:["nasm"]},nginx:{filenames:["nginx.conf"],extnames:["nginxconf","vhost"]},nim:{filenames:[],extnames:["nim","nimrod"]},nix:{filenames:[],extnames:["nix"]},nsis:{filenames:[],extnames:["nsi","nsh"]},objectivec:{filenames:[],extnames:["m","h"]},ocaml:{filenames:[],extnames:["ml","eliom","eliomi","ml4","mli","mll","mly"]},opencl:{filenames:[],extnames:["opencl","cl"]},oz:{filenames:[],extnames:["oz"]},pascal:{filenames:[],extnames:["pas","dfm","dpr","inc","lpr","pascal","pp"]},perl:{filenames:["Makefile.PL","Rexfile","ack","cpanfile"],extnames:["pl","al","cgi","fcgi","perl","ph","plx","pm","psgi","t"]},php:{filenames:[".php",".php_cs",".php_cs.dist","Phakefile"],extnames:["php","aw","ctp","fcgi","inc","php3","php4","php5","phps","phpt"]},plsql:{filenames:[],extnames:["pls","bdy","ddl","fnc","pck","pkb","pks","plb","plsql","prc","spc","tpb","tps","trg","vw"]},powershell:{filenames:[],extnames:["ps1","psd1","psm1"]},processing:{filenames:[],extnames:["pde"]},prolog:{filenames:[],extnames:["pl","pro","prolog","yap"]},properties:{filenames:[],extnames:["properties"]},protobuf:{filenames:[],extnames:["proto"]},pug:{filenames:[],extnames:["jade","pug"]},puppet:{filenames:["Modulefile"],extnames:["pp"]},pure:{filenames:[],extnames:["pure"]},python:{filenames:[".gclient","BUCK","BUILD","BUILD.bazel","SConscript","SConstruct","Snakefile","WORKSPACE","wscript"],extnames:["py","bzl","cgi","fcgi","gyp","gypi","lmi","py3","pyde","pyi","pyp","pyt","pyw","rpy","spec","tac","wsgi","xpy"]},q:{filenames:[],extnames:["q"]},qore:{filenames:[],extnames:["q","qm","qtest"]},r:{filenames:[".Rprofile","expr-dist"],extnames:["r","rd","rsx"]},jsx:{filenames:[],extnames:["jsx"]},toml:{filenames:[],extnames:["toml"]},tsx:{filenames:[],extnames:["tsx"]},renpy:{filenames:[],extnames:["rpy"]},reason:{filenames:[],extnames:["re","rei"]},rest:{filenames:[],extnames:["rst","rest"]},rip:{filenames:[],extnames:["rip"]},ruby:{filenames:[".irbrc",".pryrc","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Gemfile.lock","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Thorfile","Vagrantfile","buildfile"],extnames:["rb","builder","eye","fcgi","gemspec","god","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","spec","thor","watchr"]},rust:{filenames:[],extnames:["rs"]},sas:{filenames:[],extnames:["sas"]},sass:{filenames:[],extnames:["sass"]},scss:{filenames:[],extnames:["scss"]},scala:{filenames:[],extnames:["scala","kojo","sbt","sc"]},scheme:{filenames:[],extnames:["scm","sch","sld","sls","sps","ss"]},smalltalk:{filenames:[],extnames:["st","cs"]},smarty:{filenames:[],extnames:["tpl"]},sql:{filenames:[],extnames:["sql","cql","ddl","inc","mysql","prc","tab","udf","viw"]},soy:{filenames:[],extnames:["soy"]},stylus:{filenames:[],extnames:["styl"]},swift:{filenames:[],extnames:["swift"]},tcl:{filenames:["owh","starfield"],extnames:["tcl","adp","tm"]},textile:{filenames:[],extnames:["textile"]},tt2:{filenames:[],extnames:["pm"]},twig:{filenames:[],extnames:["twig"]},typescript:{filenames:[],extnames:["ts"]},velocity:{filenames:[],extnames:["vm"]},verilog:{filenames:[],extnames:["v","veo"]},vhdl:{filenames:[],extnames:["vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw"]},vim:{filenames:[".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],extnames:["vim"]},"visual-basic":{filenames:[],extnames:["vb","bas","cls","frm","frx","vba","vbhtml","vbs"]},wasm:{filenames:[],extnames:["wast","wat"]},xojo:{filenames:[],extnames:["xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window"]},xquery:{filenames:[],extnames:["xquery","xq","xql","xqm","xqy"]},yaml:{filenames:[".clang-format",".clang-tidy",".gemrc","glide.lock"],extnames:["yml","mir","reek","rviz","sublime-syntax","syntax","yaml","yaml-tmlanguage"]}};Object.entries(o).reduce((e,n)=>{let[t,s]=n;return{...e,[t.toLocaleLowerCase()]:s}},{});let d=e=>{let n={},t={};for(let[e,s]of Object.entries(c)){for(let t of s.filenames)(0,l.Z)(n,t)||(n[t]=[]),n[t].push(e);for(let n of s.extnames)(0,l.Z)(t,n)||(t[n]=[]),t[n].push(e)}return[].concat(n[a().basename(e)],t[a().extname(e).substring(1)]).filter(Boolean)},u=(e,n)=>{let t=()=>(0,r.Z)(n)?"Other":n;if(!e)return t();let s=Object.values(i.SQ).map(e=>e.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase());if(-1===s)return t();let a=Object.keys(i.SQ)[s];return({csharp:"C#",cpp:"C++",javascript:"JavaScript",typescript:"TypeScript"})[a.toLocaleLowerCase()]||a}},47241:function(e,n,t){"use strict";t.d(n,{Eg:function(){return l},UP:function(){return o},qs:function(){return i},xt:function(){return r}});var s=t(17451);let a=s.a.setState,l=e=>{a(()=>({selectedModel:e}))},r=e=>{a(()=>({selectedRepoSourceId:e}))},i=e=>{a(()=>({enableActiveSelection:e}))},o=e=>{a(()=>({pendingUserMessage:e}))}},17451:function(e,n,t){"use strict";t.d(n,{a:function(){return o}});var s=t(27257),a=t(85654),l=t(57288);let r=["activeChatId","pendingUserMessage"],i={activeChatId:(0,l.x0)(),selectedModel:void 0,selectedRepoSourceId:void 0,enableActiveSelection:!0,pendingUserMessage:void 0},o=(0,s.Ue)()((0,a.tJ)(()=>({...i}),{name:"tabby-chat-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return!r.includes(n)})),version:1}))},67325:function(){},80804:function(){},23342:function(e,n){"use strict";n.Z={src:"/_next/static/media/tabby.16ac81a9.png",height:175,width:175,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mMAgUWTGw3KsqO9QOypZeG6NekBuQzI4NCmmaZtFam/K6PtHzYlOH5ysDX7n5QYboJQsKrfd1JN6v+ldXH/F+fa/fWyNf4fEebXBlcwsSbNeWV/+f9FE+t+za2K+xNjLfPf293u6v///xkZQGDDwr7gfetm/d8xr+VPkpXgnzR3nf/xAY6vt6yfK84AUrV5+US9HWtnnVgyrfm/tiTD/9JAo//5Ea5nGUDAkoGBCUQHWEiZysuI7LcwN7wb6WV1IT7YzR7uhh3Lepg+AU2av2AiT0pCuDKDayAvSLwsM4oJAH4LXl0Gpb0HAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}}]);