"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5151,3396],{48537:function(e,n,t){t.d(n,{q:function(){return s}});var r=t(36164);t(3546);var o=t(28312),i=t(31458),a=t(81565);function s(e){let{className:n,value:t,onCopyContent:s,text:l,...u}=e,{isCopied:d,copyToClipboard:c}=(0,o.m)({timeout:2e3,onCopyContent:s});return t?(0,r.jsxs)(i.z,{variant:"ghost",size:l?"default":"icon",className:n,onClick:()=>{d||c(t)},...u,children:[d?(0,r.jsx)(a.IconCheck,{className:"text-green-600"}):(0,r.jsx)(a.IconCopy,{}),l&&(0,r.jsx)("span",{children:l}),!l&&(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},30601:function(e,n,t){t.d(n,{Hb:function(){return m},wt:function(){return d},xc:function(){return v},yo:function(){return f}});var r=t(36164),o=t(3546),i=t(74630),a=t(36327),s=t(80605),l=t(74248),u=t(81565);let d="3.5rem",c=o.createContext({}),f=e=>{let{children:n}=e,t=(0,s.UA)(),[a,l]=o.useState(!1);return o.useEffect(()=>{let e=window.self!==window.top;e||(0,i.Z)(t)||l(t)},[t]),(0,r.jsx)(c.Provider,{value:{isShowDemoBanner:a,setIsShowDemoBanner:l},children:n})};function m(){let{isShowDemoBanner:e,setIsShowDemoBanner:n}=o.useContext(c);return[e,n]}function v(){let[e,n]=m(),{data:t}=(0,a.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-all md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:d}:{height:0},children:[(0,r.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDCC6"}),(0,r.jsx)("span",{children:"Book a 30-minute product demo."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,r.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,r.jsx)(u.IconGithub,{}),(0,r.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":t,"h-0 opacity-0":!t}),children:[(0,r.jsx)(u.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==t?void 0:t.stargazers_count}),(0,r.jsx)(u.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==t?void 0:t.forks_count})]})]})]}),(0,r.jsx)(u.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>n(!1)})]})]})}},31458:function(e,n,t){t.d(n,{d:function(){return l},z:function(){return u}});var r=t(36164),o=t(3546),i=t(74047),a=t(14375),s=t(74248);let l=(0,a.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,n)=>{let{className:t,variant:o,size:a,asChild:u=!1,...d}=e,c=u?i.g7:"button";return(0,r.jsx)(c,{className:(0,s.cn)(l({variant:o,size:a,className:t})),ref:n,...d})});u.displayName="Button"},36065:function(e,n,t){t.d(n,{di:function(){return v},e8:function(){return d},fu:function(){return f},mY:function(){return l},rb:function(){return c},sZ:function(){return u},zz:function(){return m}});var r=t(36164),o=t(3546),i=t(53241),a=t(93170),s=t(74248);t(30220);let l=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.mY,{ref:n,className:(0,s.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...o})});l.displayName=i.mY.displayName;let u=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(a.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(i.mY.Input,{ref:n,className:(0,s.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...o})]})});u.displayName=i.mY.Input.displayName;let d=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.mY.List,{ref:n,className:(0,s.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...o})});d.displayName=i.mY.List.displayName;let c=o.forwardRef((e,n)=>(0,r.jsx)(i.mY.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));c.displayName=i.mY.Empty.displayName;let f=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.mY.Group,{ref:n,className:(0,s.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...o})});f.displayName=i.mY.Group.displayName;let m=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.mY.Separator,{ref:n,className:(0,s.cn)("-mx-1 h-px bg-border",t),...o})});m.displayName=i.mY.Separator.displayName;let v=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.mY.Item,{ref:n,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",t),...o})});v.displayName=i.mY.Item.displayName},30220:function(e,n,t){t.d(n,{$N:function(){return p},Be:function(){return g},Vq:function(){return l},cN:function(){return v},cZ:function(){return f},fK:function(){return m},hg:function(){return u}});var r=t(36164),o=t(3546),i=t(4318),a=t(1663),s=t(74248);let l=i.fC,u=i.xz,d=i.h_;i.x8;let c=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.aV,{ref:n,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o})});c.displayName=i.aV.displayName;let f=o.forwardRef((e,n)=>{let{className:t,children:o,...l}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(i.VY,{ref:n,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[o,(0,r.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=i.VY.displayName;let m=e=>{let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};m.displayName="DialogHeader";let v=e=>{let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t})};v.displayName="DialogFooter";let p=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.Dx,{ref:n,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",t),...o})});p.displayName=i.Dx.displayName;let g=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,r.jsx)(i.dk,{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...o})});g.displayName=i.dk.displayName},84942:function(e,n,t){t.d(n,{J2:function(){return s},i9:function(){return d},tW:function(){return c},xo:function(){return l},xp:function(){return u},yk:function(){return f}});var r=t(36164),o=t(3546),i=t(83299),a=t(74248);let s=i.fC,l=i.xz,u=i.x8,d=i.h_,c=i.ee,f=o.forwardRef((e,n)=>{let{className:t,sideOffset:o=4,...s}=e;return(0,r.jsx)(i.VY,{ref:n,sideOffset:o,className:(0,a.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})});f.displayName=i.VY.displayName},11208:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(36164),o=t(3546),i=t(74225),a=t(74248);let s=o.forwardRef((e,n)=>{let{className:t,orientation:o="horizontal",decorative:s=!0,...l}=e;return(0,r.jsx)(i.f,{ref:n,decorative:s,orientation:o,className:(0,a.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",t),...l})});s.displayName=i.f.displayName},3448:function(e,n,t){t.d(n,{O:function(){return i}});var r=t(36164),o=t(74248);function i(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...t})}},29:function(e,n,t){t.d(n,{_v:function(){return d},aJ:function(){return u},pn:function(){return s},u:function(){return l}});var r=t(36164),o=t(3546),i=t(44421),a=t(74248);let s=i.zt,l=i.fC,u=i.xz,d=o.forwardRef((e,n)=>{let{className:t,sideOffset:o=4,...s}=e;return(0,r.jsx)(i.VY,{ref:n,sideOffset:o,className:(0,a.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs font-medium text-popover-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",t),...s})});d.displayName=i.VY.displayName},93877:function(e,n,t){t.d(n,{BT:function(){return l},Ds:function(){return u},Ot:function(){return c},m3:function(){return m}});var r=t(3546);let o=(e,n)=>{let[t,o]=(0,r.useState)(n),[i,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let n=localStorage.getItem(e);n&&o(JSON.parse(n)),a(!1)},[]),[t,n=>{o(n),localStorage.setItem(e,JSON.stringify(n))},i]};class i{get value(){if("undefined"!=typeof localStorage){let e=localStorage.getItem(this.storageKey);if(e)return"true"===e}return this.defaultValue}constructor(e,n,t,r){this.storageKey=e,this.title=n,this.description=t,this.defaultValue=r}}class a{defineGlobalVar(){return new i(this.storageKey,this.title,this.description,this.defaultValue)}defineHook(){return()=>{let[e,n,t]=o(this.storageKey,this.defaultValue);return[{value:e,title:this.title,description:this.description,loading:t},()=>{n(!e)}]}}constructor(e,n,t,r){this.storageKey="EXP_".concat(e),this.title=n,this.description=t,this.defaultValue=null!=r&&r}}let s=new a("enable_code_browser_quick_action_bar","Quick Action Bar","Enable Quick Action Bar to display a convenient toolbar when you select code, offering options to explain the code, add unit tests, and more.",!0),l=s.defineGlobalVar(),u=s.defineHook(),d=new a("enable_search","Search","Enable the search on the home page to search for anything you want to know using the local chat model.",!0);d.defineGlobalVar();let c=d.defineHook(),f=new a("enable_developer_mode","Developer Mode","Enable the developer mode. The features involved include the Answer Engine.",!1);f.defineGlobalVar();let m=f.defineHook()},28312:function(e,n,t){t.d(n,{m:function(){return s}});var r=t(3546),o=t(61200),i=t.n(o),a=t(2578);function s(e){let{timeout:n=2e3,onError:t,onCopyContent:o}=e,[s,l]=r.useState(!1),u=()=>{l(!0),setTimeout(()=>{l(!1)},n)},d=e=>{if("function"==typeof t){null==t||t(e);return}a.A.error("Failed to copy.")};return{isCopied:s,copyToClipboard:e=>{var n;if(e){if(o){o(e),u();return}if(null===(n=navigator.clipboard)||void 0===n?void 0:n.writeText)navigator.clipboard.writeText(e).then(u).catch(d);else{let n=i()(e);n?u():d()}}}}}},9010:function(e,n,t){t.d(n,{X:function(){return o}});var r=t(28242);function o(){let{theme:e,systemTheme:n,setTheme:t}=(0,r.F)();return{theme:e&&"system"!==e?e:n||"light",setTheme:t,systemTheme:n}}},38785:function(e,n,t){t.d(n,{U:function(){return i}});var r=t(3546);let o=!0;function i(){let[e,n]=r.useState(()=>!o);return r.useEffect(function(){o=!1,n(!0)},[]),e}},98454:function(e,n,t){t.d(n,{P:function(){return a}});var r=t(40055),o=t(43240);let i=(0,o.BX)("\n  query MeQuery {\n    me {\n      id\n      authToken\n      email\n      isAdmin\n      isPasswordSet\n      name\n    }\n  }\n"),a=()=>(0,r.aM)({query:i})},80605:function(e,n,t){t.d(n,{UA:function(){return c},Uw:function(){return u},c7:function(){return l},jJ:function(){return d},xG:function(){return s}});var r=t(40055),o=t(43240);let i=(0,o.BX)("\n  query GetServerInfo {\n    serverInfo {\n      isAdminInitialized\n      isEmailConfigured\n      isChatEnabled\n      allowSelfSignup\n      isDemoMode\n    }\n  }\n"),a=()=>{let[{data:e}]=(0,r.aM)({query:i});return null==e?void 0:e.serverInfo},s=()=>{var e;return null===(e=a())||void 0===e?void 0:e.isChatEnabled},l=()=>{var e;return null===(e=a())||void 0===e?void 0:e.isAdminInitialized},u=()=>{var e;return null===(e=a())||void 0===e?void 0:e.isEmailConfigured},d=()=>{var e;return null===(e=a())||void 0===e?void 0:e.allowSelfSignup},c=()=>{var e;return null===(e=a())||void 0===e?void 0:e.isDemoMode}},91302:function(e,n,t){t.d(n,{Dp:function(){return g},Ho:function(){return y},QJ:function(){return k},av:function(){return S},kP:function(){return N},zq:function(){return w}});var r,o,i=t(36164),a=t(3546),s=t(11978),l=t(24426),u=t.n(l),d=t(43240),c=t(80605),f=t(11634),m=t(66794);function v(e,n){var t,r;let i=function(e,n){switch(n.type){case o.SignIn:case o.Refresh:return{status:"authenticated",data:n.data};case o.SignOut:return{status:"unauthenticated",data:void 0}}}(0,n);return e.status==i.status&&(t=e.data,r=i.data,(null==t?void 0:t.accessToken)===(null==r?void 0:r.accessToken)&&(null==t?void 0:t.refreshToken)===(null==r?void 0:r.refreshToken))?e:i}(r=o||(o={}))[r.SignIn=0]="SignIn",r[r.SignOut=1]="SignOut",r[r.Refresh=2]="Refresh";let p=a.createContext({}),g=(0,d.BX)("\n  mutation refreshToken($refreshToken: String!) {\n    refreshToken(refreshToken: $refreshToken) {\n      accessToken\n      refreshToken\n    }\n  }\n"),h=(0,d.BX)("\n  mutation LogoutAllSessions {\n    logoutAllSessions\n  }\n"),y=e=>{let{children:n}=e,[t,r]=a.useState(!1),[s]=u()(m.nd,void 0),[l,d]=a.useReducer(v,{status:"loading",data:void 0});a.useEffect(()=>{(null==s?void 0:s.accessToken)&&(null==s?void 0:s.refreshToken)?d({type:o.SignIn,data:s}):d({type:o.SignOut}),r(!0)},[]),a.useEffect(()=>{!t||((null==s?void 0:s.accessToken)&&(null==s?void 0:s.refreshToken)?d({type:o.Refresh,data:s}):(null==s?void 0:s.accessToken)||(null==s?void 0:s.refreshToken)||d({type:o.SignOut}))},[s]);let c=a.useMemo(()=>{var e;return(null==l?void 0:l.status)=="authenticated"?{data:{accessToken:l.data.accessToken},status:l.status}:{status:null!==(e=null==l?void 0:l.status)&&void 0!==e?e:"loading",data:null}},[l]);return(0,i.jsx)(p.Provider,{value:{authState:l,dispatch:d,session:c},children:n})};class b extends Error{constructor(){super("AuthProvider is missing. Please add the AuthProvider at root level")}}function x(){let e=a.useContext(p);if(!e)throw new b;return e}function w(){let{dispatch:e}=x(),[n,t]=u()(m.nd,void 0);return async n=>(t({accessToken:n.accessToken,refreshToken:n.refreshToken}),e({type:o.SignIn,data:n}),!0)}function k(){let e=(0,f.D)(h),{dispatch:n}=x(),[t,r]=u()(m.nd,void 0);return async()=>{await e(),r(void 0),n({type:o.SignOut})}}function N(){let{session:e}=x();return e}let $=["/auth/signin","/auth/signup","/auth/reset-password"];function S(){let e=(0,c.c7)(),n=(0,s.useRouter)(),t=(0,s.usePathname)(),r=(0,s.useSearchParams)(),{data:o,status:i}=N();return a.useEffect(()=>{if("loading"===i||"authenticated"===i||void 0===e)return;let o="/auth/signup"===t&&"true"===r.get("isAdmin");if(!o&&!e)return n.replace("/auth/signup?isAdmin=true");$.includes(t)||n.replace("/auth/signin")},[e,i]),o}},3765:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(44745),o=t(57778),i=t(79716),a=t(91302),s=t(66794);async function l(e,n){var t;let r=null!==(t=null==n?void 0:n.customFetch)&&void 0!==t?t:window.fetch;if(function(e){var n;if(e.startsWith("/oauth/providers"))return!1;let t=null===(n=(0,s.bW)())||void 0===n?void 0:n.accessToken;if(!t)return!0;try{let{exp:e}=(0,i.o)(t);return(0,s.pw)(e)}catch(e){return!0}}(e))return s.gN.refreshToken(u).then(t=>f(e,n));let o=await r(e,d(n));return 401===o.status?(s.gN.clearAccessToken(),s.gN.refreshToken(u).then(t=>f(e,n))):m(o,n)}async function u(){var e,n;let t=null===(e=(0,s.bW)())||void 0===e?void 0:e.refreshToken;if(!t)return;let r=await c(t);return null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.refreshToken}function d(e){var n;let t=new Headers(null==e?void 0:e.headers);return t.append("authorization","Bearer ".concat(null===(n=(0,s.bW)())||void 0===n?void 0:n.accessToken)),{...e||{},headers:t}}async function c(e){let n=new r.KU({url:"/graphql",requestPolicy:"network-only",exchanges:[r.Ek]}),t=n.createRequestOperation("mutation",(0,o.h)(a.Dp,{refreshToken:e}));return n.executeMutation(t)}function f(e,n){var t;let r=null!==(t=null==n?void 0:n.customFetch)&&void 0!==t?t:window.fetch;return r(e,d(n)).then(e=>m(e,n))}function m(e,n){return(null==e?void 0:e.ok)?(null==n?void 0:n.responseFormatter)?n.responseFormatter(e):(null==n?void 0:n.responseFormat)==="blob"?e.blob():e.json():(null==n?void 0:n.errorHandler)?n.errorHandler(e):void 0}},11634:function(e,n,t){t.d(n,{D:function(){return v},L:function(){return p}});var r=t(22365),o=t(28552),i=t(81013),a=t(17522),s=t(79716),l=t(74630),u=t(40055),d=t(44745),c=t(91302),f=t(70410),m=t(66794);function v(e,n){var t;let[r,o]=(0,u.Db)(e),i=(null==n?void 0:n.form)?(t=n.form,e=>{let{graphQLErrors:n=[]}=e;for(let e of n)if(e.extensions&&e.extensions["validation-errors"]){let n=e.extensions["validation-errors"];for(let e of n.errors)t.setError(e.path,e)}else(null==e?void 0:e.originalError)&&t.setError("root",e.originalError)}):void 0,a=async(e,t)=>{let r;try{if(null==(r=await o(e,t))?void 0:r.error)i&&i(r.error),(null==n?void 0:n.onError)&&n.onError(r.error);else if(!(0,l.Z)(null==r?void 0:r.data)){var a;null==n||null===(a=n.onCompleted)||void 0===a||a.call(n,r.data)}}catch(e){(null==n?void 0:n.onError)&&n.onError(e);return}return r};return a}let p=new d.KU({url:"/graphql",requestPolicy:"cache-and-network",exchanges:[(0,o.HG)({keys:{CompletionStats:()=>null,ServerInfo:()=>null,RepositorySearch:()=>null,RepositoryList:()=>null,RepositoryGrep:()=>null,GrepLine:()=>null,GrepFile:()=>null,GrepTextOrBase64:()=>null,GrepSubMatch:()=>null,Repository:e=>e?"".concat(e.kind,"_").concat(e.id):null,GitReference:()=>null,MessageAttachment:()=>null,MessageAttachmentCode:()=>null,MessageAttachmentDoc:()=>null,NetworkSetting:()=>null},resolvers:{Query:{invitations:(0,i.N)(),gitRepositories:(0,i.N)(),webCrawlerUrls:(0,i.N)(),integrations:(0,i.N)()}},updates:{Mutation:{deleteInvitation(e,n,t,r){e.deleteInvitation&&t.inspectFields("Query").filter(e=>"invitations"===e.fieldName).forEach(e=>{t.updateQuery({query:f.lE,variables:e.arguments},e=>{var t;return(null==e?void 0:null===(t=e.invitations)||void 0===t?void 0:t.edges)&&(e.invitations.edges=e.invitations.edges.filter(e=>e.node.id!==n.id)),e})})},deleteGitRepository(e,n,t,r){e.deleteGitRepository&&t.inspectFields("Query").filter(e=>"gitRepositories"===e.fieldName).forEach(e=>{t.updateQuery({query:f.S1,variables:e.arguments},e=>{var t;return(null==e?void 0:null===(t=e.gitRepositories)||void 0===t?void 0:t.edges)&&(e.gitRepositories.edges=e.gitRepositories.edges.filter(e=>e.node.id!==n.id)),e})})},deleteWebCrawlerUrl(e,n,t,r){e.deleteWebCrawlerUrl&&t.inspectFields("Query").filter(e=>"webCrawlerUrls"===e.fieldName).forEach(e=>{t.updateQuery({query:f.XP,variables:e.arguments},e=>{var t;return(null==e?void 0:null===(t=e.webCrawlerUrls)||void 0===t?void 0:t.edges)&&(e.webCrawlerUrls.edges=e.webCrawlerUrls.edges.filter(e=>e.node.id!==n.id)),e})})},deleteIntegration(e,n,t,r){e.deleteIntegration&&t.inspectFields("Query").filter(e=>"integrations"===e.fieldName).forEach(e=>{t.updateQuery({query:f.kb,variables:e.arguments},e=>((null==e?void 0:e.integrations)&&(e.integrations.edges=e.integrations.edges.filter(e=>e.node.id!==n.id)),e))})},createIntegration(e,n,t){let r="Query";t.inspectFields(r).filter(e=>{var t,r,o;return"integrations"===e.fieldName&&!!(null===(t=e.arguments)||void 0===t?void 0:t.kind)&&(null===(r=e.arguments)||void 0===r?void 0:r.kind)===(null==n?void 0:null===(o=n.input)||void 0===o?void 0:o.kind)}).forEach(e=>{t.invalidate(r,e.fieldName,e.arguments)})}}}}),(0,r.M)(async e=>{let n=(0,m.bW)(),t=null==n?void 0:n.accessToken,r=null==n?void 0:n.refreshToken;return{addAuthToOperation(n){let o=(0,m.bW)();return(t=null==o?void 0:o.accessToken,r=null==o?void 0:o.refreshToken,t)?e.appendHeaders(n,{Authorization:"Bearer ".concat(t)}):n},didAuthError(e,n){let t=e.graphQLErrors.some(e=>{var n;return(null==e?void 0:null===(n=e.extensions)||void 0===n?void 0:n.code)==="UNAUTHORIZED"});return t&&m.gN.clearAccessToken(),t},willAuthError(e){let n=(0,m.bW)();if(t=null==n?void 0:n.accessToken,r=null==n?void 0:n.refreshToken,"query"===e.kind&&e.query.definitions.some(e=>{var n;return"OperationDefinition"===e.kind&&(null===(n=e.name)||void 0===n?void 0:n.value)&&["GetServerInfo"].includes(e.name.value)})||"mutation"===e.kind&&e.query.definitions.some(e=>{var n;return"OperationDefinition"===e.kind&&(null===(n=e.name)||void 0===n?void 0:n.value)&&["tokenAuth","register"].includes(e.name.value)})||r&&"mutation"===e.kind&&e.query.definitions.some(e=>{var n;return"OperationDefinition"===e.kind&&(null==e?void 0:null===(n=e.name)||void 0===n?void 0:n.value)==="refreshToken"}))return!1;if(!t)return m.gN.clearAccessToken(),!0;try{let{exp:e}=(0,s.o)(t);return(0,m.pw)(e)}catch(e){return!0}},refreshAuth:async()=>m.gN.refreshToken(async()=>{var n;let t=null===(n=(0,m.bW)())||void 0===n?void 0:n.refreshToken;if(t)return e.mutate(c.Dp,{refreshToken:t}).then(e=>{var n;return null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.refreshToken})})}}),(0,d.Dk)({onError(e){e.message.startsWith("[GraphQL]")&&(e.message=e.message.replace("[GraphQL]","").trim())}}),d.Ek,(0,d.pV)({forwardSubscription(e,n){var t,r,o;let i=null!==(o=null===(r=n.context.fetchOptions)||void 0===r?void 0:null===(t=r.headers)||void 0===t?void 0:t.Authorization)&&void 0!==o?o:"",s=window.location.host,l=(0,a.eI)({url:"ws://".concat(s,"/subscriptions"),connectionParams:{authorization:i}}),u={...e,query:e.query||""};return{subscribe(e){let n=l.subscribe(u,e);return{unsubscribe:n}}}}})]})},70410:function(e,n,t){t.d(n,{Cl:function(){return c},D7:function(){return g},DQ:function(){return l},GG:function(){return a},S1:function(){return i},XP:function(){return v},Y6:function(){return d},kb:function(){return f},lE:function(){return o},ts:function(){return m},yB:function(){return s},yw:function(){return u},zz:function(){return p}});var r=t(43240);let o=(0,r.BX)("\n  query ListInvitations(\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    invitations(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          email\n          code\n          createdAt\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),i=(0,r.BX)("\n  query gitRepositories(\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    gitRepositories(\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          name\n          gitUrl\n          jobInfo {\n            lastJobRun {\n              id\n              job\n              createdAt\n              finishedAt\n              exitCode\n            }\n            command\n          }\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),a=(0,r.BX)("\n  query ListJobRuns(\n    $ids: [ID!]\n    $jobs: [String!]\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    jobRuns(\n      ids: $ids\n      jobs: $jobs\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          job\n          createdAt\n          startedAt\n          finishedAt\n          exitCode\n          stdout\n          stderr\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),s=(0,r.BX)("\n  query GetJobRunStats($jobs: [String!]) {\n    jobRunStats(jobs: $jobs) {\n      success\n      failed\n      pending\n    }\n  }\n"),l=(0,r.BX)("\n  query ListJobs {\n    jobs\n  }\n"),u=(0,r.BX)("\n  query ListUsers($after: String, $before: String, $first: Int, $last: Int) {\n    users(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          id\n          email\n          isAdmin\n          isOwner\n          createdAt\n          active\n          name\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),d=(0,r.BX)("\n  query DailyStatsInPastYear($users: [ID!]) {\n    dailyStatsInPastYear(users: $users) {\n      start\n      end\n      completions\n      selects\n      views\n    }\n  }\n"),c=(0,r.BX)("\n  query DailyStats(\n    $start: DateTime!\n    $end: DateTime!\n    $users: [ID!]\n    $languages: [Language!]\n  ) {\n    dailyStats(start: $start, end: $end, users: $users, languages: $languages) {\n      start\n      end\n      completions\n      selects\n      views\n      language\n    }\n  }\n"),f=(0,r.BX)("\n  query ListIntegrations(\n    $ids: [ID!]\n    $kind: IntegrationKind\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    integrations(\n      ids: $ids\n      kind: $kind\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          displayName\n          status\n          apiBase\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),m=(0,r.BX)("\n  query ListIntegratedRepositories(\n    $ids: [ID!]\n    $kind: IntegrationKind\n    $active: Boolean\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    integratedRepositories(\n      ids: $ids\n      kind: $kind\n      active: $active\n      after: $after\n      before: $before\n      first: $first\n      last: $last\n    ) {\n      edges {\n        node {\n          id\n          displayName\n          gitUrl\n          active\n          jobInfo {\n            lastJobRun {\n              id\n              job\n              createdAt\n              finishedAt\n              startedAt\n              exitCode\n            }\n            command\n          }\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),v=(0,r.BX)("\n  query WebCrawlerUrls(\n    $after: String\n    $before: String\n    $first: Int\n    $last: Int\n  ) {\n    webCrawlerUrls(after: $after, before: $before, first: $first, last: $last) {\n      edges {\n        node {\n          url\n          id\n          createdAt\n          jobInfo {\n            lastJobRun {\n              id\n              job\n              createdAt\n              finishedAt\n              exitCode\n            }\n            command\n          }\n        }\n        cursor\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"),p=(0,r.BX)("\n  query RepositoryList {\n    repositoryList {\n      id\n      name\n      kind\n      gitUrl\n      refs {\n        name\n        commit\n      }\n    }\n  }\n"),g=(0,r.BX)("\n  query RepositorySearch(\n    $kind: RepositoryKind!\n    $id: ID!\n    $rev: String\n    $pattern: String!\n  ) {\n    repositorySearch(kind: $kind, id: $id, rev: $rev, pattern: $pattern) {\n      type\n      path\n      indices\n    }\n  }\n")},66794:function(e,n,t){t.d(n,{bW:function(){return s},gN:function(){return f},nd:function(){return a},pw:function(){return d}});var r=t(79716),o=t(74630),i=t(74248);let a="_tabby_auth",s=()=>{if((0,i.S_)()){let e=localStorage.getItem(a);if(e)try{return JSON.parse(e)}catch(e){}}},l=e=>{localStorage.setItem(a,JSON.stringify(e))},u=()=>{localStorage.removeItem(a),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:a}))},d=e=>!!(0,o.Z)(e)||Date.now()>1e3*e,c=e=>!(0,o.Z)(e)&&Date.now()-1e3*e<6e4,f=new class{clearAccessToken(){let e=s();e&&l({...e,accessToken:""})}async refreshToken(e){try{var n;if(void 0===(null===(n=navigator)||void 0===n?void 0:n.locks))throw console.error("The Web Locks API is not supported in your browser. Please upgrade to a newer browser version."),Error();await navigator.locks.request("_tabby_auth_lock",async()=>{let n;let t=s(),o=null==t?void 0:t.accessToken,i=null==t?void 0:t.refreshToken;if(o){let{iat:i}=(0,r.o)(o);n=c(i)?t:await e()}else i&&(n=await e());n?l(n):u()})}catch(e){u()}}}}}]);